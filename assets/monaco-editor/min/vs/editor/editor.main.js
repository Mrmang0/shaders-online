/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220516(c23f0305dbf82b2319b198f4dbf3c5d5bc522f15)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var oe=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/base/common/arrays","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/editor/common/editorContextKeys","vs/platform/theme/common/colorRegistry","vs/editor/common/core/selection","vs/base/common/uri","vs/platform/commands/common/commands","vs/editor/common/languages","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/base/browser/browser","vs/editor/common/model/textModel","vs/editor/common/languages/language","vs/platform/configuration/common/configuration","vs/platform/registry/common/platform","vs/base/common/objects","vs/platform/notification/common/notification","vs/platform/actions/common/actions","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/editor/common/model","vs/base/common/actions","vs/editor/common/services/model","vs/platform/opener/common/opener","vs/base/common/map","vs/base/common/network","vs/editor/browser/view/viewPart","vs/platform/instantiation/common/extensions","vs/editor/common/core/editorColorRegistry","vs/platform/theme/common/theme","vs/base/common/iterator","vs/base/common/stopwatch","vs/editor/common/services/resolverService","vs/base/common/keyCodes","vs/base/browser/touch","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/common/filters","vs/base/common/htmlContent","vs/base/browser/ui/widget","vs/editor/common/core/cursorColumns","vs/editor/browser/config/domFontInfo","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel","vs/editor/common/standaloneStrings","vs/platform/progress/common/progress","vs/platform/theme/common/iconRegistry","vs/base/common/severity","vs/editor/common/tokens/lineTokens","vs/platform/contextview/browser/contextView","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/editorWorker","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/platform/clipboard/common/clipboardService","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/suggest/browser/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/platform/configuration/common/configurationRegistry","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/editorState/browser/editorState","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/hash","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/languages/nullTokenize","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/viewLineRenderer","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/mime","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/config/editorZoom","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/browser/types","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/browser/coreCommands","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/dnd","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/toggle/toggle","vs/editor/common/config/fontInfo","vs/editor/common/core/indentation","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/platform/instantiation/common/descriptors","vs/editor/browser/services/bulkEditService","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/cache","vs/base/common/collections","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/core/textChange","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/services/editorBaseApi","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/resizable","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/standalone/common/monarch/monarchLexer","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/tree/objectTree","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/services/editorWorkerService","vs/editor/common/cursor/cursor","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/format/browser/format","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/labels","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/diffComputer","vs/editor/common/editorTheme","vs/editor/common/languageSelector","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/tokenization","vs/editor/common/languageFeatureRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/textModelBracketPairs","vs/editor/common/tokenizationRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/services/editorSimpleWorker","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/common/model/tokenizationTextModelPart","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/editor/standalone/browser/colorizer","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/links/browser/getLinks","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/webWorker","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurationModels","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/editor/edcore.main"],se=function(K){for(var e=[],y=0,f=K.length;y<f;y++)e[y]=oe[K[y]];return e},hi;(function(K){var e=function(){function f(){this._pendingLoads=0}return f.prototype.attachListeners=function(N,D,L,b){var C=function(){D.removeEventListener("load",u),D.removeEventListener("error",h)},u=function(i){C(),L()},h=function(i){C(),b(i)};D.addEventListener("load",u),D.addEventListener("error",h)},f.prototype._onLoad=function(N,D){this._pendingLoads--,D()},f.prototype._onLoadError=function(N,D,L){this._pendingLoads--,D(L)},f.prototype._insertLinkNode=function(N){this._pendingLoads++;var D=document.head||document.getElementsByTagName("head")[0];D.appendChild(N)},f.prototype.createLinkTag=function(N,D,L,b){var C=this,u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("data-name",N);var h=function(){return C._onLoad(N,L)},i=function(n){return C._onLoadError(N,b,n)};return this.attachListeners(N,u,h,i),u.setAttribute("href",D),u},f.prototype._linkTagExists=function(N,D){var L,b,C,u,h=document.getElementsByTagName("link");for(L=0,b=h.length;L<b;L++)if(C=h[L].getAttribute("data-name"),u=h[L].getAttribute("href"),C===N||u===D)return!0;return!1},f.prototype.load=function(N,D,L,b){if(this._linkTagExists(N,D)){L();return}var C=this.createLinkTag(N,D,L,b);this._insertLinkNode(C)},f}(),y=function(){function f(){this._cssLoader=new e}return f.prototype.load=function(N,D,L,b){b=b||{};var C=b["vs/css"]||{};if(C.disabled){L({});return}var u=D.toUrl(N+".css");this._cssLoader.load(N,u,function(h){L({})},function(h){typeof L.error=="function"&&L.error("Could not find "+u+" or it was empty")})},f}();K.CSSPlugin=y,define("vs/css",new y)})(hi||(hi={}));var tn=this&&this.__spreadArrays||function(){for(var K=0,e=0,y=arguments.length;e<y;e++)K+=arguments[e].length;for(var f=Array(K),N=0,e=0;e<y;e++)for(var D=arguments[e],L=0,b=D.length;L<b;L++,N++)f[N]=D[L];return f},gi;(function(K){var e=function(){function b(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(b.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),b.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},b}();function y(b,C,u){var h;return C.length===0?h=b:h=b.replace(/\{(\d+)\}/g,function(i,n){var t=n[0],r=C[t],d=i;return typeof r=="string"?d=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(d=String(r)),d}),u.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),h}function f(b,C){var u=b[C];return u||(u=b["*"],u)?u:null}function N(b,C,u){for(var h=[],i=3;i<arguments.length;i++)h[i-3]=arguments[i];return y(u,h,b)}function D(b,C){return function(u,h){var i=Array.prototype.slice.call(arguments,2);return y(b[u],i,C)}}var L=function(){function b(C){var u=this;this._env=C,this.localize=function(h,i){for(var n=[],t=2;t<arguments.length;t++)n[t-2]=arguments[t];return N.apply(void 0,tn([u._env,h,i],n))}}return b.prototype.setPseudoTranslation=function(C){this._env._isPseudo=C},b.prototype.create=function(C,u){return{localize:D(u[C],this._env)}},b.prototype.load=function(C,u,h,i){var n=this;if(i=i||{},!C||C.length===0)h({localize:this.localize});else{var t=i["vs/nls"]||{},r=t.availableLanguages?f(t.availableLanguages,C):null,d=".nls";r!==null&&r!==b.DEFAULT_TAG&&(d=d+"."+r);var o=function(a){Array.isArray(a)?a.localize=D(a,n._env):a.localize=D(a[C],n._env),h(a)};typeof t.loadBundle=="function"?t.loadBundle(C,r,function(a,s){a?u([C+".nls"],o):o(s)}):u([C+d],o)}},b.DEFAULT_TAG="i-default",b}();K.NLSPlugin=L,define("vs/nls",new L(new e))})(gi||(gi={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function nn(K){if(Array.isArray(K)){for(var e=0,y=Array(K.length);e<K.length;e++)y[e]=K[e];return y}else return Array.from(K)}var on=Object.hasOwnProperty,fi=Object.setPrototypeOf,sn=Object.isFrozen,rn=Object.getPrototypeOf,an=Object.getOwnPropertyDescriptor,at=Object.freeze,mt=Object.seal,ln=Object.create,mi=typeof Reflect!="undefined"&&Reflect,Ot=mi.apply,$t=mi.construct;Ot||(Ot=function(e,y,f){return e.apply(y,f)}),at||(at=function(e){return e}),mt||(mt=function(e){return e}),$t||($t=function(e,y){return new(Function.prototype.bind.apply(e,[null].concat(nn(y))))});var dn=ct(Array.prototype.forEach),pi=ct(Array.prototype.pop),kt=ct(Array.prototype.push),wt=ct(String.prototype.toLowerCase),Ci=ct(String.prototype.match),bt=ct(String.prototype.replace),cn=ct(String.prototype.indexOf),un=ct(String.prototype.trim),pt=ct(RegExp.prototype.test),vi=hn(TypeError);function ct(K){return function(e){for(var y=arguments.length,f=Array(y>1?y-1:0),N=1;N<y;N++)f[N-1]=arguments[N];return Ot(K,e,f)}}function hn(K){return function(){for(var e=arguments.length,y=Array(e),f=0;f<e;f++)y[f]=arguments[f];return $t(K,y)}}function Qe(K,e){fi&&fi(K,null);for(var y=e.length;y--;){var f=e[y];if(typeof f=="string"){var N=wt(f);N!==f&&(sn(e)||(e[y]=N),f=N)}K[f]=!0}return K}function Lt(K){var e=ln(null),y=void 0;for(y in K)Ot(on,K,[y])&&(e[y]=K[y]);return e}function Ft(K,e){for(;K!==null;){var y=an(K,e);if(y){if(y.get)return ct(y.get);if(typeof y.value=="function")return ct(y.value)}K=rn(K)}function f(N){return console.warn("fallback value for",N),null}return f}var bi=at(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gt=at(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zt=at(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gn=at(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yt=at(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fn=at(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_i=at(["#text"]),Si=at(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Qt=at(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wi=at(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bt=at(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mn=mt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),pn=mt(/<%[\s\S]*|[\s\S]*%>/gm),Cn=mt(/^data-[\-\w.\u00B7-\uFFFF]/),vn=mt(/^aria-[\-\w]+$/),bn=mt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_n=mt(/^(?:\w+script|data):/i),Sn=mt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K};function gt(K){if(Array.isArray(K)){for(var e=0,y=Array(K.length);e<K.length;e++)y[e]=K[e];return y}else return Array.from(K)}var wn=function(){return typeof window=="undefined"?null:window},Ln=function(e,y){if((typeof e=="undefined"?"undefined":Nt(e))!=="object"||typeof e.createPolicy!="function")return null;var f=null,N="data-tt-policy-suffix";y.currentScript&&y.currentScript.hasAttribute(N)&&(f=y.currentScript.getAttribute(N));var D="dompurify"+(f?"#"+f:"");try{return e.createPolicy(D,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Li(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wn(),e=function(Ie){return Li(Ie)};if(e.version="2.3.1",e.removed=[],!K||!K.document||K.document.nodeType!==9)return e.isSupported=!1,e;var y=K.document,f=K.document,N=K.DocumentFragment,D=K.HTMLTemplateElement,L=K.Node,b=K.Element,C=K.NodeFilter,u=K.NamedNodeMap,h=u===void 0?K.NamedNodeMap||K.MozNamedAttrMap:u,i=K.Text,n=K.Comment,t=K.DOMParser,r=K.trustedTypes,d=b.prototype,o=Ft(d,"cloneNode"),a=Ft(d,"nextSibling"),s=Ft(d,"childNodes"),l=Ft(d,"parentNode");if(typeof D=="function"){var c=f.createElement("template");c.content&&c.content.ownerDocument&&(f=c.content.ownerDocument)}var g=Ln(r,y),m=g&&U?g.createHTML(""):"",S=f,p=S.implementation,v=S.createNodeIterator,_=S.createDocumentFragment,w=S.getElementsByTagName,E=y.importNode,I={};try{I=Lt(f).documentMode?f.documentMode:{}}catch{}var T={};e.isSupported=typeof l=="function"&&p&&typeof p.createHTMLDocument!="undefined"&&I!==9;var R=mn,B=pn,O=Cn,k=vn,A=_n,F=Sn,P=bn,W=null,M=Qe({},[].concat(gt(bi),gt(Gt),gt(Zt),gt(Yt),gt(_i))),z=null,Q=Qe({},[].concat(gt(Si),gt(Qt),gt(wi),gt(Bt))),ne=null,X=null,J=!0,ie=!0,le=!1,G=!1,x=!1,V=!1,j=!1,re=!1,ae=!1,Y=!0,U=!1,Z=!0,q=!0,$=!1,H={},ee=null,te=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,he=Qe({},["audio","video","img","source","image","track"]),pe=null,ve=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",be=me,ce=!1,ge=null,we=f.createElement("form"),ye=function(Ie){ge&&ge===Ie||((!Ie||(typeof Ie=="undefined"?"undefined":Nt(Ie))!=="object")&&(Ie={}),Ie=Lt(Ie),W="ALLOWED_TAGS"in Ie?Qe({},Ie.ALLOWED_TAGS):M,z="ALLOWED_ATTR"in Ie?Qe({},Ie.ALLOWED_ATTR):Q,pe="ADD_URI_SAFE_ATTR"in Ie?Qe(Lt(ve),Ie.ADD_URI_SAFE_ATTR):ve,de="ADD_DATA_URI_TAGS"in Ie?Qe(Lt(he),Ie.ADD_DATA_URI_TAGS):he,ee="FORBID_CONTENTS"in Ie?Qe({},Ie.FORBID_CONTENTS):te,ne="FORBID_TAGS"in Ie?Qe({},Ie.FORBID_TAGS):{},X="FORBID_ATTR"in Ie?Qe({},Ie.FORBID_ATTR):{},H="USE_PROFILES"in Ie?Ie.USE_PROFILES:!1,J=Ie.ALLOW_ARIA_ATTR!==!1,ie=Ie.ALLOW_DATA_ATTR!==!1,le=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,G=Ie.SAFE_FOR_TEMPLATES||!1,x=Ie.WHOLE_DOCUMENT||!1,re=Ie.RETURN_DOM||!1,ae=Ie.RETURN_DOM_FRAGMENT||!1,Y=Ie.RETURN_DOM_IMPORT!==!1,U=Ie.RETURN_TRUSTED_TYPE||!1,j=Ie.FORCE_BODY||!1,Z=Ie.SANITIZE_DOM!==!1,q=Ie.KEEP_CONTENT!==!1,$=Ie.IN_PLACE||!1,P=Ie.ALLOWED_URI_REGEXP||P,be=Ie.NAMESPACE||me,G&&(ie=!1),ae&&(re=!0),H&&(W=Qe({},[].concat(gt(_i))),z=[],H.html===!0&&(Qe(W,bi),Qe(z,Si)),H.svg===!0&&(Qe(W,Gt),Qe(z,Qt),Qe(z,Bt)),H.svgFilters===!0&&(Qe(W,Zt),Qe(z,Qt),Qe(z,Bt)),H.mathMl===!0&&(Qe(W,Yt),Qe(z,wi),Qe(z,Bt))),Ie.ADD_TAGS&&(W===M&&(W=Lt(W)),Qe(W,Ie.ADD_TAGS)),Ie.ADD_ATTR&&(z===Q&&(z=Lt(z)),Qe(z,Ie.ADD_ATTR)),Ie.ADD_URI_SAFE_ATTR&&Qe(pe,Ie.ADD_URI_SAFE_ATTR),Ie.FORBID_CONTENTS&&(ee===te&&(ee=Lt(ee)),Qe(ee,Ie.FORBID_CONTENTS)),q&&(W["#text"]=!0),x&&Qe(W,["html","head","body"]),W.table&&(Qe(W,["tbody"]),delete ne.tbody),at&&at(Ie),ge=Ie)},Te=Qe({},["mi","mo","mn","ms","mtext"]),ke=Qe({},["foreignobject","desc","title","annotation-xml"]),Me=Qe({},Gt);Qe(Me,Zt),Qe(Me,gn);var _e=Qe({},Yt);Qe(_e,fn);var Se=function(Ie){var Re=l(Ie);(!Re||!Re.tagName)&&(Re={namespaceURI:me,tagName:"template"});var Be=wt(Ie.tagName),Fe=wt(Re.tagName);if(Ie.namespaceURI===Ce)return Re.namespaceURI===me?Be==="svg":Re.namespaceURI===ue?Be==="svg"&&(Fe==="annotation-xml"||Te[Fe]):Boolean(Me[Be]);if(Ie.namespaceURI===ue)return Re.namespaceURI===me?Be==="math":Re.namespaceURI===Ce?Be==="math"&&ke[Fe]:Boolean(_e[Be]);if(Ie.namespaceURI===me){if(Re.namespaceURI===Ce&&!ke[Fe]||Re.namespaceURI===ue&&!Te[Fe])return!1;var Ge=Qe({},["title","style","font","a","script"]);return!_e[Be]&&(Ge[Be]||!Me[Be])}return!1},Ee=function(Ie){kt(e.removed,{element:Ie});try{Ie.parentNode.removeChild(Ie)}catch{try{Ie.outerHTML=m}catch{Ie.remove()}}},Ae=function(Ie,Re){try{kt(e.removed,{attribute:Re.getAttributeNode(Ie),from:Re})}catch{kt(e.removed,{attribute:null,from:Re})}if(Re.removeAttribute(Ie),Ie==="is"&&!z[Ie])if(re||ae)try{Ee(Re)}catch{}else try{Re.setAttribute(Ie,"")}catch{}},Pe=function(Ie){var Re=void 0,Be=void 0;if(j)Ie="<remove></remove>"+Ie;else{var Fe=Ci(Ie,/^[\r\n\t ]+/);Be=Fe&&Fe[0]}var Ge=g?g.createHTML(Ie):Ie;if(be===me)try{Re=new t().parseFromString(Ge,"text/html")}catch{}if(!Re||!Re.documentElement){Re=p.createDocument(be,"template",null);try{Re.documentElement.innerHTML=ce?"":Ge}catch{}}var Xe=Re.body||Re.documentElement;return Ie&&Be&&Xe.insertBefore(f.createTextNode(Be),Xe.childNodes[0]||null),be===me?w.call(Re,x?"html":"body")[0]:x?Re.documentElement:Xe},xe=function(Ie){return v.call(Ie.ownerDocument||Ie,Ie,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Ue=function(Ie){return Ie instanceof i||Ie instanceof n?!1:typeof Ie.nodeName!="string"||typeof Ie.textContent!="string"||typeof Ie.removeChild!="function"||!(Ie.attributes instanceof h)||typeof Ie.removeAttribute!="function"||typeof Ie.setAttribute!="function"||typeof Ie.namespaceURI!="string"||typeof Ie.insertBefore!="function"},He=function(Ie){return(typeof L=="undefined"?"undefined":Nt(L))==="object"?Ie instanceof L:Ie&&(typeof Ie=="undefined"?"undefined":Nt(Ie))==="object"&&typeof Ie.nodeType=="number"&&typeof Ie.nodeName=="string"},Ke=function(Ie,Re,Be){!T[Ie]||dn(T[Ie],function(Fe){Fe.call(e,Re,Be,ge)})},et=function(Ie){var Re=void 0;if(Ke("beforeSanitizeElements",Ie,null),Ue(Ie)||Ci(Ie.nodeName,/[\u0080-\uFFFF]/))return Ee(Ie),!0;var Be=wt(Ie.nodeName);if(Ke("uponSanitizeElement",Ie,{tagName:Be,allowedTags:W}),!He(Ie.firstElementChild)&&(!He(Ie.content)||!He(Ie.content.firstElementChild))&&pt(/<[/\w]/g,Ie.innerHTML)&&pt(/<[/\w]/g,Ie.textContent)||Be==="select"&&pt(/<template/i,Ie.innerHTML))return Ee(Ie),!0;if(!W[Be]||ne[Be]){if(q&&!ee[Be]){var Fe=l(Ie)||Ie.parentNode,Ge=s(Ie)||Ie.childNodes;if(Ge&&Fe)for(var Xe=Ge.length,Ze=Xe-1;Ze>=0;--Ze)Fe.insertBefore(o(Ge[Ze],!0),a(Ie))}return Ee(Ie),!0}return Ie instanceof b&&!Se(Ie)||(Be==="noscript"||Be==="noembed")&&pt(/<\/no(script|embed)/i,Ie.innerHTML)?(Ee(Ie),!0):(G&&Ie.nodeType===3&&(Re=Ie.textContent,Re=bt(Re,R," "),Re=bt(Re,B," "),Ie.textContent!==Re&&(kt(e.removed,{element:Ie.cloneNode()}),Ie.textContent=Re)),Ke("afterSanitizeElements",Ie,null),!1)},tt=function(Ie,Re,Be){if(Z&&(Re==="id"||Re==="name")&&(Be in f||Be in we))return!1;if(!(ie&&!X[Re]&&pt(O,Re))){if(!(J&&pt(k,Re))){if(!z[Re]||X[Re])return!1;if(!pe[Re]){if(!pt(P,bt(Be,F,""))){if(!((Re==="src"||Re==="xlink:href"||Re==="href")&&Ie!=="script"&&cn(Be,"data:")===0&&de[Ie])){if(!(le&&!pt(A,bt(Be,F,"")))){if(Be)return!1}}}}}}return!0},it=function(Ie){var Re=void 0,Be=void 0,Fe=void 0,Ge=void 0;Ke("beforeSanitizeAttributes",Ie,null);var Xe=Ie.attributes;if(!!Xe){var Ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(Ge=Xe.length;Ge--;){Re=Xe[Ge];var ze=Re,Ne=ze.name,Oe=ze.namespaceURI;if(Be=un(Re.value),Fe=wt(Ne),Ze.attrName=Fe,Ze.attrValue=Be,Ze.keepAttr=!0,Ze.forceKeepAttr=void 0,Ke("uponSanitizeAttribute",Ie,Ze),Be=Ze.attrValue,!Ze.forceKeepAttr&&(Ae(Ne,Ie),!!Ze.keepAttr)){if(pt(/\/>/i,Be)){Ae(Ne,Ie);continue}G&&(Be=bt(Be,R," "),Be=bt(Be,B," "));var Ve=Ie.nodeName.toLowerCase();if(!!tt(Ve,Fe,Be))try{Oe?Ie.setAttributeNS(Oe,Ne,Be):Ie.setAttribute(Ne,Be),pi(e.removed)}catch{}}}Ke("afterSanitizeAttributes",Ie,null)}},je=function We(Ie){var Re=void 0,Be=xe(Ie);for(Ke("beforeSanitizeShadowDOM",Ie,null);Re=Be.nextNode();)Ke("uponSanitizeShadowNode",Re,null),!et(Re)&&(Re.content instanceof N&&We(Re.content),it(Re));Ke("afterSanitizeShadowDOM",Ie,null)};return e.sanitize=function(We,Ie){var Re=void 0,Be=void 0,Fe=void 0,Ge=void 0,Xe=void 0;if(ce=!We,ce&&(We="<!-->"),typeof We!="string"&&!He(We)){if(typeof We.toString!="function")throw vi("toString is not a function");if(We=We.toString(),typeof We!="string")throw vi("dirty is not a string, aborting")}if(!e.isSupported){if(Nt(K.toStaticHTML)==="object"||typeof K.toStaticHTML=="function"){if(typeof We=="string")return K.toStaticHTML(We);if(He(We))return K.toStaticHTML(We.outerHTML)}return We}if(V||ye(Ie),e.removed=[],typeof We=="string"&&($=!1),!$)if(We instanceof L)Re=Pe("<!---->"),Be=Re.ownerDocument.importNode(We,!0),Be.nodeType===1&&Be.nodeName==="BODY"||Be.nodeName==="HTML"?Re=Be:Re.appendChild(Be);else{if(!re&&!G&&!x&&We.indexOf("<")===-1)return g&&U?g.createHTML(We):We;if(Re=Pe(We),!Re)return re?null:m}Re&&j&&Ee(Re.firstChild);for(var Ze=xe($?We:Re);Fe=Ze.nextNode();)Fe.nodeType===3&&Fe===Ge||et(Fe)||(Fe.content instanceof N&&je(Fe.content),it(Fe),Ge=Fe);if(Ge=null,$)return We;if(re){if(ae)for(Xe=_.call(Re.ownerDocument);Re.firstChild;)Xe.appendChild(Re.firstChild);else Xe=Re;return Y&&(Xe=E.call(y,Xe,!0)),Xe}var ze=x?Re.outerHTML:Re.innerHTML;return G&&(ze=bt(ze,R," "),ze=bt(ze,B," ")),g&&U?g.createHTML(ze):ze},e.setConfig=function(We){ye(We),V=!0},e.clearConfig=function(){ge=null,V=!1},e.isValidAttribute=function(We,Ie,Re){ge||ye({});var Be=wt(We),Fe=wt(Ie);return tt(Be,Fe,Re)},e.addHook=function(We,Ie){typeof Ie=="function"&&(T[We]=T[We]||[],kt(T[We],Ie))},e.removeHook=function(We){T[We]&&pi(T[We])},e.removeHooks=function(We){T[We]&&(T[We]=[])},e.removeAllHooks=function(){T={}},e}var yn=Li();define("vs/base/browser/dompurify/dompurify",function(){return yn}),define(oe[32],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class y{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const b=f(L);this._maxWidth!==b&&(this._maxWidth=b,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const b=f(L);this._width!==b&&(this._width=b,this.domNode.style.width=this._width)}setHeight(L){const b=f(L);this._height!==b&&(this._height=b,this.domNode.style.height=this._height)}setTop(L){const b=f(L);this._top!==b&&(this._top=b,this.domNode.style.top=this._top)}setLeft(L){const b=f(L);this._left!==b&&(this._left=b,this.domNode.style.left=this._left)}setBottom(L){const b=f(L);this._bottom!==b&&(this._bottom=b,this.domNode.style.bottom=this._bottom)}setRight(L){const b=f(L);this._right!==b&&(this._right=b,this.domNode.style.right=this._right)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const b=f(L);this._fontSize!==b&&(this._fontSize=b,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const b=f(L);this._lineHeight!==b&&(this._lineHeight=b,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const b=f(L);this._letterSpacing!==b&&(this._letterSpacing=b,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,b){this.domNode.classList.toggle(L,b),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,b){this.domNode.setAttribute(L,b)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=y;function f(D){return typeof D=="number"?`${D}px`:D}function N(D){return new y(D)}e.createFastDomNode=N}),define(oe[317],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let y=!1,f=null;function N(L){if(!L.parent||L.parent===L)return null;try{let b=L.location,C=L.parent.location;if(b.origin!=="null"&&C.origin!=="null"&&b.origin!==C.origin)return y=!0,null}catch{return y=!0,null}return L.parent}class D{static getSameOriginWindowChain(){if(!f){f=[];let b=window,C;do C=N(b),C?f.push({window:b,iframeElement:b.frameElement||null}):f.push({window:b,iframeElement:null}),b=C;while(b)}return f.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(b,C){if(!C||b===C)return{top:0,left:0};let u=0,h=0,i=this.getSameOriginWindowChain();for(const n of i){if(u+=n.window.scrollY,h+=n.window.scrollX,n.window===C||!n.iframeElement)break;let t=n.iframeElement.getBoundingClientRect();u+=t.top,h+=t.left}return{top:u,left:h}}}e.IframeUtils=D}),define(oe[318],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class y extends Error{constructor(N,D){super(`ListError [${N}] ${D}`)}}e.ListError=y}),define(oe[319],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class y{constructor(N){this.spliceables=N}splice(N,D,L){this.spliceables.forEach(b=>b.splice(N,D,L))}}e.CombinedSpliceable=y}),define(oe[216],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const y=20;class f{constructor(D,L,b,C,u,h){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(b),this._arrowSize=Math.round(D),this._visibleSize=C,this._scrollSize=u,this._scrollPosition=h,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new f(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const L=Math.round(D);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(D){const L=Math.round(D);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const L=Math.round(D);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,L,b,C,u){const h=Math.max(0,b-D),i=Math.max(0,h-2*L),n=C>0&&C>b;if(!n)return{computedAvailableSize:Math.round(h),computedIsNeeded:n,computedSliderSize:Math.round(i),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(y,Math.floor(b*i/C))),r=(i-t)/(C-b),d=u*r;return{computedAvailableSize:Math.round(h),computedIsNeeded:n,computedSliderSize:Math.round(t),computedSliderRatio:r,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const D=f._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const L=D-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const L=D-this._arrowSize;let b=this._scrollPosition;return L<this._computedSliderPosition?b-=this._visibleSize:b+=this._visibleSize,b}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+D;return Math.round(L/this._computedSliderRatio)}}e.ScrollbarState=f}),define(oe[115],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var y;(function(D){D[D.Unknown=0]="Unknown",D[D.Twistie=1]="Twistie",D[D.Element=2]="Element"})(y=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class f extends Error{constructor(L,b){super(`TreeError [${L}] ${b}`)}}e.TreeError=f;class N{constructor(L){this.fn=L,this._map=new WeakMap}map(L){let b=this._map.get(L);return b||(b=this.fn(L),this._map.set(L,b)),b}}e.WeakMapper=N}),define(oe[18],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function y(O,k=0){return O[O.length-(1+k)]}e.tail=y;function f(O){if(O.length===0)throw new Error("Invalid tail call");return[O.slice(0,O.length-1),O[O.length-1]]}e.tail2=f;function N(O,k,A=(F,P)=>F===P){if(O===k)return!0;if(!O||!k||O.length!==k.length)return!1;for(let F=0,P=O.length;F<P;F++)if(!A(O[F],k[F]))return!1;return!0}e.equals=N;function D(O,k,A){return L(O.length,F=>A(O[F],k))}e.binarySearch=D;function L(O,k){let A=0,F=O-1;for(;A<=F;){const P=(A+F)/2|0,W=k(P);if(W<0)A=P+1;else if(W>0)F=P-1;else return P}return-(A+1)}e.binarySearch2=L;function b(O,k){let A=0,F=O.length;if(F===0)return 0;for(;A<F;){const P=Math.floor((A+F)/2);k(O[P])?F=P:A=P+1}return A}e.findFirstInSorted=b;function C(O,k,A){if(O=O|0,O>=k.length)throw new TypeError("invalid index");let F=k[Math.floor(k.length*Math.random())],P=[],W=[],M=[];for(let z of k){const Q=A(z,F);Q<0?P.push(z):Q>0?W.push(z):M.push(z)}return O<P.length?C(O,P,A):O<P.length+M.length?M[0]:C(O-(P.length+M.length),W,A)}e.quickSelect=C;function u(O,k){const A=[];let F;for(const P of O.slice(0).sort(k))!F||k(F[0],P)!==0?(F=[P],A.push(F)):F.push(P);return A}e.groupBy=u;function h(O){return O.filter(k=>!!k)}e.coalesce=h;function i(O){return!Array.isArray(O)||O.length===0}e.isFalsyOrEmpty=i;function n(O){return Array.isArray(O)&&O.length>0}e.isNonEmptyArray=n;function t(O,k=A=>A){const A=new Set;return O.filter(F=>{const P=k(F);return A.has(P)?!1:(A.add(P),!0)})}e.distinct=t;function r(O,k){const A=d(O,k);if(A!==-1)return O[A]}e.findLast=r;function d(O,k){for(let A=O.length-1;A>=0;A--){const F=O[A];if(k(F))return A}return-1}e.lastIndex=d;function o(O,k){return O.length>0?O[0]:k}e.firstOrDefault=o;function a(O){return[].concat(...O)}e.flatten=a;function s(O,k){let A=typeof k=="number"?O:0;typeof k=="number"?A=O:(A=0,k=O);const F=[];if(A<=k)for(let P=A;P<k;P++)F.push(P);else for(let P=A;P>k;P--)F.push(P);return F}e.range=s;function l(O,k,A){const F=O.slice(0,k),P=O.slice(k);return F.concat(A,P)}e.arrayInsert=l;function c(O,k){const A=O.indexOf(k);A>-1&&(O.splice(A,1),O.unshift(k))}e.pushToStart=c;function g(O,k){const A=O.indexOf(k);A>-1&&(O.splice(A,1),O.push(k))}e.pushToEnd=g;function m(O,k){for(const A of k)O.push(A)}e.pushMany=m;function S(O){return Array.isArray(O)?O:[O]}e.asArray=S;function p(O,k,A){const F=_(O,k),P=O.length,W=A.length;O.length=P+W;for(let M=P-1;M>=F;M--)O[M+W]=O[M];for(let M=0;M<W;M++)O[M+F]=A[M]}e.insertInto=p;function v(O,k,A,F){const P=_(O,k),W=O.splice(P,A);return p(O,P,F),W}e.splice=v;function _(O,k){return k<0?Math.max(k+O.length,0):Math.min(k,O.length)}function w(O,k){return(A,F)=>k(O(A),O(F))}e.compareBy=w;const E=(O,k)=>O-k;e.numberComparator=E;function I(O,k){if(O.length===0)return;let A=O[0];for(let F=1;F<O.length;F++){const P=O[F];k(P,A)>0&&(A=P)}return A}e.findMaxBy=I;function T(O,k){if(O.length===0)return;let A=O[0];for(let F=1;F<O.length;F++){const P=O[F];k(P,A)>=0&&(A=P)}return A}e.findLastMaxBy=T;function R(O,k){return I(O,(A,F)=>-k(A,F))}e.findMinBy=R;class B{constructor(k){this.items=k,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(k){let A=this.firstIdx;for(;A<this.items.length&&k(this.items[A]);)A++;const F=A===this.firstIdx?null:this.items.slice(this.firstIdx,A);return this.firstIdx=A,F}takeFromEndWhile(k){let A=this.lastIdx;for(;A>=0&&k(this.items[A]);)A--;const F=A===this.lastIdx?null:this.items.slice(A+1,this.lastIdx+1);return this.lastIdx=A,F}peek(){return this.items[this.firstIdx]}dequeue(){const k=this.items[this.firstIdx];return this.firstIdx++,k}takeCount(k){const A=this.items.slice(this.firstIdx,this.firstIdx+k);return this.firstIdx+=k,A}}e.ArrayQueue=B}),define(oe[217],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function y(f,N){if(!f)throw new Error(N?`Assertion failed (${N})`:"Assertion Failed")}e.ok=y}),define(oe[116],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const y=typeof Buffer!="undefined";let f;class N{constructor(n){this.buffer=n,this.byteLength=this.buffer.byteLength}static wrap(n){return y&&!Buffer.isBuffer(n)&&(n=Buffer.from(n.buffer,n.byteOffset,n.byteLength)),new N(n)}toString(){return y?this.buffer.toString():(f||(f=new TextDecoder),f.decode(this.buffer))}}e.VSBuffer=N;function D(i,n){return i[n+0]<<0>>>0|i[n+1]<<8>>>0}e.readUInt16LE=D;function L(i,n,t){i[t+0]=n&255,n=n>>>8,i[t+1]=n&255}e.writeUInt16LE=L;function b(i,n){return i[n]*Math.pow(2,24)+i[n+1]*Math.pow(2,16)+i[n+2]*Math.pow(2,8)+i[n+3]}e.readUInt32BE=b;function C(i,n,t){i[t+3]=n,n=n>>>8,i[t+2]=n,n=n>>>8,i[t+1]=n,n=n>>>8,i[t]=n}e.writeUInt32BE=C;function u(i,n){return i[n]}e.readUInt8=u;function h(i,n,t){i[t]=n}e.writeUInt8=h}),define(oe[218],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class y{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const L=JSON.stringify(D);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=y;class f{constructor(D){this.fn=D,this._map=new Map}get cachedValues(){return this._map}get(D){if(this._map.has(D))return this._map.get(D);const L=this.fn(D);return this._map.set(D,L),L}}e.CachedFunction=f}),define(oe[28],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function y(D){return D?D.replace(/\$\((.*?)\)/g,(L,b)=>` ${b} `).trim():""}e.getCodiconAriaLabel=y;class f{constructor(L,b,C){this.id=L,this.definition=b,this.description=C,f._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return f._allCodicons}}e.Codicon=f,f._allCodicons=[],f.add=new f("add",{fontCharacter:"\\ea60"}),f.plus=new f("plus",f.add.definition),f.gistNew=new f("gist-new",f.add.definition),f.repoCreate=new f("repo-create",f.add.definition),f.lightbulb=new f("lightbulb",{fontCharacter:"\\ea61"}),f.lightBulb=new f("light-bulb",{fontCharacter:"\\ea61"}),f.repo=new f("repo",{fontCharacter:"\\ea62"}),f.repoDelete=new f("repo-delete",{fontCharacter:"\\ea62"}),f.gistFork=new f("gist-fork",{fontCharacter:"\\ea63"}),f.repoForked=new f("repo-forked",{fontCharacter:"\\ea63"}),f.gitPullRequest=new f("git-pull-request",{fontCharacter:"\\ea64"}),f.gitPullRequestAbandoned=new f("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),f.recordKeys=new f("record-keys",{fontCharacter:"\\ea65"}),f.keyboard=new f("keyboard",{fontCharacter:"\\ea65"}),f.tag=new f("tag",{fontCharacter:"\\ea66"}),f.tagAdd=new f("tag-add",{fontCharacter:"\\ea66"}),f.tagRemove=new f("tag-remove",{fontCharacter:"\\ea66"}),f.person=new f("person",{fontCharacter:"\\ea67"}),f.personFollow=new f("person-follow",{fontCharacter:"\\ea67"}),f.personOutline=new f("person-outline",{fontCharacter:"\\ea67"}),f.personFilled=new f("person-filled",{fontCharacter:"\\ea67"}),f.gitBranch=new f("git-branch",{fontCharacter:"\\ea68"}),f.gitBranchCreate=new f("git-branch-create",{fontCharacter:"\\ea68"}),f.gitBranchDelete=new f("git-branch-delete",{fontCharacter:"\\ea68"}),f.sourceControl=new f("source-control",{fontCharacter:"\\ea68"}),f.mirror=new f("mirror",{fontCharacter:"\\ea69"}),f.mirrorPublic=new f("mirror-public",{fontCharacter:"\\ea69"}),f.star=new f("star",{fontCharacter:"\\ea6a"}),f.starAdd=new f("star-add",{fontCharacter:"\\ea6a"}),f.starDelete=new f("star-delete",{fontCharacter:"\\ea6a"}),f.starEmpty=new f("star-empty",{fontCharacter:"\\ea6a"}),f.comment=new f("comment",{fontCharacter:"\\ea6b"}),f.commentAdd=new f("comment-add",{fontCharacter:"\\ea6b"}),f.alert=new f("alert",{fontCharacter:"\\ea6c"}),f.warning=new f("warning",{fontCharacter:"\\ea6c"}),f.search=new f("search",{fontCharacter:"\\ea6d"}),f.searchSave=new f("search-save",{fontCharacter:"\\ea6d"}),f.logOut=new f("log-out",{fontCharacter:"\\ea6e"}),f.signOut=new f("sign-out",{fontCharacter:"\\ea6e"}),f.logIn=new f("log-in",{fontCharacter:"\\ea6f"}),f.signIn=new f("sign-in",{fontCharacter:"\\ea6f"}),f.eye=new f("eye",{fontCharacter:"\\ea70"}),f.eyeUnwatch=new f("eye-unwatch",{fontCharacter:"\\ea70"}),f.eyeWatch=new f("eye-watch",{fontCharacter:"\\ea70"}),f.circleFilled=new f("circle-filled",{fontCharacter:"\\ea71"}),f.primitiveDot=new f("primitive-dot",{fontCharacter:"\\ea71"}),f.closeDirty=new f("close-dirty",{fontCharacter:"\\ea71"}),f.debugBreakpoint=new f("debug-breakpoint",{fontCharacter:"\\ea71"}),f.debugBreakpointDisabled=new f("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),f.debugHint=new f("debug-hint",{fontCharacter:"\\ea71"}),f.primitiveSquare=new f("primitive-square",{fontCharacter:"\\ea72"}),f.edit=new f("edit",{fontCharacter:"\\ea73"}),f.pencil=new f("pencil",{fontCharacter:"\\ea73"}),f.info=new f("info",{fontCharacter:"\\ea74"}),f.issueOpened=new f("issue-opened",{fontCharacter:"\\ea74"}),f.gistPrivate=new f("gist-private",{fontCharacter:"\\ea75"}),f.gitForkPrivate=new f("git-fork-private",{fontCharacter:"\\ea75"}),f.lock=new f("lock",{fontCharacter:"\\ea75"}),f.mirrorPrivate=new f("mirror-private",{fontCharacter:"\\ea75"}),f.close=new f("close",{fontCharacter:"\\ea76"}),f.removeClose=new f("remove-close",{fontCharacter:"\\ea76"}),f.x=new f("x",{fontCharacter:"\\ea76"}),f.repoSync=new f("repo-sync",{fontCharacter:"\\ea77"}),f.sync=new f("sync",{fontCharacter:"\\ea77"}),f.clone=new f("clone",{fontCharacter:"\\ea78"}),f.desktopDownload=new f("desktop-download",{fontCharacter:"\\ea78"}),f.beaker=new f("beaker",{fontCharacter:"\\ea79"}),f.microscope=new f("microscope",{fontCharacter:"\\ea79"}),f.vm=new f("vm",{fontCharacter:"\\ea7a"}),f.deviceDesktop=new f("device-desktop",{fontCharacter:"\\ea7a"}),f.file=new f("file",{fontCharacter:"\\ea7b"}),f.fileText=new f("file-text",{fontCharacter:"\\ea7b"}),f.more=new f("more",{fontCharacter:"\\ea7c"}),f.ellipsis=new f("ellipsis",{fontCharacter:"\\ea7c"}),f.kebabHorizontal=new f("kebab-horizontal",{fontCharacter:"\\ea7c"}),f.mailReply=new f("mail-reply",{fontCharacter:"\\ea7d"}),f.reply=new f("reply",{fontCharacter:"\\ea7d"}),f.organization=new f("organization",{fontCharacter:"\\ea7e"}),f.organizationFilled=new f("organization-filled",{fontCharacter:"\\ea7e"}),f.organizationOutline=new f("organization-outline",{fontCharacter:"\\ea7e"}),f.newFile=new f("new-file",{fontCharacter:"\\ea7f"}),f.fileAdd=new f("file-add",{fontCharacter:"\\ea7f"}),f.newFolder=new f("new-folder",{fontCharacter:"\\ea80"}),f.fileDirectoryCreate=new f("file-directory-create",{fontCharacter:"\\ea80"}),f.trash=new f("trash",{fontCharacter:"\\ea81"}),f.trashcan=new f("trashcan",{fontCharacter:"\\ea81"}),f.history=new f("history",{fontCharacter:"\\ea82"}),f.clock=new f("clock",{fontCharacter:"\\ea82"}),f.folder=new f("folder",{fontCharacter:"\\ea83"}),f.fileDirectory=new f("file-directory",{fontCharacter:"\\ea83"}),f.symbolFolder=new f("symbol-folder",{fontCharacter:"\\ea83"}),f.logoGithub=new f("logo-github",{fontCharacter:"\\ea84"}),f.markGithub=new f("mark-github",{fontCharacter:"\\ea84"}),f.github=new f("github",{fontCharacter:"\\ea84"}),f.terminal=new f("terminal",{fontCharacter:"\\ea85"}),f.console=new f("console",{fontCharacter:"\\ea85"}),f.repl=new f("repl",{fontCharacter:"\\ea85"}),f.zap=new f("zap",{fontCharacter:"\\ea86"}),f.symbolEvent=new f("symbol-event",{fontCharacter:"\\ea86"}),f.error=new f("error",{fontCharacter:"\\ea87"}),f.stop=new f("stop",{fontCharacter:"\\ea87"}),f.variable=new f("variable",{fontCharacter:"\\ea88"}),f.symbolVariable=new f("symbol-variable",{fontCharacter:"\\ea88"}),f.array=new f("array",{fontCharacter:"\\ea8a"}),f.symbolArray=new f("symbol-array",{fontCharacter:"\\ea8a"}),f.symbolModule=new f("symbol-module",{fontCharacter:"\\ea8b"}),f.symbolPackage=new f("symbol-package",{fontCharacter:"\\ea8b"}),f.symbolNamespace=new f("symbol-namespace",{fontCharacter:"\\ea8b"}),f.symbolObject=new f("symbol-object",{fontCharacter:"\\ea8b"}),f.symbolMethod=new f("symbol-method",{fontCharacter:"\\ea8c"}),f.symbolFunction=new f("symbol-function",{fontCharacter:"\\ea8c"}),f.symbolConstructor=new f("symbol-constructor",{fontCharacter:"\\ea8c"}),f.symbolBoolean=new f("symbol-boolean",{fontCharacter:"\\ea8f"}),f.symbolNull=new f("symbol-null",{fontCharacter:"\\ea8f"}),f.symbolNumeric=new f("symbol-numeric",{fontCharacter:"\\ea90"}),f.symbolNumber=new f("symbol-number",{fontCharacter:"\\ea90"}),f.symbolStructure=new f("symbol-structure",{fontCharacter:"\\ea91"}),f.symbolStruct=new f("symbol-struct",{fontCharacter:"\\ea91"}),f.symbolParameter=new f("symbol-parameter",{fontCharacter:"\\ea92"}),f.symbolTypeParameter=new f("symbol-type-parameter",{fontCharacter:"\\ea92"}),f.symbolKey=new f("symbol-key",{fontCharacter:"\\ea93"}),f.symbolText=new f("symbol-text",{fontCharacter:"\\ea93"}),f.symbolReference=new f("symbol-reference",{fontCharacter:"\\ea94"}),f.goToFile=new f("go-to-file",{fontCharacter:"\\ea94"}),f.symbolEnum=new f("symbol-enum",{fontCharacter:"\\ea95"}),f.symbolValue=new f("symbol-value",{fontCharacter:"\\ea95"}),f.symbolRuler=new f("symbol-ruler",{fontCharacter:"\\ea96"}),f.symbolUnit=new f("symbol-unit",{fontCharacter:"\\ea96"}),f.activateBreakpoints=new f("activate-breakpoints",{fontCharacter:"\\ea97"}),f.archive=new f("archive",{fontCharacter:"\\ea98"}),f.arrowBoth=new f("arrow-both",{fontCharacter:"\\ea99"}),f.arrowDown=new f("arrow-down",{fontCharacter:"\\ea9a"}),f.arrowLeft=new f("arrow-left",{fontCharacter:"\\ea9b"}),f.arrowRight=new f("arrow-right",{fontCharacter:"\\ea9c"}),f.arrowSmallDown=new f("arrow-small-down",{fontCharacter:"\\ea9d"}),f.arrowSmallLeft=new f("arrow-small-left",{fontCharacter:"\\ea9e"}),f.arrowSmallRight=new f("arrow-small-right",{fontCharacter:"\\ea9f"}),f.arrowSmallUp=new f("arrow-small-up",{fontCharacter:"\\eaa0"}),f.arrowUp=new f("arrow-up",{fontCharacter:"\\eaa1"}),f.bell=new f("bell",{fontCharacter:"\\eaa2"}),f.bold=new f("bold",{fontCharacter:"\\eaa3"}),f.book=new f("book",{fontCharacter:"\\eaa4"}),f.bookmark=new f("bookmark",{fontCharacter:"\\eaa5"}),f.debugBreakpointConditionalUnverified=new f("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),f.debugBreakpointConditional=new f("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),f.debugBreakpointConditionalDisabled=new f("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),f.debugBreakpointDataUnverified=new f("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),f.debugBreakpointData=new f("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),f.debugBreakpointDataDisabled=new f("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),f.debugBreakpointLogUnverified=new f("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),f.debugBreakpointLog=new f("debug-breakpoint-log",{fontCharacter:"\\eaab"}),f.debugBreakpointLogDisabled=new f("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),f.briefcase=new f("briefcase",{fontCharacter:"\\eaac"}),f.broadcast=new f("broadcast",{fontCharacter:"\\eaad"}),f.browser=new f("browser",{fontCharacter:"\\eaae"}),f.bug=new f("bug",{fontCharacter:"\\eaaf"}),f.calendar=new f("calendar",{fontCharacter:"\\eab0"}),f.caseSensitive=new f("case-sensitive",{fontCharacter:"\\eab1"}),f.check=new f("check",{fontCharacter:"\\eab2"}),f.checklist=new f("checklist",{fontCharacter:"\\eab3"}),f.chevronDown=new f("chevron-down",{fontCharacter:"\\eab4"}),f.dropDownButton=new f("drop-down-button",f.chevronDown.definition),f.chevronLeft=new f("chevron-left",{fontCharacter:"\\eab5"}),f.chevronRight=new f("chevron-right",{fontCharacter:"\\eab6"}),f.chevronUp=new f("chevron-up",{fontCharacter:"\\eab7"}),f.chromeClose=new f("chrome-close",{fontCharacter:"\\eab8"}),f.chromeMaximize=new f("chrome-maximize",{fontCharacter:"\\eab9"}),f.chromeMinimize=new f("chrome-minimize",{fontCharacter:"\\eaba"}),f.chromeRestore=new f("chrome-restore",{fontCharacter:"\\eabb"}),f.circleOutline=new f("circle-outline",{fontCharacter:"\\eabc"}),f.debugBreakpointUnverified=new f("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),f.circleSlash=new f("circle-slash",{fontCharacter:"\\eabd"}),f.circuitBoard=new f("circuit-board",{fontCharacter:"\\eabe"}),f.clearAll=new f("clear-all",{fontCharacter:"\\eabf"}),f.clippy=new f("clippy",{fontCharacter:"\\eac0"}),f.closeAll=new f("close-all",{fontCharacter:"\\eac1"}),f.cloudDownload=new f("cloud-download",{fontCharacter:"\\eac2"}),f.cloudUpload=new f("cloud-upload",{fontCharacter:"\\eac3"}),f.code=new f("code",{fontCharacter:"\\eac4"}),f.collapseAll=new f("collapse-all",{fontCharacter:"\\eac5"}),f.colorMode=new f("color-mode",{fontCharacter:"\\eac6"}),f.commentDiscussion=new f("comment-discussion",{fontCharacter:"\\eac7"}),f.compareChanges=new f("compare-changes",{fontCharacter:"\\eafd"}),f.creditCard=new f("credit-card",{fontCharacter:"\\eac9"}),f.dash=new f("dash",{fontCharacter:"\\eacc"}),f.dashboard=new f("dashboard",{fontCharacter:"\\eacd"}),f.database=new f("database",{fontCharacter:"\\eace"}),f.debugContinue=new f("debug-continue",{fontCharacter:"\\eacf"}),f.debugDisconnect=new f("debug-disconnect",{fontCharacter:"\\ead0"}),f.debugPause=new f("debug-pause",{fontCharacter:"\\ead1"}),f.debugRestart=new f("debug-restart",{fontCharacter:"\\ead2"}),f.debugStart=new f("debug-start",{fontCharacter:"\\ead3"}),f.debugStepInto=new f("debug-step-into",{fontCharacter:"\\ead4"}),f.debugStepOut=new f("debug-step-out",{fontCharacter:"\\ead5"}),f.debugStepOver=new f("debug-step-over",{fontCharacter:"\\ead6"}),f.debugStop=new f("debug-stop",{fontCharacter:"\\ead7"}),f.debug=new f("debug",{fontCharacter:"\\ead8"}),f.deviceCameraVideo=new f("device-camera-video",{fontCharacter:"\\ead9"}),f.deviceCamera=new f("device-camera",{fontCharacter:"\\eada"}),f.deviceMobile=new f("device-mobile",{fontCharacter:"\\eadb"}),f.diffAdded=new f("diff-added",{fontCharacter:"\\eadc"}),f.diffIgnored=new f("diff-ignored",{fontCharacter:"\\eadd"}),f.diffModified=new f("diff-modified",{fontCharacter:"\\eade"}),f.diffRemoved=new f("diff-removed",{fontCharacter:"\\eadf"}),f.diffRenamed=new f("diff-renamed",{fontCharacter:"\\eae0"}),f.diff=new f("diff",{fontCharacter:"\\eae1"}),f.discard=new f("discard",{fontCharacter:"\\eae2"}),f.editorLayout=new f("editor-layout",{fontCharacter:"\\eae3"}),f.emptyWindow=new f("empty-window",{fontCharacter:"\\eae4"}),f.exclude=new f("exclude",{fontCharacter:"\\eae5"}),f.extensions=new f("extensions",{fontCharacter:"\\eae6"}),f.eyeClosed=new f("eye-closed",{fontCharacter:"\\eae7"}),f.fileBinary=new f("file-binary",{fontCharacter:"\\eae8"}),f.fileCode=new f("file-code",{fontCharacter:"\\eae9"}),f.fileMedia=new f("file-media",{fontCharacter:"\\eaea"}),f.filePdf=new f("file-pdf",{fontCharacter:"\\eaeb"}),f.fileSubmodule=new f("file-submodule",{fontCharacter:"\\eaec"}),f.fileSymlinkDirectory=new f("file-symlink-directory",{fontCharacter:"\\eaed"}),f.fileSymlinkFile=new f("file-symlink-file",{fontCharacter:"\\eaee"}),f.fileZip=new f("file-zip",{fontCharacter:"\\eaef"}),f.files=new f("files",{fontCharacter:"\\eaf0"}),f.filter=new f("filter",{fontCharacter:"\\eaf1"}),f.flame=new f("flame",{fontCharacter:"\\eaf2"}),f.foldDown=new f("fold-down",{fontCharacter:"\\eaf3"}),f.foldUp=new f("fold-up",{fontCharacter:"\\eaf4"}),f.fold=new f("fold",{fontCharacter:"\\eaf5"}),f.folderActive=new f("folder-active",{fontCharacter:"\\eaf6"}),f.folderOpened=new f("folder-opened",{fontCharacter:"\\eaf7"}),f.gear=new f("gear",{fontCharacter:"\\eaf8"}),f.gift=new f("gift",{fontCharacter:"\\eaf9"}),f.gistSecret=new f("gist-secret",{fontCharacter:"\\eafa"}),f.gist=new f("gist",{fontCharacter:"\\eafb"}),f.gitCommit=new f("git-commit",{fontCharacter:"\\eafc"}),f.gitCompare=new f("git-compare",{fontCharacter:"\\eafd"}),f.gitMerge=new f("git-merge",{fontCharacter:"\\eafe"}),f.githubAction=new f("github-action",{fontCharacter:"\\eaff"}),f.githubAlt=new f("github-alt",{fontCharacter:"\\eb00"}),f.globe=new f("globe",{fontCharacter:"\\eb01"}),f.grabber=new f("grabber",{fontCharacter:"\\eb02"}),f.graph=new f("graph",{fontCharacter:"\\eb03"}),f.gripper=new f("gripper",{fontCharacter:"\\eb04"}),f.heart=new f("heart",{fontCharacter:"\\eb05"}),f.home=new f("home",{fontCharacter:"\\eb06"}),f.horizontalRule=new f("horizontal-rule",{fontCharacter:"\\eb07"}),f.hubot=new f("hubot",{fontCharacter:"\\eb08"}),f.inbox=new f("inbox",{fontCharacter:"\\eb09"}),f.issueClosed=new f("issue-closed",{fontCharacter:"\\eba4"}),f.issueReopened=new f("issue-reopened",{fontCharacter:"\\eb0b"}),f.issues=new f("issues",{fontCharacter:"\\eb0c"}),f.italic=new f("italic",{fontCharacter:"\\eb0d"}),f.jersey=new f("jersey",{fontCharacter:"\\eb0e"}),f.json=new f("json",{fontCharacter:"\\eb0f"}),f.kebabVertical=new f("kebab-vertical",{fontCharacter:"\\eb10"}),f.key=new f("key",{fontCharacter:"\\eb11"}),f.law=new f("law",{fontCharacter:"\\eb12"}),f.lightbulbAutofix=new f("lightbulb-autofix",{fontCharacter:"\\eb13"}),f.linkExternal=new f("link-external",{fontCharacter:"\\eb14"}),f.link=new f("link",{fontCharacter:"\\eb15"}),f.listOrdered=new f("list-ordered",{fontCharacter:"\\eb16"}),f.listUnordered=new f("list-unordered",{fontCharacter:"\\eb17"}),f.liveShare=new f("live-share",{fontCharacter:"\\eb18"}),f.loading=new f("loading",{fontCharacter:"\\eb19"}),f.location=new f("location",{fontCharacter:"\\eb1a"}),f.mailRead=new f("mail-read",{fontCharacter:"\\eb1b"}),f.mail=new f("mail",{fontCharacter:"\\eb1c"}),f.markdown=new f("markdown",{fontCharacter:"\\eb1d"}),f.megaphone=new f("megaphone",{fontCharacter:"\\eb1e"}),f.mention=new f("mention",{fontCharacter:"\\eb1f"}),f.milestone=new f("milestone",{fontCharacter:"\\eb20"}),f.mortarBoard=new f("mortar-board",{fontCharacter:"\\eb21"}),f.move=new f("move",{fontCharacter:"\\eb22"}),f.multipleWindows=new f("multiple-windows",{fontCharacter:"\\eb23"}),f.mute=new f("mute",{fontCharacter:"\\eb24"}),f.noNewline=new f("no-newline",{fontCharacter:"\\eb25"}),f.note=new f("note",{fontCharacter:"\\eb26"}),f.octoface=new f("octoface",{fontCharacter:"\\eb27"}),f.openPreview=new f("open-preview",{fontCharacter:"\\eb28"}),f.package_=new f("package",{fontCharacter:"\\eb29"}),f.paintcan=new f("paintcan",{fontCharacter:"\\eb2a"}),f.pin=new f("pin",{fontCharacter:"\\eb2b"}),f.play=new f("play",{fontCharacter:"\\eb2c"}),f.run=new f("run",{fontCharacter:"\\eb2c"}),f.plug=new f("plug",{fontCharacter:"\\eb2d"}),f.preserveCase=new f("preserve-case",{fontCharacter:"\\eb2e"}),f.preview=new f("preview",{fontCharacter:"\\eb2f"}),f.project=new f("project",{fontCharacter:"\\eb30"}),f.pulse=new f("pulse",{fontCharacter:"\\eb31"}),f.question=new f("question",{fontCharacter:"\\eb32"}),f.quote=new f("quote",{fontCharacter:"\\eb33"}),f.radioTower=new f("radio-tower",{fontCharacter:"\\eb34"}),f.reactions=new f("reactions",{fontCharacter:"\\eb35"}),f.references=new f("references",{fontCharacter:"\\eb36"}),f.refresh=new f("refresh",{fontCharacter:"\\eb37"}),f.regex=new f("regex",{fontCharacter:"\\eb38"}),f.remoteExplorer=new f("remote-explorer",{fontCharacter:"\\eb39"}),f.remote=new f("remote",{fontCharacter:"\\eb3a"}),f.remove=new f("remove",{fontCharacter:"\\eb3b"}),f.replaceAll=new f("replace-all",{fontCharacter:"\\eb3c"}),f.replace=new f("replace",{fontCharacter:"\\eb3d"}),f.repoClone=new f("repo-clone",{fontCharacter:"\\eb3e"}),f.repoForcePush=new f("repo-force-push",{fontCharacter:"\\eb3f"}),f.repoPull=new f("repo-pull",{fontCharacter:"\\eb40"}),f.repoPush=new f("repo-push",{fontCharacter:"\\eb41"}),f.report=new f("report",{fontCharacter:"\\eb42"}),f.requestChanges=new f("request-changes",{fontCharacter:"\\eb43"}),f.rocket=new f("rocket",{fontCharacter:"\\eb44"}),f.rootFolderOpened=new f("root-folder-opened",{fontCharacter:"\\eb45"}),f.rootFolder=new f("root-folder",{fontCharacter:"\\eb46"}),f.rss=new f("rss",{fontCharacter:"\\eb47"}),f.ruby=new f("ruby",{fontCharacter:"\\eb48"}),f.saveAll=new f("save-all",{fontCharacter:"\\eb49"}),f.saveAs=new f("save-as",{fontCharacter:"\\eb4a"}),f.save=new f("save",{fontCharacter:"\\eb4b"}),f.screenFull=new f("screen-full",{fontCharacter:"\\eb4c"}),f.screenNormal=new f("screen-normal",{fontCharacter:"\\eb4d"}),f.searchStop=new f("search-stop",{fontCharacter:"\\eb4e"}),f.server=new f("server",{fontCharacter:"\\eb50"}),f.settingsGear=new f("settings-gear",{fontCharacter:"\\eb51"}),f.settings=new f("settings",{fontCharacter:"\\eb52"}),f.shield=new f("shield",{fontCharacter:"\\eb53"}),f.smiley=new f("smiley",{fontCharacter:"\\eb54"}),f.sortPrecedence=new f("sort-precedence",{fontCharacter:"\\eb55"}),f.splitHorizontal=new f("split-horizontal",{fontCharacter:"\\eb56"}),f.splitVertical=new f("split-vertical",{fontCharacter:"\\eb57"}),f.squirrel=new f("squirrel",{fontCharacter:"\\eb58"}),f.starFull=new f("star-full",{fontCharacter:"\\eb59"}),f.starHalf=new f("star-half",{fontCharacter:"\\eb5a"}),f.symbolClass=new f("symbol-class",{fontCharacter:"\\eb5b"}),f.symbolColor=new f("symbol-color",{fontCharacter:"\\eb5c"}),f.symbolCustomColor=new f("symbol-customcolor",{fontCharacter:"\\eb5c"}),f.symbolConstant=new f("symbol-constant",{fontCharacter:"\\eb5d"}),f.symbolEnumMember=new f("symbol-enum-member",{fontCharacter:"\\eb5e"}),f.symbolField=new f("symbol-field",{fontCharacter:"\\eb5f"}),f.symbolFile=new f("symbol-file",{fontCharacter:"\\eb60"}),f.symbolInterface=new f("symbol-interface",{fontCharacter:"\\eb61"}),f.symbolKeyword=new f("symbol-keyword",{fontCharacter:"\\eb62"}),f.symbolMisc=new f("symbol-misc",{fontCharacter:"\\eb63"}),f.symbolOperator=new f("symbol-operator",{fontCharacter:"\\eb64"}),f.symbolProperty=new f("symbol-property",{fontCharacter:"\\eb65"}),f.wrench=new f("wrench",{fontCharacter:"\\eb65"}),f.wrenchSubaction=new f("wrench-subaction",{fontCharacter:"\\eb65"}),f.symbolSnippet=new f("symbol-snippet",{fontCharacter:"\\eb66"}),f.tasklist=new f("tasklist",{fontCharacter:"\\eb67"}),f.telescope=new f("telescope",{fontCharacter:"\\eb68"}),f.textSize=new f("text-size",{fontCharacter:"\\eb69"}),f.threeBars=new f("three-bars",{fontCharacter:"\\eb6a"}),f.thumbsdown=new f("thumbsdown",{fontCharacter:"\\eb6b"}),f.thumbsup=new f("thumbsup",{fontCharacter:"\\eb6c"}),f.tools=new f("tools",{fontCharacter:"\\eb6d"}),f.triangleDown=new f("triangle-down",{fontCharacter:"\\eb6e"}),f.triangleLeft=new f("triangle-left",{fontCharacter:"\\eb6f"}),f.triangleRight=new f("triangle-right",{fontCharacter:"\\eb70"}),f.triangleUp=new f("triangle-up",{fontCharacter:"\\eb71"}),f.twitter=new f("twitter",{fontCharacter:"\\eb72"}),f.unfold=new f("unfold",{fontCharacter:"\\eb73"}),f.unlock=new f("unlock",{fontCharacter:"\\eb74"}),f.unmute=new f("unmute",{fontCharacter:"\\eb75"}),f.unverified=new f("unverified",{fontCharacter:"\\eb76"}),f.verified=new f("verified",{fontCharacter:"\\eb77"}),f.versions=new f("versions",{fontCharacter:"\\eb78"}),f.vmActive=new f("vm-active",{fontCharacter:"\\eb79"}),f.vmOutline=new f("vm-outline",{fontCharacter:"\\eb7a"}),f.vmRunning=new f("vm-running",{fontCharacter:"\\eb7b"}),f.watch=new f("watch",{fontCharacter:"\\eb7c"}),f.whitespace=new f("whitespace",{fontCharacter:"\\eb7d"}),f.wholeWord=new f("whole-word",{fontCharacter:"\\eb7e"}),f.window=new f("window",{fontCharacter:"\\eb7f"}),f.wordWrap=new f("word-wrap",{fontCharacter:"\\eb80"}),f.zoomIn=new f("zoom-in",{fontCharacter:"\\eb81"}),f.zoomOut=new f("zoom-out",{fontCharacter:"\\eb82"}),f.listFilter=new f("list-filter",{fontCharacter:"\\eb83"}),f.listFlat=new f("list-flat",{fontCharacter:"\\eb84"}),f.listSelection=new f("list-selection",{fontCharacter:"\\eb85"}),f.selection=new f("selection",{fontCharacter:"\\eb85"}),f.listTree=new f("list-tree",{fontCharacter:"\\eb86"}),f.debugBreakpointFunctionUnverified=new f("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),f.debugBreakpointFunction=new f("debug-breakpoint-function",{fontCharacter:"\\eb88"}),f.debugBreakpointFunctionDisabled=new f("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),f.debugStackframeActive=new f("debug-stackframe-active",{fontCharacter:"\\eb89"}),f.debugStackframeDot=new f("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),f.debugStackframe=new f("debug-stackframe",{fontCharacter:"\\eb8b"}),f.debugStackframeFocused=new f("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),f.debugBreakpointUnsupported=new f("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),f.symbolString=new f("symbol-string",{fontCharacter:"\\eb8d"}),f.debugReverseContinue=new f("debug-reverse-continue",{fontCharacter:"\\eb8e"}),f.debugStepBack=new f("debug-step-back",{fontCharacter:"\\eb8f"}),f.debugRestartFrame=new f("debug-restart-frame",{fontCharacter:"\\eb90"}),f.callIncoming=new f("call-incoming",{fontCharacter:"\\eb92"}),f.callOutgoing=new f("call-outgoing",{fontCharacter:"\\eb93"}),f.menu=new f("menu",{fontCharacter:"\\eb94"}),f.expandAll=new f("expand-all",{fontCharacter:"\\eb95"}),f.feedback=new f("feedback",{fontCharacter:"\\eb96"}),f.groupByRefType=new f("group-by-ref-type",{fontCharacter:"\\eb97"}),f.ungroupByRefType=new f("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),f.account=new f("account",{fontCharacter:"\\eb99"}),f.bellDot=new f("bell-dot",{fontCharacter:"\\eb9a"}),f.debugConsole=new f("debug-console",{fontCharacter:"\\eb9b"}),f.library=new f("library",{fontCharacter:"\\eb9c"}),f.output=new f("output",{fontCharacter:"\\eb9d"}),f.runAll=new f("run-all",{fontCharacter:"\\eb9e"}),f.syncIgnored=new f("sync-ignored",{fontCharacter:"\\eb9f"}),f.pinned=new f("pinned",{fontCharacter:"\\eba0"}),f.githubInverted=new f("github-inverted",{fontCharacter:"\\eba1"}),f.debugAlt=new f("debug-alt",{fontCharacter:"\\eb91"}),f.serverProcess=new f("server-process",{fontCharacter:"\\eba2"}),f.serverEnvironment=new f("server-environment",{fontCharacter:"\\eba3"}),f.pass=new f("pass",{fontCharacter:"\\eba4"}),f.stopCircle=new f("stop-circle",{fontCharacter:"\\eba5"}),f.playCircle=new f("play-circle",{fontCharacter:"\\eba6"}),f.record=new f("record",{fontCharacter:"\\eba7"}),f.debugAltSmall=new f("debug-alt-small",{fontCharacter:"\\eba8"}),f.vmConnect=new f("vm-connect",{fontCharacter:"\\eba9"}),f.cloud=new f("cloud",{fontCharacter:"\\ebaa"}),f.merge=new f("merge",{fontCharacter:"\\ebab"}),f.exportIcon=new f("export",{fontCharacter:"\\ebac"}),f.graphLeft=new f("graph-left",{fontCharacter:"\\ebad"}),f.magnet=new f("magnet",{fontCharacter:"\\ebae"}),f.notebook=new f("notebook",{fontCharacter:"\\ebaf"}),f.redo=new f("redo",{fontCharacter:"\\ebb0"}),f.checkAll=new f("check-all",{fontCharacter:"\\ebb1"}),f.pinnedDirty=new f("pinned-dirty",{fontCharacter:"\\ebb2"}),f.passFilled=new f("pass-filled",{fontCharacter:"\\ebb3"}),f.circleLargeFilled=new f("circle-large-filled",{fontCharacter:"\\ebb4"}),f.circleLargeOutline=new f("circle-large-outline",{fontCharacter:"\\ebb5"}),f.combine=new f("combine",{fontCharacter:"\\ebb6"}),f.gather=new f("gather",{fontCharacter:"\\ebb6"}),f.table=new f("table",{fontCharacter:"\\ebb7"}),f.variableGroup=new f("variable-group",{fontCharacter:"\\ebb8"}),f.typeHierarchy=new f("type-hierarchy",{fontCharacter:"\\ebb9"}),f.typeHierarchySub=new f("type-hierarchy-sub",{fontCharacter:"\\ebba"}),f.typeHierarchySuper=new f("type-hierarchy-super",{fontCharacter:"\\ebbb"}),f.gitPullRequestCreate=new f("git-pull-request-create",{fontCharacter:"\\ebbc"}),f.runAbove=new f("run-above",{fontCharacter:"\\ebbd"}),f.runBelow=new f("run-below",{fontCharacter:"\\ebbe"}),f.notebookTemplate=new f("notebook-template",{fontCharacter:"\\ebbf"}),f.debugRerun=new f("debug-rerun",{fontCharacter:"\\ebc0"}),f.workspaceTrusted=new f("workspace-trusted",{fontCharacter:"\\ebc1"}),f.workspaceUntrusted=new f("workspace-untrusted",{fontCharacter:"\\ebc2"}),f.workspaceUnspecified=new f("workspace-unspecified",{fontCharacter:"\\ebc3"}),f.terminalCmd=new f("terminal-cmd",{fontCharacter:"\\ebc4"}),f.terminalDebian=new f("terminal-debian",{fontCharacter:"\\ebc5"}),f.terminalLinux=new f("terminal-linux",{fontCharacter:"\\ebc6"}),f.terminalPowershell=new f("terminal-powershell",{fontCharacter:"\\ebc7"}),f.terminalTmux=new f("terminal-tmux",{fontCharacter:"\\ebc8"}),f.terminalUbuntu=new f("terminal-ubuntu",{fontCharacter:"\\ebc9"}),f.terminalBash=new f("terminal-bash",{fontCharacter:"\\ebca"}),f.arrowSwap=new f("arrow-swap",{fontCharacter:"\\ebcb"}),f.copy=new f("copy",{fontCharacter:"\\ebcc"}),f.personAdd=new f("person-add",{fontCharacter:"\\ebcd"}),f.filterFilled=new f("filter-filled",{fontCharacter:"\\ebce"}),f.wand=new f("wand",{fontCharacter:"\\ebcf"}),f.debugLineByLine=new f("debug-line-by-line",{fontCharacter:"\\ebd0"}),f.inspect=new f("inspect",{fontCharacter:"\\ebd1"}),f.layers=new f("layers",{fontCharacter:"\\ebd2"}),f.layersDot=new f("layers-dot",{fontCharacter:"\\ebd3"}),f.layersActive=new f("layers-active",{fontCharacter:"\\ebd4"}),f.compass=new f("compass",{fontCharacter:"\\ebd5"}),f.compassDot=new f("compass-dot",{fontCharacter:"\\ebd6"}),f.compassActive=new f("compass-active",{fontCharacter:"\\ebd7"}),f.azure=new f("azure",{fontCharacter:"\\ebd8"}),f.issueDraft=new f("issue-draft",{fontCharacter:"\\ebd9"}),f.gitPullRequestClosed=new f("git-pull-request-closed",{fontCharacter:"\\ebda"}),f.gitPullRequestDraft=new f("git-pull-request-draft",{fontCharacter:"\\ebdb"}),f.debugAll=new f("debug-all",{fontCharacter:"\\ebdc"}),f.debugCoverage=new f("debug-coverage",{fontCharacter:"\\ebdd"}),f.runErrors=new f("run-errors",{fontCharacter:"\\ebde"}),f.folderLibrary=new f("folder-library",{fontCharacter:"\\ebdf"}),f.debugContinueSmall=new f("debug-continue-small",{fontCharacter:"\\ebe0"}),f.beakerStop=new f("beaker-stop",{fontCharacter:"\\ebe1"}),f.graphLine=new f("graph-line",{fontCharacter:"\\ebe2"}),f.graphScatter=new f("graph-scatter",{fontCharacter:"\\ebe3"}),f.pieChart=new f("pie-chart",{fontCharacter:"\\ebe4"}),f.bracket=new f("bracket",f.json.definition),f.bracketDot=new f("bracket-dot",{fontCharacter:"\\ebe5"}),f.bracketError=new f("bracket-error",{fontCharacter:"\\ebe6"}),f.lockSmall=new f("lock-small",{fontCharacter:"\\ebe7"}),f.azureDevops=new f("azure-devops",{fontCharacter:"\\ebe8"}),f.verifiedFilled=new f("verified-filled",{fontCharacter:"\\ebe9"}),f.newLine=new f("newline",{fontCharacter:"\\ebea"}),f.layout=new f("layout",{fontCharacter:"\\ebeb"}),f.layoutActivitybarLeft=new f("layout-activitybar-left",{fontCharacter:"\\ebec"}),f.layoutActivitybarRight=new f("layout-activitybar-right",{fontCharacter:"\\ebed"}),f.layoutPanelLeft=new f("layout-panel-left",{fontCharacter:"\\ebee"}),f.layoutPanelCenter=new f("layout-panel-center",{fontCharacter:"\\ebef"}),f.layoutPanelJustify=new f("layout-panel-justify",{fontCharacter:"\\ebf0"}),f.layoutPanelRight=new f("layout-panel-right",{fontCharacter:"\\ebf1"}),f.layoutPanel=new f("layout-panel",{fontCharacter:"\\ebf2"}),f.layoutSidebarLeft=new f("layout-sidebar-left",{fontCharacter:"\\ebf3"}),f.layoutSidebarRight=new f("layout-sidebar-right",{fontCharacter:"\\ebf4"}),f.layoutStatusbar=new f("layout-statusbar",{fontCharacter:"\\ebf5"}),f.layoutMenubar=new f("layout-menubar",{fontCharacter:"\\ebf6"}),f.layoutCentered=new f("layout-centered",{fontCharacter:"\\ebf7"}),f.layoutSidebarRightOff=new f("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),f.layoutPanelOff=new f("layout-panel-off",{fontCharacter:"\\ec01"}),f.layoutSidebarLeftOff=new f("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),f.target=new f("target",{fontCharacter:"\\ebf8"}),f.indent=new f("indent",{fontCharacter:"\\ebf9"}),f.recordSmall=new f("record-small",{fontCharacter:"\\ebfa"}),f.errorSmall=new f("error-small",{fontCharacter:"\\ebfb"}),f.arrowCircleDown=new f("arrow-circle-down",{fontCharacter:"\\ebfc"}),f.arrowCircleLeft=new f("arrow-circle-left",{fontCharacter:"\\ebfd"}),f.arrowCircleRight=new f("arrow-circle-right",{fontCharacter:"\\ebfe"}),f.arrowCircleUp=new f("arrow-circle-up",{fontCharacter:"\\ebff"}),f.dialogError=new f("dialog-error",f.error.definition),f.dialogWarning=new f("dialog-warning",f.warning.definition),f.dialogInfo=new f("dialog-info",f.info.definition),f.dialogClose=new f("dialog-close",f.close.definition),f.treeItemExpanded=new f("tree-item-expanded",f.chevronDown.definition),f.treeFilterOnTypeOn=new f("tree-filter-on-type-on",f.listFilter.definition),f.treeFilterOnTypeOff=new f("tree-filter-on-type-off",f.listSelection.definition),f.treeFilterClear=new f("tree-filter-clear",f.close.definition),f.treeItemLoading=new f("tree-item-loading",f.loading.definition),f.menuSelection=new f("menu-selection",f.check.definition),f.menuSubmenu=new f("menu-submenu",f.chevronRight.definition),f.menuBarMore=new f("menubar-more",f.more.definition),f.scrollbarButtonLeft=new f("scrollbar-button-left",f.triangleLeft.definition),f.scrollbarButtonRight=new f("scrollbar-button-right",f.triangleRight.definition),f.scrollbarButtonUp=new f("scrollbar-button-up",f.triangleUp.definition),f.scrollbarButtonDown=new f("scrollbar-button-down",f.triangleDown.definition),f.toolBarMore=new f("toolbar-more",f.more.definition),f.quickInputBack=new f("quick-input-back",f.arrowLeft.definition);var N;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function b(h){if(h instanceof f)return["codicon","codicon-"+h.id];const i=L.exec(h.id);if(!i)return b(f.error);let[,n,t]=i;const r=["codicon","codicon-"+n];return t&&r.push("codicon-modifier-"+t.substr(1)),r}D.asClassNameArray=b;function C(h){return b(h).join(" ")}D.asClassName=C;function u(h){return"."+b(h).join(".")}D.asCSSSelector=u})(N=e.CSSIcon||(e.CSSIcon={}))}),define(oe[219],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const y=Object.prototype.hasOwnProperty;function f(D,L){for(let b in D)if(y.call(D,b)&&L({key:b,value:D[b]},function(){delete D[b]})===!1)return}e.forEach=f;class N{constructor(){this.map=new Map}add(L,b){let C=this.map.get(L);C||(C=new Set,this.map.set(L,C)),C.add(b)}delete(L,b){const C=this.map.get(L);!C||(C.delete(b),C.size===0&&this.map.delete(L))}forEach(L,b){const C=this.map.get(L);!C||C.forEach(b)}}e.SetMap=N}),define(oe[30],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function y(b,C){const u=Math.pow(10,C);return Math.round(b*u)/u}class f{constructor(C,u,h,i=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,u))|0,this.b=Math.min(255,Math.max(0,h))|0,this.a=y(Math.max(Math.min(1,i),0),3)}static equals(C,u){return C.r===u.r&&C.g===u.g&&C.b===u.b&&C.a===u.a}}e.RGBA=f;class N{constructor(C,u,h,i){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=y(Math.max(Math.min(1,u),0),3),this.l=y(Math.max(Math.min(1,h),0),3),this.a=y(Math.max(Math.min(1,i),0),3)}static equals(C,u){return C.h===u.h&&C.s===u.s&&C.l===u.l&&C.a===u.a}static fromRGBA(C){const u=C.r/255,h=C.g/255,i=C.b/255,n=C.a,t=Math.max(u,h,i),r=Math.min(u,h,i);let d=0,o=0;const a=(r+t)/2,s=t-r;if(s>0){switch(o=Math.min(a<=.5?s/(2*a):s/(2-2*a),1),t){case u:d=(h-i)/s+(h<i?6:0);break;case h:d=(i-u)/s+2;break;case i:d=(u-h)/s+4;break}d*=60,d=Math.round(d)}return new N(d,o,a,n)}static _hue2rgb(C,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?C+(u-C)*6*h:h<1/2?u:h<2/3?C+(u-C)*(2/3-h)*6:C}static toRGBA(C){const u=C.h/360,{s:h,l:i,a:n}=C;let t,r,d;if(h===0)t=r=d=i;else{const o=i<.5?i*(1+h):i+h-i*h,a=2*i-o;t=N._hue2rgb(a,o,u+1/3),r=N._hue2rgb(a,o,u),d=N._hue2rgb(a,o,u-1/3)}return new f(Math.round(t*255),Math.round(r*255),Math.round(d*255),n)}}e.HSLA=N;class D{constructor(C,u,h,i){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=y(Math.max(Math.min(1,u),0),3),this.v=y(Math.max(Math.min(1,h),0),3),this.a=y(Math.max(Math.min(1,i),0),3)}static equals(C,u){return C.h===u.h&&C.s===u.s&&C.v===u.v&&C.a===u.a}static fromRGBA(C){const u=C.r/255,h=C.g/255,i=C.b/255,n=Math.max(u,h,i),t=Math.min(u,h,i),r=n-t,d=n===0?0:r/n;let o;return r===0?o=0:n===u?o=((h-i)/r%6+6)%6:n===h?o=(i-u)/r+2:o=(u-h)/r+4,new D(Math.round(o*60),d,n,C.a)}static toRGBA(C){const{h:u,s:h,v:i,a:n}=C,t=i*h,r=t*(1-Math.abs(u/60%2-1)),d=i-t;let[o,a,s]=[0,0,0];return u<60?(o=t,a=r):u<120?(o=r,a=t):u<180?(a=t,s=r):u<240?(a=r,s=t):u<300?(o=r,s=t):u<=360&&(o=t,s=r),o=Math.round((o+d)*255),a=Math.round((a+d)*255),s=Math.round((s+d)*255),new f(o,a,s,n)}}e.HSVA=D;class L{constructor(C){if(C)if(C instanceof f)this.rgba=C;else if(C instanceof N)this._hsla=C,this.rgba=N.toRGBA(C);else if(C instanceof D)this._hsva=C,this.rgba=D.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(C){return L.Format.CSS.parseHex(C)||L.red}get hsla(){return this._hsla?this._hsla:N.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}equals(C){return!!C&&f.equals(this.rgba,C.rgba)&&N.equals(this.hsla,C.hsla)&&D.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=L._relativeLuminanceForComponent(this.rgba.r),u=L._relativeLuminanceForComponent(this.rgba.g),h=L._relativeLuminanceForComponent(this.rgba.b),i=.2126*C+.7152*u+.0722*h;return y(i,4)}static _relativeLuminanceForComponent(C){const u=C/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const u=this.getRelativeLuminance(),h=C.getRelativeLuminance();return u>h}isDarkerThan(C){const u=this.getRelativeLuminance(),h=C.getRelativeLuminance();return u<h}lighten(C){return new L(new N(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new L(new N(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:u,g:h,b:i,a:n}=this.rgba;return new L(new f(u,h,i,n*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new f(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(C,u,h){if(C.isLighterThan(u))return C;h=h||.5;const i=C.getRelativeLuminance(),n=u.getRelativeLuminance();return h=h*(n-i)/n,C.lighten(h)}static getDarkerColor(C,u,h){if(C.isDarkerThan(u))return C;h=h||.5;const i=C.getRelativeLuminance(),n=u.getRelativeLuminance();return h=h*(i-n)/i,C.darken(h)}}e.Color=L,L.white=new L(new f(255,255,255,1)),L.black=new L(new f(0,0,0,1)),L.red=new L(new f(255,0,0,1)),L.blue=new L(new f(0,0,255,1)),L.green=new L(new f(0,255,0,1)),L.cyan=new L(new f(0,255,255,1)),L.lightgrey=new L(new f(211,211,211,1)),L.transparent=new L(new f(0,0,0,0)),function(b){let C;(function(u){let h;(function(i){function n(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:b.Format.CSS.formatRGBA(m)}i.formatRGB=n;function t(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}i.formatRGBA=t;function r(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(m)}i.formatHSL=r;function d(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}i.formatHSLA=d;function o(m){const S=m.toString(16);return S.length!==2?"0"+S:S}function a(m){return`#${o(m.rgba.r)}${o(m.rgba.g)}${o(m.rgba.b)}`}i.formatHex=a;function s(m,S=!1){return S&&m.rgba.a===1?b.Format.CSS.formatHex(m):`#${o(m.rgba.r)}${o(m.rgba.g)}${o(m.rgba.b)}${o(Math.round(m.rgba.a*255))}`}i.formatHexA=s;function l(m){return m.isOpaque()?b.Format.CSS.formatHex(m):b.Format.CSS.formatRGBA(m)}i.format=l;function c(m){const S=m.length;if(S===0||m.charCodeAt(0)!==35)return null;if(S===7){const p=16*g(m.charCodeAt(1))+g(m.charCodeAt(2)),v=16*g(m.charCodeAt(3))+g(m.charCodeAt(4)),_=16*g(m.charCodeAt(5))+g(m.charCodeAt(6));return new b(new f(p,v,_,1))}if(S===9){const p=16*g(m.charCodeAt(1))+g(m.charCodeAt(2)),v=16*g(m.charCodeAt(3))+g(m.charCodeAt(4)),_=16*g(m.charCodeAt(5))+g(m.charCodeAt(6)),w=16*g(m.charCodeAt(7))+g(m.charCodeAt(8));return new b(new f(p,v,_,w/255))}if(S===4){const p=g(m.charCodeAt(1)),v=g(m.charCodeAt(2)),_=g(m.charCodeAt(3));return new b(new f(16*p+p,16*v+v,16*_+_))}if(S===5){const p=g(m.charCodeAt(1)),v=g(m.charCodeAt(2)),_=g(m.charCodeAt(3)),w=g(m.charCodeAt(4));return new b(new f(16*p+p,16*v+v,16*_+_,(16*w+w)/255))}return null}i.parseHex=c;function g(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(h=u.CSS||(u.CSS={}))})(C=b.Format||(b.Format={}))}(L=e.Color||(e.Color={}))}),define(oe[99],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function y(f,N,D){let L=null,b=null;if(typeof D.value=="function"?(L="value",b=D.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(L="get",b=D.get),!b)throw new Error("not supported");const C=`$memoize$${N}`;D[L]=function(...u){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:b.apply(this,u)}),this[C]}}e.memoize=y}),define(oe[320],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class y{constructor(N,D,L,b){this.originalStart=N,this.originalLength=D,this.modifiedStart=L,this.modifiedLength=b}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=y}),define(oe[13],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(d){setTimeout(()=>{throw d.stack?new Error(d.message+`

`+d.stack):d},0)}}emit(d){this.listeners.forEach(o=>{o(d)})}onUnexpectedError(d){this.unexpectedErrorHandler(d),this.emit(d)}onUnexpectedExternalError(d){this.unexpectedErrorHandler(d)}}e.ErrorHandler=y,e.errorHandler=new y;function f(r){b(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=f;function N(r){b(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=N;function D(r){if(r instanceof Error){let{name:d,message:o}=r;const a=r.stacktrace||r.stack;return{$isError:!0,name:d,message:o,stack:a}}return r}e.transformErrorForSerialization=D;const L="Canceled";function b(r){return r instanceof C?!0:r instanceof Error&&r.name===L&&r.message===L}e.isCancellationError=b;class C extends Error{constructor(){super(L);this.name=this.message}}e.CancellationError=C;function u(){const r=new Error(L);return r.name=r.message,r}e.canceled=u;function h(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=h;function i(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=i;class n extends Error{constructor(d){super("NotSupported");d&&(this.message=d)}}e.NotSupportedError=n;class t extends Error{constructor(d){super(d);Object.setPrototypeOf(this,t.prototype);debugger}}e.BugIndicatingError=t}),define(oe[91],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function y(f){const N=this;let D=!1,L;return function(){return D||(D=!0,L=f.apply(N,arguments)),L}}e.once=y}),define(oe[136],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class y{constructor(N){this._prefix=N,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=y,e.defaultGenerator=new y("id#")}),define(oe[56],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var y;(function(f){function N(S){return S&&typeof S=="object"&&typeof S[Symbol.iterator]=="function"}f.is=N;const D=Object.freeze([]);function L(){return D}f.empty=L;function*b(S){yield S}f.single=b;function C(S){return S||D}f.from=C;function u(S){return!S||S[Symbol.iterator]().next().done===!0}f.isEmpty=u;function h(S){return S[Symbol.iterator]().next().value}f.first=h;function i(S,p){for(const v of S)if(p(v))return!0;return!1}f.some=i;function n(S,p){for(const v of S)if(p(v))return v}f.find=n;function*t(S,p){for(const v of S)p(v)&&(yield v)}f.filter=t;function*r(S,p){let v=0;for(const _ of S)yield p(_,v++)}f.map=r;function*d(...S){for(const p of S)for(const v of p)yield v}f.concat=d;function*o(S){for(const p of S)for(const v of p)yield v}f.concatNested=o;function a(S,p,v){let _=v;for(const w of S)_=p(_,w);return _}f.reduce=a;function s(S,p){let v=0;for(const _ of S)p(_,v++)}f.forEach=s;function*l(S,p,v=S.length){for(p<0&&(p+=S.length),v<0?v+=S.length:v>S.length&&(v=S.length);p<v;p++)yield S[p]}f.slice=l;function c(S,p=Number.POSITIVE_INFINITY){const v=[];if(p===0)return[v,S];const _=S[Symbol.iterator]();for(let w=0;w<p;w++){const E=_.next();if(E.done)return[v,f.empty()];v.push(E.value)}return[v,{[Symbol.iterator](){return _}}]}f.consume=c;function g(S){return c(S)[0]}f.collect=g;function m(S,p,v=(_,w)=>_===w){const _=S[Symbol.iterator](),w=p[Symbol.iterator]();for(;;){const E=_.next(),I=w.next();if(E.done!==I.done)return!1;if(E.done)return!0;if(!v(E.value,I.value))return!1}}f.equals=m})(y=e.Iterable||(e.Iterable={}))}),define(oe[59],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class y{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,t){this._keyCodeToStr[n]=t,this._strToKeyCode[t.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const f=new y,N=new y,D=new y;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const L=[],b=Object.create(null),C=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let i=0;i<=193;i++)e.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(let i=0;i<=127;i++)e.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;(function(){const i="",n=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]];let t=[],r=[];for(const d of n){const[o,a,s,l,c,g,m,S,p,v]=d;if(r[s]||(r[s]=!0,L[s]=l,b[l]=s,C[l.toLowerCase()]=s,a&&(e.IMMUTABLE_CODE_TO_KEY_CODE[s]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[c]=s))),!t[c]){if(t[c]=!0,!g)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);f.define(c,g),N.define(c,p||g),D.define(c,v||p||g)}m&&(e.EVENT_KEY_CODE_MAP[m]=c),S&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[S]=c)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var u;(function(i){function n(s){return f.keyCodeToStr(s)}i.toString=n;function t(s){return f.strToKeyCode(s)}i.fromString=t;function r(s){return N.keyCodeToStr(s)}i.toUserSettingsUS=r;function d(s){return D.keyCodeToStr(s)}i.toUserSettingsGeneral=d;function o(s){return N.strToKeyCode(s)||D.strToKeyCode(s)}i.fromUserSettings=o;function a(s){if(s>=93&&s<=108)return null;switch(s){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return f.keyCodeToStr(s)}i.toElectronAccelerator=a})(u=e.KeyCodeUtils||(e.KeyCodeUtils={}));function h(i,n){const t=(n&65535)<<16>>>0;return(i|t)>>>0}e.KeyChord=h}),define(oe[100],se([1,0,13]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function f(h,i){if(h===0)return null;const n=(h&65535)>>>0,t=(h&4294901760)>>>16;return t!==0?new L([N(n,i),N(t,i)]):new L([N(n,i)])}e.createKeybinding=f;function N(h,i){const n=!!(h&2048),t=!!(h&256),r=i===2?t:n,d=!!(h&1024),o=!!(h&512),a=i===2?n:t,s=h&255;return new D(r,d,o,a,s)}e.createSimpleKeybinding=N;class D{constructor(i,n,t,r,d){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=r,this.keyCode=d}equals(i){return this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=D;class L{constructor(i){if(i.length===0)throw(0,y.illegalArgument)("parts");this.parts=i}}e.ChordKeybinding=L;class b{constructor(i,n,t,r,d){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=r,this.scanCode=d}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=b;class C{constructor(i,n,t,r,d,o){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=r,this.keyLabel=d,this.keyAriaLabel=o}}e.ResolvedKeybindingPart=C;class u{}e.ResolvedKeybinding=u}),define(oe[137],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class y{constructor(N){this.executor=N,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(N){this._error=N}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=y}),define(oe[2],se([1,0,91,56]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const N=!1;let D=null;function L(S){D=S}if(e.setDisposableTracker=L,N){const S="__is_disposable_tracked__";L(new class{trackDisposable(p){const v=new Error("Potentially leaked disposable").stack;setTimeout(()=>{p[S]||console.log(v)},3e3)}setParent(p,v){if(p&&p!==s.None)try{p[S]=!0}catch{}}markAsDisposed(p){if(p&&p!==s.None)try{p[S]=!0}catch{}}markAsSingleton(p){}})}function b(S){return D==null||D.trackDisposable(S),S}function C(S){D==null||D.markAsDisposed(S)}function u(S,p){D==null||D.setParent(S,p)}function h(S,p){if(!!D)for(const v of S)D.setParent(v,p)}function i(S){return D==null||D.markAsSingleton(S),S}e.markAsSingleton=i;class n extends Error{constructor(p){super(`Encountered errors while disposing of store. Errors: [${p.join(", ")}]`);this.errors=p}}e.MultiDisposeError=n;function t(S){return typeof S.dispose=="function"&&S.dispose.length===0}e.isDisposable=t;function r(S){if(f.Iterable.is(S)){let p=[];for(const v of S)if(v)try{v.dispose()}catch(_){p.push(_)}if(p.length===1)throw p[0];if(p.length>1)throw new n(p);return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}e.dispose=r;function d(...S){const p=o(()=>r(S));return h(S,p),p}e.combinedDisposable=d;function o(S){const p=b({dispose:(0,y.once)(()=>{C(p),S()})});return p}e.toDisposable=o;class a{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(C(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{r(this._toDispose.values())}finally{this._toDispose.clear()}}add(p){if(!p)return p;if(p===this)throw new Error("Cannot register a disposable on itself!");return u(p,this),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(p),p}}e.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1;class s{constructor(){this._store=new a,b(this),u(this._store,this)}dispose(){C(this),this._store.dispose()}_register(p){if(p===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(p)}}e.Disposable=s,s.None=Object.freeze({dispose(){}});class l{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(p){var v;this._isDisposed||p===this._value||((v=this._value)===null||v===void 0||v.dispose(),p&&u(p,this),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,C(this),(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}clearAndLeak(){const p=this._value;return this._value=void 0,p&&u(p,null),p}}e.MutableDisposable=l;class c{constructor(p){this._disposable=p,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class g{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,b(this)}set(p){let v=p;return this.unset=()=>v=void 0,this.isset=()=>v!==void 0,this.dispose=()=>{v&&(v(),v=void 0,C(this))},this}}e.SafeDisposable=g;class m{constructor(p){this.object=p}dispose(){}}e.ImmortalReference=m}),define(oe[84],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class y{constructor(D){this.element=D,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class f{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let D=this._first;for(;D!==y.Undefined;){const L=D.next;D.prev=y.Undefined,D.next=y.Undefined,D=L}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,L){const b=new y(D);if(this._first===y.Undefined)this._first=b,this._last=b;else if(L){const u=this._last;this._last=b,b.prev=u,u.next=b}else{const u=this._first;this._first=b,b.next=u,u.prev=b}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(b))}}shift(){if(this._first!==y.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==y.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==y.Undefined&&D.next!==y.Undefined){const L=D.prev;L.next=D.next,D.next.prev=L}else D.prev===y.Undefined&&D.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):D.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):D.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==y.Undefined;)yield D.element,D=D.next}}e.LinkedList=f}),function(K,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(oe[321],se([0]),e):(K=typeof globalThis!="undefined"?globalThis:K||self,e(K.marked={}))}(this,function(K){"use strict";function e(Z,q){for(var $=0;$<q.length;$++){var H=q[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Z,H.key,H)}}function y(Z,q,$){return q&&e(Z.prototype,q),$&&e(Z,$),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function f(Z,q){if(!!Z){if(typeof Z=="string")return N(Z,q);var $=Object.prototype.toString.call(Z).slice(8,-1);if($==="Object"&&Z.constructor&&($=Z.constructor.name),$==="Map"||$==="Set")return Array.from(Z);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return N(Z,q)}}function N(Z,q){(q==null||q>Z.length)&&(q=Z.length);for(var $=0,H=new Array(q);$<q;$++)H[$]=Z[$];return H}function D(Z,q){var $=typeof Symbol!="undefined"&&Z[Symbol.iterator]||Z["@@iterator"];if($)return($=$.call(Z)).next.bind($);if(Array.isArray(Z)||($=f(Z))||q&&Z&&typeof Z.length=="number"){$&&(Z=$);var H=0;return function(){return H>=Z.length?{done:!0}:{done:!1,value:Z[H++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}K.defaults=L();function b(Z){K.defaults=Z}var C=/[&<>"']/,u=/[&<>"']/g,h=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function(q){return n[q]};function r(Z,q){if(q){if(C.test(Z))return Z.replace(u,t)}else if(h.test(Z))return Z.replace(i,t);return Z}var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function o(Z){return Z.replace(d,function(q,$){return $=$.toLowerCase(),$==="colon"?":":$.charAt(0)==="#"?$.charAt(1)==="x"?String.fromCharCode(parseInt($.substring(2),16)):String.fromCharCode(+$.substring(1)):""})}var a=/(^|[^\[])\^/g;function s(Z,q){Z=Z.source||Z,q=q||"";var $={replace:function(ee,te){return te=te.source||te,te=te.replace(a,"$1"),Z=Z.replace(ee,te),$},getRegex:function(){return new RegExp(Z,q)}};return $}var l=/[^\w:]/g,c=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(Z,q,$){if(Z){var H;try{H=decodeURIComponent(o($)).replace(l,"").toLowerCase()}catch{return null}if(H.indexOf("javascript:")===0||H.indexOf("vbscript:")===0||H.indexOf("data:")===0)return null}q&&!c.test($)&&($=_(q,$));try{$=encodeURI($).replace(/%25/g,"%")}catch{return null}return $}var m={},S=/^[^:]+:\/*[^/]*$/,p=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(Z,q){m[" "+Z]||(S.test(Z)?m[" "+Z]=Z+"/":m[" "+Z]=T(Z,"/",!0)),Z=m[" "+Z];var $=Z.indexOf(":")===-1;return q.substring(0,2)==="//"?$?q:Z.replace(p,"$1")+q:q.charAt(0)==="/"?$?q:Z.replace(v,"$1")+q:Z+q}var w={exec:function(){}};function E(Z){for(var q=1,$,H;q<arguments.length;q++){$=arguments[q];for(H in $)Object.prototype.hasOwnProperty.call($,H)&&(Z[H]=$[H])}return Z}function I(Z,q){var $=Z.replace(/\|/g,function(te,de,he){for(var pe=!1,ve=de;--ve>=0&&he[ve]==="\\";)pe=!pe;return pe?"|":" |"}),H=$.split(/ \|/),ee=0;if(H[0].trim()||H.shift(),H[H.length-1].trim()||H.pop(),H.length>q)H.splice(q);else for(;H.length<q;)H.push("");for(;ee<H.length;ee++)H[ee]=H[ee].trim().replace(/\\\|/g,"|");return H}function T(Z,q,$){var H=Z.length;if(H===0)return"";for(var ee=0;ee<H;){var te=Z.charAt(H-ee-1);if(te===q&&!$)ee++;else if(te!==q&&$)ee++;else break}return Z.substr(0,H-ee)}function R(Z,q){if(Z.indexOf(q[1])===-1)return-1;for(var $=Z.length,H=0,ee=0;ee<$;ee++)if(Z[ee]==="\\")ee++;else if(Z[ee]===q[0])H++;else if(Z[ee]===q[1]&&(H--,H<0))return ee;return-1}function B(Z){Z&&Z.sanitize&&!Z.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(Z,q){if(q<1)return"";for(var $="";q>1;)q&1&&($+=Z),q>>=1,Z+=Z;return $+Z}function k(Z,q,$,H){var ee=q.href,te=q.title?r(q.title):null,de=Z[1].replace(/\\([\[\]])/g,"$1");if(Z[0].charAt(0)!=="!"){H.state.inLink=!0;var he={type:"link",raw:$,href:ee,title:te,text:de,tokens:H.inlineTokens(de,[])};return H.state.inLink=!1,he}else return{type:"image",raw:$,href:ee,title:te,text:r(de)}}function A(Z,q){var $=Z.match(/^(\s+)(?:```)/);if($===null)return q;var H=$[1];return q.split(`
`).map(function(ee){var te=ee.match(/^\s+/);if(te===null)return ee;var de=te[0];return de.length>=H.length?ee.slice(H.length):ee}).join(`
`)}var F=function(){function Z($){this.options=$||K.defaults}var q=Z.prototype;return q.space=function(H){var ee=this.rules.block.newline.exec(H);if(ee&&ee[0].length>0)return{type:"space",raw:ee[0]}},q.code=function(H){var ee=this.rules.block.code.exec(H);if(ee){var te=ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ee[0],codeBlockStyle:"indented",text:this.options.pedantic?te:T(te,`
`)}}},q.fences=function(H){var ee=this.rules.block.fences.exec(H);if(ee){var te=ee[0],de=A(te,ee[3]||"");return{type:"code",raw:te,lang:ee[2]?ee[2].trim():ee[2],text:de}}},q.heading=function(H){var ee=this.rules.block.heading.exec(H);if(ee){var te=ee[2].trim();if(/#$/.test(te)){var de=T(te,"#");(this.options.pedantic||!de||/ $/.test(de))&&(te=de.trim())}var he={type:"heading",raw:ee[0],depth:ee[1].length,text:te,tokens:[]};return this.lexer.inline(he.text,he.tokens),he}},q.hr=function(H){var ee=this.rules.block.hr.exec(H);if(ee)return{type:"hr",raw:ee[0]}},q.blockquote=function(H){var ee=this.rules.block.blockquote.exec(H);if(ee){var te=ee[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ee[0],tokens:this.lexer.blockTokens(te,[]),text:te}}},q.list=function(H){var ee=this.rules.block.list.exec(H);if(ee){var te,de,he,pe,ve,ue,Ce,me,be,ce,ge,we,ye=ee[1].trim(),Te=ye.length>1,ke={type:"list",raw:"",ordered:Te,start:Te?+ye.slice(0,-1):"",loose:!1,items:[]};ye=Te?"\\d{1,9}\\"+ye.slice(-1):"\\"+ye,this.options.pedantic&&(ye=Te?ye:"[*+-]");for(var Me=new RegExp("^( {0,3}"+ye+")((?: [^\\n]*)?(?:\\n|$))");H&&(we=!1,!(!(ee=Me.exec(H))||this.rules.block.hr.test(H)));){if(te=ee[0],H=H.substring(te.length),me=ee[2].split(`
`,1)[0],be=H.split(`
`,1)[0],this.options.pedantic?(pe=2,ge=me.trimLeft()):(pe=ee[2].search(/[^ ]/),pe=pe>4?1:pe,ge=me.slice(pe),pe+=ee[1].length),ue=!1,!me&&/^ *$/.test(be)&&(te+=be+`
`,H=H.substring(be.length+1),we=!0),!we)for(var _e=new RegExp("^ {0,"+Math.min(3,pe-1)+"}(?:[*+-]|\\d{1,9}[.)])");H&&(ce=H.split(`
`,1)[0],me=ce,this.options.pedantic&&(me=me.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!_e.test(me));){if(me.search(/[^ ]/)>=pe||!me.trim())ge+=`
`+me.slice(pe);else if(!ue)ge+=`
`+me;else break;!ue&&!me.trim()&&(ue=!0),te+=ce+`
`,H=H.substring(ce.length+1)}ke.loose||(Ce?ke.loose=!0:/\n *\n *$/.test(te)&&(Ce=!0)),this.options.gfm&&(de=/^\[[ xX]\] /.exec(ge),de&&(he=de[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:te,task:!!de,checked:he,loose:!1,text:ge}),ke.raw+=te}ke.items[ke.items.length-1].raw=te.trimRight(),ke.items[ke.items.length-1].text=ge.trimRight(),ke.raw=ke.raw.trimRight();var Se=ke.items.length;for(ve=0;ve<Se;ve++){this.lexer.state.top=!1,ke.items[ve].tokens=this.lexer.blockTokens(ke.items[ve].text,[]);var Ee=ke.items[ve].tokens.filter(function(Pe){return Pe.type==="space"}),Ae=Ee.every(function(Pe){for(var xe=Pe.raw.split(""),Ue=0,He=D(xe),Ke;!(Ke=He()).done;){var et=Ke.value;if(et===`
`&&(Ue+=1),Ue>1)return!0}return!1});!ke.loose&&Ee.length&&Ae&&(ke.loose=!0,ke.items[ve].loose=!0)}return ke}},q.html=function(H){var ee=this.rules.block.html.exec(H);if(ee){var te={type:"html",raw:ee[0],pre:!this.options.sanitizer&&(ee[1]==="pre"||ee[1]==="script"||ee[1]==="style"),text:ee[0]};return this.options.sanitize&&(te.type="paragraph",te.text=this.options.sanitizer?this.options.sanitizer(ee[0]):r(ee[0]),te.tokens=[],this.lexer.inline(te.text,te.tokens)),te}},q.def=function(H){var ee=this.rules.block.def.exec(H);if(ee){ee[3]&&(ee[3]=ee[3].substring(1,ee[3].length-1));var te=ee[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:te,raw:ee[0],href:ee[2],title:ee[3]}}},q.table=function(H){var ee=this.rules.block.table.exec(H);if(ee){var te={type:"table",header:I(ee[1]).map(function(Ce){return{text:Ce}}),align:ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ee[3]?ee[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(te.header.length===te.align.length){te.raw=ee[0];var de=te.align.length,he,pe,ve,ue;for(he=0;he<de;he++)/^ *-+: *$/.test(te.align[he])?te.align[he]="right":/^ *:-+: *$/.test(te.align[he])?te.align[he]="center":/^ *:-+ *$/.test(te.align[he])?te.align[he]="left":te.align[he]=null;for(de=te.rows.length,he=0;he<de;he++)te.rows[he]=I(te.rows[he],te.header.length).map(function(Ce){return{text:Ce}});for(de=te.header.length,pe=0;pe<de;pe++)te.header[pe].tokens=[],this.lexer.inlineTokens(te.header[pe].text,te.header[pe].tokens);for(de=te.rows.length,pe=0;pe<de;pe++)for(ue=te.rows[pe],ve=0;ve<ue.length;ve++)ue[ve].tokens=[],this.lexer.inlineTokens(ue[ve].text,ue[ve].tokens);return te}}},q.lheading=function(H){var ee=this.rules.block.lheading.exec(H);if(ee){var te={type:"heading",raw:ee[0],depth:ee[2].charAt(0)==="="?1:2,text:ee[1],tokens:[]};return this.lexer.inline(te.text,te.tokens),te}},q.paragraph=function(H){var ee=this.rules.block.paragraph.exec(H);if(ee){var te={type:"paragraph",raw:ee[0],text:ee[1].charAt(ee[1].length-1)===`
`?ee[1].slice(0,-1):ee[1],tokens:[]};return this.lexer.inline(te.text,te.tokens),te}},q.text=function(H){var ee=this.rules.block.text.exec(H);if(ee){var te={type:"text",raw:ee[0],text:ee[0],tokens:[]};return this.lexer.inline(te.text,te.tokens),te}},q.escape=function(H){var ee=this.rules.inline.escape.exec(H);if(ee)return{type:"escape",raw:ee[0],text:r(ee[1])}},q.tag=function(H){var ee=this.rules.inline.tag.exec(H);if(ee)return!this.lexer.state.inLink&&/^<a /i.test(ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):r(ee[0]):ee[0]}},q.link=function(H){var ee=this.rules.inline.link.exec(H);if(ee){var te=ee[2].trim();if(!this.options.pedantic&&/^</.test(te)){if(!/>$/.test(te))return;var de=T(te.slice(0,-1),"\\");if((te.length-de.length)%2==0)return}else{var he=R(ee[2],"()");if(he>-1){var pe=ee[0].indexOf("!")===0?5:4,ve=pe+ee[1].length+he;ee[2]=ee[2].substring(0,he),ee[0]=ee[0].substring(0,ve).trim(),ee[3]=""}}var ue=ee[2],Ce="";if(this.options.pedantic){var me=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ue);me&&(ue=me[1],Ce=me[3])}else Ce=ee[3]?ee[3].slice(1,-1):"";return ue=ue.trim(),/^</.test(ue)&&(this.options.pedantic&&!/>$/.test(te)?ue=ue.slice(1):ue=ue.slice(1,-1)),k(ee,{href:ue&&ue.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},ee[0],this.lexer)}},q.reflink=function(H,ee){var te;if((te=this.rules.inline.reflink.exec(H))||(te=this.rules.inline.nolink.exec(H))){var de=(te[2]||te[1]).replace(/\s+/g," ");if(de=ee[de.toLowerCase()],!de||!de.href){var he=te[0].charAt(0);return{type:"text",raw:he,text:he}}return k(te,de,te[0],this.lexer)}},q.emStrong=function(H,ee,te){te===void 0&&(te="");var de=this.rules.inline.emStrong.lDelim.exec(H);if(!!de&&!(de[3]&&te.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var he=de[1]||de[2]||"";if(!he||he&&(te===""||this.rules.inline.punctuation.exec(te))){var pe=de[0].length-1,ve,ue,Ce=pe,me=0,be=de[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(be.lastIndex=0,ee=ee.slice(-1*H.length+pe);(de=be.exec(ee))!=null;)if(ve=de[1]||de[2]||de[3]||de[4]||de[5]||de[6],!!ve){if(ue=ve.length,de[3]||de[4]){Ce+=ue;continue}else if((de[5]||de[6])&&pe%3&&!((pe+ue)%3)){me+=ue;continue}if(Ce-=ue,!(Ce>0)){if(ue=Math.min(ue,ue+Ce+me),Math.min(pe,ue)%2){var ce=H.slice(1,pe+de.index+ue);return{type:"em",raw:H.slice(0,pe+de.index+ue+1),text:ce,tokens:this.lexer.inlineTokens(ce,[])}}var ge=H.slice(2,pe+de.index+ue-1);return{type:"strong",raw:H.slice(0,pe+de.index+ue+1),text:ge,tokens:this.lexer.inlineTokens(ge,[])}}}}}},q.codespan=function(H){var ee=this.rules.inline.code.exec(H);if(ee){var te=ee[2].replace(/\n/g," "),de=/[^ ]/.test(te),he=/^ /.test(te)&&/ $/.test(te);return de&&he&&(te=te.substring(1,te.length-1)),te=r(te,!0),{type:"codespan",raw:ee[0],text:te}}},q.br=function(H){var ee=this.rules.inline.br.exec(H);if(ee)return{type:"br",raw:ee[0]}},q.del=function(H){var ee=this.rules.inline.del.exec(H);if(ee)return{type:"del",raw:ee[0],text:ee[2],tokens:this.lexer.inlineTokens(ee[2],[])}},q.autolink=function(H,ee){var te=this.rules.inline.autolink.exec(H);if(te){var de,he;return te[2]==="@"?(de=r(this.options.mangle?ee(te[1]):te[1]),he="mailto:"+de):(de=r(te[1]),he=de),{type:"link",raw:te[0],text:de,href:he,tokens:[{type:"text",raw:de,text:de}]}}},q.url=function(H,ee){var te;if(te=this.rules.inline.url.exec(H)){var de,he;if(te[2]==="@")de=r(this.options.mangle?ee(te[0]):te[0]),he="mailto:"+de;else{var pe;do pe=te[0],te[0]=this.rules.inline._backpedal.exec(te[0])[0];while(pe!==te[0]);de=r(te[0]),te[1]==="www."?he="http://"+de:he=de}return{type:"link",raw:te[0],text:de,href:he,tokens:[{type:"text",raw:de,text:de}]}}},q.inlineText=function(H,ee){var te=this.rules.inline.text.exec(H);if(te){var de;return this.lexer.state.inRawBlock?de=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(te[0]):r(te[0]):te[0]:de=r(this.options.smartypants?ee(te[0]):te[0]),{type:"text",raw:te[0],text:de}}},Z}(),P={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};P._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,P._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,P.def=s(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.listItemStart=s(/^( *)(bull) */).replace("bull",P.bullet).getRegex(),P.list=s(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=s(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.paragraph=s(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.blockquote=s(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal=E({},P),P.gfm=E({},P.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),P.gfm.table=s(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.gfm.paragraph=s(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",P.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.pedantic=E({},P.normal,{html:s(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,paragraph:s(P.normal._paragraph).replace("hr",P.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=s(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=s(P._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=s(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=s(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=s(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=s(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=s(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=s(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=s(W.reflink).replace("label",W._label).replace("ref",P._label).getRegex(),W.nolink=s(W.nolink).replace("ref",P._label).getRegex(),W.reflinkSearch=s(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:s(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=s(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:s(W.br).replace("{2,}","*").getRegex(),text:s(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function M(Z){return Z.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function z(Z){var q="",$,H,ee=Z.length;for($=0;$<ee;$++)H=Z.charCodeAt($),Math.random()>.5&&(H="x"+H.toString(16)),q+="&#"+H+";";return q}var Q=function(){function Z($){this.tokens=[],this.tokens.links=Object.create(null),this.options=$||K.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var H={block:P.normal,inline:W.normal};this.options.pedantic?(H.block=P.pedantic,H.inline=W.pedantic):this.options.gfm&&(H.block=P.gfm,this.options.breaks?H.inline=W.breaks:H.inline=W.gfm),this.tokenizer.rules=H}Z.lex=function(H,ee){var te=new Z(ee);return te.lex(H)},Z.lexInline=function(H,ee){var te=new Z(ee);return te.inlineTokens(H)};var q=Z.prototype;return q.lex=function(H){H=H.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(H,this.tokens);for(var ee;ee=this.inlineQueue.shift();)this.inlineTokens(ee.src,ee.tokens);return this.tokens},q.blockTokens=function(H,ee){var te=this;ee===void 0&&(ee=[]),this.options.pedantic&&(H=H.replace(/^ +$/gm,""));for(var de,he,pe,ve;H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(de=Ce.call({lexer:te},H,ee))?(H=H.substring(de.raw.length),ee.push(de),!0):!1}))){if(de=this.tokenizer.space(H)){H=H.substring(de.raw.length),de.raw.length===1&&ee.length>0?ee[ee.length-1].raw+=`
`:ee.push(de);continue}if(de=this.tokenizer.code(H)){H=H.substring(de.raw.length),he=ee[ee.length-1],he&&(he.type==="paragraph"||he.type==="text")?(he.raw+=`
`+de.raw,he.text+=`
`+de.text,this.inlineQueue[this.inlineQueue.length-1].src=he.text):ee.push(de);continue}if(de=this.tokenizer.fences(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.heading(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.hr(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.blockquote(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.list(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.html(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.def(H)){H=H.substring(de.raw.length),he=ee[ee.length-1],he&&(he.type==="paragraph"||he.type==="text")?(he.raw+=`
`+de.raw,he.text+=`
`+de.raw,this.inlineQueue[this.inlineQueue.length-1].src=he.text):this.tokens.links[de.tag]||(this.tokens.links[de.tag]={href:de.href,title:de.title});continue}if(de=this.tokenizer.table(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.lheading(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(pe=H,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,me=H.slice(1),be=void 0;te.options.extensions.startBlock.forEach(function(ce){be=ce.call({lexer:this},me),typeof be=="number"&&be>=0&&(Ce=Math.min(Ce,be))}),Ce<1/0&&Ce>=0&&(pe=H.substring(0,Ce+1))}(),this.state.top&&(de=this.tokenizer.paragraph(pe))){he=ee[ee.length-1],ve&&he.type==="paragraph"?(he.raw+=`
`+de.raw,he.text+=`
`+de.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=he.text):ee.push(de),ve=pe.length!==H.length,H=H.substring(de.raw.length);continue}if(de=this.tokenizer.text(H)){H=H.substring(de.raw.length),he=ee[ee.length-1],he&&he.type==="text"?(he.raw+=`
`+de.raw,he.text+=`
`+de.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=he.text):ee.push(de);continue}if(H){var ue="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(ue);break}else throw new Error(ue)}}return this.state.top=!0,ee},q.inline=function(H,ee){this.inlineQueue.push({src:H,tokens:ee})},q.inlineTokens=function(H,ee){var te=this;ee===void 0&&(ee=[]);var de,he,pe,ve=H,ue,Ce,me;if(this.tokens.links){var be=Object.keys(this.tokens.links);if(be.length>0)for(;(ue=this.tokenizer.rules.inline.reflinkSearch.exec(ve))!=null;)be.includes(ue[0].slice(ue[0].lastIndexOf("[")+1,-1))&&(ve=ve.slice(0,ue.index)+"["+O("a",ue[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ue=this.tokenizer.rules.inline.blockSkip.exec(ve))!=null;)ve=ve.slice(0,ue.index)+"["+O("a",ue[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ue=this.tokenizer.rules.inline.escapedEmSt.exec(ve))!=null;)ve=ve.slice(0,ue.index)+"++"+ve.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(Ce||(me=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ge){return(de=ge.call({lexer:te},H,ee))?(H=H.substring(de.raw.length),ee.push(de),!0):!1}))){if(de=this.tokenizer.escape(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.tag(H)){H=H.substring(de.raw.length),he=ee[ee.length-1],he&&de.type==="text"&&he.type==="text"?(he.raw+=de.raw,he.text+=de.text):ee.push(de);continue}if(de=this.tokenizer.link(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.reflink(H,this.tokens.links)){H=H.substring(de.raw.length),he=ee[ee.length-1],he&&de.type==="text"&&he.type==="text"?(he.raw+=de.raw,he.text+=de.text):ee.push(de);continue}if(de=this.tokenizer.emStrong(H,ve,me)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.codespan(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.br(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.del(H)){H=H.substring(de.raw.length),ee.push(de);continue}if(de=this.tokenizer.autolink(H,z)){H=H.substring(de.raw.length),ee.push(de);continue}if(!this.state.inLink&&(de=this.tokenizer.url(H,z))){H=H.substring(de.raw.length),ee.push(de);continue}if(pe=H,this.options.extensions&&this.options.extensions.startInline&&function(){var ge=1/0,we=H.slice(1),ye=void 0;te.options.extensions.startInline.forEach(function(Te){ye=Te.call({lexer:this},we),typeof ye=="number"&&ye>=0&&(ge=Math.min(ge,ye))}),ge<1/0&&ge>=0&&(pe=H.substring(0,ge+1))}(),de=this.tokenizer.inlineText(pe,M)){H=H.substring(de.raw.length),de.raw.slice(-1)!=="_"&&(me=de.raw.slice(-1)),Ce=!0,he=ee[ee.length-1],he&&he.type==="text"?(he.raw+=de.raw,he.text+=de.text):ee.push(de);continue}if(H){var ce="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(ce);break}else throw new Error(ce)}}return ee},y(Z,null,[{key:"rules",get:function(){return{block:P,inline:W}}}]),Z}(),ne=function(){function Z($){this.options=$||K.defaults}var q=Z.prototype;return q.code=function(H,ee,te){var de=(ee||"").match(/\S*/)[0];if(this.options.highlight){var he=this.options.highlight(H,de);he!=null&&he!==H&&(te=!0,H=he)}return H=H.replace(/\n$/,"")+`
`,de?'<pre><code class="'+this.options.langPrefix+r(de,!0)+'">'+(te?H:r(H,!0))+`</code></pre>
`:"<pre><code>"+(te?H:r(H,!0))+`</code></pre>
`},q.blockquote=function(H){return`<blockquote>
`+H+`</blockquote>
`},q.html=function(H){return H},q.heading=function(H,ee,te,de){return this.options.headerIds?"<h"+ee+' id="'+this.options.headerPrefix+de.slug(te)+'">'+H+"</h"+ee+`>
`:"<h"+ee+">"+H+"</h"+ee+`>
`},q.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},q.list=function(H,ee,te){var de=ee?"ol":"ul",he=ee&&te!==1?' start="'+te+'"':"";return"<"+de+he+`>
`+H+"</"+de+`>
`},q.listitem=function(H){return"<li>"+H+`</li>
`},q.checkbox=function(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},q.paragraph=function(H){return"<p>"+H+`</p>
`},q.table=function(H,ee){return ee&&(ee="<tbody>"+ee+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+ee+`</table>
`},q.tablerow=function(H){return`<tr>
`+H+`</tr>
`},q.tablecell=function(H,ee){var te=ee.header?"th":"td",de=ee.align?"<"+te+' align="'+ee.align+'">':"<"+te+">";return de+H+"</"+te+`>
`},q.strong=function(H){return"<strong>"+H+"</strong>"},q.em=function(H){return"<em>"+H+"</em>"},q.codespan=function(H){return"<code>"+H+"</code>"},q.br=function(){return this.options.xhtml?"<br/>":"<br>"},q.del=function(H){return"<del>"+H+"</del>"},q.link=function(H,ee,te){if(H=g(this.options.sanitize,this.options.baseUrl,H),H===null)return te;var de='<a href="'+r(H)+'"';return ee&&(de+=' title="'+ee+'"'),de+=">"+te+"</a>",de},q.image=function(H,ee,te){if(H=g(this.options.sanitize,this.options.baseUrl,H),H===null)return te;var de='<img src="'+H+'" alt="'+te+'"';return ee&&(de+=' title="'+ee+'"'),de+=this.options.xhtml?"/>":">",de},q.text=function(H){return H},Z}(),X=function(){function Z(){}var q=Z.prototype;return q.strong=function(H){return H},q.em=function(H){return H},q.codespan=function(H){return H},q.del=function(H){return H},q.html=function(H){return H},q.text=function(H){return H},q.link=function(H,ee,te){return""+te},q.image=function(H,ee,te){return""+te},q.br=function(){return""},Z}(),J=function(){function Z(){this.seen={}}var q=Z.prototype;return q.serialize=function(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},q.getNextSafeSlug=function(H,ee){var te=H,de=0;if(this.seen.hasOwnProperty(te)){de=this.seen[H];do de++,te=H+"-"+de;while(this.seen.hasOwnProperty(te))}return ee||(this.seen[H]=de,this.seen[te]=0),te},q.slug=function(H,ee){ee===void 0&&(ee={});var te=this.serialize(H);return this.getNextSafeSlug(te,ee.dryrun)},Z}(),ie=function(){function Z($){this.options=$||K.defaults,this.options.renderer=this.options.renderer||new ne,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new X,this.slugger=new J}Z.parse=function(H,ee){var te=new Z(ee);return te.parse(H)},Z.parseInline=function(H,ee){var te=new Z(ee);return te.parseInline(H)};var q=Z.prototype;return q.parse=function(H,ee){ee===void 0&&(ee=!0);var te="",de,he,pe,ve,ue,Ce,me,be,ce,ge,we,ye,Te,ke,Me,_e,Se,Ee,Ae,Pe=H.length;for(de=0;de<Pe;de++){if(ge=H[de],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(Ae=this.options.extensions.renderers[ge.type].call({parser:this},ge),Ae!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){te+=Ae||"";continue}switch(ge.type){case"space":continue;case"hr":{te+=this.renderer.hr();continue}case"heading":{te+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,o(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{te+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(be="",me="",ve=ge.header.length,he=0;he<ve;he++)me+=this.renderer.tablecell(this.parseInline(ge.header[he].tokens),{header:!0,align:ge.align[he]});for(be+=this.renderer.tablerow(me),ce="",ve=ge.rows.length,he=0;he<ve;he++){for(Ce=ge.rows[he],me="",ue=Ce.length,pe=0;pe<ue;pe++)me+=this.renderer.tablecell(this.parseInline(Ce[pe].tokens),{header:!1,align:ge.align[pe]});ce+=this.renderer.tablerow(me)}te+=this.renderer.table(be,ce);continue}case"blockquote":{ce=this.parse(ge.tokens),te+=this.renderer.blockquote(ce);continue}case"list":{for(we=ge.ordered,ye=ge.start,Te=ge.loose,ve=ge.items.length,ce="",he=0;he<ve;he++)Me=ge.items[he],_e=Me.checked,Se=Me.task,ke="",Me.task&&(Ee=this.renderer.checkbox(_e),Te?Me.tokens.length>0&&Me.tokens[0].type==="paragraph"?(Me.tokens[0].text=Ee+" "+Me.tokens[0].text,Me.tokens[0].tokens&&Me.tokens[0].tokens.length>0&&Me.tokens[0].tokens[0].type==="text"&&(Me.tokens[0].tokens[0].text=Ee+" "+Me.tokens[0].tokens[0].text)):Me.tokens.unshift({type:"text",text:Ee}):ke+=Ee),ke+=this.parse(Me.tokens,Te),ce+=this.renderer.listitem(ke,Se,_e);te+=this.renderer.list(ce,we,ye);continue}case"html":{te+=this.renderer.html(ge.text);continue}case"paragraph":{te+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(ce=ge.tokens?this.parseInline(ge.tokens):ge.text;de+1<Pe&&H[de+1].type==="text";)ge=H[++de],ce+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);te+=ee?this.renderer.paragraph(ce):ce;continue}default:{var xe='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return te},q.parseInline=function(H,ee){ee=ee||this.renderer;var te="",de,he,pe,ve=H.length;for(de=0;de<ve;de++){if(he=H[de],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[he.type]&&(pe=this.options.extensions.renderers[he.type].call({parser:this},he),pe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(he.type))){te+=pe||"";continue}switch(he.type){case"escape":{te+=ee.text(he.text);break}case"html":{te+=ee.html(he.text);break}case"link":{te+=ee.link(he.href,he.title,this.parseInline(he.tokens,ee));break}case"image":{te+=ee.image(he.href,he.title,he.text);break}case"strong":{te+=ee.strong(this.parseInline(he.tokens,ee));break}case"em":{te+=ee.em(this.parseInline(he.tokens,ee));break}case"codespan":{te+=ee.codespan(he.text);break}case"br":{te+=ee.br();break}case"del":{te+=ee.del(this.parseInline(he.tokens,ee));break}case"text":{te+=ee.text(he.text);break}default:{var ue='Token with "'+he.type+'" type was not found.';if(this.options.silent){console.error(ue);return}else throw new Error(ue)}}}return te},Z}();function le(Z,q,$){if(typeof Z=="undefined"||Z===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Z!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Z)+", string expected");if(typeof q=="function"&&($=q,q=null),q=E({},le.defaults,q||{}),B(q),$){var H=q.highlight,ee;try{ee=Q.lex(Z,q)}catch(pe){return $(pe)}var te=function(ve){var ue;if(!ve)try{q.walkTokens&&le.walkTokens(ee,q.walkTokens),ue=ie.parse(ee,q)}catch(Ce){ve=Ce}return q.highlight=H,ve?$(ve):$(null,ue)};if(!H||H.length<3||(delete q.highlight,!ee.length))return te();var de=0;le.walkTokens(ee,function(pe){pe.type==="code"&&(de++,setTimeout(function(){H(pe.text,pe.lang,function(ve,ue){if(ve)return te(ve);ue!=null&&ue!==pe.text&&(pe.text=ue,pe.escaped=!0),de--,de===0&&te()})},0))}),de===0&&te();return}try{var he=Q.lex(Z,q);return q.walkTokens&&le.walkTokens(he,q.walkTokens),ie.parse(he,q)}catch(pe){if(pe.message+=`
Please report this to https://github.com/markedjs/marked.`,q.silent)return"<p>An error occurred:</p><pre>"+r(pe.message+"",!0)+"</pre>";throw pe}}le.options=le.setOptions=function(Z){return E(le.defaults,Z),b(le.defaults),le},le.getDefaults=L,le.defaults=K.defaults,le.use=function(){for(var Z=arguments.length,q=new Array(Z),$=0;$<Z;$++)q[$]=arguments[$];var H=E.apply(void 0,[{}].concat(q)),ee=le.defaults.extensions||{renderers:{},childTokens:{}},te;q.forEach(function(de){if(de.extensions&&(te=!0,de.extensions.forEach(function(pe){if(!pe.name)throw new Error("extension name required");if(pe.renderer){var ve=ee.renderers?ee.renderers[pe.name]:null;ve?ee.renderers[pe.name]=function(){for(var ue=arguments.length,Ce=new Array(ue),me=0;me<ue;me++)Ce[me]=arguments[me];var be=pe.renderer.apply(this,Ce);return be===!1&&(be=ve.apply(this,Ce)),be}:ee.renderers[pe.name]=pe.renderer}if(pe.tokenizer){if(!pe.level||pe.level!=="block"&&pe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ee[pe.level]?ee[pe.level].unshift(pe.tokenizer):ee[pe.level]=[pe.tokenizer],pe.start&&(pe.level==="block"?ee.startBlock?ee.startBlock.push(pe.start):ee.startBlock=[pe.start]:pe.level==="inline"&&(ee.startInline?ee.startInline.push(pe.start):ee.startInline=[pe.start]))}pe.childTokens&&(ee.childTokens[pe.name]=pe.childTokens)})),de.renderer&&function(){var pe=le.defaults.renderer||new ne,ve=function(me){var be=pe[me];pe[me]=function(){for(var ce=arguments.length,ge=new Array(ce),we=0;we<ce;we++)ge[we]=arguments[we];var ye=de.renderer[me].apply(pe,ge);return ye===!1&&(ye=be.apply(pe,ge)),ye}};for(var ue in de.renderer)ve(ue);H.renderer=pe}(),de.tokenizer&&function(){var pe=le.defaults.tokenizer||new F,ve=function(me){var be=pe[me];pe[me]=function(){for(var ce=arguments.length,ge=new Array(ce),we=0;we<ce;we++)ge[we]=arguments[we];var ye=de.tokenizer[me].apply(pe,ge);return ye===!1&&(ye=be.apply(pe,ge)),ye}};for(var ue in de.tokenizer)ve(ue);H.tokenizer=pe}(),de.walkTokens){var he=le.defaults.walkTokens;H.walkTokens=function(pe){de.walkTokens.call(this,pe),he&&he.call(this,pe)}}te&&(H.extensions=ee),le.setOptions(H)})},le.walkTokens=function(Z,q){for(var $=function(){var de=ee.value;switch(q.call(le,de),de.type){case"table":{for(var he=D(de.header),pe;!(pe=he()).done;){var ve=pe.value;le.walkTokens(ve.tokens,q)}for(var ue=D(de.rows),Ce;!(Ce=ue()).done;)for(var me=Ce.value,be=D(me),ce;!(ce=be()).done;){var ge=ce.value;le.walkTokens(ge.tokens,q)}break}case"list":{le.walkTokens(de.items,q);break}default:le.defaults.extensions&&le.defaults.extensions.childTokens&&le.defaults.extensions.childTokens[de.type]?le.defaults.extensions.childTokens[de.type].forEach(function(we){le.walkTokens(de[we],q)}):de.tokens&&le.walkTokens(de.tokens,q)}},H=D(Z),ee;!(ee=H()).done;)$()},le.parseInline=function(Z,q){if(typeof Z=="undefined"||Z===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Z!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Z)+", string expected");q=E({},le.defaults,q||{}),B(q);try{var $=Q.lexInline(Z,q);return q.walkTokens&&le.walkTokens($,q.walkTokens),ie.parseInline($,q)}catch(H){if(H.message+=`
Please report this to https://github.com/markedjs/marked.`,q.silent)return"<p>An error occurred:</p><pre>"+r(H.message+"",!0)+"</pre>";throw H}},le.Parser=ie,le.parser=ie.parse,le.Renderer=ne,le.TextRenderer=X,le.Lexer=Q,le.lexer=Q.lex,le.Tokenizer=F,le.Slugger=J,le.parse=le;var G=le.options,x=le.setOptions,V=le.use,j=le.walkTokens,re=le.parseInline,ae=le,Y=ie.parse,U=Q.lex;K.Lexer=Q,K.Parser=ie,K.Renderer=ne,K.Slugger=J,K.TextRenderer=X,K.Tokenizer=F,K.getDefaults=L,K.lexer=U,K.marked=le,K.options=G,K.parse=ae,K.parseInline=re,K.parser=Y,K.setOptions=x,K.use=V,K.walkTokens=j,Object.defineProperty(K,"__esModule",{value:!0})}),define(oe[138],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0;var y;(function(f){f.text="text/plain",f.binary="application/octet-stream",f.unknown="application/unknown",f.markdown="text/markdown",f.latex="text/latex",f.uriList="text/uri-list"})(y=e.Mimes||(e.Mimes={}))}),define(oe[169],se([1,0,138]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y.Mimes.text};class f{constructor(D){this.data=D}update(){}getData(){return this.data}}e.DragAndDropData=f,e.StaticDND={CurrentDragAndDropData:void 0}}),define(oe[322],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class y{constructor(N,D=0,L=N.length,b=D-1){this.items=N,this.start=D,this.end=L,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=y}),define(oe[323],se([1,0,322]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class f{constructor(D=[],L=10){this._initialize(D),this._limit=L,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new y.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const L of D)this._history.add(L)}get _elements(){const D=[];return this._history.forEach(L=>D.push(L)),D}}e.HistoryNavigator=f}),define(oe[117],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function y(D,L,b){return Math.min(Math.max(D,L),b)}e.clamp=y;class f{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=f;class N{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const b=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=b,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=N}),define(oe[17],se([1,0]),function(K,e){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.language=e.userAgent=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const f="en";let N=!1,D=!1,L=!1,b=!1,C=!1,u=!1,h=!1,i=!1,n=!1,t,r=f,d,o;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let a;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?a=e.globals.vscode.process:typeof process!="undefined"&&(a=process);const s=typeof((y=a==null?void 0:a.versions)===null||y===void 0?void 0:y.electron)=="string",l=s&&(a==null?void 0:a.type)==="renderer";if(typeof navigator=="object"&&!l)o=navigator.userAgent,N=o.indexOf("Windows")>=0,D=o.indexOf("Macintosh")>=0,i=(o.indexOf("Macintosh")>=0||o.indexOf("iPad")>=0||o.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,L=o.indexOf("Linux")>=0,u=!0,t=navigator.language,r=t;else if(typeof a=="object"){N=a.platform==="win32",D=a.platform==="darwin",L=a.platform==="linux",b=L&&!!a.env.SNAP&&!!a.env.SNAP_REVISION,h=s,n=!!a.env.CI||!!a.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=f,r=f;const p=a.env.VSCODE_NLS_CONFIG;if(p)try{const v=JSON.parse(p),_=v.availableLanguages["*"];t=v.locale,r=_||f,d=v._translationsConfigFile}catch{}C=!0}else console.error("Unable to resolve platform.");let c=0;D?c=1:N?c=3:L&&(c=2),e.isWindows=N,e.isMacintosh=D,e.isLinux=L,e.isNative=C,e.isWeb=u,e.isWebWorker=u&&typeof e.globals.importScripts=="function",e.isIOS=i,e.userAgent=o,e.language=r,e.setTimeout0=(()=>{if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let p=[];e.globals.addEventListener("message",_=>{if(_.data&&_.data.vscodeScheduleAsyncWork)for(let w=0,E=p.length;w<E;w++){const I=p[w];if(I.id===_.data.vscodeScheduleAsyncWork){p.splice(w,1),I.callback();return}}});let v=0;return _=>{const w=++v;p.push({id:w,callback:_}),e.globals.postMessage({vscodeScheduleAsyncWork:w},"*")}}return p=>setTimeout(p)})(),e.OS=D||i?2:N?1:3;let g=!0,m=!1;function S(){if(!m){m=!0;const p=new Uint8Array(2);p[0]=1,p[1]=2,g=new Uint16Array(p.buffer)[0]===(2<<8)+1}return g}e.isLittleEndian=S,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(oe[324],se([1,0,17]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let f;if(typeof y.globals.vscode!="undefined"&&typeof y.globals.vscode.process!="undefined"){const N=y.globals.vscode.process;f={get platform(){return N.platform},get arch(){return N.arch},get env(){return N.env},cwd(){return N.cwd()}}}else typeof process!="undefined"?f={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:f={get platform(){return y.isWindows?"win32":y.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=f.cwd,e.env=f.env,e.platform=f.platform}),define(oe[85],se([1,0,324]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const f=65,N=97,D=90,L=122,b=46,C=47,u=92,h=58,i=63;class n extends Error{constructor(c,g,m){let S;typeof g=="string"&&g.indexOf("not ")===0?(S="must not be",g=g.replace(/^not /,"")):S="must be";const p=c.indexOf(".")!==-1?"property":"argument";let v=`The "${c}" ${p} ${S} of type ${g}`;v+=`. Received type ${typeof m}`;super(v);this.code="ERR_INVALID_ARG_TYPE"}}function t(l,c){if(typeof l!="string")throw new n(c,"string",l)}function r(l){return l===C||l===u}function d(l){return l===C}function o(l){return l>=f&&l<=D||l>=N&&l<=L}function a(l,c,g,m){let S="",p=0,v=-1,_=0,w=0;for(let E=0;E<=l.length;++E){if(E<l.length)w=l.charCodeAt(E);else{if(m(w))break;w=C}if(m(w)){if(!(v===E-1||_===1))if(_===2){if(S.length<2||p!==2||S.charCodeAt(S.length-1)!==b||S.charCodeAt(S.length-2)!==b){if(S.length>2){const I=S.lastIndexOf(g);I===-1?(S="",p=0):(S=S.slice(0,I),p=S.length-1-S.lastIndexOf(g)),v=E,_=0;continue}else if(S.length!==0){S="",p=0,v=E,_=0;continue}}c&&(S+=S.length>0?`${g}..`:"..",p=2)}else S.length>0?S+=`${g}${l.slice(v+1,E)}`:S=l.slice(v+1,E),p=E-v-1;v=E,_=0}else w===b&&_!==-1?++_:_=-1}return S}function s(l,c){if(c===null||typeof c!="object")throw new n("pathObject","Object",c);const g=c.dir||c.root,m=c.base||`${c.name||""}${c.ext||""}`;return g?g===c.root?`${g}${m}`:`${g}${l}${m}`:m}e.win32={resolve(...l){let c="",g="",m=!1;for(let S=l.length-1;S>=-1;S--){let p;if(S>=0){if(p=l[S],t(p,"path"),p.length===0)continue}else c.length===0?p=y.cwd():(p=y.env[`=${c}`]||y.cwd(),(p===void 0||p.slice(0,2).toLowerCase()!==c.toLowerCase()&&p.charCodeAt(2)===u)&&(p=`${c}\\`));const v=p.length;let _=0,w="",E=!1;const I=p.charCodeAt(0);if(v===1)r(I)&&(_=1,E=!0);else if(r(I))if(E=!0,r(p.charCodeAt(1))){let T=2,R=T;for(;T<v&&!r(p.charCodeAt(T));)T++;if(T<v&&T!==R){const B=p.slice(R,T);for(R=T;T<v&&r(p.charCodeAt(T));)T++;if(T<v&&T!==R){for(R=T;T<v&&!r(p.charCodeAt(T));)T++;(T===v||T!==R)&&(w=`\\\\${B}\\${p.slice(R,T)}`,_=T)}}}else _=1;else o(I)&&p.charCodeAt(1)===h&&(w=p.slice(0,2),_=2,v>2&&r(p.charCodeAt(2))&&(E=!0,_=3));if(w.length>0)if(c.length>0){if(w.toLowerCase()!==c.toLowerCase())continue}else c=w;if(m){if(c.length>0)break}else if(g=`${p.slice(_)}\\${g}`,m=E,E&&c.length>0)break}return g=a(g,!m,"\\",r),m?`${c}\\${g}`:`${c}${g}`||"."},normalize(l){t(l,"path");const c=l.length;if(c===0)return".";let g=0,m,S=!1;const p=l.charCodeAt(0);if(c===1)return d(p)?"\\":l;if(r(p))if(S=!0,r(l.charCodeAt(1))){let _=2,w=_;for(;_<c&&!r(l.charCodeAt(_));)_++;if(_<c&&_!==w){const E=l.slice(w,_);for(w=_;_<c&&r(l.charCodeAt(_));)_++;if(_<c&&_!==w){for(w=_;_<c&&!r(l.charCodeAt(_));)_++;if(_===c)return`\\\\${E}\\${l.slice(w)}\\`;_!==w&&(m=`\\\\${E}\\${l.slice(w,_)}`,g=_)}}}else g=1;else o(p)&&l.charCodeAt(1)===h&&(m=l.slice(0,2),g=2,c>2&&r(l.charCodeAt(2))&&(S=!0,g=3));let v=g<c?a(l.slice(g),!S,"\\",r):"";return v.length===0&&!S&&(v="."),v.length>0&&r(l.charCodeAt(c-1))&&(v+="\\"),m===void 0?S?`\\${v}`:v:S?`${m}\\${v}`:`${m}${v}`},isAbsolute(l){t(l,"path");const c=l.length;if(c===0)return!1;const g=l.charCodeAt(0);return r(g)||c>2&&o(g)&&l.charCodeAt(1)===h&&r(l.charCodeAt(2))},join(...l){if(l.length===0)return".";let c,g;for(let p=0;p<l.length;++p){const v=l[p];t(v,"path"),v.length>0&&(c===void 0?c=g=v:c+=`\\${v}`)}if(c===void 0)return".";let m=!0,S=0;if(typeof g=="string"&&r(g.charCodeAt(0))){++S;const p=g.length;p>1&&r(g.charCodeAt(1))&&(++S,p>2&&(r(g.charCodeAt(2))?++S:m=!1))}if(m){for(;S<c.length&&r(c.charCodeAt(S));)S++;S>=2&&(c=`\\${c.slice(S)}`)}return e.win32.normalize(c)},relative(l,c){if(t(l,"from"),t(c,"to"),l===c)return"";const g=e.win32.resolve(l),m=e.win32.resolve(c);if(g===m||(l=g.toLowerCase(),c=m.toLowerCase(),l===c))return"";let S=0;for(;S<l.length&&l.charCodeAt(S)===u;)S++;let p=l.length;for(;p-1>S&&l.charCodeAt(p-1)===u;)p--;const v=p-S;let _=0;for(;_<c.length&&c.charCodeAt(_)===u;)_++;let w=c.length;for(;w-1>_&&c.charCodeAt(w-1)===u;)w--;const E=w-_,I=v<E?v:E;let T=-1,R=0;for(;R<I;R++){const O=l.charCodeAt(S+R);if(O!==c.charCodeAt(_+R))break;O===u&&(T=R)}if(R!==I){if(T===-1)return m}else{if(E>I){if(c.charCodeAt(_+R)===u)return m.slice(_+R+1);if(R===2)return m.slice(_+R)}v>I&&(l.charCodeAt(S+R)===u?T=R:R===2&&(T=3)),T===-1&&(T=0)}let B="";for(R=S+T+1;R<=p;++R)(R===p||l.charCodeAt(R)===u)&&(B+=B.length===0?"..":"\\..");return _+=T,B.length>0?`${B}${m.slice(_,w)}`:(m.charCodeAt(_)===u&&++_,m.slice(_,w))},toNamespacedPath(l){if(typeof l!="string")return l;if(l.length===0)return"";const c=e.win32.resolve(l);if(c.length<=2)return l;if(c.charCodeAt(0)===u){if(c.charCodeAt(1)===u){const g=c.charCodeAt(2);if(g!==i&&g!==b)return`\\\\?\\UNC\\${c.slice(2)}`}}else if(o(c.charCodeAt(0))&&c.charCodeAt(1)===h&&c.charCodeAt(2)===u)return`\\\\?\\${c}`;return l},dirname(l){t(l,"path");const c=l.length;if(c===0)return".";let g=-1,m=0;const S=l.charCodeAt(0);if(c===1)return r(S)?l:".";if(r(S)){if(g=m=1,r(l.charCodeAt(1))){let _=2,w=_;for(;_<c&&!r(l.charCodeAt(_));)_++;if(_<c&&_!==w){for(w=_;_<c&&r(l.charCodeAt(_));)_++;if(_<c&&_!==w){for(w=_;_<c&&!r(l.charCodeAt(_));)_++;if(_===c)return l;_!==w&&(g=m=_+1)}}}}else o(S)&&l.charCodeAt(1)===h&&(g=c>2&&r(l.charCodeAt(2))?3:2,m=g);let p=-1,v=!0;for(let _=c-1;_>=m;--_)if(r(l.charCodeAt(_))){if(!v){p=_;break}}else v=!1;if(p===-1){if(g===-1)return".";p=g}return l.slice(0,p)},basename(l,c){c!==void 0&&t(c,"ext"),t(l,"path");let g=0,m=-1,S=!0,p;if(l.length>=2&&o(l.charCodeAt(0))&&l.charCodeAt(1)===h&&(g=2),c!==void 0&&c.length>0&&c.length<=l.length){if(c===l)return"";let v=c.length-1,_=-1;for(p=l.length-1;p>=g;--p){const w=l.charCodeAt(p);if(r(w)){if(!S){g=p+1;break}}else _===-1&&(S=!1,_=p+1),v>=0&&(w===c.charCodeAt(v)?--v==-1&&(m=p):(v=-1,m=_))}return g===m?m=_:m===-1&&(m=l.length),l.slice(g,m)}for(p=l.length-1;p>=g;--p)if(r(l.charCodeAt(p))){if(!S){g=p+1;break}}else m===-1&&(S=!1,m=p+1);return m===-1?"":l.slice(g,m)},extname(l){t(l,"path");let c=0,g=-1,m=0,S=-1,p=!0,v=0;l.length>=2&&l.charCodeAt(1)===h&&o(l.charCodeAt(0))&&(c=m=2);for(let _=l.length-1;_>=c;--_){const w=l.charCodeAt(_);if(r(w)){if(!p){m=_+1;break}continue}S===-1&&(p=!1,S=_+1),w===b?g===-1?g=_:v!==1&&(v=1):g!==-1&&(v=-1)}return g===-1||S===-1||v===0||v===1&&g===S-1&&g===m+1?"":l.slice(g,S)},format:s.bind(null,"\\"),parse(l){t(l,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;const g=l.length;let m=0,S=l.charCodeAt(0);if(g===1)return r(S)?(c.root=c.dir=l,c):(c.base=c.name=l,c);if(r(S)){if(m=1,r(l.charCodeAt(1))){let T=2,R=T;for(;T<g&&!r(l.charCodeAt(T));)T++;if(T<g&&T!==R){for(R=T;T<g&&r(l.charCodeAt(T));)T++;if(T<g&&T!==R){for(R=T;T<g&&!r(l.charCodeAt(T));)T++;T===g?m=T:T!==R&&(m=T+1)}}}}else if(o(S)&&l.charCodeAt(1)===h){if(g<=2)return c.root=c.dir=l,c;if(m=2,r(l.charCodeAt(2))){if(g===3)return c.root=c.dir=l,c;m=3}}m>0&&(c.root=l.slice(0,m));let p=-1,v=m,_=-1,w=!0,E=l.length-1,I=0;for(;E>=m;--E){if(S=l.charCodeAt(E),r(S)){if(!w){v=E+1;break}continue}_===-1&&(w=!1,_=E+1),S===b?p===-1?p=E:I!==1&&(I=1):p!==-1&&(I=-1)}return _!==-1&&(p===-1||I===0||I===1&&p===_-1&&p===v+1?c.base=c.name=l.slice(v,_):(c.name=l.slice(v,p),c.base=l.slice(v,_),c.ext=l.slice(p,_))),v>0&&v!==m?c.dir=l.slice(0,v-1):c.dir=c.root,c},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...l){let c="",g=!1;for(let m=l.length-1;m>=-1&&!g;m--){const S=m>=0?l[m]:y.cwd();t(S,"path"),S.length!==0&&(c=`${S}/${c}`,g=S.charCodeAt(0)===C)}return c=a(c,!g,"/",d),g?`/${c}`:c.length>0?c:"."},normalize(l){if(t(l,"path"),l.length===0)return".";const c=l.charCodeAt(0)===C,g=l.charCodeAt(l.length-1)===C;return l=a(l,!c,"/",d),l.length===0?c?"/":g?"./":".":(g&&(l+="/"),c?`/${l}`:l)},isAbsolute(l){return t(l,"path"),l.length>0&&l.charCodeAt(0)===C},join(...l){if(l.length===0)return".";let c;for(let g=0;g<l.length;++g){const m=l[g];t(m,"path"),m.length>0&&(c===void 0?c=m:c+=`/${m}`)}return c===void 0?".":e.posix.normalize(c)},relative(l,c){if(t(l,"from"),t(c,"to"),l===c||(l=e.posix.resolve(l),c=e.posix.resolve(c),l===c))return"";const g=1,m=l.length,S=m-g,p=1,v=c.length-p,_=S<v?S:v;let w=-1,E=0;for(;E<_;E++){const T=l.charCodeAt(g+E);if(T!==c.charCodeAt(p+E))break;T===C&&(w=E)}if(E===_)if(v>_){if(c.charCodeAt(p+E)===C)return c.slice(p+E+1);if(E===0)return c.slice(p+E)}else S>_&&(l.charCodeAt(g+E)===C?w=E:E===0&&(w=0));let I="";for(E=g+w+1;E<=m;++E)(E===m||l.charCodeAt(E)===C)&&(I+=I.length===0?"..":"/..");return`${I}${c.slice(p+w)}`},toNamespacedPath(l){return l},dirname(l){if(t(l,"path"),l.length===0)return".";const c=l.charCodeAt(0)===C;let g=-1,m=!0;for(let S=l.length-1;S>=1;--S)if(l.charCodeAt(S)===C){if(!m){g=S;break}}else m=!1;return g===-1?c?"/":".":c&&g===1?"//":l.slice(0,g)},basename(l,c){c!==void 0&&t(c,"ext"),t(l,"path");let g=0,m=-1,S=!0,p;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c===l)return"";let v=c.length-1,_=-1;for(p=l.length-1;p>=0;--p){const w=l.charCodeAt(p);if(w===C){if(!S){g=p+1;break}}else _===-1&&(S=!1,_=p+1),v>=0&&(w===c.charCodeAt(v)?--v==-1&&(m=p):(v=-1,m=_))}return g===m?m=_:m===-1&&(m=l.length),l.slice(g,m)}for(p=l.length-1;p>=0;--p)if(l.charCodeAt(p)===C){if(!S){g=p+1;break}}else m===-1&&(S=!1,m=p+1);return m===-1?"":l.slice(g,m)},extname(l){t(l,"path");let c=-1,g=0,m=-1,S=!0,p=0;for(let v=l.length-1;v>=0;--v){const _=l.charCodeAt(v);if(_===C){if(!S){g=v+1;break}continue}m===-1&&(S=!1,m=v+1),_===b?c===-1?c=v:p!==1&&(p=1):c!==-1&&(p=-1)}return c===-1||m===-1||p===0||p===1&&c===m-1&&c===g+1?"":l.slice(c,m)},format:s.bind(null,"/"),parse(l){t(l,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;const g=l.charCodeAt(0)===C;let m;g?(c.root="/",m=1):m=0;let S=-1,p=0,v=-1,_=!0,w=l.length-1,E=0;for(;w>=m;--w){const I=l.charCodeAt(w);if(I===C){if(!_){p=w+1;break}continue}v===-1&&(_=!1,v=w+1),I===b?S===-1?S=w:E!==1&&(E=1):S!==-1&&(E=-1)}if(v!==-1){const I=p===0&&g?1:p;S===-1||E===0||E===1&&S===v-1&&S===p+1?c.base=c.name=l.slice(I,v):(c.name=l.slice(I,S),c.base=l.slice(I,v),c.ext=l.slice(S,v))}return p>0?c.dir=l.slice(0,p-1):g&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=y.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=y.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=y.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=y.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=y.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=y.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=y.platform==="win32"?e.win32.sep:e.posix.sep}),define(oe[139],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var y;(function(f){function N(C,u){if(C.start>=u.end||u.start>=C.end)return{start:0,end:0};const h=Math.max(C.start,u.start),i=Math.min(C.end,u.end);return i-h<=0?{start:0,end:0}:{start:h,end:i}}f.intersect=N;function D(C){return C.end-C.start<=0}f.isEmpty=D;function L(C,u){return!D(N(C,u))}f.intersects=L;function b(C,u){const h=[],i={start:C.start,end:Math.min(u.start,C.end)},n={start:Math.max(u.end,C.start),end:C.end};return D(i)||h.push(i),D(n)||h.push(n),h}f.relativeComplement=b})(y=e.Range||(e.Range={}))}),define(oe[325],se([1,0,139]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function f(C,u){const h=[];for(let i of u){if(C.start>=i.range.end)continue;if(C.end<i.range.start)break;const n=y.Range.intersect(C,i.range);y.Range.isEmpty(n)||h.push({range:n,size:i.size})}return h}e.groupIntersect=f;function N({start:C,end:u},h){return{start:C+h,end:u+h}}e.shift=N;function D(C){const u=[];let h=null;for(let i of C){const n=i.range.start,t=i.range.end,r=i.size;if(h&&r===h.size){h.range.end=t;continue}h={range:{start:n,end:t},size:r},u.push(h)}return u}e.consolidate=D;function L(...C){return D(C.reduce((u,h)=>u.concat(h),[]))}class b{constructor(){this.groups=[],this._size=0}splice(u,h,i=[]){const n=i.length-h,t=f({start:0,end:u},this.groups),r=f({start:u+h,end:Number.POSITIVE_INFINITY},this.groups).map(o=>({range:N(o.range,n),size:o.size})),d=i.map((o,a)=>({range:{start:u+a,end:u+a+1},size:o.size}));this.groups=L(t,d,r),this._size=this.groups.reduce((o,a)=>o+a.size*(a.range.end-a.range.start),0)}get count(){const u=this.groups.length;return u?this.groups[u-1].range.end:0}get size(){return this._size}indexAt(u){if(u<0)return-1;let h=0,i=0;for(let n of this.groups){const t=n.range.end-n.range.start,r=i+t*n.size;if(u<r)return h+Math.floor((u-i)/n.size);h+=t,i=r}return h}indexAfter(u){return Math.min(this.indexAt(u)+1,this.count)}positionAt(u){if(u<0)return-1;let h=0,i=0;for(let n of this.groups){const t=n.range.end-n.range.start,r=i+t;if(u<r)return h+(u-i)*n.size;h+=t*n.size,i=r}return-1}}e.RangeMap=b}),define(oe[57],se([1,0,17]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const f=y.globals.performance&&typeof y.globals.performance.now=="function";class N{constructor(L){this._highResolution=f&&L,this._startTime=this._now(),this._stopTime=-1}static create(L=!0){return new N(L)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?y.globals.performance.now():Date.now()}}e.StopWatch=N}),define(oe[4],se([1,0,13,2,84,57]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.Event=void 0;let L=!1,b=!1;var C;(function(m){m.None=()=>f.Disposable.None;function S(X){if(b){const{onListenerDidAdd:J}=X,ie=n.create();let le=0;X.onListenerDidAdd=()=>{++le==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ie.print()),J==null||J()}}}function p(X){return(J,ie=null,le)=>{let G=!1,x;return x=X(V=>{if(!G)return x?x.dispose():G=!0,J.call(ie,V)},null,le),G&&x.dispose(),x}}m.once=p;function v(X,J,ie){return R((le,G=null,x)=>X(V=>le.call(G,J(V)),null,x),ie)}m.map=v;function _(X,J,ie){return R((le,G=null,x)=>X(V=>{J(V),le.call(G,V)},null,x),ie)}m.forEach=_;function w(X,J,ie){return R((le,G=null,x)=>X(V=>J(V)&&le.call(G,V),null,x),ie)}m.filter=w;function E(X){return X}m.signal=E;function I(...X){return(J,ie=null,le)=>(0,f.combinedDisposable)(...X.map(G=>G(x=>J.call(ie,x),null,le)))}m.any=I;function T(X,J,ie,le){let G=ie;return v(X,x=>(G=J(G,x),G),le)}m.reduce=T;function R(X,J){let ie;const le={onFirstListenerAdd(){ie=X(G.fire,G)},onLastListenerRemove(){ie.dispose()}};J||S(le);const G=new r(le);return J&&J.add(G),G.event}function B(X,J,ie=100,le=!1,G,x){let V,j,re,ae=0;const Y={leakWarningThreshold:G,onFirstListenerAdd(){V=X(Z=>{ae++,j=J(j,Z),le&&!re&&(U.fire(j),j=void 0),clearTimeout(re),re=setTimeout(()=>{const q=j;j=void 0,re=void 0,(!le||ae>1)&&U.fire(q),ae=0},ie)})},onLastListenerRemove(){V.dispose()}};x||S(Y);const U=new r(Y);return x&&x.add(U),U.event}m.debounce=B;function O(X,J=(le,G)=>le===G,ie){let le=!0,G;return w(X,x=>{const V=le||!J(x,G);return le=!1,G=x,V},ie)}m.latch=O;function k(X,J,ie){return[m.filter(X,J,ie),m.filter(X,le=>!J(le),ie)]}m.split=k;function A(X,J=!1,ie=[]){let le=ie.slice(),G=X(j=>{le?le.push(j):V.fire(j)});const x=()=>{le&&le.forEach(j=>V.fire(j)),le=null},V=new r({onFirstListenerAdd(){G||(G=X(j=>V.fire(j)))},onFirstListenerDidAdd(){le&&(J?setTimeout(x):x())},onLastListenerRemove(){G&&G.dispose(),G=null}});return V.event}m.buffer=A;class F{constructor(J){this.event=J}map(J){return new F(v(this.event,J))}forEach(J){return new F(_(this.event,J))}filter(J){return new F(w(this.event,J))}reduce(J,ie){return new F(T(this.event,J,ie))}latch(){return new F(O(this.event))}debounce(J,ie=100,le=!1,G){return new F(B(this.event,J,ie,le,G))}on(J,ie,le){return this.event(J,ie,le)}once(J,ie,le){return p(this.event)(J,ie,le)}}function P(X){return new F(X)}m.chain=P;function W(X,J,ie=le=>le){const le=(...j)=>V.fire(ie(...j)),G=()=>X.on(J,le),x=()=>X.removeListener(J,le),V=new r({onFirstListenerAdd:G,onLastListenerRemove:x});return V.event}m.fromNodeEventEmitter=W;function M(X,J,ie=le=>le){const le=(...j)=>V.fire(ie(...j)),G=()=>X.addEventListener(J,le),x=()=>X.removeEventListener(J,le),V=new r({onFirstListenerAdd:G,onLastListenerRemove:x});return V.event}m.fromDOMEventEmitter=M;function z(X){return new Promise(J=>p(X)(J))}m.toPromise=z;function Q(X,J){return J(void 0),X(ie=>J(ie))}m.runAndSubscribe=Q;function ne(X,J){let ie=null;function le(x){ie==null||ie.dispose(),ie=new f.DisposableStore,J(x,ie)}le(void 0);const G=X(x=>le(x));return(0,f.toDisposable)(()=>{G.dispose(),ie==null||ie.dispose()})}m.runAndSubscribeWithStore=ne})(C=e.Event||(e.Event={}));class u{constructor(S){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${S}_${u._idPool++}`}start(S){this._stopWatch=new D.StopWatch(!0),this._listenerCount=S}stop(){if(this._stopWatch){const S=this._stopWatch.elapsed();this._elapsedOverall+=S,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${S.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}u._idPool=0;let h=-1;class i{constructor(S,p=Math.random().toString(18).slice(2,5)){this.customThreshold=S,this.name=p,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(S,p){let v=h;if(typeof this.customThreshold=="number"&&(v=this.customThreshold),v<=0||p<v)return;this._stacks||(this._stacks=new Map);const _=this._stacks.get(S.value)||0;if(this._stacks.set(S.value,_+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=v*.5;let w,E=0;for(const[I,T]of this._stacks)(!w||E<T)&&(w=I,E=T);console.warn(`[${this.name}] potential listener LEAK detected, having ${p} listeners already. MOST frequent listener (${E}):`),console.warn(w)}return()=>{const w=this._stacks.get(S.value)||0;this._stacks.set(S.value,w-1)}}}class n{constructor(S){this.value=S}static create(){var S;return new n((S=new Error().stack)!==null&&S!==void 0?S:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(S,p,v){this.callback=S,this.callbackThis=p,this.stack=v,this.subscription=new f.SafeDisposable}invoke(S){this.callback.call(this.callbackThis,S)}}class r{constructor(S){var p,v;this._disposed=!1,this._options=S,this._leakageMon=h>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((p=this._options)===null||p===void 0?void 0:p._profName)?new u(this._options._profName):void 0,this._deliveryQueue=(v=this._options)===null||v===void 0?void 0:v.deliveryQueue}dispose(){var S,p,v,_;if(!this._disposed){if(this._disposed=!0,this._listeners){if(L){const w=Array.from(this._listeners);queueMicrotask(()=>{var E;for(const I of w)I.subscription.isset()&&(I.subscription.unset(),(E=I.stack)===null||E===void 0||E.print())})}this._listeners.clear()}(S=this._deliveryQueue)===null||S===void 0||S.clear(this),(v=(p=this._options)===null||p===void 0?void 0:p.onLastListenerRemove)===null||v===void 0||v.call(p),(_=this._leakageMon)===null||_===void 0||_.dispose()}}get event(){return this._event||(this._event=(S,p,v)=>{var _,w,E;this._listeners||(this._listeners=new N.LinkedList);const I=this._listeners.isEmpty();I&&((_=this._options)===null||_===void 0?void 0:_.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let T,R;this._leakageMon&&this._listeners.size>=30&&(R=n.create(),T=this._leakageMon.check(R,this._listeners.size+1)),L&&(R=R??n.create());const B=new t(S,p,R),O=this._listeners.push(B);I&&((w=this._options)===null||w===void 0?void 0:w.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),((E=this._options)===null||E===void 0?void 0:E.onListenerDidAdd)&&this._options.onListenerDidAdd(this,S,p);const k=B.subscription.set(()=>{T&&T(),this._disposed||(O(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return v instanceof f.DisposableStore?v.add(k):Array.isArray(v)&&v.push(k),k}),this._event}fire(S){var p,v;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new o);for(let _ of this._listeners)this._deliveryQueue.push(this,_,S);(p=this._perfMon)===null||p===void 0||p.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(v=this._perfMon)===null||v===void 0||v.stop()}}}e.Emitter=r;class d{constructor(){this._queue=new N.LinkedList}get size(){return this._queue.size}push(S,p,v){this._queue.push(new a(S,p,v))}clear(S){const p=new N.LinkedList;for(const v of this._queue)v.emitter!==S&&p.push(v);this._queue=p}deliver(){for(;this._queue.size>0;){const S=this._queue.shift();try{S.listener.invoke(S.event)}catch(p){(0,y.onUnexpectedError)(p)}}}}e.EventDeliveryQueue=d;class o extends d{clear(S){this._queue.clear()}}class a{constructor(S,p,v){this.emitter=S,this.listener=p,this.event=v}}class s extends r{constructor(S){super(S);this._isPaused=0,this._eventQueue=new N.LinkedList,this._mergeFn=S==null?void 0:S.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const S=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(S))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(S){this._listeners&&(this._isPaused!==0?this._eventQueue.push(S):super.fire(S))}}e.PauseableEmitter=s;class l extends s{constructor(S){var p;super(S);this._delay=(p=S.delay)!==null&&p!==void 0?p:100}fire(S){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(S)}}e.DebounceEmitter=l;class c{constructor(){this.buffers=[]}wrapEvent(S){return(p,v,_)=>S(w=>{const E=this.buffers[this.buffers.length-1];E?E.push(()=>p.call(v,w)):p.call(v,w)},void 0,_)}bufferEvents(S){const p=[];this.buffers.push(p);const v=S();return this.buffers.pop(),p.forEach(_=>_()),v}}e.EventBufferer=c;class g{constructor(){this.listening=!1,this.inputEvent=C.None,this.inputEventListener=f.Disposable.None,this.emitter=new r({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(S){this.inputEvent=S,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=S(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=g}),define(oe[34],se([1,0,4,2]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class N{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}N.INSTANCE=new N;class D extends f.Disposable{constructor(){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(r){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),r&&this._onDidChange.fire()}}class L extends f.Disposable{constructor(){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const r=this._register(new D);this._register(r.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const r=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,o=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return d/o}}class b{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,f.markAsSingleton)(new L)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function C(t,r){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",r)}e.addMatchMediaChangeListener=C,e.PixelRatio=new b;function u(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=u;const h=navigator.userAgent;e.isFirefox=h.indexOf("Firefox")>=0,e.isWebKit=h.indexOf("AppleWebKit")>=0,e.isChrome=h.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&h.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=h.indexOf("Electron/")>=0,e.isAndroid=h.indexOf("Android")>=0;let i=!1;if(window.matchMedia){const t=window.matchMedia("(display-mode: standalone)");i=t.matches,C(t,({matches:r})=>{i=r})}function n(){return i}e.isStandalone=n}),define(oe[170],se([1,0,34,17]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:f.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:f.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>f.isNative||y.isStandalone()?0:navigator.keyboard||y.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(oe[92],se([1,0,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class f{constructor(L,b,C){const u=h=>this.emitter.fire(h);this.emitter=new y.Emitter({onFirstListenerAdd:()=>L.addEventListener(b,u,C),onLastListenerRemove:()=>L.removeEventListener(b,u,C)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=f;function N(D){return D.preventDefault(),D.stopPropagation(),D}e.stopEvent=N}),define(oe[44],se([1,0,34,59,100,17]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function L(n){if(n.charCode){let r=String.fromCharCode(n.charCode).toUpperCase();return f.KeyCodeUtils.fromString(r)}const t=n.keyCode;if(t===3)return 7;if(y.isFirefox){if(t===59)return 80;if(t===107)return 81;if(t===109)return 83;if(D.isMacintosh&&t===224)return 57}else if(y.isWebKit){if(t===91)return 57;if(D.isMacintosh&&t===93)return 57;if(!D.isMacintosh&&t===92)return 57}return f.EVENT_KEY_CODE_MAP[t]||0}const b=D.isMacintosh?256:2048,C=512,u=1024,h=D.isMacintosh?2048:256;class i{constructor(t){this._standardKeyboardEventBrand=!0;let r=t;this.browserEvent=r,this.target=r.target,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.altKey=r.altKey,this.metaKey=r.metaKey,this.keyCode=L(r),this.code=r.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let r=0;return this.ctrlKey&&(r|=b),this.altKey&&(r|=C),this.shiftKey&&(r|=u),this.metaKey&&(r|=h),r|=t,r}_computeRuntimeKeybinding(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new N.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=i}),define(oe[63],se([1,0,34,317,17]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);let u=f.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=u.left,this.posy-=u.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class L{constructor(C,u=0,h=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=h,this.deltaX=u,C){let i=C,n=C;if(typeof i.wheelDeltaY!="undefined")this.deltaY=i.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS!="undefined"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(C.type==="wheel"){const t=C;t.deltaMode===t.DOM_DELTA_LINE?y.isFirefox&&!N.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof i.wheelDeltaX!="undefined")y.isSafari&&N.isWindows?this.deltaX=-(i.wheelDeltaX/120):this.deltaX=i.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS!="undefined"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const t=C;t.deltaMode===t.DOM_DELTA_LINE?y.isFirefox&&!N.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=L}),define(oe[21],se([1,0,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const f=Object.freeze(function(b,C){const u=setTimeout(b.bind(C),0);return{dispose(){clearTimeout(u)}}});var N;(function(b){function C(u){return u===b.None||u===b.Cancelled||u instanceof D?!0:!u||typeof u!="object"?!1:typeof u.isCancellationRequested=="boolean"&&typeof u.onCancellationRequested=="function"}b.isCancellationToken=C,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:y.Event.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:f})})(N=e.CancellationToken||(e.CancellationToken={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?f:(this._emitter||(this._emitter=new y.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=N.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=N.None}}e.CancellationTokenSource=L});var Le=this&&this.__awaiter||function(K,e,y,f){function N(D){return D instanceof y?D:new y(function(L){L(D)})}return new(y||(y=Promise))(function(D,L){function b(h){try{u(f.next(h))}catch(i){L(i)}}function C(h){try{u(f.throw(h))}catch(i){L(i)}}function u(h){h.done?D(h.value):N(h.value).then(b,C)}u((f=f.apply(K,e||[])).next())})},Ct=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],y;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),y={},f("next"),f("throw"),f("return"),y[Symbol.asyncIterator]=function(){return this},y);function f(D){y[D]=K[D]&&function(L){return new Promise(function(b,C){L=K[D](L),N(b,C,L.done,L.value)})}}function N(D,L,b,C){Promise.resolve(C).then(function(u){D({value:u,done:b})},L)}};define(oe[10],se([1,0,21,13,4,2,17]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(w){return!!w&&typeof w.then=="function"}e.isThenable=b;function C(w){const E=new y.CancellationTokenSource,I=w(E.token),T=new Promise((R,B)=>{const O=E.token.onCancellationRequested(()=>{O.dispose(),E.dispose(),B(new f.CancellationError)});Promise.resolve(I).then(k=>{O.dispose(),E.dispose(),R(k)},k=>{O.dispose(),E.dispose(),B(k)})});return new class{cancel(){E.cancel()}then(R,B){return T.then(R,B)}catch(R){return this.then(void 0,R)}finally(R){return T.finally(R)}}}e.createCancelablePromise=C;function u(w,E,I){return new Promise((T,R)=>{const B=E.onCancellationRequested(()=>{B.dispose(),T(I)});w.then(T,R).finally(()=>B.dispose())})}e.raceCancellation=u;class h{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const I=()=>{this.queuedPromise=null;const T=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,T};this.queuedPromise=new Promise(T=>{this.activePromise.then(I,I).then(T)})}return new Promise((I,T)=>{this.queuedPromise.then(I,T)})}return this.activePromise=E(),new Promise((I,T)=>{this.activePromise.then(R=>{this.activePromise=null,I(R)},R=>{this.activePromise=null,T(R)})})}}e.Throttler=h;const i=(w,E)=>{let I=!0;const T=setTimeout(()=>{I=!1,E()},w);return{isTriggered:()=>I,dispose:()=>{clearTimeout(T),I=!1}}},n=w=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,w())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class t{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,I=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((R,B)=>{this.doResolve=R,this.doReject=B}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const R=this.task;return this.task=null,R()}}));const T=()=>{var R;this.deferred=null,(R=this.doResolve)===null||R===void 0||R.call(this,null)};return this.deferred=I===e.MicrotaskDelay?n(T):i(I,T),this.completionPromise}isTriggered(){var E;return!!((E=this.deferred)===null||E===void 0?void 0:E.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new f.CancellationError),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class r{constructor(E){this.delayer=new t(E),this.throttler=new h}trigger(E,I){return this.delayer.trigger(()=>this.throttler.queue(E),I)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=r;function d(w,E){return E?new Promise((I,T)=>{const R=setTimeout(()=>{B.dispose(),I()},w),B=E.onCancellationRequested(()=>{clearTimeout(R),B.dispose(),T(new f.CancellationError)})}):C(I=>d(w,I))}e.timeout=d;function o(w,E=0){const I=setTimeout(w,E);return(0,D.toDisposable)(()=>clearTimeout(I))}e.disposableTimeout=o;function a(w,E=T=>!!T,I=null){let T=0;const R=w.length,B=()=>{if(T>=R)return Promise.resolve(I);const O=w[T++];return Promise.resolve(O()).then(A=>E(A)?Promise.resolve(A):B())};return B()}e.first=a;class s{constructor(E,I){this._token=-1,typeof E=="function"&&typeof I=="number"&&this.setIfNotSet(E,I)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,I){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},I)}setIfNotSet(E,I){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},I))}}e.TimeoutTimer=s;class l{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,I){this.cancel(),this._token=setInterval(()=>{E()},I)}}e.IntervalTimer=l;class c{constructor(E,I){this.timeoutToken=-1,this.runner=E,this.timeout=I,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=c,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=w=>{(0,L.setTimeout0)(()=>{if(E)return;const I=Date.now()+15;w(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,I-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(w,E)=>{const I=requestIdleCallback(w,typeof E=="number"?{timeout:E}:void 0);let T=!1;return{dispose(){T||(T=!0,cancelIdleCallback(I))}}}}();class g{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(I){this._error=I}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=g;class m{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,I)=>{this.completeCallback=E,this.errorCallback=I})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(E){return new Promise(I=>{this.completeCallback(E),this.resolved=!0,I()})}cancel(){new Promise(E=>{this.errorCallback(new f.CancellationError),this.rejected=!0,E()})}}e.DeferredPromise=m;var S;(function(w){function E(T){return Le(this,void 0,void 0,function*(){let R;const B=yield Promise.all(T.map(O=>O.then(k=>k,k=>{R||(R=k)})));if(typeof R!="undefined")throw R;return B})}w.settled=E;function I(T){return new Promise((R,B)=>Le(this,void 0,void 0,function*(){try{yield T(R,B)}catch(O){B(O)}}))}w.withAsyncBody=I})(S=e.Promises||(e.Promises={}));class p{constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new N.Emitter,queueMicrotask(()=>Le(this,void 0,void 0,function*(){const I={emitOne:T=>this.emitOne(T),emitMany:T=>this.emitMany(T),reject:T=>this.reject(T)};try{yield Promise.resolve(E(I)),this.resolve()}catch(T){this.reject(T)}finally{I.emitOne=void 0,I.emitMany=void 0,I.reject=void 0}}))}static fromArray(E){return new p(I=>{I.emitMany(E)})}static fromPromise(E){return new p(I=>Le(this,void 0,void 0,function*(){I.emitMany(yield E)}))}static fromPromises(E){return new p(I=>Le(this,void 0,void 0,function*(){yield Promise.all(E.map(T=>Le(this,void 0,void 0,function*(){return I.emitOne(yield T)})))}))}static merge(E){return new p(I=>Le(this,void 0,void 0,function*(){yield Promise.all(E.map(T=>{var R,B;return Le(this,void 0,void 0,function*(){var O,k;try{for(R=Ct(T);B=yield R.next(),!B.done;){const A=B.value;I.emitOne(A)}}catch(A){O={error:A}}finally{try{B&&!B.done&&(k=R.return)&&(yield k.call(R))}finally{if(O)throw O.error}}})}))}))}[Symbol.asyncIterator](){let E=0;return{next:()=>Le(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield N.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,I){return new p(T=>Le(this,void 0,void 0,function*(){var R,B;try{for(var O=Ct(E),k;k=yield O.next(),!k.done;){const A=k.value;T.emitOne(I(A))}}catch(A){R={error:A}}finally{try{k&&!k.done&&(B=O.return)&&(yield B.call(O))}finally{if(R)throw R.error}}}))}map(E){return p.map(this,E)}static filter(E,I){return new p(T=>Le(this,void 0,void 0,function*(){var R,B;try{for(var O=Ct(E),k;k=yield O.next(),!k.done;){const A=k.value;I(A)&&T.emitOne(A)}}catch(A){R={error:A}}finally{try{k&&!k.done&&(B=O.return)&&(yield B.call(O))}finally{if(R)throw R.error}}}))}filter(E){return p.filter(this,E)}static coalesce(E){return p.filter(E,I=>!!I)}coalesce(){return p.coalesce(this)}static toPromise(E){var I,T,R,B;return Le(this,void 0,void 0,function*(){const O=[];try{for(I=Ct(E);T=yield I.next(),!T.done;){const k=T.value;O.push(k)}}catch(k){R={error:k}}finally{try{T&&!T.done&&(B=I.return)&&(yield B.call(I))}finally{if(R)throw R.error}}return O})}toPromise(){return p.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class v extends p{constructor(E,I){super(I);this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=v;function _(w){const E=new y.CancellationTokenSource,I=w(E.token);return new v(E,T=>Le(this,void 0,void 0,function*(){var R,B;const O=E.token.onCancellationRequested(()=>{O.dispose(),E.dispose(),T.reject(new f.CancellationError)});try{try{for(var k=Ct(I),A;A=yield k.next(),!A.done;){const F=A.value;if(E.token.isCancellationRequested)return;T.emitOne(F)}}catch(F){R={error:F}}finally{try{A&&!A.done&&(B=k.return)&&(yield B.call(k))}finally{if(R)throw R.error}}O.dispose(),E.dispose()}catch(F){O.dispose(),E.dispose(),T.reject(F)}}))}e.createCancelableAsyncIterable=_}),define(oe[326],se([1,0,10,2]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class N extends f.Disposable{constructor(L,b,C){super();this._visibility=L,this._visibleClassName=b,this._invisibleClassName=C,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new y.TimeoutTimer)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this._updateShouldBeVisible())}setShouldBeVisible(L){this._rawShouldBeVisible=L,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const L=this._applyVisibilitySetting();this._shouldBeVisible!==L&&(this._shouldBeVisible=L,this.ensureVisibility())}setIsNeeded(L){this._isNeeded!==L&&(this._isNeeded=L,this.ensureVisibility())}setDomNode(L){this._domNode=L,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(L){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(L?" fade":"")))}}e.ScrollbarVisibilityController=N}),define(oe[327],se([1,0,10]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const f=new y.IdleValue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}}),N=new y.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new y.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function L(u,h,i=!1){const n=u||"",t=h||"",r=f.value.collator.compare(n,t);return f.value.collatorIsNumeric&&r===0&&n!==t?n<t?-1:1:r}e.compareFileNames=L;function b(u,h,i){const n=u.toLowerCase(),t=h.toLowerCase(),r=C(u,h,i);if(r)return r;const d=n.endsWith(i),o=t.endsWith(i);if(d!==o)return d?-1:1;const a=L(n,t);return a!==0?a:n.localeCompare(t)}e.compareAnything=b;function C(u,h,i){const n=u.toLowerCase(),t=h.toLowerCase(),r=n.startsWith(i),d=t.startsWith(i);if(r!==d)return r?-1:1;if(r&&d){if(n.length<t.length)return-1;if(n.length>t.length)return 1}return 0}e.compareByPrefix=C}),define(oe[140],se([1,0,4,2]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class N{constructor(t,r,d,o,a,s,l){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,d=d|0,o=o|0,a=a|0,s=s|0,l=l|0),this.rawScrollLeft=o,this.rawScrollTop=l,r<0&&(r=0),o+r>d&&(o=d-r),o<0&&(o=0),a<0&&(a=0),l+a>s&&(l=s-a),l<0&&(l=0),this.width=r,this.scrollWidth=d,this.scrollLeft=o,this.height=a,this.scrollHeight=s,this.scrollTop=l}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,r){return new N(this._forceIntegerValues,typeof t.width!="undefined"?t.width:this.width,typeof t.scrollWidth!="undefined"?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof t.height!="undefined"?t.height:this.height,typeof t.scrollHeight!="undefined"?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new N(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft!="undefined"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop!="undefined"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,r){const d=this.width!==t.width,o=this.scrollWidth!==t.scrollWidth,a=this.scrollLeft!==t.scrollLeft,s=this.height!==t.height,l=this.scrollHeight!==t.scrollHeight,c=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:r,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:o,scrollLeftChanged:a,heightChanged:s,scrollHeightChanged:l,scrollTopChanged:c}}}e.ScrollState=N;class D extends f.Disposable{constructor(t){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new N(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,r){const d=this._state.withScrollDimensions(t,r);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const r=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(r,!1)}setScrollPositionSmooth(t,r){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:t.scrollTop};const d=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let o;r?o=new u(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):o=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=o}else{const d=this._state.withScrollPosition(t);this._smoothScrolling=u.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),r=this._state.withScrollPosition(t);if(this._setState(r,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,r){const d=this._state;d.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(d,r)))}}e.Scrollable=D;class L{constructor(t,r,d){this.scrollLeft=t,this.scrollTop=r,this.isDone=d}}e.SmoothScrollingUpdate=L;function b(n,t){const r=t-n;return function(d){return n+r*i(d)}}function C(n,t,r){return function(d){return d<r?n(d/r):t((d-r)/(1-r))}}class u{constructor(t,r,d,o){this.from=t,this.to=r,this.duration=o,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,r,d){if(Math.abs(t-r)>2.5*d){let a,s;return t<r?(a=t+.75*d,s=r-.75*d):(a=t-.75*d,s=r+.75*d),C(b(t,a),b(s,r),.33)}return b(t,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const r=(t-this.startTime)/this.duration;if(r<1){const d=this.scrollLeft(r),o=this.scrollTop(r);return new L(d,o,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,r,d){return u.start(t,r,d)}static start(t,r,d){d=d+10;const o=Date.now()-10;return new u(t,r,o,d)}}e.SmoothScrollingOperation=u;function h(n){return Math.pow(n,3)}function i(n){return 1-h(1-n)}}),define(oe[8],se([1,0,218,137]),function(K,e,y,f){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(te){return!te||typeof te!="string"?!0:te.trim().length===0}e.isFalsyOrWhitespace=D;const L=/{(\d+)}/g;function b(te,...de){return de.length===0?te:te.replace(L,function(he,pe){const ve=parseInt(pe,10);return isNaN(ve)||ve<0||ve>=de.length?he:de[ve]})}e.format=b;function C(te){return te.replace(/[<>&]/g,function(de){switch(de){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return de}})}e.escape=C;function u(te){return te.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=u;function h(te,de=" "){const he=i(te,de);return n(he,de)}e.trim=h;function i(te,de){if(!te||!de)return te;const he=de.length;if(he===0||te.length===0)return te;let pe=0;for(;te.indexOf(de,pe)===pe;)pe=pe+he;return te.substring(pe)}e.ltrim=i;function n(te,de){if(!te||!de)return te;const he=de.length,pe=te.length;if(he===0||pe===0)return te;let ve=pe,ue=-1;for(;ue=te.lastIndexOf(de,ve-1),!(ue===-1||ue+he!==ve);){if(ue===0)return"";ve=ue}return te.substring(0,ve)}e.rtrim=n;function t(te){return te.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function r(te){return te.replace(/\*/g,"")}e.stripWildcards=r;function d(te,de,he={}){if(!te)throw new Error("Cannot create regex from empty string");de||(te=u(te)),he.wholeWord&&(/\B/.test(te.charAt(0))||(te="\\b"+te),/\B/.test(te.charAt(te.length-1))||(te=te+"\\b"));let pe="";return he.global&&(pe+="g"),he.matchCase||(pe+="i"),he.multiline&&(pe+="m"),he.unicode&&(pe+="u"),new RegExp(te,pe)}e.createRegExp=d;function o(te){return te.source==="^"||te.source==="^$"||te.source==="$"||te.source==="^\\s*$"?!1:!!(te.exec("")&&te.lastIndex===0)}e.regExpLeadsToEndlessLoop=o;function a(te){return(te.global?"g":"")+(te.ignoreCase?"i":"")+(te.multiline?"m":"")+(te.unicode?"u":"")}e.regExpFlags=a;function s(te){return te.split(/\r\n|\r|\n/)}e.splitLines=s;function l(te){for(let de=0,he=te.length;de<he;de++){const pe=te.charCodeAt(de);if(pe!==32&&pe!==9)return de}return-1}e.firstNonWhitespaceIndex=l;function c(te,de=0,he=te.length){for(let pe=de;pe<he;pe++){const ve=te.charCodeAt(pe);if(ve!==32&&ve!==9)return te.substring(de,pe)}return te.substring(de,he)}e.getLeadingWhitespace=c;function g(te,de=te.length-1){for(let he=de;he>=0;he--){const pe=te.charCodeAt(he);if(pe!==32&&pe!==9)return he}return-1}e.lastNonWhitespaceIndex=g;function m(te,de){return te<de?-1:te>de?1:0}e.compare=m;function S(te,de,he=0,pe=te.length,ve=0,ue=de.length){for(;he<pe&&ve<ue;he++,ve++){let be=te.charCodeAt(he),ce=de.charCodeAt(ve);if(be<ce)return-1;if(be>ce)return 1}const Ce=pe-he,me=ue-ve;return Ce<me?-1:Ce>me?1:0}e.compareSubstring=S;function p(te,de){return v(te,de,0,te.length,0,de.length)}e.compareIgnoreCase=p;function v(te,de,he=0,pe=te.length,ve=0,ue=de.length){for(;he<pe&&ve<ue;he++,ve++){let be=te.charCodeAt(he),ce=de.charCodeAt(ve);if(be===ce)continue;if(be>=128||ce>=128)return S(te.toLowerCase(),de.toLowerCase(),he,pe,ve,ue);_(be)&&(be-=32),_(ce)&&(ce-=32);const ge=be-ce;if(ge!==0)return ge}const Ce=pe-he,me=ue-ve;return Ce<me?-1:Ce>me?1:0}e.compareSubstringIgnoreCase=v;function _(te){return te>=97&&te<=122}e.isLowerAsciiLetter=_;function w(te){return te>=65&&te<=90}e.isUpperAsciiLetter=w;function E(te,de){return te.length===de.length&&v(te,de)===0}e.equalsIgnoreCase=E;function I(te,de){const he=de.length;return de.length>te.length?!1:v(te,de,0,he)===0}e.startsWithIgnoreCase=I;function T(te,de){let he,pe=Math.min(te.length,de.length);for(he=0;he<pe;he++)if(te.charCodeAt(he)!==de.charCodeAt(he))return he;return pe}e.commonPrefixLength=T;function R(te,de){let he,pe=Math.min(te.length,de.length);const ve=te.length-1,ue=de.length-1;for(he=0;he<pe;he++)if(te.charCodeAt(ve-he)!==de.charCodeAt(ue-he))return he;return pe}e.commonSuffixLength=R;function B(te){return 55296<=te&&te<=56319}e.isHighSurrogate=B;function O(te){return 56320<=te&&te<=57343}e.isLowSurrogate=O;function k(te,de){return(te-55296<<10)+(de-56320)+65536}e.computeCodePoint=k;function A(te,de,he){const pe=te.charCodeAt(he);if(B(pe)&&he+1<de){const ve=te.charCodeAt(he+1);if(O(ve))return k(pe,ve)}return pe}e.getNextCodePoint=A;function F(te,de){const he=te.charCodeAt(de-1);if(O(he)&&de>1){const pe=te.charCodeAt(de-2);if(B(pe))return k(pe,he)}return he}class P{constructor(de,he=0){this._str=de,this._len=de.length,this._offset=he}get offset(){return this._offset}setOffset(de){this._offset=de}prevCodePoint(){const de=F(this._str,this._offset);return this._offset-=de>=65536?2:1,de}nextCodePoint(){const de=A(this._str,this._len,this._offset);return this._offset+=de>=65536?2:1,de}eol(){return this._offset>=this._len}}e.CodePointIterator=P;class W{constructor(de,he=0){this._iterator=new P(de,he)}get offset(){return this._iterator.offset}nextGraphemeLength(){const de=Y.getInstance(),he=this._iterator,pe=he.offset;let ve=de.getGraphemeBreakType(he.nextCodePoint());for(;!he.eol();){const ue=he.offset,Ce=de.getGraphemeBreakType(he.nextCodePoint());if(ae(ve,Ce)){he.setOffset(ue);break}ve=Ce}return he.offset-pe}prevGraphemeLength(){const de=Y.getInstance(),he=this._iterator,pe=he.offset;let ve=de.getGraphemeBreakType(he.prevCodePoint());for(;he.offset>0;){const ue=he.offset,Ce=de.getGraphemeBreakType(he.prevCodePoint());if(ae(Ce,ve)){he.setOffset(ue);break}ve=Ce}return pe-he.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=W;function M(te,de){return new W(te,de).nextGraphemeLength()}e.nextCharLength=M;function z(te,de){return new W(te,de).prevGraphemeLength()}e.prevCharLength=z;function Q(te,de){de>0&&O(te.charCodeAt(de))&&de--;const he=de+M(te,de);return[he-z(te,he),he]}e.getCharContainingOffset=Q;const ne=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function X(te){return ne.test(te)}e.containsRTL=X;const J=/^[\t\n\r\x20-\x7E]*$/;function ie(te){return J.test(te)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function le(te){return e.UNUSUAL_LINE_TERMINATORS.test(te)}e.containsUnusualLineTerminators=le;function G(te){return te>=11904&&te<=55215||te>=63744&&te<=64255||te>=65281&&te<=65374}e.isFullWidthCharacter=G;function x(te){return te>=127462&&te<=127487||te===8986||te===8987||te===9200||te===9203||te>=9728&&te<=10175||te===11088||te===11093||te>=127744&&te<=128591||te>=128640&&te<=128764||te>=128992&&te<=129008||te>=129280&&te<=129535||te>=129648&&te<=129782}e.isEmojiImprecise=x,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function V(te){return!!(te&&te.length>0&&te.charCodeAt(0)===65279)}e.startsWithUTF8BOM=V;function j(te,de=!1){return te?(de&&(te=te.replace(/\\./g,"")),te.toLowerCase()!==te):!1}e.containsUppercaseCharacter=j;function re(te){const de=90-65+1;return te=te%(2*de),te<de?String.fromCharCode(97+te):String.fromCharCode(65+te-de)}e.singleLetterHash=re;function ae(te,de){return te===0?de!==5&&de!==7:te===2&&de===3?!1:te===4||te===2||te===3||de===4||de===2||de===3?!0:!(te===8&&(de===8||de===9||de===11||de===12)||(te===11||te===9)&&(de===9||de===10)||(te===12||te===10)&&de===10||de===5||de===13||de===7||te===1||te===13&&de===14||te===6&&de===6)}class Y{constructor(){this._data=U()}static getInstance(){return Y._INSTANCE||(Y._INSTANCE=new Y),Y._INSTANCE}getGraphemeBreakType(de){if(de<32)return de===10?3:de===13?2:4;if(de<127)return 0;const he=this._data,pe=he.length/3;let ve=1;for(;ve<=pe;)if(de<he[3*ve])ve=2*ve;else if(de>he[3*ve+1])ve=2*ve+1;else return he[3*ve+2];return 0}}Y._INSTANCE=null;function U(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Z(te,de){if(te===0)return 0;const he=q(te,de);if(he!==void 0)return he;const pe=new P(de,te);return pe.prevCodePoint(),pe.offset}e.getLeftDeleteOffset=Z;function q(te,de){const he=new P(de,te);let pe=he.prevCodePoint();for(;$(pe)||pe===65039||pe===8419;){if(he.offset===0)return;pe=he.prevCodePoint()}if(!x(pe))return;let ve=he.offset;return ve>0&&he.prevCodePoint()===8205&&(ve=he.offset),ve}function $(te){return 127995<=te&&te<=127999}e.noBreakWhitespace="\xA0";class H{constructor(de){this.confusableDictionary=de}static getInstance(de){return H.cache.get(Array.from(de))}static getLocales(){return H._locales.getValue()}isAmbiguous(de){return this.confusableDictionary.has(de)}getPrimaryConfusable(de){return this.confusableDictionary.get(de)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=H,N=H,H.ambiguousCharacterData=new f.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),H.cache=new y.LRUCachedFunction(te=>{function de(ce){const ge=new Map;for(let we=0;we<ce.length;we+=2)ge.set(ce[we],ce[we+1]);return ge}function he(ce,ge){const we=new Map(ce);for(const[ye,Te]of ge)we.set(ye,Te);return we}function pe(ce,ge){if(!ce)return ge;const we=new Map;for(const[ye,Te]of ce)ge.has(ye)&&we.set(ye,Te);return we}const ve=N.ambiguousCharacterData.getValue();let ue=te.filter(ce=>!ce.startsWith("_")&&ce in ve);ue.length===0&&(ue=["_default"]);let Ce;for(const ce of ue){const ge=de(ve[ce]);Ce=pe(Ce,ge)}const me=de(ve._common),be=he(me,Ce);return new H(be)}),H._locales=new f.Lazy(()=>Object.keys(H.ambiguousCharacterData.getValue()).filter(te=>!te.startsWith("_")));class ee{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ee.getRawData())),this._data}static isInvisibleCharacter(de){return ee.getData().has(de)}static get codePoints(){return ee.getData()}}e.InvisibleCharacters=ee,ee._data=void 0}),define(oe[171],se([1,0,85,17,8]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(n){return n===47||n===92}e.isPathSeparator=D;function L(n){return n.replace(/[\\/]/g,y.posix.sep)}e.toSlashes=L;function b(n){return n.indexOf("/")===-1&&(n=L(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=b;function C(n,t=y.posix.sep){if(!n)return"";const r=n.length,d=n.charCodeAt(0);if(D(d)){if(D(n.charCodeAt(1))&&!D(n.charCodeAt(2))){let a=3;const s=a;for(;a<r&&!D(n.charCodeAt(a));a++);if(s!==a&&!D(n.charCodeAt(a+1))){for(a+=1;a<r;a++)if(D(n.charCodeAt(a)))return n.slice(0,a+1).replace(/[\\/]/g,t)}}return t}else if(h(d)&&n.charCodeAt(1)===58)return D(n.charCodeAt(2))?n.slice(0,2)+t:n.slice(0,2);let o=n.indexOf("://");if(o!==-1){for(o+=3;o<r;o++)if(D(n.charCodeAt(o)))return n.slice(0,o+1)}return""}e.getRoot=C;function u(n,t,r,d=y.sep){if(n===t)return!0;if(!n||!t||t.length>n.length)return!1;if(r){if(!(0,N.startsWithIgnoreCase)(n,t))return!1;if(t.length===n.length)return!0;let a=t.length;return t.charAt(t.length-1)===d&&a--,n.charAt(a)===d}return t.charAt(t.length-1)!==d&&(t+=d),n.indexOf(t)===0}e.isEqualOrParent=u;function h(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=h;function i(n,t=f.isWindows){return t?h(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(oe[118],se([1,0,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function f(d){return N(d,0)}e.hash=f;function N(d,o){switch(typeof d){case"object":return d===null?D(349,o):Array.isArray(d)?C(d,o):u(d,o);case"string":return b(d,o);case"boolean":return L(d,o);case"number":return D(d,o);case"undefined":return D(937,o);default:return D(617,o)}}e.doHash=N;function D(d,o){return(o<<5)-o+d|0}e.numberHash=D;function L(d,o){return D(d?433:863,o)}function b(d,o){o=D(149417,o);for(let a=0,s=d.length;a<s;a++)o=D(d.charCodeAt(a),o);return o}e.stringHash=b;function C(d,o){return o=D(104579,o),d.reduce((a,s)=>N(s,a),o)}function u(d,o){return o=D(181387,o),Object.keys(d).sort().reduce((a,s)=>(a=b(s,a),N(d[s],a)),o)}function h(d,o,a=32){const s=a-o,l=~((1<<s)-1);return(d<<o|(l&d)>>>s)>>>0}function i(d,o=0,a=d.byteLength,s=0){for(let l=0;l<a;l++)d[o+l]=s}function n(d,o,a="0"){for(;d.length<o;)d=a+d;return d}function t(d,o=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(a=>a.toString(16).padStart(2,"0")).join(""):n((d>>>0).toString(16),o/4)}e.toHexString=t;class r{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(o){const a=o.length;if(a===0)return;const s=this._buff;let l=this._buffLen,c=this._leftoverHighSurrogate,g,m;for(c!==0?(g=c,m=-1,c=0):(g=o.charCodeAt(0),m=0);;){let S=g;if(y.isHighSurrogate(g))if(m+1<a){const p=o.charCodeAt(m+1);y.isLowSurrogate(p)?(m++,S=y.computeCodePoint(g,p)):S=65533}else{c=g;break}else y.isLowSurrogate(g)&&(S=65533);if(l=this._push(s,l,S),m++,m<a)g=o.charCodeAt(m);else break}this._buffLen=l,this._leftoverHighSurrogate=c}_push(o,a,s){return s<128?o[a++]=s:s<2048?(o[a++]=192|(s&1984)>>>6,o[a++]=128|(s&63)>>>0):s<65536?(o[a++]=224|(s&61440)>>>12,o[a++]=128|(s&4032)>>>6,o[a++]=128|(s&63)>>>0):(o[a++]=240|(s&1835008)>>>18,o[a++]=128|(s&258048)>>>12,o[a++]=128|(s&4032)>>>6,o[a++]=128|(s&63)>>>0),a>=64&&(this._step(),a-=64,this._totalLen+=64,o[0]=o[64+0],o[1]=o[64+1],o[2]=o[64+2]),a}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,i(this._buff,this._buffLen),this._buffLen>56&&(this._step(),i(this._buff));const o=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(o/4294967296),!1),this._buffDV.setUint32(60,o%4294967296,!1),this._step()}_step(){const o=r._bigBlock32,a=this._buffDV;for(let _=0;_<64;_+=4)o.setUint32(_,a.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)o.setUint32(_,h(o.getUint32(_-12,!1)^o.getUint32(_-32,!1)^o.getUint32(_-56,!1)^o.getUint32(_-64,!1),1),!1);let s=this._h0,l=this._h1,c=this._h2,g=this._h3,m=this._h4,S,p,v;for(let _=0;_<80;_++)_<20?(S=l&c|~l&g,p=1518500249):_<40?(S=l^c^g,p=1859775393):_<60?(S=l&c|l&g|c&g,p=2400959708):(S=l^c^g,p=3395469782),v=h(s,5)+S+m+p+o.getUint32(_*4,!1)&4294967295,m=g,g=c,c=h(l,30),l=s,s=v;this._h0=this._h0+s&4294967295,this._h1=this._h1+l&4294967295,this._h2=this._h2+c&4294967295,this._h3=this._h3+g&4294967295,this._h4=this._h4+m&4294967295}}e.StringSHA1=r,r._bigBlock32=new DataView(new ArrayBuffer(320))}),define(oe[141],se([1,0,320,118]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class N{constructor(i){this.source=i}getElements(){const i=this.source,n=new Int32Array(i.length);for(let t=0,r=i.length;t<r;t++)n[t]=i.charCodeAt(t);return n}}e.StringDiffSequence=N;function D(h,i,n){return new u(new N(h),new N(i)).ComputeDiff(n).changes}e.stringDiff=D;class L{static Assert(i,n){if(!i)throw new Error(n)}}e.Debug=L;class b{static Copy(i,n,t,r,d){for(let o=0;o<d;o++)t[r+o]=i[n+o]}static Copy2(i,n,t,r,d){for(let o=0;o<d;o++)t[r+o]=i[n+o]}}e.MyArray=b;class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new y.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(i,n){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(i,n){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u{constructor(i,n,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=i,this._modifiedSequence=n;const[r,d,o]=u._getElements(i),[a,s,l]=u._getElements(n);this._hasStrings=o&&l,this._originalStringElements=r,this._originalElementsOrHash=d,this._modifiedStringElements=a,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(i){return i.length>0&&typeof i[0]=="string"}static _getElements(i){const n=i.getElements();if(u._isStringArray(n)){const t=new Int32Array(n.length);for(let r=0,d=n.length;r<d;r++)t[r]=(0,f.stringHash)(n[r],0);return[n,t,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(i,n){return this._originalElementsOrHash[i]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[i]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(i,n){if(!this.ElementsAreEqual(i,n))return!1;const t=u._getStrictElement(this._originalSequence,i),r=u._getStrictElement(this._modifiedSequence,n);return t===r}static _getStrictElement(i,n){return typeof i.getStrictElement=="function"?i.getStrictElement(n):null}OriginalElementsAreEqual(i,n){return this._originalElementsOrHash[i]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[i]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(i,n){return this._modifiedElementsOrHash[i]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[i]===this._modifiedStringElements[n]:!0}ComputeDiff(i){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,i)}_ComputeDiff(i,n,t,r,d){const o=[!1];let a=this.ComputeDiffRecursive(i,n,t,r,o);return d&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(i,n,t,r,d){for(d[0]=!1;i<=n&&t<=r&&this.ElementsAreEqual(i,t);)i++,t++;for(;n>=i&&r>=t&&this.ElementsAreEqual(n,r);)n--,r--;if(i>n||t>r){let g;return t<=r?(L.Assert(i===n+1,"originalStart should only be one more than originalEnd"),g=[new y.DiffChange(i,0,t,r-t+1)]):i<=n?(L.Assert(t===r+1,"modifiedStart should only be one more than modifiedEnd"),g=[new y.DiffChange(i,n-i+1,t,0)]):(L.Assert(i===n+1,"originalStart should only be one more than originalEnd"),L.Assert(t===r+1,"modifiedStart should only be one more than modifiedEnd"),g=[]),g}const o=[0],a=[0],s=this.ComputeRecursionPoint(i,n,t,r,o,a,d),l=o[0],c=a[0];if(s!==null)return s;if(!d[0]){const g=this.ComputeDiffRecursive(i,l,t,c,d);let m=[];return d[0]?m=[new y.DiffChange(l+1,n-(l+1)+1,c+1,r-(c+1)+1)]:m=this.ComputeDiffRecursive(l+1,n,c+1,r,d),this.ConcatenateChanges(g,m)}return[new y.DiffChange(i,n-i+1,t,r-t+1)]}WALKTRACE(i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E){let I=null,T=null,R=new C,B=n,O=t,k=S[0]-_[0]-r,A=-1073741824,F=this.m_forwardHistory.length-1;do{const P=k+i;P===B||P<O&&l[P-1]<l[P+1]?(g=l[P+1],p=g-k-r,g<A&&R.MarkNextChange(),A=g,R.AddModifiedElement(g+1,p),k=P+1-i):(g=l[P-1]+1,p=g-k-r,g<A&&R.MarkNextChange(),A=g-1,R.AddOriginalElement(g,p+1),k=P-1-i),F>=0&&(l=this.m_forwardHistory[F],i=l[0],B=1,O=l.length-1)}while(--F>=-1);if(I=R.getReverseChanges(),E[0]){let P=S[0]+1,W=_[0]+1;if(I!==null&&I.length>0){const M=I[I.length-1];P=Math.max(P,M.getOriginalEnd()),W=Math.max(W,M.getModifiedEnd())}T=[new y.DiffChange(P,m-P+1,W,v-W+1)]}else{R=new C,B=o,O=a,k=S[0]-_[0]-s,A=1073741824,F=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const P=k+d;P===B||P<O&&c[P-1]>=c[P+1]?(g=c[P+1]-1,p=g-k-s,g>A&&R.MarkNextChange(),A=g+1,R.AddOriginalElement(g+1,p+1),k=P+1-d):(g=c[P-1],p=g-k-s,g>A&&R.MarkNextChange(),A=g,R.AddModifiedElement(g+1,p+1),k=P-1-d),F>=0&&(c=this.m_reverseHistory[F],d=c[0],B=1,O=c.length-1)}while(--F>=-1);T=R.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(i,n,t,r,d,o,a){let s=0,l=0,c=0,g=0,m=0,S=0;i--,t--,d[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=n-i+(r-t),v=p+1,_=new Int32Array(v),w=new Int32Array(v),E=r-t,I=n-i,T=i-t,R=n-r,O=(I-E)%2==0;_[E]=i,w[I]=n,a[0]=!1;for(let k=1;k<=p/2+1;k++){let A=0,F=0;c=this.ClipDiagonalBound(E-k,k,E,v),g=this.ClipDiagonalBound(E+k,k,E,v);for(let W=c;W<=g;W+=2){W===c||W<g&&_[W-1]<_[W+1]?s=_[W+1]:s=_[W-1]+1,l=s-(W-E)-T;const M=s;for(;s<n&&l<r&&this.ElementsAreEqual(s+1,l+1);)s++,l++;if(_[W]=s,s+l>A+F&&(A=s,F=l),!O&&Math.abs(W-I)<=k-1&&s>=w[W])return d[0]=s,o[0]=l,M<=w[W]&&1447>0&&k<=1447+1?this.WALKTRACE(E,c,g,T,I,m,S,R,_,w,s,n,d,l,r,o,O,a):null}const P=(A-i+(F-t)-k)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,P))return a[0]=!0,d[0]=A,o[0]=F,P>0&&1447>0&&k<=1447+1?this.WALKTRACE(E,c,g,T,I,m,S,R,_,w,s,n,d,l,r,o,O,a):(i++,t++,[new y.DiffChange(i,n-i+1,t,r-t+1)]);m=this.ClipDiagonalBound(I-k,k,I,v),S=this.ClipDiagonalBound(I+k,k,I,v);for(let W=m;W<=S;W+=2){W===m||W<S&&w[W-1]>=w[W+1]?s=w[W+1]-1:s=w[W-1],l=s-(W-I)-R;const M=s;for(;s>i&&l>t&&this.ElementsAreEqual(s,l);)s--,l--;if(w[W]=s,O&&Math.abs(W-E)<=k&&s<=_[W])return d[0]=s,o[0]=l,M>=_[W]&&1447>0&&k<=1447+1?this.WALKTRACE(E,c,g,T,I,m,S,R,_,w,s,n,d,l,r,o,O,a):null}if(k<=1447){let W=new Int32Array(g-c+2);W[0]=E-c+1,b.Copy2(_,c,W,1,g-c+1),this.m_forwardHistory.push(W),W=new Int32Array(S-m+2),W[0]=I-m+1,b.Copy2(w,m,W,1,S-m+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,c,g,T,I,m,S,R,_,w,s,n,d,l,r,o,O,a)}PrettifyChanges(i){for(let n=0;n<i.length;n++){const t=i[n],r=n<i.length-1?i[n+1].originalStart:this._originalElementsOrHash.length,d=n<i.length-1?i[n+1].modifiedStart:this._modifiedElementsOrHash.length,o=t.originalLength>0,a=t.modifiedLength>0;for(;t.originalStart+t.originalLength<r&&t.modifiedStart+t.modifiedLength<d&&(!o||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!a||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const l=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!l)break;t.originalStart++,t.modifiedStart++}let s=[null];if(n<i.length-1&&this.ChangesOverlap(i[n],i[n+1],s)){i[n]=s[0],i.splice(n+1,1),n--;continue}}for(let n=i.length-1;n>=0;n--){const t=i[n];let r=0,d=0;if(n>0){const g=i[n-1];r=g.originalStart+g.originalLength,d=g.modifiedStart+g.modifiedLength}const o=t.originalLength>0,a=t.modifiedLength>0;let s=0,l=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let g=1;;g++){const m=t.originalStart-g,S=t.modifiedStart-g;if(m<r||S<d||o&&!this.OriginalElementsAreEqual(m,m+t.originalLength)||a&&!this.ModifiedElementsAreEqual(S,S+t.modifiedLength))break;const v=(m===r&&S===d?5:0)+this._boundaryScore(m,t.originalLength,S,t.modifiedLength);v>l&&(l=v,s=g)}t.originalStart-=s,t.modifiedStart-=s;const c=[null];if(n>0&&this.ChangesOverlap(i[n-1],i[n],c)){i[n-1]=c[0],i.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,t=i.length;n<t;n++){const r=i[n-1],d=i[n],o=d.originalStart-r.originalStart-r.originalLength,a=r.originalStart,s=d.originalStart+d.originalLength,l=s-a,c=r.modifiedStart,g=d.modifiedStart+d.modifiedLength,m=g-c;if(o<5&&l<20&&m<20){const S=this._findBetterContiguousSequence(a,l,c,m,o);if(S){const[p,v]=S;(p!==r.originalStart+r.originalLength||v!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=p-r.originalStart,r.modifiedLength=v-r.modifiedStart,d.originalStart=p+o,d.modifiedStart=v+o,d.originalLength=s-d.originalStart,d.modifiedLength=g-d.modifiedStart)}}}return i}_findBetterContiguousSequence(i,n,t,r,d){if(n<d||r<d)return null;const o=i+n-d+1,a=t+r-d+1;let s=0,l=0,c=0;for(let g=i;g<o;g++)for(let m=t;m<a;m++){const S=this._contiguousSequenceScore(g,m,d);S>0&&S>s&&(s=S,l=g,c=m)}return s>0?[l,c]:null}_contiguousSequenceScore(i,n,t){let r=0;for(let d=0;d<t;d++){if(!this.ElementsAreEqual(i+d,n+d))return 0;r+=this._originalStringElements[i+d].length}return r}_OriginalIsBoundary(i){return i<=0||i>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[i])}_OriginalRegionIsBoundary(i,n){if(this._OriginalIsBoundary(i)||this._OriginalIsBoundary(i-1))return!0;if(n>0){const t=i+n;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(i){return i<=0||i>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[i])}_ModifiedRegionIsBoundary(i,n){if(this._ModifiedIsBoundary(i)||this._ModifiedIsBoundary(i-1))return!0;if(n>0){const t=i+n;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(i,n,t,r){const d=this._OriginalRegionIsBoundary(i,n)?1:0,o=this._ModifiedRegionIsBoundary(t,r)?1:0;return d+o}ConcatenateChanges(i,n){let t=[];if(i.length===0||n.length===0)return n.length>0?n:i;if(this.ChangesOverlap(i[i.length-1],n[0],t)){const r=new Array(i.length+n.length-1);return b.Copy(i,0,r,0,i.length-1),r[i.length-1]=t[0],b.Copy(n,1,r,i.length,n.length-1),r}else{const r=new Array(i.length+n.length);return b.Copy(i,0,r,0,i.length),b.Copy(n,0,r,i.length,n.length),r}}ChangesOverlap(i,n,t){if(L.Assert(i.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),L.Assert(i.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),i.originalStart+i.originalLength>=n.originalStart||i.modifiedStart+i.modifiedLength>=n.modifiedStart){const r=i.originalStart;let d=i.originalLength;const o=i.modifiedStart;let a=i.modifiedLength;return i.originalStart+i.originalLength>=n.originalStart&&(d=n.originalStart+n.originalLength-i.originalStart),i.modifiedStart+i.modifiedLength>=n.modifiedStart&&(a=n.modifiedStart+n.modifiedLength-i.modifiedStart),t[0]=new y.DiffChange(r,d,o,a),!0}else return t[0]=null,!1}ClipDiagonalBound(i,n,t,r){if(i>=0&&i<r)return i;const d=t,o=r-t-1,a=n%2==0;if(i<0){const s=d%2==0;return a===s?0:1}else{const s=o%2==0;return a===s?r-1:r-2}}}e.LcsDiff=u}),define(oe[172],se([1,0,115,18,10,141,4,56]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function C(n){return typeof n=="object"&&"visibility"in n&&"data"in n}e.isFilterResult=C;function u(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}e.getVisibleState=u;function h(n){return typeof n.collapsible=="boolean"}class i{constructor(t,r,d,o={}){this.user=t,this.list=r,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new N.Delayer(N.MicrotaskDelay),this.collapseByDefault=typeof o.collapseByDefault=="undefined"?!1:o.collapseByDefault,this.filter=o.filter,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren=="undefined"?!1:o.autoExpandSingleChildren,this.root={parent:void 0,element:d,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,r,d=b.Iterable.empty(),o={}){if(t.length===0)throw new y.TreeError(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,t,r,d,o):this.spliceSimple(t,r,d,o)}spliceSmart(t,r,d,o,a,s){var l;o===void 0&&(o=b.Iterable.empty()),s===void 0&&(s=(l=a.diffDepth)!==null&&l!==void 0?l:0);const{parentNode:c}=this.getParentNodeWithListIndex(r);if(!c.lastDiffIds)return this.spliceSimple(r,d,o,a);const g=[...o],m=r[r.length-1],S=new D.LcsDiff({getElements:()=>c.lastDiffIds},{getElements:()=>[...c.children.slice(0,m),...g,...c.children.slice(m+d)].map(E=>t.getId(E.element).toString())}).ComputeDiff(!1);if(S.quitEarly)return c.lastDiffIds=void 0,this.spliceSimple(r,d,g,a);const p=r.slice(0,-1),v=(E,I,T)=>{if(s>0)for(let R=0;R<T;R++)E--,I--,this.spliceSmart(t,[...p,E,0],Number.MAX_SAFE_INTEGER,g[I].children,a,s-1)};let _=Math.min(c.children.length,m+d),w=g.length;for(const E of S.changes.sort((I,T)=>T.originalStart-I.originalStart))v(_,w,_-(E.originalStart+E.originalLength)),_=E.originalStart,w=E.modifiedStart-m,this.spliceSimple([...p,_],E.originalLength,b.Iterable.slice(g,w,w+E.modifiedLength),a);v(_,w,_)}spliceSimple(t,r,d=b.Iterable.empty(),{onDidCreateNode:o,onDidDeleteNode:a,diffIdentityProvider:s}){const{parentNode:l,listIndex:c,revealed:g,visible:m}=this.getParentNodeWithListIndex(t),S=[],p=b.Iterable.map(d,A=>this.createTreeNode(A,l,l.visible?1:0,g,S,o)),v=t[t.length-1],_=l.children.length>0;let w=0;for(let A=v;A>=0&&A<l.children.length;A--){const F=l.children[A];if(F.visible){w=F.visibleChildIndex;break}}const E=[];let I=0,T=0;for(const A of p)E.push(A),T+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=w+I++);const R=(0,f.splice)(l.children,v,r,E);s?l.lastDiffIds?(0,f.splice)(l.lastDiffIds,v,r,E.map(A=>s.getId(A.element).toString())):l.lastDiffIds=l.children.map(A=>s.getId(A.element).toString()):l.lastDiffIds=void 0;let B=0;for(const A of R)A.visible&&B++;if(B!==0)for(let A=v+E.length;A<l.children.length;A++){const F=l.children[A];F.visible&&(F.visibleChildIndex-=B)}if(l.visibleChildrenCount+=I-B,g&&m){const A=R.reduce((F,P)=>F+(P.visible?P.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(l,T-A),this.list.splice(c,A,S)}if(R.length>0&&a){const A=F=>{a(F),F.children.forEach(A)};R.forEach(A)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:R});const O=l.children.length>0;_!==O&&this.setCollapsible(t.slice(0,-1),O);let k=l;for(;k;){if(k.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}k=k.parent}}rerender(t){if(t.length===0)throw new y.TreeError(this.user,"Invalid tree location");const{node:r,listIndex:d,revealed:o}=this.getTreeNodeWithListIndex(t);r.visible&&o&&this.list.splice(d,1,[r])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:r,visible:d,revealed:o}=this.getTreeNodeWithListIndex(t);return d&&o?r:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,r){const d=this.getTreeNode(t);typeof r=="undefined"&&(r=!d.collapsible);const o={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,o))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,r,d){const o=this.getTreeNode(t);typeof r=="undefined"&&(r=!o.collapsed);const a={collapsed:r,recursive:d||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,a))}_setCollapseState(t,r){const{node:d,listIndex:o,revealed:a}=this.getTreeNodeWithListIndex(t),s=this._setListNodeCollapseState(d,o,a,r);if(d!==this.root&&this.autoExpandSingleChildren&&s&&!h(r)&&d.collapsible&&!d.collapsed&&!r.recursive){let l=-1;for(let c=0;c<d.children.length;c++)if(d.children[c].visible)if(l>-1){l=-1;break}else l=c;l>-1&&this._setCollapseState([...t,l],r)}return s}_setListNodeCollapseState(t,r,d,o){const a=this._setNodeCollapseState(t,o,!1);if(!d||!t.visible||!a)return a;const s=t.renderNodeCount,l=this.updateNodeAfterCollapseChange(t),c=s-(r===-1?0:1);return this.list.splice(r+1,c,l.slice(1)),a}_setNodeCollapseState(t,r,d){let o;if(t===this.root?o=!1:(h(r)?(o=t.collapsible!==r.collapsible,t.collapsible=r.collapsible):t.collapsible?(o=t.collapsed!==r.collapsed,t.collapsed=r.collapsed):o=!1,o&&this._onDidChangeCollapseState.fire({node:t,deep:d})),!h(r)&&r.recursive)for(const a of t.children)o=this._setNodeCollapseState(a,r,!0)||o;return o}expandTo(t){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(t);for(;r.parent;)r=r.parent,t=t.slice(0,t.length-1),r.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,r),this.refilterDelayer.cancel()}createTreeNode(t,r,d,o,a,s){const l={parent:r,element:t.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},c=this._filterNode(l,d);l.visibility=c,o&&a.push(l);const g=t.children||b.Iterable.empty(),m=o&&c!==0&&!l.collapsed,S=b.Iterable.map(g,_=>this.createTreeNode(_,l,c,m,a,s));let p=0,v=1;for(const _ of S)l.children.push(_),v+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=p++);return l.collapsible=l.collapsible||l.children.length>0,l.visibleChildrenCount=p,l.visible=c===2?p>0:c===1,l.visible?l.collapsed||(l.renderNodeCount=v):(l.renderNodeCount=0,o&&a.pop()),s&&s(l),l}updateNodeAfterCollapseChange(t){const r=t.renderNodeCount,d=[];return this._updateNodeAfterCollapseChange(t,d),this._updateAncestorsRenderNodeCount(t.parent,d.length-r),d}_updateNodeAfterCollapseChange(t,r){if(t.visible===!1)return 0;if(r.push(t),t.renderNodeCount=1,!t.collapsed)for(const d of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(d,r);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const r=t.renderNodeCount,d=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,d),this._updateAncestorsRenderNodeCount(t.parent,d.length-r),d}_updateNodeAfterFilterChange(t,r,d,o=!0){let a;if(t!==this.root){if(a=this._filterNode(t,r),a===0)return t.visible=!1,t.renderNodeCount=0,!1;o&&d.push(t)}const s=d.length;t.renderNodeCount=t===this.root?0:1;let l=!1;if(!t.collapsed||a!==0){let c=0;for(const g of t.children)l=this._updateNodeAfterFilterChange(g,a,d,o&&!t.collapsed)||l,g.visible&&(g.visibleChildIndex=c++);t.visibleChildrenCount=c}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=a===2?l:a===1,t.visibility=a),t.visible?t.collapsed||(t.renderNodeCount+=d.length-s):(t.renderNodeCount=0,o&&d.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,r){if(r!==0)for(;t;)t.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,r){const d=this.filter?this.filter.filter(t.element,r):1;return typeof d=="boolean"?(t.filterData=void 0,d?1:0):C(d)?(t.filterData=d.data,u(d.visibility)):(t.filterData=void 0,u(d))}hasTreeNode(t,r=this.root){if(!t||t.length===0)return!0;const[d,...o]=t;return d<0||d>r.children.length?!1:this.hasTreeNode(o,r.children[d])}getTreeNode(t,r=this.root){if(!t||t.length===0)return r;const[d,...o]=t;if(d<0||d>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");return this.getTreeNode(o,r.children[d])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:d,revealed:o,visible:a}=this.getParentNodeWithListIndex(t),s=t[t.length-1];if(s<0||s>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");const l=r.children[s];return{node:l,listIndex:d,revealed:o,visible:a&&l.visible}}getParentNodeWithListIndex(t,r=this.root,d=0,o=!0,a=!0){const[s,...l]=t;if(s<0||s>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");for(let c=0;c<s;c++)d+=r.children[c].renderNodeCount;return o=o&&!r.collapsed,a=a&&r.visible,l.length===0?{parentNode:r,listIndex:d,revealed:o,visible:a}:this.getParentNodeWithListIndex(l,r.children[s],d+1,o,a)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const r=[];let d=t;for(;d.parent;)r.push(d.parent.children.indexOf(d)),d=d.parent;return r.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,f.tail2)(t)[0]}getFirstElementChild(t){const r=this.getTreeNode(t);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=i}),define(oe[173],se([1,0,172,115,56]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(b,C,u={}){this.user=b,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.IndexTreeModel(b,C,null,u),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,u.sorter&&(this.sorter={compare(h,i){return u.sorter.compare(h.element,i.element)}}),this.identityProvider=u.identityProvider}setChildren(b,C=N.Iterable.empty(),u={}){const h=this.getElementLocation(b);this._setChildren(h,this.preserveCollapseState(C),u)}_setChildren(b,C=N.Iterable.empty(),u){const h=new Set,i=new Set,n=r=>{var d;if(r.element===null)return;const o=r;if(h.add(o.element),this.nodes.set(o.element,o),this.identityProvider){const a=this.identityProvider.getId(o.element).toString();i.add(a),this.nodesByIdentity.set(a,o)}(d=u.onDidCreateNode)===null||d===void 0||d.call(u,o)},t=r=>{var d;if(r.element===null)return;const o=r;if(h.has(o.element)||this.nodes.delete(o.element),this.identityProvider){const a=this.identityProvider.getId(o.element).toString();i.has(a)||this.nodesByIdentity.delete(a)}(d=u.onDidDeleteNode)===null||d===void 0||d.call(u,o)};this.model.splice([...b,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},u),{onDidCreateNode:n,onDidDeleteNode:t}))}preserveCollapseState(b=N.Iterable.empty()){return this.sorter&&(b=[...b].sort(this.sorter.compare.bind(this.sorter))),N.Iterable.map(b,C=>{let u=this.nodes.get(C.element);if(!u&&this.identityProvider){const n=this.identityProvider.getId(C.element).toString();u=this.nodesByIdentity.get(n)}if(!u)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const h=typeof C.collapsible=="boolean"?C.collapsible:u.collapsible,i=typeof C.collapsed!="undefined"?C.collapsed:u.collapsed;return Object.assign(Object.assign({},C),{collapsible:h,collapsed:i,children:this.preserveCollapseState(C.children)})})}rerender(b){const C=this.getElementLocation(b);this.model.rerender(C)}getFirstElementChild(b=null){const C=this.getElementLocation(b);return this.model.getFirstElementChild(C)}has(b){return this.nodes.has(b)}getListIndex(b){const C=this.getElementLocation(b);return this.model.getListIndex(C)}getListRenderCount(b){const C=this.getElementLocation(b);return this.model.getListRenderCount(C)}isCollapsible(b){const C=this.getElementLocation(b);return this.model.isCollapsible(C)}setCollapsible(b,C){const u=this.getElementLocation(b);return this.model.setCollapsible(u,C)}isCollapsed(b){const C=this.getElementLocation(b);return this.model.isCollapsed(C)}setCollapsed(b,C,u){const h=this.getElementLocation(b);return this.model.setCollapsed(h,C,u)}expandTo(b){const C=this.getElementLocation(b);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(b=null){if(b===null)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(b);if(!C)throw new f.TreeError(this.user,`Tree element not found: ${b}`);return C}getNodeLocation(b){return b.element}getParentNodeLocation(b){if(b===null)throw new f.TreeError(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(b);if(!C)throw new f.TreeError(this.user,`Tree element not found: ${b}`);const u=this.model.getNodeLocation(C),h=this.model.getParentNodeLocation(u);return this.model.getNode(h).element}getElementLocation(b){if(b===null)return[];const C=this.nodes.get(b);if(!C)throw new f.TreeError(this.user,`Tree element not found: ${b}`);return this.model.getNodeLocation(C)}}e.ObjectTreeModel=D}),define(oe[328],se([1,0,173,115,4,56]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function L(s){const l=[s.element],c=s.incompressible||!1;return{element:{elements:l,incompressible:c},children:D.Iterable.map(D.Iterable.from(s.children),L),collapsible:s.collapsible,collapsed:s.collapsed}}function b(s){const l=[s.element],c=s.incompressible||!1;let g,m;for(;[m,g]=D.Iterable.consume(D.Iterable.from(s.children),2),!(m.length!==1||m[0].incompressible);)s=m[0],l.push(s.element);return{element:{elements:l,incompressible:c},children:D.Iterable.map(D.Iterable.concat(m,g),b),collapsible:s.collapsible,collapsed:s.collapsed}}e.compress=b;function C(s,l=0){let c;return l<s.element.elements.length-1?c=[C(s,l+1)]:c=D.Iterable.map(D.Iterable.from(s.children),g=>C(g,0)),l===0&&s.element.incompressible?{element:s.element.elements[l],children:c,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[l],children:c,collapsible:s.collapsible,collapsed:s.collapsed}}function u(s){return C(s,0)}e.decompress=u;function h(s,l,c){return s.element===l?Object.assign(Object.assign({},s),{children:c}):Object.assign(Object.assign({},s),{children:D.Iterable.map(D.Iterable.from(s.children),g=>h(g,l,c))})}const i=s=>({getId(l){return l.elements.map(c=>s.getId(c).toString()).join("\0")}});class n{constructor(l,c,g={}){this.user=l,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(l,c,g),this.enabled=typeof g.compressionEnabled=="undefined"?!0:g.compressionEnabled,this.identityProvider=g.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(l,c=D.Iterable.empty(),g){const m=g.diffIdentityProvider&&i(g.diffIdentityProvider);if(l===null){const R=D.Iterable.map(c,this.enabled?b:L);this._setChildren(null,R,{diffIdentityProvider:m,diffDepth:1/0});return}const S=this.nodes.get(l);if(!S)throw new Error("Unknown compressed tree node");const p=this.model.getNode(S),v=this.model.getParentNodeLocation(S),_=this.model.getNode(v),w=u(p),E=h(w,l,c),I=(this.enabled?b:L)(E),T=_.children.map(R=>R===p?I:R);this._setChildren(_.element,T,{diffIdentityProvider:m,diffDepth:p.depth-_.depth})}setCompressionEnabled(l){if(l===this.enabled)return;this.enabled=l;const g=this.model.getNode().children,m=D.Iterable.map(g,u),S=D.Iterable.map(m,l?b:L);this._setChildren(null,S,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(l,c,g){const m=new Set,S=v=>{for(const _ of v.element.elements)m.add(_),this.nodes.set(_,v.element)},p=v=>{for(const _ of v.element.elements)m.has(_)||this.nodes.delete(_)};this.model.setChildren(l,c,Object.assign(Object.assign({},g),{onDidCreateNode:S,onDidDeleteNode:p}))}has(l){return this.nodes.has(l)}getListIndex(l){const c=this.getCompressedNode(l);return this.model.getListIndex(c)}getListRenderCount(l){const c=this.getCompressedNode(l);return this.model.getListRenderCount(c)}getNode(l){if(typeof l=="undefined")return this.model.getNode();const c=this.getCompressedNode(l);return this.model.getNode(c)}getNodeLocation(l){const c=this.model.getNodeLocation(l);return c===null?null:c.elements[c.elements.length-1]}getParentNodeLocation(l){const c=this.getCompressedNode(l),g=this.model.getParentNodeLocation(c);return g===null?null:g.elements[g.elements.length-1]}getFirstElementChild(l){const c=this.getCompressedNode(l);return this.model.getFirstElementChild(c)}isCollapsible(l){const c=this.getCompressedNode(l);return this.model.isCollapsible(c)}setCollapsible(l,c){const g=this.getCompressedNode(l);return this.model.setCollapsible(g,c)}isCollapsed(l){const c=this.getCompressedNode(l);return this.model.isCollapsed(c)}setCollapsed(l,c,g){const m=this.getCompressedNode(l);return this.model.setCollapsed(m,c,g)}expandTo(l){const c=this.getCompressedNode(l);this.model.expandTo(c)}rerender(l){const c=this.getCompressedNode(l);this.model.rerender(c)}refilter(){this.model.refilter()}getCompressedNode(l){if(l===null)return null;const c=this.nodes.get(l);if(!c)throw new f.TreeError(this.user,`Tree element not found: ${l}`);return c}}e.CompressedObjectTreeModel=n;const t=s=>s[s.length-1];e.DefaultElementMapper=t;class r{constructor(l,c){this.unwrapper=l,this.node=c}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(l=>new r(this.unwrapper,l))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(s,l){return{splice(c,g,m){l.splice(c,g,m.map(S=>s.map(S)))},updateElementHeight(c,g){l.updateElementHeight(c,g)}}}function o(s,l){return Object.assign(Object.assign({},l),{identityProvider:l.identityProvider&&{getId(c){return l.identityProvider.getId(s(c))}},sorter:l.sorter&&{compare(c,g){return l.sorter.compare(c.elements[0],g.elements[0])}},filter:l.filter&&{filter(c,g){return l.filter.filter(s(c),g)}}})}class a{constructor(l,c,g={}){this.rootRef=null,this.elementMapper=g.elementMapper||e.DefaultElementMapper;const m=S=>this.elementMapper(S.elements);this.nodeMapper=new f.WeakMapper(S=>new r(m,S)),this.model=new n(l,d(this.nodeMapper,c),o(m,g))}get onDidSplice(){return N.Event.map(this.model.onDidSplice,({insertedNodes:l,deletedNodes:c})=>({insertedNodes:l.map(g=>this.nodeMapper.map(g)),deletedNodes:c.map(g=>this.nodeMapper.map(g))}))}get onDidChangeCollapseState(){return N.Event.map(this.model.onDidChangeCollapseState,({node:l,deep:c})=>({node:this.nodeMapper.map(l),deep:c}))}get onDidChangeRenderNodeCount(){return N.Event.map(this.model.onDidChangeRenderNodeCount,l=>this.nodeMapper.map(l))}setChildren(l,c=D.Iterable.empty(),g={}){this.model.setChildren(l,c,g)}setCompressionEnabled(l){this.model.setCompressionEnabled(l)}has(l){return this.model.has(l)}getListIndex(l){return this.model.getListIndex(l)}getListRenderCount(l){return this.model.getListRenderCount(l)}getNode(l){return this.nodeMapper.map(this.model.getNode(l))}getNodeLocation(l){return l.element}getParentNodeLocation(l){return this.model.getParentNodeLocation(l)}getFirstElementChild(l){const c=this.model.getFirstElementChild(l);return c===null||typeof c=="undefined"?c:this.elementMapper(c.elements)}isCollapsible(l){return this.model.isCollapsible(l)}setCollapsible(l,c){return this.model.setCollapsible(l,c)}isCollapsed(l){return this.model.isCollapsed(l)}setCollapsed(l,c,g){return this.model.setCollapsed(l,c,g)}expandTo(l){return this.model.expandTo(l)}rerender(l){return this.model.rerender(l)}refilter(){return this.model.refilter()}getCompressedTreeNode(l=null){return this.model.getNode(l)}}e.CompressibleObjectTreeModel=a}),define(oe[329],se([1,0,171,17]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function N(L,b=f.isWindows){return(0,y.hasDriveLetter)(L,b)?L.charAt(0).toUpperCase()+L.slice(1):L}e.normalizeDriveLetter=N;let D=Object.create(null)}),define(oe[50],se([1,0,8]),function(K,e,y){"use strict";var f,N;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class D{constructor(){this._value="",this._pos=0}reset(o){return this._value=o,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(o){const a=o.charCodeAt(0),s=this._value.charCodeAt(this._pos);return a-s}value(){return this._value[this._pos]}}e.StringIterator=D;class L{constructor(o=!0){this._caseSensitive=o}reset(o){return this._value=o,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let o=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(o)this._from++;else break;else o=!1;return this}cmp(o){return this._caseSensitive?(0,y.compareSubstring)(o,this._value,0,o.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(o,this._value,0,o.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=L;class b{constructor(o=!0,a=!0){this._splitOnBackslash=o,this._caseSensitive=a}reset(o){this._from=0,this._to=0,this._value=o,this._valueLen=o.length;for(let a=o.length-1;a>=0;a--,this._valueLen--){const s=this._value.charCodeAt(a);if(!(s===47||this._splitOnBackslash&&s===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let o=!0;for(;this._to<this._valueLen;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(o)this._from++;else break;else o=!1}return this}cmp(o){return this._caseSensitive?(0,y.compareSubstring)(o,this._value,0,o.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(o,this._value,0,o.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=b;class C{constructor(o,a){this._ignorePathCasing=o,this._ignoreQueryAndFragment=a,this._states=[],this._stateIdx=0}reset(o){return this._value=o,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(o)),this._pathIterator.reset(o.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(o)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(o){if(this._states[this._stateIdx]===1)return(0,y.compareIgnoreCase)(o,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,y.compareIgnoreCase)(o,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(o);if(this._states[this._stateIdx]===4)return(0,y.compare)(o,this._value.query);if(this._states[this._stateIdx]===5)return(0,y.compare)(o,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=C;class u{constructor(){this.height=1}rotateLeft(){const o=this.right;return this.right=o.left,o.left=this,this.updateHeight(),o.updateHeight(),o}rotateRight(){const o=this.left;return this.left=o.right,o.right=this,this.updateHeight(),o.updateHeight(),o}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var o,a;return(a=(o=this.left)===null||o===void 0?void 0:o.height)!==null&&a!==void 0?a:0}get heightRight(){var o,a;return(a=(o=this.right)===null||o===void 0?void 0:o.height)!==null&&a!==void 0?a:0}}class h{constructor(o){this._iter=o}static forUris(o=()=>!1,a=()=>!1){return new h(new C(o,a))}static forStrings(){return new h(new D)}static forConfigKeys(){return new h(new L)}clear(){this._root=void 0}set(o,a){const s=this._iter.reset(o);let l;this._root||(this._root=new u,this._root.segment=s.value());const c=[];for(l=this._root;;){const m=s.cmp(l.segment);if(m>0)l.left||(l.left=new u,l.left.segment=s.value()),c.push([-1,l]),l=l.left;else if(m<0)l.right||(l.right=new u,l.right.segment=s.value()),c.push([1,l]),l=l.right;else if(s.hasNext())s.next(),l.mid||(l.mid=new u,l.mid.segment=s.value()),c.push([0,l]),l=l.mid;else break}const g=l.value;l.value=a,l.key=o;for(let m=c.length-1;m>=0;m--){const S=c[m][1];S.updateHeight();const p=S.balanceFactor();if(p<-1||p>1){const v=c[m][0],_=c[m+1][0];if(v===1&&_===1)c[m][1]=S.rotateLeft();else if(v===-1&&_===-1)c[m][1]=S.rotateRight();else if(v===1&&_===-1)S.right=c[m+1][1]=c[m+1][1].rotateRight(),c[m][1]=S.rotateLeft();else if(v===-1&&_===1)S.left=c[m+1][1]=c[m+1][1].rotateLeft(),c[m][1]=S.rotateRight();else throw new Error;if(m>0)switch(c[m-1][0]){case-1:c[m-1][1].left=c[m][1];break;case 1:c[m-1][1].right=c[m][1];break;case 0:c[m-1][1].mid=c[m][1];break}else this._root=c[0][1]}}return g}get(o){var a;return(a=this._getNode(o))===null||a===void 0?void 0:a.value}_getNode(o){const a=this._iter.reset(o);let s=this._root;for(;s;){const l=a.cmp(s.segment);if(l>0)s=s.left;else if(l<0)s=s.right;else if(a.hasNext())a.next(),s=s.mid;else break}return s}has(o){const a=this._getNode(o);return!((a==null?void 0:a.value)===void 0&&(a==null?void 0:a.mid)===void 0)}delete(o){return this._delete(o,!1)}deleteSuperstr(o){return this._delete(o,!0)}_delete(o,a){var s;const l=this._iter.reset(o),c=[];let g=this._root;for(;g;){const m=l.cmp(g.segment);if(m>0)c.push([-1,g]),g=g.left;else if(m<0)c.push([1,g]),g=g.right;else if(l.hasNext())l.next(),c.push([0,g]),g=g.mid;else break}if(!!g){if(a?(g.left=void 0,g.mid=void 0,g.right=void 0,g.height=1):(g.key=void 0,g.value=void 0),!g.mid&&!g.value)if(g.left&&g.right){const m=this._min(g.right),{key:S,value:p,segment:v}=m;this._delete(m.key,!1),g.key=S,g.value=p,g.segment=v}else{const m=(s=g.left)!==null&&s!==void 0?s:g.right;if(c.length>0){const[S,p]=c[c.length-1];switch(S){case-1:p.left=m;break;case 0:p.mid=m;break;case 1:p.right=m;break}}else this._root=m}for(let m=c.length-1;m>=0;m--){const S=c[m][1];S.updateHeight();const p=S.balanceFactor();if(p>1?(S.right.balanceFactor()>=0||(S.right=S.right.rotateRight()),c[m][1]=S.rotateLeft()):p<-1&&(S.left.balanceFactor()<=0||(S.left=S.left.rotateLeft()),c[m][1]=S.rotateRight()),m>0)switch(c[m-1][0]){case-1:c[m-1][1].left=c[m][1];break;case 1:c[m-1][1].right=c[m][1];break;case 0:c[m-1][1].mid=c[m][1];break}else this._root=c[0][1]}}}_min(o){for(;o.left;)o=o.left;return o}findSubstr(o){const a=this._iter.reset(o);let s=this._root,l;for(;s;){const c=a.cmp(s.segment);if(c>0)s=s.left;else if(c<0)s=s.right;else if(a.hasNext())a.next(),l=s.value||l,s=s.mid;else break}return s&&s.value||l}findSuperstr(o){const a=this._iter.reset(o);let s=this._root;for(;s;){const l=a.cmp(s.segment);if(l>0)s=s.left;else if(l<0)s=s.right;else if(a.hasNext())a.next(),s=s.mid;else return s.mid?this._entries(s.mid):void 0}}forEach(o){for(const[a,s]of this)o(s,a)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(o){!o||(o.left&&(yield*this._entries(o.left)),o.value&&(yield[o.key,o.value]),o.mid&&(yield*this._entries(o.mid)),o.right&&(yield*this._entries(o.right)))}}e.TernarySearchTree=h;class i{constructor(o,a){this.uri=o,this.value=a}}class n{constructor(o,a){this[f]="ResourceMap",o instanceof n?(this.map=new Map(o.map),this.toKey=a??n.defaultToKey):(this.map=new Map,this.toKey=o??n.defaultToKey)}set(o,a){return this.map.set(this.toKey(o),new i(o,a)),this}get(o){var a;return(a=this.map.get(this.toKey(o)))===null||a===void 0?void 0:a.value}has(o){return this.map.has(this.toKey(o))}get size(){return this.map.size}clear(){this.map.clear()}delete(o){return this.map.delete(this.toKey(o))}forEach(o,a){typeof a!="undefined"&&(o=o.bind(a));for(let[s,l]of this.map)o(l.value,l.uri,this)}*values(){for(let o of this.map.values())yield o.value}*keys(){for(let o of this.map.values())yield o.uri}*entries(){for(let o of this.map.values())yield[o.uri,o.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(let[,o]of this.map)yield[o.uri,o.value]}}e.ResourceMap=n,n.defaultToKey=d=>d.toString();class t{constructor(){this[N]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var o;return(o=this._head)===null||o===void 0?void 0:o.value}get last(){var o;return(o=this._tail)===null||o===void 0?void 0:o.value}has(o){return this._map.has(o)}get(o,a=0){const s=this._map.get(o);if(!!s)return a!==0&&this.touch(s,a),s.value}set(o,a,s=0){let l=this._map.get(o);if(l)l.value=a,s!==0&&this.touch(l,s);else{switch(l={key:o,value:a,next:void 0,previous:void 0},s){case 0:this.addItemLast(l);break;case 1:this.addItemFirst(l);break;case 2:this.addItemLast(l);break;default:this.addItemLast(l);break}this._map.set(o,l),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){const a=this._map.get(o);if(!!a)return this._map.delete(o),this.removeItem(a),this._size--,a.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,a){const s=this._state;let l=this._head;for(;l;){if(a?o.bind(a)(l.value,l.key,this):o(l.value,l.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const o=this,a=this._state;let s=this._head;const l={[Symbol.iterator](){return l},next(){if(o._state!==a)throw new Error("LinkedMap got modified during iteration.");if(s){const c={value:s.key,done:!1};return s=s.next,c}else return{value:void 0,done:!0}}};return l}values(){const o=this,a=this._state;let s=this._head;const l={[Symbol.iterator](){return l},next(){if(o._state!==a)throw new Error("LinkedMap got modified during iteration.");if(s){const c={value:s.value,done:!1};return s=s.next,c}else return{value:void 0,done:!0}}};return l}entries(){const o=this,a=this._state;let s=this._head;const l={[Symbol.iterator](){return l},next(){if(o._state!==a)throw new Error("LinkedMap got modified during iteration.");if(s){const c={value:[s.key,s.value],done:!1};return s=s.next,c}else return{value:void 0,done:!0}}};return l}[(N=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let a=this._head,s=this.size;for(;a&&s>o;)this._map.delete(a.key),a=a.next,s--;this._head=a,this._size=s,a&&(a.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{const a=o.next,s=o.previous;if(!a||!s)throw new Error("Invalid list");a.previous=s,s.next=a}o.next=void 0,o.previous=void 0,this._state++}touch(o,a){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(a!==1&&a!==2)){if(a===1){if(o===this._head)return;const s=o.next,l=o.previous;o===this._tail?(l.next=void 0,this._tail=l):(s.previous=l,l.next=s),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(a===2){if(o===this._tail)return;const s=o.next,l=o.previous;o===this._head?(s.previous=void 0,this._head=s):(s.previous=l,l.next=s),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){const o=[];return this.forEach((a,s)=>{o.push([s,a])}),o}fromJSON(o){this.clear();for(const[a,s]of o)this.set(a,s)}}e.LinkedMap=t;class r extends t{constructor(o,a=1){super();this._limit=o,this._ratio=Math.min(Math.max(0,a),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get(o,a=2){return super.get(o,a)}peek(o){return super.get(o,0)}set(o,a){return super.set(o,a,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=r}),define(oe[64],se([1,0,50,8]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function N(...$){return function(H,ee){for(let te=0,de=$.length;te<de;te++){const he=$[te](H,ee);if(he)return he}return null}}e.or=N,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D($,H,ee){if(!ee||ee.length<H.length)return null;let te;return $?te=f.startsWithIgnoreCase(ee,H):te=ee.indexOf(H)===0,te?H.length>0?[{start:0,end:H.length}]:[]:null}function L($,H){const ee=H.toLowerCase().indexOf($.toLowerCase());return ee===-1?null:[{start:ee,end:ee+$.length}]}e.matchesContiguousSubString=L;function b($,H){return C($.toLowerCase(),H.toLowerCase(),0,0)}e.matchesSubString=b;function C($,H,ee,te){if(ee===$.length)return[];if(te===H.length)return null;if($[ee]===H[te]){let de=null;return(de=C($,H,ee+1,te+1))?a({start:te,end:te+1},de):null}return C($,H,ee,te+1)}function u($){return 97<=$&&$<=122}function h($){return 65<=$&&$<=90}e.isUpper=h;function i($){return 48<=$&&$<=57}function n($){return $===32||$===9||$===10||$===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>t.add($.charCodeAt(0)));function r($){return n($)||t.has($)}function d($,H){return $===H||r($)&&r(H)}function o($){return u($)||h($)||i($)}function a($,H){return H.length===0?H=[$]:$.end===H[0].start?H[0].start=$.start:H.unshift($),H}function s($,H){for(let ee=H;ee<$.length;ee++){const te=$.charCodeAt(ee);if(h(te)||i(te)||ee>0&&!o($.charCodeAt(ee-1)))return ee}return $.length}function l($,H,ee,te){if(ee===$.length)return[];if(te===H.length)return null;if($[ee]!==H[te].toLowerCase())return null;{let de=null,he=te+1;for(de=l($,H,ee+1,te+1);!de&&(he=s(H,he))<H.length;)de=l($,H,ee+1,he),he++;return de===null?null:a({start:te,end:te+1},de)}}function c($){let H=0,ee=0,te=0,de=0,he=0;for(let me=0;me<$.length;me++)he=$.charCodeAt(me),h(he)&&H++,u(he)&&ee++,o(he)&&te++,i(he)&&de++;const pe=H/$.length,ve=ee/$.length,ue=te/$.length,Ce=de/$.length;return{upperPercent:pe,lowerPercent:ve,alphaPercent:ue,numericPercent:Ce}}function g($){const{upperPercent:H,lowerPercent:ee}=$;return ee===0&&H>.6}function m($){const{upperPercent:H,lowerPercent:ee,alphaPercent:te,numericPercent:de}=$;return ee>.2&&H<.8&&te>.6&&de<.2}function S($){let H=0,ee=0,te=0,de=0;for(let he=0;he<$.length;he++)te=$.charCodeAt(he),h(te)&&H++,u(te)&&ee++,n(te)&&de++;return(H===0||ee===0)&&de===0?$.length<=30:H<=5}function p($,H){if(!H||(H=H.trim(),H.length===0)||!S($)||H.length>60)return null;const ee=c(H);if(!m(ee)){if(!g(ee))return null;H=H.toLowerCase()}let te=null,de=0;for($=$.toLowerCase();de<H.length&&(te=l($,H,0,de))===null;)de=s(H,de+1);return te}e.matchesCamelCase=p;function v($,H,ee=!1){if(!H||H.length===0)return null;let te=null,de=0;for($=$.toLowerCase(),H=H.toLowerCase();de<H.length&&(te=_($,H,0,de,ee))===null;)de=w(H,de+1);return te}e.matchesWords=v;function _($,H,ee,te,de){if(ee===$.length)return[];if(te===H.length)return null;if(d($.charCodeAt(ee),H.charCodeAt(te))){let he=null,pe=te+1;if(he=_($,H,ee+1,te+1,de),!de)for(;!he&&(pe=w(H,pe))<H.length;)he=_($,H,ee+1,pe,de),pe++;return he===null?null:a({start:te,end:te+1},he)}else return null}function w($,H){for(let ee=H;ee<$.length;ee++)if(r($.charCodeAt(ee))||ee>0&&r($.charCodeAt(ee-1)))return ee;return $.length}const E=N(e.matchesPrefix,p,L),I=N(e.matchesPrefix,p,b),T=new y.LRUCache(1e4);function R($,H,ee=!1){if(typeof $!="string"||typeof H!="string")return null;let te=T.get($);te||(te=new RegExp(f.convertSimple2RegExpPattern($),"i"),T.set($,te));const de=te.exec(H);return de?[{start:de.index,end:de.index+de[0].length}]:ee?I($,H):E($,H)}e.matchesFuzzy=R;function B($,H,ee,te,de,he){const pe=Math.min(13,$.length);for(;ee<pe;ee++){const ve=re($,H,ee,te,de,he,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(ve)return ve}return[0,he]}e.anyScore=B;function O($){if(typeof $=="undefined")return[];const H=[],ee=$[1];for(let te=$.length-1;te>1;te--){const de=$[te]+ee,he=H[H.length-1];he&&he.end===de?he.end=de+1:H.push({start:de,end:de+1})}return H}e.createMatches=O;const k=128;function A(){const $=[],H=[];for(let ee=0;ee<=k;ee++)H[ee]=0;for(let ee=0;ee<=k;ee++)$.push(H.slice(0));return $}function F($){const H=[];for(let ee=0;ee<=$;ee++)H[ee]=0;return H}const P=F(2*k),W=F(2*k),M=A(),z=A(),Q=A(),ne=!1;function X($,H,ee,te,de){function he(ve,ue,Ce=" "){for(;ve.length<ue;)ve=Ce+ve;return ve}let pe=` |   |${te.split("").map(ve=>he(ve,3)).join("|")}
`;for(let ve=0;ve<=ee;ve++)ve===0?pe+=" |":pe+=`${H[ve-1]}|`,pe+=$[ve].slice(0,de+1).map(ue=>he(ue.toString(),3)).join("|")+`
`;return pe}function J($,H,ee,te){$=$.substr(H),ee=ee.substr(te),console.log(X(z,$,$.length,ee,ee.length)),console.log(X(Q,$,$.length,ee,ee.length)),console.log(X(M,$,$.length,ee,ee.length))}function ie($,H){if(H<0||H>=$.length)return!1;const ee=$.codePointAt(H);switch(ee){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!f.isEmojiImprecise(ee)}}function le($,H){if(H<0||H>=$.length)return!1;switch($.charCodeAt(H)){case 32:case 9:return!0;default:return!1}}function G($,H,ee){return H[$]!==ee[$]}function x($,H,ee,te,de,he,pe=!1){for(;H<ee&&de<he;)$[H]===te[de]&&(pe&&(P[H]=de),H+=1),de+=1;return H===ee}e.isPatternInWord=x;var V;(function($){$.Default=[-100,0];function H(ee){return!ee||ee.length===2&&ee[0]===-100&&ee[1]===0}$.isDefault=H})(V=e.FuzzyScore||(e.FuzzyScore={}));class j{constructor(H,ee){this.firstMatchCanBeWeak=H,this.boostFullMatch=ee}}e.FuzzyScoreOptions=j,j.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function re($,H,ee,te,de,he,pe=j.default){const ve=$.length>k?k:$.length,ue=te.length>k?k:te.length;if(ee>=ve||he>=ue||ve-ee>ue-he||!x(H,ee,ve,de,he,ue,!0))return;ae(ve,ue,ee,he,H,de);let Ce=1,me=1,be=ee,ce=he;const ge=[!1];for(Ce=1,be=ee;be<ve;Ce++,be++){const Me=P[be],_e=W[be],Se=be+1<ve?W[be+1]:ue;for(me=Me-he+1,ce=Me;ce<Se;me++,ce++){let Ee=Number.MIN_SAFE_INTEGER,Ae=!1;ce<=_e&&(Ee=Y($,H,be,ee,te,de,ce,ue,he,M[Ce-1][me-1]===0,ge));let Pe=0;Ee!==Number.MAX_SAFE_INTEGER&&(Ae=!0,Pe=Ee+z[Ce-1][me-1]);const xe=ce>Me,Ue=xe?z[Ce][me-1]+(M[Ce][me-1]>0?-5:0):0,He=ce>Me+1&&M[Ce][me-1]>0,Ke=He?z[Ce][me-2]+(M[Ce][me-2]>0?-5:0):0;if(He&&(!xe||Ke>=Ue)&&(!Ae||Ke>=Pe))z[Ce][me]=Ke,Q[Ce][me]=3,M[Ce][me]=0;else if(xe&&(!Ae||Ue>=Pe))z[Ce][me]=Ue,Q[Ce][me]=2,M[Ce][me]=0;else if(Ae)z[Ce][me]=Pe,Q[Ce][me]=1,M[Ce][me]=M[Ce-1][me-1]+1;else throw new Error("not possible")}}if(ne&&J($,ee,te,he),!ge[0]&&!pe.firstMatchCanBeWeak)return;Ce--,me--;const we=[z[Ce][me],he];let ye=0,Te=0;for(;Ce>=1;){let Me=me;do{const _e=Q[Ce][Me];if(_e===3)Me=Me-2;else if(_e===2)Me=Me-1;else break}while(Me>=1);ye>1&&H[ee+Ce-1]===de[he+me-1]&&!G(Me+he-1,te,de)&&ye+1>M[Ce][Me]&&(Me=me),Me===me?ye++:ye=1,Te||(Te=Me),Ce--,me=Me-1,we.push(me)}ue===ve&&pe.boostFullMatch&&(we[0]+=2);const ke=Te-ve;return we[0]-=ke,we}e.fuzzyScore=re;function ae($,H,ee,te,de,he){let pe=$-1,ve=H-1;for(;pe>=ee&&ve>=te;)de[pe]===he[ve]&&(W[pe]=ve,pe--),ve--}function Y($,H,ee,te,de,he,pe,ve,ue,Ce,me){if(H[ee]!==he[pe])return Number.MIN_SAFE_INTEGER;let be=1,ce=!1;return pe===ee-te?be=$[ee]===de[pe]?7:5:G(pe,de,he)&&(pe===0||!G(pe-1,de,he))?(be=$[ee]===de[pe]?7:5,ce=!0):ie(he,pe)&&(pe===0||!ie(he,pe-1))?be=5:(ie(he,pe-1)||le(he,pe-1))&&(be=5,ce=!0),be>1&&ee===te&&(me[0]=!0),ce||(ce=G(pe,de,he)||ie(he,pe-1)||le(he,pe-1)),ee===te?pe>ue&&(be-=ce?3:5):Ce?be+=ce?2:0:be+=ce?0:1,pe+1===ve&&(be-=ce?3:5),be}function U($,H,ee,te,de,he,pe){return Z($,H,ee,te,de,he,!0,pe)}e.fuzzyScoreGracefulAggressive=U;function Z($,H,ee,te,de,he,pe,ve){let ue=re($,H,ee,te,de,he,ve);if(ue&&!pe)return ue;if($.length>=3){const Ce=Math.min(7,$.length-1);for(let me=ee+1;me<Ce;me++){const be=q($,me);if(be){const ce=re(be,be.toLowerCase(),ee,te,de,he,ve);ce&&(ce[0]-=3,(!ue||ce[0]>ue[0])&&(ue=ce))}}}return ue}function q($,H){if(H+1>=$.length)return;const ee=$[H],te=$[H+1];if(ee!==te)return $.slice(0,H)+te+ee+$.slice(H+2)}}),define(oe[330],se([1,0,64,85,17,8]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const L=[void 0,[]];function b(s,l,c=0,g=0){const m=l;return m.values&&m.values.length>1?C(s,m.values,c,g):u(s,l,c,g)}e.scoreFuzzy2=b;function C(s,l,c,g){let m=0;const S=[];for(const p of l){const[v,_]=u(s,p,c,g);if(typeof v!="number")return L;m+=v,S.push(..._)}return[m,i(S)]}function u(s,l,c,g){const m=(0,y.fuzzyScore)(l.original,l.originalLowercase,c,s,s.toLowerCase(),g,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return m?[m[0],(0,y.createMatches)(m)]:L}const h=Object.freeze({score:0});function i(s){const l=s.sort((m,S)=>m.start-S.start),c=[];let g;for(const m of l)!g||!n(g,m)?(g=m,c.push(m)):(g.start=Math.min(g.start,m.start),g.end=Math.max(g.end,m.end));return c}function n(s,l){return!(s.end<l.start||l.end<s.start)}function t(s){return s.startsWith('"')&&s.endsWith('"')}const r=" ";function d(s){typeof s!="string"&&(s="");const l=s.toLowerCase(),{pathNormalized:c,normalized:g,normalizedLowercase:m}=o(s),S=c.indexOf(f.sep)>=0,p=t(s);let v;const _=s.split(r);if(_.length>1)for(const w of _){const E=t(w),{pathNormalized:I,normalized:T,normalizedLowercase:R}=o(w);T&&(v||(v=[]),v.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:R,expectContiguousMatch:E}))}return{original:s,originalLowercase:l,pathNormalized:c,normalized:g,normalizedLowercase:m,values:v,containsPathSeparator:S,expectContiguousMatch:p}}e.prepareQuery=d;function o(s){let l;N.isWindows?l=s.replace(/\//g,f.sep):l=s.replace(/\\/g,f.sep);const c=(0,D.stripWildcards)(l).replace(/\s|"/g,"");return{pathNormalized:l,normalized:c,normalizedLowercase:c.toLowerCase()}}function a(s){return Array.isArray(s)?d(s.map(l=>l.original).join(r)):d(s.original)}e.pieceToQuery=a}),define(oe[220],se([1,0,10,171,50,85,17,8]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const C="[/\\\\]",u="[^/\\\\]",h=/\//g;function i(P,W){switch(P){case 0:return"";case 1:return`${u}*?`;default:return`(?:${C}|${u}+${C}${W?`|${C}${u}+`:""})*?`}}function n(P,W){if(!P)return[];const M=[];let z=!1,Q=!1,ne="";for(const X of P){switch(X){case W:if(!z&&!Q){M.push(ne),ne="";continue}break;case"{":z=!0;break;case"}":z=!1;break;case"[":Q=!0;break;case"]":Q=!1;break}ne+=X}return ne&&M.push(ne),M}e.splitGlobAware=n;function t(P){if(!P)return"";let W="";const M=n(P,e.GLOB_SPLIT);if(M.every(z=>z===e.GLOBSTAR))W=".*";else{let z=!1;M.forEach((Q,ne)=>{if(Q===e.GLOBSTAR){if(z)return;W+=i(2,ne===M.length-1)}else{let X=!1,J="",ie=!1,le="";for(const G of Q){if(G!=="}"&&X){J+=G;continue}if(ie&&(G!=="]"||!le)){let x;G==="-"?x=G:(G==="^"||G==="!")&&!le?x="^":G===e.GLOB_SPLIT?x="":x=(0,b.escapeRegExpCharacters)(G),le+=x;continue}switch(G){case"{":X=!0;continue;case"[":ie=!0;continue;case"}":{W+=`(?:${n(J,",").map(j=>t(j)).join("|")})`,X=!1,J="";break}case"]":{W+="["+le+"]",ie=!1,le="";break}case"?":W+=u;continue;case"*":W+=i(1);continue;default:W+=(0,b.escapeRegExpCharacters)(G)}}ne<M.length-1&&(M[ne+1]!==e.GLOBSTAR||ne+2<M.length)&&(W+=C)}z=Q===e.GLOBSTAR})}return W}const r=/^\*\*\/\*\.[\w\.-]+$/,d=/^\*\*\/([\w\.-]+)\/?$/,o=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,a=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,c=new N.LRUCache(1e4),g=function(){return!1},m=function(){return null};function S(P,W){if(!P)return m;let M;typeof P!="string"?M=P.pattern:M=P,M=M.trim();const z=`${M}_${!!W.trimForExclusions}`;let Q=c.get(z);if(Q)return p(Q,P);let ne;return r.test(M)?Q=_(M.substr(4),M):(ne=d.exec(v(M,W)))?Q=w(ne[1],M):(W.trimForExclusions?a:o).test(M)?Q=E(M,W):(ne=s.exec(v(M,W)))?Q=I(ne[1].substr(1),M,!0):(ne=l.exec(v(M,W)))?Q=I(ne[1],M,!1):Q=T(M),c.set(z,Q),p(Q,P)}function p(P,W){if(typeof W=="string")return P;const M=function(z,Q){return(0,f.isEqualOrParent)(z,W.base,!L.isLinux)?P(z.substr(W.base.length+1),Q):null};return M.allBasenames=P.allBasenames,M.allPaths=P.allPaths,M.basenames=P.basenames,M.patterns=P.patterns,M}function v(P,W){return W.trimForExclusions&&P.endsWith("/**")?P.substr(0,P.length-2):P}function _(P,W){return function(M,z){return typeof M=="string"&&M.endsWith(P)?W:null}}function w(P,W){const M=`/${P}`,z=`\\${P}`,Q=function(X,J){return typeof X!="string"?null:J?J===P?W:null:X===P||X.endsWith(M)||X.endsWith(z)?W:null},ne=[P];return Q.basenames=ne,Q.patterns=[W],Q.allBasenames=ne,Q}function E(P,W){const M=F(P.slice(1,-1).split(",").map(J=>S(J,W)).filter(J=>J!==m),P),z=M.length;if(!z)return m;if(z===1)return M[0];const Q=function(J,ie){for(let le=0,G=M.length;le<G;le++)if(M[le](J,ie))return P;return null},ne=M.find(J=>!!J.allBasenames);ne&&(Q.allBasenames=ne.allBasenames);const X=M.reduce((J,ie)=>ie.allPaths?J.concat(ie.allPaths):J,[]);return X.length&&(Q.allPaths=X),Q}function I(P,W,M){const z=D.sep===D.posix.sep,Q=z?P:P.replace(h,D.sep),ne=D.sep+Q,X=D.posix.sep+P;let J;return M?J=function(ie,le){return typeof ie=="string"&&(ie===Q||ie.endsWith(ne)||!z&&(ie===P||ie.endsWith(X)))?W:null}:J=function(ie,le){return typeof ie=="string"&&(ie===Q||!z&&ie===P)?W:null},J.allPaths=[(M?"*/":"./")+P],J}function T(P){try{const W=new RegExp(`^${t(P)}$`);return function(M){return W.lastIndex=0,typeof M=="string"&&W.test(M)?P:null}}catch{return m}}function R(P,W,M){return!P||typeof W!="string"?!1:B(P)(W,void 0,M)}e.match=R;function B(P,W={}){if(!P)return g;if(typeof P=="string"||O(P)){const M=S(P,W);if(M===m)return g;const z=function(Q,ne){return!!M(Q,ne)};return M.allBasenames&&(z.allBasenames=M.allBasenames),M.allPaths&&(z.allPaths=M.allPaths),z}return k(P,W)}e.parse=B;function O(P){const W=P;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=O;function k(P,W){const M=F(Object.getOwnPropertyNames(P).map(J=>A(J,P[J],W)).filter(J=>J!==m)),z=M.length;if(!z)return m;if(!M.some(J=>!!J.requiresSiblings)){if(z===1)return M[0];const J=function(G,x){let V;for(let j=0,re=M.length;j<re;j++){const ae=M[j](G,x);if(typeof ae=="string")return ae;(0,y.isThenable)(ae)&&(V||(V=[]),V.push(ae))}return V?(()=>Le(this,void 0,void 0,function*(){for(const j of V){const re=yield j;if(typeof re=="string")return re}return null}))():null},ie=M.find(G=>!!G.allBasenames);ie&&(J.allBasenames=ie.allBasenames);const le=M.reduce((G,x)=>x.allPaths?G.concat(x.allPaths):G,[]);return le.length&&(J.allPaths=le),J}const Q=function(J,ie,le){let G,x;for(let V=0,j=M.length;V<j;V++){const re=M[V];re.requiresSiblings&&le&&(ie||(ie=(0,D.basename)(J)),G||(G=ie.substr(0,ie.length-(0,D.extname)(J).length)));const ae=re(J,ie,G,le);if(typeof ae=="string")return ae;(0,y.isThenable)(ae)&&(x||(x=[]),x.push(ae))}return x?(()=>Le(this,void 0,void 0,function*(){for(const V of x){const j=yield V;if(typeof j=="string")return j}return null}))():null},ne=M.find(J=>!!J.allBasenames);ne&&(Q.allBasenames=ne.allBasenames);const X=M.reduce((J,ie)=>ie.allPaths?J.concat(ie.allPaths):J,[]);return X.length&&(Q.allPaths=X),Q}function A(P,W,M){if(W===!1)return m;const z=S(P,M);if(z===m)return m;if(typeof W=="boolean")return z;if(W){const Q=W.when;if(typeof Q=="string"){const ne=(X,J,ie,le)=>{if(!le||!z(X,J))return null;const G=Q.replace("$(basename)",ie),x=le(G);return(0,y.isThenable)(x)?x.then(V=>V?P:null):x?P:null};return ne.requiresSiblings=!0,ne}}return z}function F(P,W){const M=P.filter(J=>!!J.basenames);if(M.length<2)return P;const z=M.reduce((J,ie)=>{const le=ie.basenames;return le?J.concat(le):J},[]);let Q;if(W){Q=[];for(let J=0,ie=z.length;J<ie;J++)Q.push(W)}else Q=M.reduce((J,ie)=>{const le=ie.patterns;return le?J.concat(le):J},[]);const ne=function(J,ie){if(typeof J!="string")return null;if(!ie){let G;for(G=J.length;G>0;G--){const x=J.charCodeAt(G-1);if(x===47||x===92)break}ie=J.substr(G)}const le=z.indexOf(ie);return le!==-1?Q[le]:null};ne.basenames=z,ne.patterns=Q,ne.allBasenames=z;const X=P.filter(J=>!J.basenames);return X.push(ne),X}}),define(oe[101],se([1,0,28,64,8]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const D=new RegExp(`\\$\\(${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?\\)`,"g"),L=new RegExp(y.CSSIcon.iconNameCharacter),b=new RegExp(`(\\\\)?${D.source}`,"g");function C(o){return o.replace(b,(a,s)=>s?a:`\\${a}`)}e.escapeIcons=C;const u=new RegExp(`\\\\${D.source}`,"g");function h(o){return o.replace(u,a=>`\\${a}`)}e.markdownEscapeEscapedIcons=h;const i=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function n(o){return o.indexOf(e.iconStartMarker)===-1?o:o.replace(i,(a,s,l,c)=>l?a:s||c||"")}e.stripIcons=n;function t(o){const a=o.indexOf(e.iconStartMarker);return a===-1?{text:o}:r(o,a)}e.parseLabelWithIcons=t;function r(o,a){const s=[];let l="";function c(E){if(E){l+=E;for(const I of E)s.push(S)}}let g=-1,m="",S=0,p,v,_=a;const w=o.length;for(c(o.substr(0,a));_<w;)p=o[_],v=o[_+1],p===e.iconStartMarker[0]&&v===e.iconStartMarker[1]?(g=_,c(m),m=e.iconStartMarker,_++):p===")"&&g!==-1?(S+=_-g+1,g=-1,m=""):g!==-1?L.test(p)?m+=p:(c(m),g=-1,m=""):c(p),_++;return c(m),{text:l,iconOffsets:s}}function d(o,a,s=!1){const{text:l,iconOffsets:c}=a;if(!c||c.length===0)return(0,f.matchesFuzzy)(o,l,s);const g=(0,N.ltrim)(l," "),m=l.length-g.length,S=(0,f.matchesFuzzy)(o,g,s);if(S)for(const p of S){const v=c[p.start+m]+m;p.start+=v,p.end+=v}return S}e.matchesFuzzyIconAware=d}),define(oe[65],se([1,0,13,101,8]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class D{constructor(n="",t=!1){var r,d,o;if(this.value=n,typeof this.value!="string")throw(0,y.illegalArgument)("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=t.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(d=t.supportThemeIcons)!==null&&d!==void 0?d:!1,this.supportHtml=(o=t.supportHtml)!==null&&o!==void 0?o:!1)}appendText(n,t=0){return this.value+=C(this.supportThemeIcons?(0,f.escapeIcons)(n):n).replace(/([ \t]+)/g,(r,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(n){return this.value+=n,this}appendCodeblock(n,t){return this.value+="\n```",this.value+=n,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}appendLink(n,t,r){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(n),")"),r&&(this.value+=` "${this._escape(this._escape(r,'"'),")")}"`),this.value+=")",this}_escape(n,t){const r=new RegExp((0,N.escapeRegExpCharacters)(t),"g");return n.replace(r,(d,o)=>n.charAt(o-1)!=="\\"?`\\${d}`:d)}}e.MarkdownString=D;function L(i){return b(i)?!i.value:Array.isArray(i)?i.every(L):!0}e.isEmptyMarkdownString=L;function b(i){return i instanceof D?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}e.isMarkdownString=b;function C(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=C;function u(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=u;function h(i){const n=[],t=i.split("|").map(d=>d.trim());i=t[0];const r=t[1];if(r){const d=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),a=d?d[1]:"",s=o?o[1]:"",l=isFinite(parseInt(s)),c=isFinite(parseInt(a));l&&n.push(`width="${s}"`),c&&n.push(`height="${a}"`)}return{href:i,dimensions:n}}e.parseHrefAndDimensions=h}),define(oe[331],se([1,0,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function f(L,b){if(L&&L[0]!==""){const C=N(L,b,"-"),u=N(L,b,"_");return C&&!u?D(L,b,"-"):!C&&u?D(L,b,"_"):L[0].toUpperCase()===L[0]?b.toUpperCase():L[0].toLowerCase()===L[0]?b.toLowerCase():y.containsUppercaseCharacter(L[0][0])&&b.length>0?b[0].toUpperCase()+b.substr(1):L[0][0].toUpperCase()!==L[0][0]&&b.length>0?b[0].toLowerCase()+b.substr(1):b}else return b}e.buildReplaceStringWithCasePreserved=f;function N(L,b,C){return L[0].indexOf(C)!==-1&&b.indexOf(C)!==-1&&L[0].split(C).length===b.split(C).length}function D(L,b,C){const u=b.split(C),h=L[0].split(C);let i="";return u.forEach((n,t)=>{i+=f([h[t]],n)+C}),i.slice(0,-1)}}),define(oe[78],se([1,0,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f;(function(N){N[N.Ignore=0]="Ignore",N[N.Info=1]="Info",N[N.Warning=2]="Warning",N[N.Error=3]="Error"})(f||(f={})),function(N){const D="error",L="warning",b="warn",C="info",u="ignore";function h(n){return n?y.equalsIgnoreCase(D,n)?N.Error:y.equalsIgnoreCase(L,n)||y.equalsIgnoreCase(b,n)?N.Warning:y.equalsIgnoreCase(C,n)?N.Info:N.Ignore:N.Ignore}N.fromValue=h;function i(n){switch(n){case N.Error:return D;case N.Warning:return L;case N.Info:return C;default:return u}}N.toString=i}(f||(f={})),e.default=f}),define(oe[19],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=e.isArray=void 0;function y(m){return Array.isArray(m)}e.isArray=y;function f(m){return typeof m=="string"}e.isString=f;function N(m){return typeof m=="object"&&m!==null&&!Array.isArray(m)&&!(m instanceof RegExp)&&!(m instanceof Date)}e.isObject=N;function D(m){return typeof m=="object"&&(m instanceof Uint8Array||m instanceof Uint16Array||m instanceof Uint32Array||m instanceof Float32Array||m instanceof Float64Array||m instanceof Int8Array||m instanceof Int16Array||m instanceof Int32Array||m instanceof BigInt64Array||m instanceof BigUint64Array||m instanceof Uint8ClampedArray)}e.isTypedArray=D;function L(m){return typeof m=="number"&&!isNaN(m)}e.isNumber=L;function b(m){return!!m&&typeof m[Symbol.iterator]=="function"}e.isIterable=b;function C(m){return m===!0||m===!1}e.isBoolean=C;function u(m){return typeof m=="undefined"}e.isUndefined=u;function h(m){return!i(m)}e.isDefined=h;function i(m){return u(m)||m===null}e.isUndefinedOrNull=i;function n(m,S){if(!m)throw new Error(S?`Unexpected type, expected '${S}'`:"Unexpected type")}e.assertType=n;function t(m){if(i(m))throw new Error("Assertion Failed: argument is undefined or null");return m}e.assertIsDefined=t;function r(m){return typeof m=="function"}e.isFunction=r;function d(m,S){const p=Math.min(m.length,S.length);for(let v=0;v<p;v++)o(m[v],S[v])}e.validateConstraints=d;function o(m,S){if(f(S)){if(typeof m!==S)throw new Error(`argument does not match constraint: typeof ${S}`)}else if(r(S)){try{if(m instanceof S)return}catch{}if(!i(m)&&m.constructor===S||S.length===1&&S.call(void 0,m)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=o;function a(m){let S=[],p=Object.getPrototypeOf(m);for(;Object.prototype!==p;)S=S.concat(Object.getOwnPropertyNames(p)),p=Object.getPrototypeOf(p);return S}e.getAllPropertyNames=a;function s(m){const S=[];for(const p of a(m))typeof m[p]=="function"&&S.push(p);return S}e.getAllMethodNames=s;function l(m,S){const p=_=>function(){const w=Array.prototype.slice.call(arguments,0);return S(_,w)};let v={};for(const _ of m)v[_]=p(_);return v}e.createProxyObject=l;function c(m){return m===null?void 0:m}e.withNullAsUndefined=c;function g(m,S="Unreachable"){throw new Error(S)}e.assertNever=g}),define(oe[39],se([1,0,19]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function f(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const n=Array.isArray(i)?[]:{};return Object.keys(i).forEach(t=>{i[t]&&typeof i[t]=="object"?n[t]=f(i[t]):n[t]=i[t]}),n}e.deepClone=f;function N(i){if(!i||typeof i!="object")return i;const n=[i];for(;n.length>0;){const t=n.shift();Object.freeze(t);for(const r in t)if(D.call(t,r)){const d=t[r];typeof d=="object"&&!Object.isFrozen(d)&&!(0,y.isTypedArray)(d)&&n.push(d)}}return i}e.deepFreeze=N;const D=Object.prototype.hasOwnProperty;function L(i,n){return b(i,n,new Set)}e.cloneAndChange=L;function b(i,n,t){if((0,y.isUndefinedOrNull)(i))return i;const r=n(i);if(typeof r!="undefined")return r;if((0,y.isArray)(i)){const d=[];for(const o of i)d.push(b(o,n,t));return d}if((0,y.isObject)(i)){if(t.has(i))throw new Error("Cannot clone recursive data-structure");t.add(i);const d={};for(let o in i)D.call(i,o)&&(d[o]=b(i[o],n,t));return t.delete(i),d}return i}function C(i,n,t=!0){return(0,y.isObject)(i)?((0,y.isObject)(n)&&Object.keys(n).forEach(r=>{r in i?t&&((0,y.isObject)(i[r])&&(0,y.isObject)(n[r])?C(i[r],n[r],t):i[r]=n[r]):i[r]=n[r]}),i):n}e.mixin=C;function u(i,n){if(i===n)return!0;if(i==null||n===null||n===void 0||typeof i!=typeof n||typeof i!="object"||Array.isArray(i)!==Array.isArray(n))return!1;let t,r;if(Array.isArray(i)){if(i.length!==n.length)return!1;for(t=0;t<i.length;t++)if(!u(i[t],n[t]))return!1}else{const d=[];for(r in i)d.push(r);d.sort();const o=[];for(r in n)o.push(r);if(o.sort(),!u(d,o))return!1;for(t=0;t<d.length;t++)if(!u(i[d[t]],n[d[t]]))return!1}return!0}e.equals=u;function h(i,n,t){const r=n(i);return typeof r=="undefined"?t:r}e.getOrDefault=h}),define(oe[142],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function y(N){return N<0?0:N>255?255:N|0}e.toUint8=y;function f(N){return N<0?0:N>4294967295?4294967295:N|0}e.toUint32=f}),define(oe[25],se([1,0,85,17]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const N=/^\w[\w\d+.-]*$/,D=/^\//,L=/^\/\//;function b(p,v){if(!p.scheme&&v)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${p.authority}", path: "${p.path}", query: "${p.query}", fragment: "${p.fragment}"}`);if(p.scheme&&!N.test(p.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(p.path){if(p.authority){if(!D.test(p.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(p.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(p,v){return!p&&!v?"file":p}function u(p,v){switch(p){case"https":case"http":case"file":v?v[0]!==i&&(v=i+v):v=i;break}return v}const h="",i="/",n=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{constructor(v,_,w,E,I,T=!1){typeof v=="object"?(this.scheme=v.scheme||h,this.authority=v.authority||h,this.path=v.path||h,this.query=v.query||h,this.fragment=v.fragment||h):(this.scheme=C(v,T),this.authority=_||h,this.path=u(this.scheme,w||h),this.query=E||h,this.fragment=I||h,b(this,T))}static isUri(v){return v instanceof t?!0:v?typeof v.authority=="string"&&typeof v.fragment=="string"&&typeof v.path=="string"&&typeof v.query=="string"&&typeof v.scheme=="string"&&typeof v.fsPath=="string"&&typeof v.with=="function"&&typeof v.toString=="function":!1}get fsPath(){return l(this,!1)}with(v){if(!v)return this;let{scheme:_,authority:w,path:E,query:I,fragment:T}=v;return _===void 0?_=this.scheme:_===null&&(_=h),w===void 0?w=this.authority:w===null&&(w=h),E===void 0?E=this.path:E===null&&(E=h),I===void 0?I=this.query:I===null&&(I=h),T===void 0?T=this.fragment:T===null&&(T=h),_===this.scheme&&w===this.authority&&E===this.path&&I===this.query&&T===this.fragment?this:new d(_,w,E,I,T)}static parse(v,_=!1){const w=n.exec(v);return w?new d(w[2]||h,S(w[4]||h),S(w[5]||h),S(w[7]||h),S(w[9]||h),_):new d(h,h,h,h,h)}static file(v){let _=h;if(f.isWindows&&(v=v.replace(/\\/g,i)),v[0]===i&&v[1]===i){const w=v.indexOf(i,2);w===-1?(_=v.substring(2),v=i):(_=v.substring(2,w),v=v.substring(w)||i)}return new d("file",_,v,h,h)}static from(v){const _=new d(v.scheme,v.authority,v.path,v.query,v.fragment);return b(_,!0),_}static joinPath(v,..._){if(!v.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return f.isWindows&&v.scheme==="file"?w=t.file(y.win32.join(l(v,!0),..._)).path:w=y.posix.join(v.path,..._),v.with({path:w})}toString(v=!1){return c(this,v)}toJSON(){return this}static revive(v){if(v){if(v instanceof t)return v;{const _=new d(v);return _._formatted=v.external,_._fsPath=v._sep===r?v.fsPath:null,_}}else return v}}e.URI=t;const r=f.isWindows?1:void 0;class d extends t{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=l(this,!1)),this._fsPath}toString(v=!1){return v?c(this,!0):(this._formatted||(this._formatted=c(this,!1)),this._formatted)}toJSON(){const v={$mid:1};return this._fsPath&&(v.fsPath=this._fsPath,v._sep=r),this._formatted&&(v.external=this._formatted),this.path&&(v.path=this.path),this.scheme&&(v.scheme=this.scheme),this.authority&&(v.authority=this.authority),this.query&&(v.query=this.query),this.fragment&&(v.fragment=this.fragment),v}}const o={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function a(p,v){let _,w=-1;for(let E=0;E<p.length;E++){const I=p.charCodeAt(E);if(I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===45||I===46||I===95||I===126||v&&I===47)w!==-1&&(_+=encodeURIComponent(p.substring(w,E)),w=-1),_!==void 0&&(_+=p.charAt(E));else{_===void 0&&(_=p.substr(0,E));const T=o[I];T!==void 0?(w!==-1&&(_+=encodeURIComponent(p.substring(w,E)),w=-1),_+=T):w===-1&&(w=E)}}return w!==-1&&(_+=encodeURIComponent(p.substring(w))),_!==void 0?_:p}function s(p){let v;for(let _=0;_<p.length;_++){const w=p.charCodeAt(_);w===35||w===63?(v===void 0&&(v=p.substr(0,_)),v+=o[w]):v!==void 0&&(v+=p[_])}return v!==void 0?v:p}function l(p,v){let _;return p.authority&&p.path.length>1&&p.scheme==="file"?_=`//${p.authority}${p.path}`:p.path.charCodeAt(0)===47&&(p.path.charCodeAt(1)>=65&&p.path.charCodeAt(1)<=90||p.path.charCodeAt(1)>=97&&p.path.charCodeAt(1)<=122)&&p.path.charCodeAt(2)===58?v?_=p.path.substr(1):_=p.path[1].toLowerCase()+p.path.substr(2):_=p.path,f.isWindows&&(_=_.replace(/\//g,"\\")),_}e.uriToFsPath=l;function c(p,v){const _=v?s:a;let w="",{scheme:E,authority:I,path:T,query:R,fragment:B}=p;if(E&&(w+=E,w+=":"),(I||E==="file")&&(w+=i,w+=i),I){let O=I.indexOf("@");if(O!==-1){const k=I.substr(0,O);I=I.substr(O+1),O=k.indexOf(":"),O===-1?w+=_(k,!1):(w+=_(k.substr(0,O),!1),w+=":",w+=_(k.substr(O+1),!1)),w+="@"}I=I.toLowerCase(),O=I.indexOf(":"),O===-1?w+=_(I,!1):(w+=_(I.substr(0,O),!1),w+=I.substr(O))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const O=T.charCodeAt(1);O>=65&&O<=90&&(T=`/${String.fromCharCode(O+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const O=T.charCodeAt(0);O>=65&&O<=90&&(T=`${String.fromCharCode(O+32)}:${T.substr(2)}`)}w+=_(T,!0)}return R&&(w+="?",w+=_(R,!1)),B&&(w+="#",w+=v?B:a(B,!1)),w}function g(p){try{return decodeURIComponent(p)}catch{return p.length>3?p.substr(0,3)+g(p.substr(3)):p}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(p){return p.match(m)?p.replace(m,v=>g(v)):p}}),define(oe[221],se([1,0,116,25]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function N(L){let b=JSON.parse(L);return b=D(b),b}e.parse=N;function D(L,b=0){if(!L||b>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return f.URI.revive(L);case 2:return new RegExp(L.source,L.flags);case 14:return new Date(L.source)}if(L instanceof y.VSBuffer||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let C=0;C<L.length;++C)L[C]=D(L[C],b+1);else for(const C in L)Object.hasOwnProperty.call(L,C)&&(L[C]=D(L[C],b+1))}return L}e.revive=D}),define(oe[51],se([1,0,17,25]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var N;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.vscodeUserData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebook="vscode-notebook",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractive="vscode-interactive",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp",b.vsls="vsls"})(N=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${N.vscodeRemoteResource}`}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)return this._delegate(C);const u=C.authority;let h=this._hosts[u];h&&h.indexOf(":")!==-1&&(h=`[${h}]`);const i=this._ports[u],n=this._connectionTokens[u];let t=`path=${encodeURIComponent(C.path)}`;return typeof n=="string"&&(t+=`&${e.connectionTokenQueryName}=${encodeURIComponent(n)}`),f.URI.from({scheme:y.isWeb?this._preferredWebSchema:N.vscodeRemoteResource,authority:`${h}:${i}`,path:this._remoteResourcesPath,query:t})}}e.RemoteAuthorities=new D;class L{asBrowserUri(C,u){const h=this.toUri(C,u);return h.scheme===N.vscodeRemote?e.RemoteAuthorities.rewrite(h):h.scheme===N.file&&(y.isNative||y.isWebWorker&&y.globals.origin===`${N.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?h.with({scheme:N.vscodeFileResource,authority:h.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):h}toUri(C,u){return f.URI.isUri(C)?C:f.URI.parse(u.toUrl(C))}}L.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new L}),define(oe[7],se([1,0,34,170,44,63,13,4,332,2,51,17]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.hookDomPurifyHrefAndSrcSanitizer=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function n(_e){for(;_e.firstChild;)_e.firstChild.remove()}e.clearNode=n;function t(_e){var Se;return(Se=_e==null?void 0:_e.isConnected)!==null&&Se!==void 0?Se:!1}e.isInDOM=t;class r{constructor(Se,Ee,Ae,Pe){this._node=Se,this._type=Ee,this._handler=Ae,this._options=Pe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function d(_e,Se,Ee,Ae){return new r(_e,Se,Ee,Ae)}e.addDisposableListener=d;function o(_e){return function(Se){return _e(new D.StandardMouseEvent(Se))}}function a(_e){return function(Se){return _e(new N.StandardKeyboardEvent(Se))}}let s=function(Se,Ee,Ae,Pe){let xe=Ae;return Ee==="click"||Ee==="mousedown"?xe=o(Ae):(Ee==="keydown"||Ee==="keypress"||Ee==="keyup")&&(xe=a(Ae)),d(Se,Ee,xe,Pe)};e.addStandardDisposableListener=s;let l=function(Se,Ee,Ae){let Pe=o(Ee);return g(Se,Pe,Ae)};e.addStandardDisposableGenericMouseDownListener=l;let c=function(Se,Ee,Ae){let Pe=o(Ee);return m(Se,Pe,Ae)};e.addStandardDisposableGenericMouseUpListener=c;function g(_e,Se,Ee){return d(_e,i.isIOS&&f.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Se,Ee)}e.addDisposableGenericMouseDownListener=g;function m(_e,Se,Ee){return d(_e,i.isIOS&&f.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Se,Ee)}e.addDisposableGenericMouseUpListener=m;function S(_e,Se){return d(_e,"mouseout",Ee=>{let Ae=Ee.relatedTarget;for(;Ae&&Ae!==_e;)Ae=Ae.parentNode;Ae!==_e&&Se(Ee)})}e.addDisposableNonBubblingMouseOutListener=S;function p(_e,Se){return d(_e,"pointerout",Ee=>{let Ae=Ee.relatedTarget;for(;Ae&&Ae!==_e;)Ae=Ae.parentNode;Ae!==_e&&Se(Ee)})}e.addDisposableNonBubblingPointerOutListener=p;function v(_e,Se,Ee){let Ae=null;const Pe=Ke=>He.fire(Ke),xe=()=>{Ae||(Ae=new r(_e,Se,Pe,Ee))},Ue=()=>{Ae&&(Ae.dispose(),Ae=null)},He=new b.Emitter({onFirstListenerAdd:xe,onLastListenerRemove:Ue});return He}e.createEventEmitter=v;let _=null;function w(_e){if(!_){const Se=Ee=>setTimeout(()=>Ee(new Date().getTime()),0);_=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Se}return _.call(self,_e)}class E{constructor(Se,Ee=0){this._runner=Se,this.priority=Ee,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Se){(0,L.onUnexpectedError)(Se)}}static sort(Se,Ee){return Ee.priority-Se.priority}}(function(){let _e=[],Se=null,Ee=!1,Ae=!1,Pe=()=>{for(Ee=!1,Se=_e,_e=[],Ae=!0;Se.length>0;)Se.sort(E.sort),Se.shift().execute();Ae=!1};e.scheduleAtNextAnimationFrame=(xe,Ue=0)=>{let He=new E(xe,Ue);return _e.push(He),Ee||(Ee=!0,w(Pe)),He},e.runAtThisOrScheduleAtNextAnimationFrame=(xe,Ue)=>{if(Ae){let He=new E(xe,Ue);return Se.push(He),He}else return(0,e.scheduleAtNextAnimationFrame)(xe,Ue)}})();function I(_e){return document.defaultView.getComputedStyle(_e,null)}e.getComputedStyle=I;function T(_e){if(_e!==document.body)return new B(_e.clientWidth,_e.clientHeight);if(i.isIOS&&window.visualViewport)return new B(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new B(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new B(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new B(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=T;class R{static convertToPixels(Se,Ee){return parseFloat(Ee)||0}static getDimension(Se,Ee,Ae){let Pe=I(Se),xe="0";return Pe&&(Pe.getPropertyValue?xe=Pe.getPropertyValue(Ee):xe=Pe.getAttribute(Ae)),R.convertToPixels(Se,xe)}static getBorderLeftWidth(Se){return R.getDimension(Se,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Se){return R.getDimension(Se,"border-right-width","borderRightWidth")}static getBorderTopWidth(Se){return R.getDimension(Se,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Se){return R.getDimension(Se,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Se){return R.getDimension(Se,"padding-left","paddingLeft")}static getPaddingRight(Se){return R.getDimension(Se,"padding-right","paddingRight")}static getPaddingTop(Se){return R.getDimension(Se,"padding-top","paddingTop")}static getPaddingBottom(Se){return R.getDimension(Se,"padding-bottom","paddingBottom")}static getMarginLeft(Se){return R.getDimension(Se,"margin-left","marginLeft")}static getMarginTop(Se){return R.getDimension(Se,"margin-top","marginTop")}static getMarginRight(Se){return R.getDimension(Se,"margin-right","marginRight")}static getMarginBottom(Se){return R.getDimension(Se,"margin-bottom","marginBottom")}}class B{constructor(Se,Ee){this.width=Se,this.height=Ee}with(Se=this.width,Ee=this.height){return Se!==this.width||Ee!==this.height?new B(Se,Ee):this}static is(Se){return typeof Se=="object"&&typeof Se.height=="number"&&typeof Se.width=="number"}static lift(Se){return Se instanceof B?Se:new B(Se.width,Se.height)}static equals(Se,Ee){return Se===Ee?!0:!Se||!Ee?!1:Se.width===Ee.width&&Se.height===Ee.height}}e.Dimension=B,B.None=new B(0,0);function O(_e){let Se=_e.offsetParent,Ee=_e.offsetTop,Ae=_e.offsetLeft;for(;(_e=_e.parentNode)!==null&&_e!==document.body&&_e!==document.documentElement;){Ee-=_e.scrollTop;const Pe=X(_e)?null:I(_e);Pe&&(Ae-=Pe.direction!=="rtl"?_e.scrollLeft:-_e.scrollLeft),_e===Se&&(Ae+=R.getBorderLeftWidth(_e),Ee+=R.getBorderTopWidth(_e),Ee+=_e.offsetTop,Ae+=_e.offsetLeft,Se=_e.offsetParent)}return{left:Ae,top:Ee}}e.getTopLeftOffset=O;function k(_e,Se,Ee){typeof Se=="number"&&(_e.style.width=`${Se}px`),typeof Ee=="number"&&(_e.style.height=`${Ee}px`)}e.size=k;function A(_e){let Se=_e.getBoundingClientRect();return{left:Se.left+e.StandardWindow.scrollX,top:Se.top+e.StandardWindow.scrollY,width:Se.width,height:Se.height}}e.getDomNodePagePosition=A,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function F(_e){let Se=R.getMarginLeft(_e)+R.getMarginRight(_e);return _e.offsetWidth+Se}e.getTotalWidth=F;function P(_e){let Se=R.getBorderLeftWidth(_e)+R.getBorderRightWidth(_e),Ee=R.getPaddingLeft(_e)+R.getPaddingRight(_e);return _e.offsetWidth-Se-Ee}e.getContentWidth=P;function W(_e){let Se=R.getBorderTopWidth(_e)+R.getBorderBottomWidth(_e),Ee=R.getPaddingTop(_e)+R.getPaddingBottom(_e);return _e.offsetHeight-Se-Ee}e.getContentHeight=W;function M(_e){let Se=R.getMarginTop(_e)+R.getMarginBottom(_e);return _e.offsetHeight+Se}e.getTotalHeight=M;function z(_e,Se){for(;_e;){if(_e===Se)return!0;_e=_e.parentNode}return!1}e.isAncestor=z;function Q(_e,Se,Ee){for(;_e&&_e.nodeType===_e.ELEMENT_NODE;){if(_e.classList.contains(Se))return _e;if(Ee){if(typeof Ee=="string"){if(_e.classList.contains(Ee))return null}else if(_e===Ee)return null}_e=_e.parentNode}return null}e.findParentWithClass=Q;function ne(_e,Se,Ee){return!!Q(_e,Se,Ee)}e.hasParentWithClass=ne;function X(_e){return _e&&!!_e.host&&!!_e.mode}e.isShadowRoot=X;function J(_e){return!!ie(_e)}e.isInShadowDOM=J;function ie(_e){for(;_e.parentNode;){if(_e===document.body)return null;_e=_e.parentNode}return X(_e)?_e:null}e.getShadowRoot=ie;function le(){let _e=document.activeElement;for(;_e==null?void 0:_e.shadowRoot;)_e=_e.shadowRoot.activeElement;return _e}e.getActiveElement=le;function G(_e=document.getElementsByTagName("head")[0]){let Se=document.createElement("style");return Se.type="text/css",Se.media="screen",_e.appendChild(Se),Se}e.createStyleSheet=G;let x=null;function V(){return x||(x=G()),x}function j(_e){var Se,Ee;return((Se=_e==null?void 0:_e.sheet)===null||Se===void 0?void 0:Se.rules)?_e.sheet.rules:((Ee=_e==null?void 0:_e.sheet)===null||Ee===void 0?void 0:Ee.cssRules)?_e.sheet.cssRules:[]}function re(_e,Se,Ee=V()){!Ee||!Se||Ee.sheet.insertRule(_e+"{"+Se+"}",0)}e.createCSSRule=re;function ae(_e,Se=V()){if(!Se)return;let Ee=j(Se),Ae=[];for(let Pe=0;Pe<Ee.length;Pe++)Ee[Pe].selectorText.indexOf(_e)!==-1&&Ae.push(Pe);for(let Pe=Ae.length-1;Pe>=0;Pe--)Se.sheet.deleteRule(Ae[Pe])}e.removeCSSRulesContainingSelector=ae;function Y(_e){return typeof HTMLElement=="object"?_e instanceof HTMLElement:_e&&typeof _e=="object"&&_e.nodeType===1&&typeof _e.nodeName=="string"}e.isHTMLElement=Y,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:y.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:y.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:y.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(_e,Se){_e.preventDefault?_e.preventDefault():_e.returnValue=!1,Se&&(_e.stopPropagation?_e.stopPropagation():_e.cancelBubble=!0)}};function U(_e){let Se=[];for(let Ee=0;_e&&_e.nodeType===_e.ELEMENT_NODE;Ee++)Se[Ee]=_e.scrollTop,_e=_e.parentNode;return Se}e.saveParentsScrollTop=U;function Z(_e,Se){for(let Ee=0;_e&&_e.nodeType===_e.ELEMENT_NODE;Ee++)_e.scrollTop!==Se[Ee]&&(_e.scrollTop=Se[Ee]),_e=_e.parentNode}e.restoreParentsScrollTop=Z;class q extends u.Disposable{constructor(Se){super();this._onDidFocus=this._register(new b.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event;let Ee=q.hasFocusWithin(Se),Ae=!1;const Pe=()=>{Ae=!1,Ee||(Ee=!0,this._onDidFocus.fire())},xe=()=>{Ee&&(Ae=!0,window.setTimeout(()=>{Ae&&(Ae=!1,Ee=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{q.hasFocusWithin(Se)!==Ee&&(Ee?xe():Pe())},this._register(d(Se,e.EventType.FOCUS,Pe,!0)),this._register(d(Se,e.EventType.BLUR,xe,!0)),this._register(d(Se,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(d(Se,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Se){const Ee=ie(Se),Ae=Ee?Ee.activeElement:document.activeElement;return z(Ae,Se)}}function $(_e){return new q(_e)}e.trackFocus=$;function H(_e,...Se){if(_e.append(...Se),Se.length===1&&typeof Se[0]!="string")return Se[0]}e.append=H;function ee(_e,Se){return _e.insertBefore(Se,_e.firstChild),Se}e.prepend=ee;function te(_e,...Se){_e.innerText="",H(_e,...Se)}e.reset=te;const de=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var he;(function(_e){_e.HTML="http://www.w3.org/1999/xhtml",_e.SVG="http://www.w3.org/2000/svg"})(he=e.Namespace||(e.Namespace={}));function pe(_e,Se,Ee,...Ae){let Pe=de.exec(Se);if(!Pe)throw new Error("Bad use of emmet");Ee=Object.assign({},Ee||{});let xe=Pe[1]||"div",Ue;return _e!==he.HTML?Ue=document.createElementNS(_e,xe):Ue=document.createElement(xe),Pe[3]&&(Ue.id=Pe[3]),Pe[4]&&(Ue.className=Pe[4].replace(/\./g," ").trim()),Object.keys(Ee).forEach(He=>{const Ke=Ee[He];typeof Ke!="undefined"&&(/^on\w+$/.test(He)?Ue[He]=Ke:He==="selected"?Ke&&Ue.setAttribute(He,"true"):Ue.setAttribute(He,Ke))}),Ue.append(...Ae),Ue}function ve(_e,Se,...Ee){return pe(he.HTML,_e,Se,...Ee)}e.$=ve,ve.SVG=function(_e,Se,...Ee){return pe(he.SVG,_e,Se,...Ee)};function ue(..._e){for(let Se of _e)Se.style.display="",Se.removeAttribute("aria-hidden")}e.show=ue;function Ce(..._e){for(let Se of _e)Se.style.display="none",Se.setAttribute("aria-hidden","true")}e.hide=Ce;function me(_e){return Array.prototype.slice.call(document.getElementsByTagName(_e),0)}e.getElementsByTagName=me;function be(_e){const Se=window.devicePixelRatio*_e;return Math.max(1,Math.floor(Se))/window.devicePixelRatio}e.computeScreenAwareSize=be;function ce(_e){window.open(_e,"_blank","noopener")}e.windowOpenNoOpener=ce;function ge(_e){const Se=()=>{_e(),Ee=(0,e.scheduleAtNextAnimationFrame)(Se)};let Ee=(0,e.scheduleAtNextAnimationFrame)(Se);return(0,u.toDisposable)(()=>Ee.dispose())}e.animate=ge,h.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function we(_e){return _e?`url('${h.FileAccess.asBrowserUri(_e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=we;function ye(_e){return`'${_e.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;function Te(_e,Se=!1){const Ee=document.createElement("a");return C.addHook("afterSanitizeAttributes",Ae=>{for(const Pe of["href","src"])if(Ae.hasAttribute(Pe)){const xe=Ae.getAttribute(Pe);if(Pe==="href"&&xe.startsWith("#"))continue;if(Ee.href=xe,!_e.includes(Ee.protocol.replace(/:$/,""))){if(Se&&Pe==="src"&&Ee.href.startsWith("data:"))continue;Ae.removeAttribute(Pe)}}}),(0,u.toDisposable)(()=>{C.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Te;class ke extends b.Emitter{constructor(){super();this._subscriptions=new u.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(d(window,"keydown",Se=>{if(Se.defaultPrevented)return;const Ee=new N.StandardKeyboardEvent(Se);if(!(Ee.keyCode===6&&Se.repeat)){if(Se.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Se.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Se.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Se.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ee.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Se.altKey,this._keyStatus.ctrlKey=Se.ctrlKey,this._keyStatus.metaKey=Se.metaKey,this._keyStatus.shiftKey=Se.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Se,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(d(window,"keyup",Se=>{Se.defaultPrevented||(!Se.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Se.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Se.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Se.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Se.altKey,this._keyStatus.ctrlKey=Se.ctrlKey,this._keyStatus.metaKey=Se.metaKey,this._keyStatus.shiftKey=Se.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Se,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(d(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(d(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(d(document.body,"mousemove",Se=>{Se.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(d(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return ke.instance||(ke.instance=new ke),ke.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=ke;class Me extends u.Disposable{constructor(Se,Ee){super();this.element=Se,this.callbacks=Ee,this.counter=0,this.registerListeners()}registerListeners(){this._register(d(this.element,e.EventType.DRAG_ENTER,Se=>{this.counter++,this.callbacks.onDragEnter(Se)})),this._register(d(this.element,e.EventType.DRAG_OVER,Se=>{Se.preventDefault(),this.callbacks.onDragOver&&this.callbacks.onDragOver(Se)})),this._register(d(this.element,e.EventType.DRAG_LEAVE,Se=>{this.counter--,this.counter===0&&this.callbacks.onDragLeave(Se)})),this._register(d(this.element,e.EventType.DRAG_END,Se=>{this.counter=0,this.callbacks.onDragEnd(Se)})),this._register(d(this.element,e.EventType.DROP,Se=>{this.counter=0,this.callbacks.onDrop(Se)}))}}e.DragAndDropObserver=Me}),define(oe[174],se([1,0,7]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function f(i,n={}){const t=D(n);return t.textContent=i,t}e.renderText=f;function N(i,n={}){const t=D(n);return b(t,C(i,!!n.renderCodeSegments),n.actionHandler,n.renderCodeSegments),t}e.renderFormattedText=N;function D(i){const n=i.inline?"span":"div",t=document.createElement(n);return i.className&&(t.className=i.className),t}e.createElement=D;class L{constructor(n){this.source=n,this.index=0}eos(){return this.index>=this.source.length}next(){const n=this.peek();return this.advance(),n}peek(){return this.source[this.index]}advance(){this.index++}}function b(i,n,t,r){let d;if(n.type===2)d=document.createTextNode(n.content||"");else if(n.type===3)d=document.createElement("b");else if(n.type===4)d=document.createElement("i");else if(n.type===7&&r)d=document.createElement("code");else if(n.type===5&&t){const o=document.createElement("a");t.disposables.add(y.addStandardDisposableListener(o,"click",a=>{t.callback(String(n.index),a)})),d=o}else n.type===8?d=document.createElement("br"):n.type===1&&(d=i);d&&i!==d&&i.appendChild(d),d&&Array.isArray(n.children)&&n.children.forEach(o=>{b(d,o,t,r)})}function C(i,n){const t={type:1,children:[]};let r=0,d=t;const o=[],a=new L(i);for(;!a.eos();){let s=a.next();const l=s==="\\"&&h(a.peek(),n)!==0;if(l&&(s=a.next()),!l&&u(s,n)&&s===a.peek()){a.advance(),d.type===2&&(d=o.pop());const c=h(s,n);if(d.type===c||d.type===5&&c===6)d=o.pop();else{const g={type:c,children:[]};c===5&&(g.index=r,r++),d.children.push(g),o.push(d),d=g}}else if(s===`
`)d.type===2&&(d=o.pop()),d.children.push({type:8});else if(d.type!==2){const c={type:2,content:s};d.children.push(c),o.push(d),d=c}else d.content+=s}return d.type===2&&(d=o.pop()),o.length,t}function u(i,n){return h(i,n)!==0}function h(i,n){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return n?7:0;default:return 0}}}),define(oe[119],se([1,0,7,2]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class N{constructor(){this._hooks=new f.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(L,b){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,L&&C&&C(b)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(L,b,C,u,h){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=u,this._onStopCallback=h;let i=L;try{L.setPointerCapture(b),this._hooks.add((0,f.toDisposable)(()=>{L.releasePointerCapture(b)}))}catch{i=window}this._hooks.add(y.addDisposableListener(i,y.EventType.POINTER_MOVE,n=>{if(n.buttons!==C){this.stopMonitoring(!0);return}n.preventDefault(),this._pointerMoveCallback(n)})),this._hooks.add(y.addDisposableListener(i,y.EventType.POINTER_UP,n=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=N});var De=this&&this.__decorate||function(K,e,y,f){var N=arguments.length,D=N<3?e:f===null?f=Object.getOwnPropertyDescriptor(e,y):f,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(K,e,y,f);else for(var b=K.length-1;b>=0;b--)(L=K[b])&&(D=(N<3?L(D):N>3?L(e,y,D):L(e,y))||D);return N>3&&D&&Object.defineProperty(e,y,D),D};define(oe[60],se([1,0,7,18,99,2]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var L;(function(C){C.Tap="-monaco-gesturetap",C.Change="-monaco-gesturechange",C.Start="-monaco-gesturestart",C.End="-monaco-gesturesend",C.Contextmenu="-monaco-gesturecontextmenu"})(L=e.EventType||(e.EventType={}));class b extends D.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(y.addDisposableListener(document,"touchstart",u=>this.onTouchStart(u),{passive:!1})),this._register(y.addDisposableListener(document,"touchend",u=>this.onTouchEnd(u))),this._register(y.addDisposableListener(document,"touchmove",u=>this.onTouchMove(u),{passive:!1}))}static addTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(u),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter(h=>h!==u)}}):D.Disposable.None}static ignoreTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(u),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter(h=>h!==u)}}):D.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){let h=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=u.targetTouches.length;i<n;i++){let t=u.targetTouches.item(i);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:h,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[h],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};let r=this.newGestureEvent(L.Start,t.target);r.pageX=t.pageX,r.pageY=t.pageY,this.dispatchEvent(r)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u){let h=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,t=u.changedTouches.length;n<t;n++){let r=u.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let d=this.activeTouches[r.identifier],o=Date.now()-d.initialTimeStamp;if(o<b.HOLD_DELAY&&Math.abs(d.initialPageX-f.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-f.tail(d.rollingPageY))<30){let a=this.newGestureEvent(L.Tap,d.initialTarget);a.pageX=f.tail(d.rollingPageX),a.pageY=f.tail(d.rollingPageY),this.dispatchEvent(a)}else if(o>=b.HOLD_DELAY&&Math.abs(d.initialPageX-f.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-f.tail(d.rollingPageY))<30){let a=this.newGestureEvent(L.Contextmenu,d.initialTarget);a.pageX=f.tail(d.rollingPageX),a.pageY=f.tail(d.rollingPageY),this.dispatchEvent(a)}else if(i===1){let a=f.tail(d.rollingPageX),s=f.tail(d.rollingPageY),l=f.tail(d.rollingTimestamps)-d.rollingTimestamps[0],c=a-d.rollingPageX[0],g=s-d.rollingPageY[0];const m=this.targets.filter(S=>d.initialTarget instanceof Node&&S.contains(d.initialTarget));this.inertia(m,h,Math.abs(c)/l,c>0?1:-1,a,Math.abs(g)/l,g>0?1:-1,s)}this.dispatchEvent(this.newGestureEvent(L.End,d.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,h){let i=document.createEvent("CustomEvent");return i.initEvent(u,!1,!0),i.initialTarget=h,i.tapCount=0,i}dispatchEvent(u){if(u.type===L.Tap){const h=new Date().getTime();let i=0;h-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=h,u.tapCount=i}else(u.type===L.Change||u.type===L.Contextmenu)&&(this._lastSetTapCountTime=0);for(let h=0;h<this.ignoreTargets.length;h++)if(u.initialTarget instanceof Node&&this.ignoreTargets[h].contains(u.initialTarget))return;this.targets.forEach(h=>{u.initialTarget instanceof Node&&h.contains(u.initialTarget)&&(h.dispatchEvent(u),this.dispatched=!0)})}inertia(u,h,i,n,t,r,d,o){this.handle=y.scheduleAtNextAnimationFrame(()=>{let a=Date.now(),s=a-h,l=0,c=0,g=!0;i+=b.SCROLL_FRICTION*s,r+=b.SCROLL_FRICTION*s,i>0&&(g=!1,l=n*i*s),r>0&&(g=!1,c=d*r*s);let m=this.newGestureEvent(L.Change);m.translationX=l,m.translationY=c,u.forEach(S=>S.dispatchEvent(m)),g||this.inertia(u,a,i,n,t+l,r,d,o+c)})}onTouchMove(u){let h=Date.now();for(let i=0,n=u.changedTouches.length;i<n;i++){let t=u.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}let r=this.activeTouches[t.identifier],d=this.newGestureEvent(L.Change,r.initialTarget);d.translationX=t.pageX-f.tail(r.rollingPageX),d.translationY=t.pageY-f.tail(r.rollingPageY),d.pageX=t.pageX,d.pageY=t.pageY,this.dispatchEvent(d),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(t.pageX),r.rollingPageY.push(t.pageY),r.rollingTimestamps.push(h)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,De([N.memoize],b,"isTouchDevice",null),e.Gesture=b}),define(oe[120],se([1,0,7,28]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const N=new RegExp(`(\\\\)?\\$\\((${f.CSSIcon.iconNameExpression}(?:${f.CSSIcon.iconModifierExpression})?)\\)`,"g");function D(b){const C=new Array;let u,h=0,i=0;for(;(u=N.exec(b))!==null;){i=u.index||0,C.push(b.substring(h,i)),h=(u.index||0)+u[0].length;const[,n,t]=u;C.push(n?`$(${t})`:L({id:t}))}return h<b.length&&C.push(b.substring(h)),C}e.renderLabelWithIcons=D;function L(b){const C=y.$("span");return C.classList.add(...f.CSSIcon.asClassNameArray(b)),C}e.renderIcon=L}),define(oe[222],se([1,0,7,120,39]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(b,C){var u;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(u=C==null?void 0:C.supportIcons)!==null&&u!==void 0?u:!1,this.domNode=y.append(b,y.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,C=[],u="",h){b||(b=""),h&&(b=D.escapeNewLines(b,C)),!(this.didEverRender&&this.text===b&&this.title===u&&N.equals(this.highlights,C))&&(this.text=b,this.title=u,this.highlights=C,this.render())}render(){const b=[];let C=0;for(const u of this.highlights){if(u.end===u.start)continue;if(C<u.start){const n=this.text.substring(C,u.start);b.push(y.$("span",void 0,...this.supportIcons?(0,f.renderLabelWithIcons)(n):[n])),C=u.end}const h=this.text.substring(u.start,u.end),i=y.$("span.highlight",void 0,...this.supportIcons?(0,f.renderLabelWithIcons)(h):[h]);u.extraClasses&&i.classList.add(...u.extraClasses),b.push(i),C=u.end}if(C<this.text.length){const u=this.text.substring(C);b.push(y.$("span",void 0,...this.supportIcons?(0,f.renderLabelWithIcons)(u):[u]))}y.reset(this.domNode,...b),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(b,C){let u=0,h=0;return b.replace(/\r\n|\r|\n/g,(i,n)=>{h=i===`\r
`?-1:0,n+=u;for(const t of C)t.end<=n||(t.start>=n&&(t.start+=h),t.end>=n&&(t.end+=h));return u+=h,"\u23CE"})}}e.HighlightedLabel=D}),define(oe[333],se([1,0,7]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function f(D){try{D.parentElement&&D.parentElement.removeChild(D)}catch{}}class N{constructor(L){this.renderers=L,this.cache=new Map}alloc(L){let b=this.getTemplateCache(L).pop();if(!b){const C=(0,y.$)(".monaco-list-row"),h=this.getRenderer(L).renderTemplate(C);b={domNode:C,templateId:L,templateData:h}}return b}release(L){!L||this.releaseRow(L)}releaseRow(L){const{domNode:b,templateId:C}=L;b&&(b.classList.remove("scrolling"),f(b)),this.getTemplateCache(C).push(L)}getTemplateCache(L){let b=this.cache.get(L);return b||(b=[],this.cache.set(L,b)),b}dispose(){this.cache.forEach((L,b)=>{for(const C of L)this.getRenderer(b).disposeTemplate(C.templateData),C.templateData=null}),this.cache.clear()}getRenderer(L){const b=this.renderers.get(L);if(!b)throw new Error(`No renderer found for ${L}`);return b}}e.RowCache=N}),define(oe[66],se([1,0,7,44,63,60,2]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class b extends L.Disposable{onclick(u,h){this._register(y.addDisposableListener(u,y.EventType.CLICK,i=>h(new N.StandardMouseEvent(i))))}onmousedown(u,h){this._register(y.addDisposableListener(u,y.EventType.MOUSE_DOWN,i=>h(new N.StandardMouseEvent(i))))}onmouseover(u,h){this._register(y.addDisposableListener(u,y.EventType.MOUSE_OVER,i=>h(new N.StandardMouseEvent(i))))}onnonbubblingmouseout(u,h){this._register(y.addDisposableNonBubblingMouseOutListener(u,i=>h(new N.StandardMouseEvent(i))))}onkeydown(u,h){this._register(y.addDisposableListener(u,y.EventType.KEY_DOWN,i=>h(new f.StandardKeyboardEvent(i))))}onkeyup(u,h){this._register(y.addDisposableListener(u,y.EventType.KEY_UP,i=>h(new f.StandardKeyboardEvent(i))))}oninput(u,h){this._register(y.addDisposableListener(u,y.EventType.INPUT,h))}onblur(u,h){this._register(y.addDisposableListener(u,y.EventType.BLUR,h))}onfocus(u,h){this._register(y.addDisposableListener(u,y.EventType.FOCUS,h))}ignoreGesture(u){D.Gesture.ignoreTarget(u)}}e.Widget=b}),define(oe[175],se([1,0,119,66,10,7]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends f.Widget{constructor(C){super();this._onActivate=C.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=C.bgWidth+"px",this.bgDomNode.style.height=C.bgHeight+"px",typeof C.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof C.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof C.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof C.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=C.className,this.domNode.classList.add(...C.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof C.top!="undefined"&&(this.domNode.style.top=C.top+"px"),typeof C.left!="undefined"&&(this.domNode.style.left=C.left+"px"),typeof C.bottom!="undefined"&&(this.domNode.style.bottom=C.bottom+"px"),typeof C.right!="undefined"&&(this.domNode.style.right=C.right+"px"),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._register(D.addStandardDisposableListener(this.bgDomNode,D.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._register(D.addStandardDisposableListener(this.domNode,D.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._pointerdownRepeatTimer=this._register(new N.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new N.TimeoutTimer)}_arrowPointerDown(C){if(!C.target||!(C.target instanceof Element))return;const u=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(u,200),this._pointerMoveMonitor.startMonitoring(C.target,C.pointerId,C.buttons,h=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),C.preventDefault()}}e.ScrollbarArrow=L}),define(oe[223],se([1,0,7,32,119,175,326,66,17]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const u=140;class h extends b.Widget{constructor(n){super();this._lazyRender=n.lazyRender,this._host=n.host,this._scrollable=n.scrollable,this._scrollByPage=n.scrollByPage,this._scrollbarState=n.scrollbarState,this._visibilityController=this._register(new L.ScrollbarVisibilityController(n.visibility,"visible scrollbar "+n.extraScrollbarClassName,"invisible scrollbar "+n.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new N.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(y.addDisposableListener(this.domNode.domNode,y.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(n){const t=this._register(new D.ScrollbarArrow(n));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(n,t,r,d){this.slider=(0,f.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(n),this.slider.setLeft(t),typeof r=="number"&&this.slider.setWidth(r),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(y.addDisposableListener(this.slider.domNode,y.EventType.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(n){return this._scrollbarState.setVisibleSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(n){return this._scrollbarState.setScrollSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(n){return this._scrollbarState.setScrollPosition(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(n){n.target===this.domNode.domNode&&this._onPointerDown(n)}delegatePointerDown(n){const t=this.domNode.domNode.getClientRects()[0].top,r=t+this._scrollbarState.getSliderPosition(),d=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(n);r<=o&&o<=d?n.button===0&&(n.preventDefault(),this._sliderPointerDown(n)):this._onPointerDown(n)}_onPointerDown(n){let t,r;if(n.target===this.domNode.domNode&&typeof n.offsetX=="number"&&typeof n.offsetY=="number")t=n.offsetX,r=n.offsetY;else{const o=y.getDomNodePagePosition(this.domNode.domNode);t=n.pageX-o.left,r=n.pageY-o.top}const d=this._pointerDownRelativePosition(t,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))}_sliderPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const t=this._sliderPointerPosition(n),r=this._sliderOrthogonalPointerPosition(n),d=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,o=>{const a=this._sliderOrthogonalPointerPosition(o),s=Math.abs(a-r);if(C.isWindows&&s>u){this._setDesiredScrollPositionNow(d.getScrollPosition());return}const c=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(d.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(n){const t={};this.writeScrollPosition(t,n),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(n){this._updateScrollbarSize(n),this._scrollbarState.setScrollbarSize(n),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=h}),define(oe[334],se([1,0,63,223,175,216,28]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class b extends f.AbstractScrollbar{constructor(u,h,i){const n=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:h.lazyRender,host:i,scrollbarState:new D.ScrollbarState(h.horizontalHasArrows?h.arrowSize:0,h.horizontal===2?0:h.horizontalScrollbarSize,h.vertical===2?0:h.verticalScrollbarSize,n.width,n.scrollWidth,t.scrollLeft),visibility:h.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:h.scrollByPage});if(h.horizontalHasArrows){const r=(h.arrowSize-N.ARROW_IMG_SIZE)/2,d=(h.horizontalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonLeft,top:d,left:r,bottom:void 0,right:void 0,bgWidth:h.arrowSize,bgHeight:h.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonRight,top:d,left:void 0,bottom:void 0,right:r,bgWidth:h.arrowSize,bgHeight:h.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((h.horizontalScrollbarSize-h.horizontalSliderSize)/2),0,void 0,h.horizontalSliderSize)}_updateSlider(u,h){this.slider.setWidth(u),this.slider.setLeft(h)}_renderDomNode(u,h){this.domNode.setWidth(u),this.domNode.setHeight(h),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,h){return u}_sliderPointerPosition(u){return u.pageX}_sliderOrthogonalPointerPosition(u){return u.pageY}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,h){u.scrollLeft=h}updateOptions(u){this.updateScrollbarSize(u.horizontal===2?0:u.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._visibilityController.setVisibility(u.horizontal),this._scrollByPage=u.scrollByPage}}e.HorizontalScrollbar=b}),define(oe[335],se([1,0,63,223,175,216,28]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class b extends f.AbstractScrollbar{constructor(u,h,i){const n=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:h.lazyRender,host:i,scrollbarState:new D.ScrollbarState(h.verticalHasArrows?h.arrowSize:0,h.vertical===2?0:h.verticalScrollbarSize,0,n.height,n.scrollHeight,t.scrollTop),visibility:h.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:h.scrollByPage});if(h.verticalHasArrows){const r=(h.arrowSize-N.ARROW_IMG_SIZE)/2,d=(h.verticalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonUp,top:r,left:d,bottom:void 0,right:void 0,bgWidth:h.verticalScrollbarSize,bgHeight:h.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonDown,top:void 0,left:d,bottom:r,right:void 0,bgWidth:h.verticalScrollbarSize,bgHeight:h.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((h.verticalScrollbarSize-h.verticalSliderSize)/2),h.verticalSliderSize,void 0)}_updateSlider(u,h){this.slider.setHeight(u),this.slider.setTop(h)}_renderDomNode(u,h){this.domNode.setWidth(h),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,h){return h}_sliderPointerPosition(u){return u.pageY}_sliderOrthogonalPointerPosition(u){return u.pageX}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,h){u.scrollTop=h}updateOptions(u){this.updateScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(u.vertical),this._scrollByPage=u.scrollByPage}}e.VerticalScrollbar=b}),define(oe[42],se([1,0,171,51,85,17,8,25]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function C(i){return(0,b.uriToFsPath)(i,!0)}e.originalFSPath=C;class u{constructor(n){this._ignorePathCasing=n}compare(n,t,r=!1){return n===t?0:(0,L.compare)(this.getComparisonKey(n,r),this.getComparisonKey(t,r))}isEqual(n,t,r=!1){return n===t?!0:!n||!t?!1:this.getComparisonKey(n,r)===this.getComparisonKey(t,r)}getComparisonKey(n,t=!1){return n.with({path:this._ignorePathCasing(n)?n.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(n,t,r=!1){if(n.scheme===t.scheme){if(n.scheme===f.Schemas.file)return y.isEqualOrParent(C(n),C(t),this._ignorePathCasing(n))&&n.query===t.query&&(r||n.fragment===t.fragment);if((0,e.isEqualAuthority)(n.authority,t.authority))return y.isEqualOrParent(n.path,t.path,this._ignorePathCasing(n),"/")&&n.query===t.query&&(r||n.fragment===t.fragment)}return!1}joinPath(n,...t){return b.URI.joinPath(n,...t)}basenameOrAuthority(n){return(0,e.basename)(n)||n.authority}basename(n){return N.posix.basename(n.path)}extname(n){return N.posix.extname(n.path)}dirname(n){if(n.path.length===0)return n;let t;return n.scheme===f.Schemas.file?t=b.URI.file(N.dirname(C(n))).path:(t=N.posix.dirname(n.path),n.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),t="/")),n.with({path:t})}normalizePath(n){if(!n.path.length)return n;let t;return n.scheme===f.Schemas.file?t=b.URI.file(N.normalize(C(n))).path:t=N.posix.normalize(n.path),n.with({path:t})}relativePath(n,t){if(n.scheme!==t.scheme||!(0,e.isEqualAuthority)(n.authority,t.authority))return;if(n.scheme===f.Schemas.file){const o=N.relative(C(n),C(t));return D.isWindows?y.toSlashes(o):o}let r=n.path||"/",d=t.path||"/";if(this._ignorePathCasing(n)){let o=0;for(const a=Math.min(r.length,d.length);o<a&&!(r.charCodeAt(o)!==d.charCodeAt(o)&&r.charAt(o).toLowerCase()!==d.charAt(o).toLowerCase());o++);r=d.substr(0,o)+r.substr(o)}return N.posix.relative(r,d)}resolvePath(n,t){if(n.scheme===f.Schemas.file){const r=b.URI.file(N.resolve(C(n),t));return n.with({authority:r.authority,path:r.path})}return t=y.toPosixPath(t),n.with({path:N.posix.resolve(n.path,t)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,t){return n===t||n!==void 0&&t!==void 0&&(0,L.equalsIgnoreCase)(n,t)}hasTrailingPathSeparator(n,t=N.sep){if(n.scheme===f.Schemas.file){const r=C(n);return r.length>y.getRoot(r).length&&r[r.length-1]===t}else{const r=n.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,t=N.sep){return(0,e.hasTrailingPathSeparator)(n,t)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,t=N.sep){let r=!1;if(n.scheme===f.Schemas.file){const d=C(n);r=d!==void 0&&d.length===y.getRoot(d).length&&d[d.length-1]===t}else{t="/";const d=n.path;r=d.length===1&&d.charCodeAt(d.length-1)===47}return!r&&!(0,e.hasTrailingPathSeparator)(n,t)?n.with({path:n.path+"/"}):n}}e.ExtUri=u,e.extUri=new u(()=>!1),e.extUriBiasedIgnorePathCase=new u(i=>i.scheme===f.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new u(i=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var h;(function(i){i.META_DATA_LABEL="label",i.META_DATA_DESCRIPTION="description",i.META_DATA_SIZE="size",i.META_DATA_MIME="mime";function n(t){const r=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(a=>{const[s,l]=a.split(":");s&&l&&r.set(s,l)});const o=t.path.substring(0,t.path.indexOf(";"));return o&&r.set(i.META_DATA_MIME,o),r}i.parseMetaData=n})(h=e.DataUri||(e.DataUri={}))}),define(oe[336],se([1,0,7,332,92,174,63,120,10,21,13,4,65,101,136,2,321,221,51,39,42,8,25]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function S(w,E={},I={}){var T;const R=new d.DisposableStore;let B=!1;const O=R.add(new u.CancellationTokenSource),k=(0,D.createElement)(E),A=function(J){let ie;try{ie=(0,a.parse)(decodeURIComponent(J))}catch{}return ie?(ie=(0,l.cloneAndChange)(ie,le=>{if(w.uris&&w.uris[le])return m.URI.revive(w.uris[le])}),encodeURIComponent(JSON.stringify(ie))):J},F=function(J,ie){const le=w.uris&&w.uris[J];let G=m.URI.revive(le);return ie?J.startsWith(s.Schemas.data+":")?J:(G||(G=m.URI.parse(J)),s.FileAccess.asBrowserUri(G).toString(!0)):!G||m.URI.parse(J).toString()===G.toString()?J:(G.query&&(G=G.with({query:A(G.query)})),G.toString())};let P;const W=new Promise(J=>P=J),M=new o.marked.Renderer;if(M.image=(J,ie,le)=>{let G=[],x=[];return J&&({href:J,dimensions:G}=(0,n.parseHrefAndDimensions)(J),x.push(`src="${J}"`)),le&&x.push(`alt="${le}"`),ie&&x.push(`title="${ie}"`),G.length&&(x=x.concat(G)),"<img "+x.join(" ")+">"},M.link=(J,ie,le)=>typeof J!="string"?"":(J===le&&(le=(0,n.removeMarkdownEscapes)(le)),ie=typeof ie=="string"?(0,n.removeMarkdownEscapes)(ie):"",J=(0,n.removeMarkdownEscapes)(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${ie||J}">${le}</a>`),M.paragraph=J=>`<p>${J}</p>`,E.codeBlockRenderer&&(M.code=(J,ie)=>{const le=E.codeBlockRenderer(ie??"",J),G=r.defaultGenerator.nextId();return(0,C.raceCancellation)(Promise.all([le,W]),O.token).then(x=>{var V;if(!B&&x){const j=k.querySelector(`div[data-code="${G}"]`);j&&y.reset(j,x[0]),(V=E.asyncRenderCallback)===null||V===void 0||V.call(E)}}).catch(()=>{}),`<div class="code" data-code="${G}">${(0,g.escape)(J)}</div>`}),E.actionHandler){const J=E.actionHandler.disposables.add(new N.DomEmitter(k,"click")),ie=E.actionHandler.disposables.add(new N.DomEmitter(k,"auxclick"));E.actionHandler.disposables.add(i.Event.any(J.event,ie.event)(le=>{const G=new L.StandardMouseEvent(le);if(!G.leftButton&&!G.middleButton)return;let x=G.target;if(!(x.tagName!=="A"&&(x=x.parentElement,!x||x.tagName!=="A")))try{let V=x.dataset.href;V&&(w.baseUri&&(V=p(m.URI.from(w.baseUri),V)),E.actionHandler.callback(V,G))}catch(V){(0,h.onUnexpectedError)(V)}finally{G.preventDefault()}}))}w.supportHtml||(I.sanitizer=J=>(w.isTrusted?J.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?J:"",I.sanitize=!0,I.silent=!0),I.renderer=M;let z=(T=w.value)!==null&&T!==void 0?T:"";z.length>1e5&&(z=`${z.substr(0,1e5)}\u2026`),w.supportThemeIcons&&(z=(0,t.markdownEscapeEscapedIcons)(z));let Q=o.marked.parse(z,I);w.supportThemeIcons&&(Q=(0,b.renderLabelWithIcons)(Q).map(ie=>typeof ie=="string"?ie:ie.outerHTML).join(""));const X=new DOMParser().parseFromString(v(w,Q),"text/html");if(X.body.querySelectorAll("img").forEach(J=>{const ie=J.getAttribute("src");if(ie){let le=ie;try{w.baseUri&&(le=p(m.URI.from(w.baseUri),le))}catch{}J.src=F(le,!0)}}),X.body.querySelectorAll("a").forEach(J=>{var ie;const le=J.getAttribute("href");if(J.setAttribute("href",""),!le||/^data:|javascript:/i.test(le)||/^command:/i.test(le)&&!w.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(le))J.replaceWith((ie=J.textContent)!==null&&ie!==void 0?ie:"");else{let G=F(le,!1);w.baseUri&&(G=p(m.URI.from(w.baseUri),le)),J.dataset.href=G}}),k.innerHTML=v(w,X.body.innerHTML),P(),E.asyncRenderCallback)for(const J of k.getElementsByTagName("img")){const ie=R.add(y.addDisposableListener(J,"load",()=>{ie.dispose(),E.asyncRenderCallback()}))}return{element:k,dispose:()=>{B=!0,O.cancel(),R.dispose()}}}e.renderMarkdown=S;function p(w,E){return/^\w[\w\d+.-]*:/.test(E)?E:w.path.endsWith("/")?(0,c.resolvePath)(w,E).toString():(0,c.resolvePath)((0,c.dirname)(w),E).toString()}function v(w,E){const{config:I,allowedSchemes:T}=_(w);f.addHook("uponSanitizeAttribute",(B,O)=>{if(O.attrName==="style"||O.attrName==="class"){if(B.tagName==="SPAN"){if(O.attrName==="style"){O.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(O.attrValue);return}else if(O.attrName==="class"){O.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(O.attrValue);return}}O.keepAttr=!1;return}});const R=y.hookDomPurifyHrefAndSrcSanitizer(T);try{return f.sanitize(E,Object.assign(Object.assign({},I),{RETURN_TRUSTED_TYPE:!0}))}finally{f.removeHook("uponSanitizeAttribute"),R.dispose()}}function _(w){const E=[s.Schemas.http,s.Schemas.https,s.Schemas.mailto,s.Schemas.data,s.Schemas.file,s.Schemas.vscodeFileResource,s.Schemas.vscodeRemote,s.Schemas.vscodeRemoteResource];return w.isTrusted&&E.push(s.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:E}}}),define(oe[337],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let y;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?y=crypto.getRandomValues.bind(crypto):y=function(D){for(let L=0;L<D.length;L++)D[L]=Math.floor(Math.random()*256);return D};const f=new Uint8Array(16),N=[];for(let D=0;D<256;D++)N.push(D.toString(16).padStart(2,"0"));return function(){y(f),f[6]=f[6]&15|64,f[8]=f[8]&63|128;let L=0,b="";return b+=N[f[L++]],b+=N[f[L++]],b+=N[f[L++]],b+=N[f[L++]],b+="-",b+=N[f[L++]],b+=N[f[L++]],b+="-",b+=N[f[L++]],b+=N[f[L++]],b+="-",b+=N[f[L++]],b+=N[f[L++]],b+="-",b+=N[f[L++]],b+=N[f[L++]],b+=N[f[L++]],b+=N[f[L++]],b+=N[f[L++]],b+=N[f[L++]],b}}()}),define(oe[224],se([1,0,13,4,2,17,19,8]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const C="$initialize";let u=!1;function h(S){!D.isWeb||(u||(u=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(S.message))}e.logOnceWebWorkerWarning=h;class i{constructor(p,v,_,w){this.vsWorker=p,this.req=v,this.method=_,this.args=w,this.type=0}}class n{constructor(p,v,_,w){this.vsWorker=p,this.seq=v,this.res=_,this.err=w,this.type=1}}class t{constructor(p,v,_,w){this.vsWorker=p,this.req=v,this.eventName=_,this.arg=w,this.type=2}}class r{constructor(p,v,_){this.vsWorker=p,this.req=v,this.event=_,this.type=3}}class d{constructor(p,v){this.vsWorker=p,this.req=v,this.type=4}}class o{constructor(p){this._workerId=-1,this._handler=p,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(p){this._workerId=p}sendMessage(p,v){const _=String(++this._lastSentReq);return new Promise((w,E)=>{this._pendingReplies[_]={resolve:w,reject:E},this._send(new i(this._workerId,_,p,v))})}listen(p,v){let _=null;const w=new f.Emitter({onFirstListenerAdd:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,w),this._send(new t(this._workerId,_,p,v))},onLastListenerRemove:()=>{this._pendingEmitters.delete(_),this._send(new d(this._workerId,_)),_=null}});return w.event}handleMessage(p){!p||!p.vsWorker||this._workerId!==-1&&p.vsWorker!==this._workerId||this._handleMessage(p)}_handleMessage(p){switch(p.type){case 1:return this._handleReplyMessage(p);case 0:return this._handleRequestMessage(p);case 2:return this._handleSubscribeEventMessage(p);case 3:return this._handleEventMessage(p);case 4:return this._handleUnsubscribeEventMessage(p)}}_handleReplyMessage(p){if(!this._pendingReplies[p.seq]){console.warn("Got reply to unknown seq");return}let v=this._pendingReplies[p.seq];if(delete this._pendingReplies[p.seq],p.err){let _=p.err;p.err.$isError&&(_=new Error,_.name=p.err.name,_.message=p.err.message,_.stack=p.err.stack),v.reject(_);return}v.resolve(p.res)}_handleRequestMessage(p){let v=p.req;this._handler.handleMessage(p.method,p.args).then(w=>{this._send(new n(this._workerId,v,w,void 0))},w=>{w.detail instanceof Error&&(w.detail=(0,y.transformErrorForSerialization)(w.detail)),this._send(new n(this._workerId,v,void 0,(0,y.transformErrorForSerialization)(w)))})}_handleSubscribeEventMessage(p){const v=p.req,_=this._handler.handleEvent(p.eventName,p.arg)(w=>{this._send(new r(this._workerId,v,w))});this._pendingEvents.set(v,_)}_handleEventMessage(p){if(!this._pendingEmitters.has(p.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(p.req).fire(p.event)}_handleUnsubscribeEventMessage(p){if(!this._pendingEvents.has(p.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(p.req).dispose(),this._pendingEvents.delete(p.req)}_send(p){let v=[];if(p.type===0)for(let _=0;_<p.args.length;_++)p.args[_]instanceof ArrayBuffer&&v.push(p.args[_]);else p.type===1&&p.res instanceof ArrayBuffer&&v.push(p.res);this._handler.sendMessage(p,v)}}class a extends N.Disposable{constructor(p,v,_){super();let w=null;this._worker=this._register(p.create("vs/base/common/worker/simpleWorker",B=>{this._protocol.handleMessage(B)},B=>{w&&w(B)})),this._protocol=new o({sendMessage:(B,O)=>{this._worker.postMessage(B,O)},handleMessage:(B,O)=>{if(typeof _[B]!="function")return Promise.reject(new Error("Missing method "+B+" on main thread host."));try{return Promise.resolve(_[B].apply(_,O))}catch(k){return Promise.reject(k)}},handleEvent:(B,O)=>{if(l(B)){const k=_[B].call(_,O);if(typeof k!="function")throw new Error(`Missing dynamic event ${B} on main thread host.`);return k}if(s(B)){const k=_[B];if(typeof k!="function")throw new Error(`Missing event ${B} on main thread host.`);return k}throw new Error(`Malformed event name ${B}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof D.globals.require!="undefined"&&typeof D.globals.require.getConfig=="function"?E=D.globals.require.getConfig():typeof D.globals.requirejs!="undefined"&&(E=D.globals.requirejs.s.contexts._.config);const I=L.getAllMethodNames(_);this._onModuleLoaded=this._protocol.sendMessage(C,[this._worker.getId(),JSON.parse(JSON.stringify(E)),v,I]);const T=(B,O)=>this._request(B,O),R=(B,O)=>this._protocol.listen(B,O);this._lazyProxy=new Promise((B,O)=>{w=O,this._onModuleLoaded.then(k=>{B(c(k,T,R))},k=>{O(k),this._onError("Worker failed to load "+v,k)})})}getProxyObject(){return this._lazyProxy}_request(p,v){return new Promise((_,w)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(p,v).then(_,w)},w)})}_onError(p,v){console.error(p),console.info(v)}}e.SimpleWorkerClient=a;function s(S){return S[0]==="o"&&S[1]==="n"&&b.isUpperAsciiLetter(S.charCodeAt(2))}function l(S){return/^onDynamic/.test(S)&&b.isUpperAsciiLetter(S.charCodeAt(9))}function c(S,p,v){const _=I=>function(){const T=Array.prototype.slice.call(arguments,0);return p(I,T)},w=I=>function(T){return v(I,T)};let E={};for(const I of S){if(l(I)){E[I]=w(I);continue}if(s(I)){E[I]=v(I,void 0);continue}E[I]=_(I)}return E}class g{constructor(p,v){this._requestHandlerFactory=v,this._requestHandler=null,this._protocol=new o({sendMessage:(_,w)=>{p(_,w)},handleMessage:(_,w)=>this._handleMessage(_,w),handleEvent:(_,w)=>this._handleEvent(_,w)})}onmessage(p){this._protocol.handleMessage(p)}_handleMessage(p,v){if(p===C)return this.initialize(v[0],v[1],v[2],v[3]);if(!this._requestHandler||typeof this._requestHandler[p]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+p));try{return Promise.resolve(this._requestHandler[p].apply(this._requestHandler,v))}catch(_){return Promise.reject(_)}}_handleEvent(p,v){if(!this._requestHandler)throw new Error("Missing requestHandler");if(l(p)){const _=this._requestHandler[p].call(this._requestHandler,v);if(typeof _!="function")throw new Error(`Missing dynamic event ${p} on request handler.`);return _}if(s(p)){const _=this._requestHandler[p];if(typeof _!="function")throw new Error(`Missing event ${p} on request handler.`);return _}throw new Error(`Malformed event name ${p}`)}initialize(p,v,_,w){this._protocol.setWorkerId(p);const T=c(w,(R,B)=>this._protocol.sendMessage(R,B),(R,B)=>this._protocol.listen(R,B));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve(L.getAllMethodNames(this._requestHandler))):(v&&(typeof v.baseUrl!="undefined"&&delete v.baseUrl,typeof v.paths!="undefined"&&typeof v.paths.vs!="undefined"&&delete v.paths.vs,typeof v.trustedTypesPolicy!==void 0&&delete v.trustedTypesPolicy,v.catchError=!0,D.globals.require.config(v)),new Promise((R,B)=>{(D.globals.require||K)([_],k=>{if(this._requestHandler=k.create(T),!this._requestHandler){B(new Error("No RequestHandler!"));return}R(L.getAllMethodNames(this._requestHandler))},B)}))}}e.SimpleWorkerServer=g;function m(S){return new g(S,null)}e.create=m}),define(oe[338],se([1,0,17,224]),function(K,e,y,f){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const D=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function L(i){if(y.globals.MonacoEnvironment){if(typeof y.globals.MonacoEnvironment.getWorker=="function")return y.globals.MonacoEnvironment.getWorker("workerMain.js",i);if(typeof y.globals.MonacoEnvironment.getWorkerUrl=="function"){const n=y.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",i);return new Worker(D?D.createScriptURL(n):n,{name:i})}}if(typeof K=="function"){const n=K.toUrl("vs/base/worker/workerMain.js"),t=b(n,i);return new Worker(D?D.createScriptURL(t):t,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(i,n){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,self.origin.length)!==self.origin){const t="vs/base/worker/defaultWorkerFactory.js",r=K.toUrl(t).slice(0,-t.length),d=`/*${n}*/self.MonacoEnvironment={baseUrl: '${r}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${n}*/`,o=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(o)}return i+"#"+n}e.getWorkerBootstrapUrl=b;function C(i){return typeof i.then=="function"}class u{constructor(n,t,r,d,o){this.id=t;const a=L(r);C(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(n,[]),this.worker.then(s=>{s.onmessage=function(l){d(l.data)},s.onmessageerror=o,typeof s.addEventListener=="function"&&s.addEventListener("error",o)})}getId(){return this.id}postMessage(n,t){this.worker&&this.worker.then(r=>r.postMessage(n,t))}dispose(){this.worker&&this.worker.then(n=>n.terminate()),this.worker=null}}class h{constructor(n){this._label=n,this._webWorkerFailedBeforeError=!1}create(n,t,r){let d=++h.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new u(n,d,this._label||"anonymous"+d,t,o=>{(0,f.logOnceWebWorkerWarning)(o),this._webWorkerFailedBeforeError=o,r(o)})}}e.DefaultWorkerFactory=h,h.LAST_WORKER_ID=0}),define(oe[225],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var y;(function(D){D[D.Blur=1]="Blur",D[D.Gesture=2]="Gesture",D[D.Other=3]="Other"})(y=e.QuickInputHideReason||(e.QuickInputHideReason={}));var f;(function(D){D[D.NONE=0]="NONE",D[D.FIRST=1]="FIRST",D[D.SECOND=2]="SECOND",D[D.LAST=3]="LAST"})(f=e.ItemActivation||(e.ItemActivation={}));class N{constructor(L){this.options=L}}e.QuickPickItemScorerAccessor=N,e.quickPickItemScorerAccessor=new N}),define(oe[339],se([1,0,10,4,2,19]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=void 0;var L;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(L=e.StorageState||(e.StorageState={}));class b extends N.Disposable{constructor(h,i=Object.create(null)){super();this.database=h,this.options=i,this._onDidChangeStorage=this._register(new f.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=L.None,this.cache=new Map,this.flushDelayer=new y.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(h=>this.onDidChangeItemsExternal(h)))}onDidChangeItemsExternal(h){var i,n;(i=h.changed)===null||i===void 0||i.forEach((t,r)=>this.accept(r,t)),(n=h.deleted)===null||n===void 0||n.forEach(t=>this.accept(t,void 0))}accept(h,i){if(this.state===L.Closed)return;let n=!1;(0,D.isUndefinedOrNull)(i)?n=this.cache.delete(h):this.cache.get(h)!==i&&(this.cache.set(h,i),n=!0),n&&this._onDidChangeStorage.fire(h)}get(h,i){const n=this.cache.get(h);return(0,D.isUndefinedOrNull)(n)?i:n}getBoolean(h,i){const n=this.get(h);return(0,D.isUndefinedOrNull)(n)?i:n==="true"}getNumber(h,i){const n=this.get(h);return(0,D.isUndefinedOrNull)(n)?i:parseInt(n,10)}set(h,i){return Le(this,void 0,void 0,function*(){if(this.state===L.Closed)return;if((0,D.isUndefinedOrNull)(i))return this.delete(h);const n=String(i);if(this.cache.get(h)!==n)return this.cache.set(h,n),this.pendingInserts.set(h,n),this.pendingDeletes.delete(h),this._onDidChangeStorage.fire(h),this.doFlush()})}delete(h){return Le(this,void 0,void 0,function*(){if(!(this.state===L.Closed||!this.cache.delete(h)))return this.pendingDeletes.has(h)||this.pendingDeletes.add(h),this.pendingInserts.delete(h),this._onDidChangeStorage.fire(h),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Le(this,void 0,void 0,function*(){if(!this.hasPending)return;const h={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(h).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})})}doFlush(h){return Le(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),h)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=f.Event.None,this.items=new Map}updateItems(h){return Le(this,void 0,void 0,function*(){h.insert&&h.insert.forEach((i,n)=>this.items.set(n,i)),h.delete&&h.delete.forEach(i=>this.items.delete(i))})}}e.InMemoryStorageDatabase=C}),define(oe[226],se([12]),{}),define(oe[340],se([12]),{}),define(oe[45],se([1,0,7,17,340]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const N=2e4;let D,L,b,C,u;function h(r){D=document.createElement("div"),D.className="monaco-aria-container";const d=()=>{const a=document.createElement("div");return a.className="monaco-alert",a.setAttribute("role","alert"),a.setAttribute("aria-atomic","true"),D.appendChild(a),a};L=d(),b=d();const o=()=>{const a=document.createElement("div");return a.className="monaco-status",a.setAttribute("role","complementary"),a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),D.appendChild(a),a};C=o(),u=o(),r.appendChild(D)}e.setARIAContainer=h;function i(r){!D||(L.textContent!==r?(y.clearNode(b),t(L,r)):(y.clearNode(L),t(b,r)))}e.alert=i;function n(r){!D||(f.isMacintosh?i(r):C.textContent!==r?(y.clearNode(u),t(C,r)):(y.clearNode(C),t(u,r)))}e.status=n;function t(r,d){y.clearNode(r),d.length>N&&(d=d.substr(0,N)),r.textContent=d,r.style.visibility="hidden",r.style.visibility="visible"}}),define(oe[341],se([12]),{}),define(oe[342],se([1,0,7,44,60,120,30,4,2,39,341]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const h={buttonBackground:L.Color.fromHex("#0E639C"),buttonHoverBackground:L.Color.fromHex("#006BB3"),buttonForeground:L.Color.white};class i extends C.Disposable{constructor(t,r){super();this._onDidClick=this._register(new b.Emitter),this.options=r||Object.create(null),(0,u.mixin)(this.options,h,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(N.Gesture.addTarget(this._element)),[y.EventType.CLICK,N.EventType.Tap].forEach(d=>{this._register((0,y.addDisposableListener)(this._element,d,o=>{if(!this.enabled){y.EventHelper.stop(o);return}this._onDidClick.fire(o)}))}),this._register((0,y.addDisposableListener)(this._element,y.EventType.KEY_DOWN,d=>{const o=new f.StandardKeyboardEvent(d);let a=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(d),a=!0):o.equals(9)&&(this._element.blur(),a=!0),a&&y.EventHelper.stop(o,!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register((0,y.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=t,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,y.reset)(this._element,...(0,D.renderLabelWithIcons)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(oe[343],se([12]),{}),define(oe[344],se([12]),{}),define(oe[143],se([1,0,28,343,344]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function f(N){let D=N.definition;for(;D instanceof y.Codicon;)D=D.definition;return`.codicon-${N.id}:before { content: '${D.fontCharacter}'; }`}e.formatRule=f}),define(oe[345],se([12]),{}),define(oe[227],se([1,0,170,7,2,17,139,345]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var b;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(b=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(i,n,t){const r=t.mode===b.ALIGN?t.offset:t.offset+t.size,d=t.mode===b.ALIGN?t.offset+t.size:t.offset;return t.position===0?n<=i-r?r:n<=d?d-n:Math.max(i-n,0):n<=d?d-n:n<=i-r?r:0}e.layout=C;class u extends N.Disposable{constructor(n,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=N.Disposable.None,this.toDisposeOnSetContainer=N.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=f.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,f.hide(this.view),this.setContainer(n,t),this._register((0,N.toDisposable)(()=>this.setContainer(null,1)))}setContainer(n,t){var r;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(r=this.shadowRootHostElement)===null||r===void 0||r.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),n){if(this.container=n,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=f.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=h,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(f.$("slot"))}else this.container.appendChild(this.view);const d=new N.DisposableStore;u.BUBBLE_UP_EVENTS.forEach(o=>{d.add(f.addStandardDisposableListener(this.container,o,a=>{this.onDOMEvent(a,!1)}))}),u.BUBBLE_DOWN_EVENTS.forEach(o=>{d.add(f.addStandardDisposableListener(this.container,o,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(n){this.isVisible()&&this.hide(),f.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",f.show(this.view),this.toDisposeOnClean=n.render(this.view)||N.Disposable.None,this.delegate=n,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&y.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let n=this.delegate.getAnchor(),t;if(f.isHTMLElement(n)){let m=f.getDomNodePagePosition(n);t={top:m.top,left:m.left,width:m.width,height:m.height}}else t={top:n.y,left:n.x,width:n.width||1,height:n.height||2};const r=f.getTotalWidth(this.view),d=f.getTotalHeight(this.view),o=this.delegate.anchorPosition||0,a=this.delegate.anchorAlignment||0,s=this.delegate.anchorAxisAlignment||0;let l,c;if(s===0){const m={offset:t.top-window.pageYOffset,size:t.height,position:o===0?0:1},S={offset:t.left,size:t.width,position:a===0?0:1,mode:b.ALIGN};l=C(window.innerHeight,d,m)+window.pageYOffset,L.Range.intersects({start:l,end:l+d},{start:m.offset,end:m.offset+m.size})&&(S.mode=b.AVOID),c=C(window.innerWidth,r,S)}else{const m={offset:t.left,size:t.width,position:a===0?0:1},S={offset:t.top,size:t.height,position:o===0?0:1,mode:b.ALIGN};c=C(window.innerWidth,r,m),L.Range.intersects({start:c,end:c+r},{start:m.offset,end:m.offset+m.size})&&(S.mode=b.AVOID),l=C(window.innerHeight,d,S)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(a===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const g=f.getDomNodePagePosition(this.container);this.view.style.top=`${l-(this.useFixedPosition?f.getDomNodePagePosition(this.view).top:g.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?f.getDomNodePagePosition(this.view).left:g.left)}px`,this.view.style.width="initial"}hide(n){const t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(n),this.toDisposeOnClean.dispose(),f.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(n,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(n,document.activeElement):t&&!f.isAncestor(n.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=u,u.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],u.BUBBLE_DOWN_EVENTS=["click"];let h=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(oe[346],se([12]),{}),define(oe[228],se([1,0,7,30,39,8,346]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const L={badgeBackground:f.Color.fromHex("#4D4D4D"),badgeForeground:f.Color.fromHex("#FFFFFF")};class b{constructor(u,h){this.count=0,this.options=h||Object.create(null),(0,N.mixin)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,y.append)(u,(0,y.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(u){this.count=u,this.render()}setTitleFormat(u){this.titleFormat=u,this.render()}render(){this.element.textContent=(0,D.format)(this.countFormat,this.count),this.element.title=(0,D.format)(this.titleFormat,this.count),this.applyStyles()}style(u){this.badgeBackground=u.badgeBackground,this.badgeForeground=u.badgeForeground,this.badgeBorder=u.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const u=this.badgeBackground?this.badgeBackground.toString():"",h=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=u,this.element.style.color=h,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}e.CountBadge=b}),define(oe[229],se([12]),{}),define(oe[230],se([12]),{}),define(oe[347],se([12]),{}),define(oe[348],se([12]),{}),define(oe[349],se([12]),{}),define(oe[350],se([12]),{}),define(oe[231],se([12]),{}),define(oe[351],se([12]),{}),define(oe[144],se([1,0,351]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(oe[352],se([12]),{}),define(oe[353],se([1,0,7,10,30,2,39,352]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",C="active",u="infinite",h="infinite-long-running",i="discrete",n={progressBarBackground:N.Color.fromHex("#0E70C0")};class t extends D.Disposable{constructor(d,o){super();this.options=o||Object.create(null),(0,L.mixin)(this.options,n,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new f.RunOnceScheduler(()=>(0,y.show)(this.element),0)),this.longRunningScheduler=this._register(new f.RunOnceScheduler(()=>this.infiniteLongRunning(),t.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(d)}create(d){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),d.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(C,u,h,i),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(d){return this.element.classList.add(b),this.element.classList.contains(u)?(this.bit.style.opacity="0",d?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",d?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(i,b,h),this.element.classList.add(C,u),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(h)}getContainer(){return this.element}style(d){this.progressBarBackground=d.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const d=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=d}}}e.ProgressBar=t,t.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(oe[354],se([12]),{}),define(oe[121],se([1,0,7,92,60,10,99,4,2,17,354]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let h=!1;var i;(function(g){g.North="north",g.South="south",g.East="east",g.West="west"})(i=e.OrthogonalEdge||(e.OrthogonalEdge={}));let n=4;const t=new b.Emitter;let r=300;const d=new b.Emitter;class o{constructor(){this.disposables=new C.DisposableStore}get onPointerMove(){return this.disposables.add(new f.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new f.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}De([L.memoize],o.prototype,"onPointerMove",null),De([L.memoize],o.prototype,"onPointerUp",null);class a{constructor(m){this.el=m,this.disposables=new C.DisposableStore}get onPointerMove(){return this.disposables.add(new f.DomEmitter(this.el,N.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new f.DomEmitter(this.el,N.EventType.End)).event}dispose(){this.disposables.dispose()}}De([L.memoize],a.prototype,"onPointerMove",null),De([L.memoize],a.prototype,"onPointerUp",null);class s{constructor(m){this.factory=m}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}De([L.memoize],s.prototype,"onPointerMove",null),De([L.memoize],s.prototype,"onPointerUp",null);const l="pointer-events-disabled";class c extends C.Disposable{constructor(m,S,p){super();this.hoverDelay=r,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new b.Emitter),this._onDidStart=this._register(new b.Emitter),this._onDidChange=this._register(new b.Emitter),this._onDidReset=this._register(new b.Emitter),this._onDidEnd=this._register(new b.Emitter),this.orthogonalStartSashDisposables=this._register(new C.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new C.DisposableStore),this.orthogonalEndSashDisposables=this._register(new C.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new C.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,y.append)(m,(0,y.$)(".monaco-sash")),p.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${p.orthogonalEdge}`),u.isMacintosh&&this.el.classList.add("mac");const v=this._register(new f.DomEmitter(this.el,"mousedown")).event;this._register(v(B=>this.onPointerStart(B,new o),this));const _=this._register(new f.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const w=this._register(new f.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>c.onMouseEnter(this)));const E=this._register(new f.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>c.onMouseLeave(this))),this._register(N.Gesture.addTarget(this.el));const I=b.Event.map(this._register(new f.DomEmitter(this.el,N.EventType.Start)).event,B=>{var O;return Object.assign(Object.assign({},B),{target:(O=B.initialTarget)!==null&&O!==void 0?O:null})});this._register(I(B=>this.onPointerStart(B,new a(this.el)),this));const T=this._register(new f.DomEmitter(this.el,N.EventType.Tap)).event,R=b.Event.map(b.Event.filter(b.Event.debounce(T,(B,O)=>{var k;return{event:O,count:((k=B==null?void 0:B.count)!==null&&k!==void 0?k:0)+1}},250),({count:B})=>B===2),({event:B})=>{var O;return Object.assign(Object.assign({},B),{target:(O=B.initialTarget)!==null&&O!==void 0?O:null})});this._register(R(this.onPointerDoublePress,this)),typeof p.size=="number"?(this.size=p.size,p.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=n,this._register(t.event(B=>{this.size=B,this.layout()}))),this._register(d.event(B=>this.hoverDelay=B)),this.layoutProvider=S,this.orthogonalStartSash=p.orthogonalStartSash,this.orthogonalEndSash=p.orthogonalEndSash,this.orientation=p.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",h),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(m){this._state!==m&&(this.el.classList.toggle("disabled",m===0),this.el.classList.toggle("minimum",m===1),this.el.classList.toggle("maximum",m===2),this._state=m,this.onDidEnablementChange.fire(m))}set orthogonalStartSash(m){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),m){const S=p=>{this.orthogonalStartDragHandleDisposables.clear(),p!==0&&(this._orthogonalStartDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,C.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new f.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>c.onMouseEnter(m),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new f.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>c.onMouseLeave(m),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(m.onDidEnablementChange.event(S,this)),S(m.state)}this._orthogonalStartSash=m}set orthogonalEndSash(m){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),m){const S=p=>{this.orthogonalEndDragHandleDisposables.clear(),p!==0&&(this._orthogonalEndDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,C.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new f.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>c.onMouseEnter(m),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new f.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>c.onMouseLeave(m),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(m.onDidEnablementChange.event(S,this)),S(m.state)}this._orthogonalEndSash=m}onPointerStart(m,S){y.EventHelper.stop(m);let p=!1;if(!m.__orthogonalSashEvent){const A=this.getOrthogonalSash(m);A&&(p=!0,m.__orthogonalSashEvent=!0,A.onPointerStart(m,new s(S)))}if(this.linkedSash&&!m.__linkedSashEvent&&(m.__linkedSashEvent=!0,this.linkedSash.onPointerStart(m,new s(S))),!this.state)return;const v=(0,y.getElementsByTagName)("iframe");for(const A of v)A.classList.add(l);const _=m.pageX,w=m.pageY,E=m.altKey,I={startX:_,currentX:_,startY:w,currentY:w,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,y.createStyleSheet)(this.el),R=()=>{let A="";p?A="all-scroll":this.orientation===1?this.state===1?A="s-resize":this.state===2?A="n-resize":A=u.isMacintosh?"row-resize":"ns-resize":this.state===1?A="e-resize":this.state===2?A="w-resize":A=u.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${A} !important; }`},B=new C.DisposableStore;R(),p||this.onDidEnablementChange.event(R,null,B);const O=A=>{y.EventHelper.stop(A,!1);const F={startX:_,currentX:A.pageX,startY:w,currentY:A.pageY,altKey:E};this._onDidChange.fire(F)},k=A=>{y.EventHelper.stop(A,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),B.dispose();for(const F of v)F.classList.remove(l)};S.onPointerMove(O,null,B),S.onPointerUp(k,null,B),B.add(S)}onPointerDoublePress(m){const S=this.getOrthogonalSash(m);S&&S._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(m,S=!1){m.el.classList.contains("active")?(m.hoverDelayer.cancel(),m.el.classList.add("hover")):m.hoverDelayer.trigger(()=>m.el.classList.add("hover"),m.hoverDelay).then(void 0,()=>{}),!S&&m.linkedSash&&c.onMouseEnter(m.linkedSash,!0)}static onMouseLeave(m,S=!1){m.hoverDelayer.cancel(),m.el.classList.remove("hover"),!S&&m.linkedSash&&c.onMouseLeave(m.linkedSash,!0)}clearSashHoverState(){c.onMouseLeave(this)}layout(){if(this.orientation===0){const m=this.layoutProvider;this.el.style.left=m.getVerticalSashLeft(this)-this.size/2+"px",m.getVerticalSashTop&&(this.el.style.top=m.getVerticalSashTop(this)+"px"),m.getVerticalSashHeight&&(this.el.style.height=m.getVerticalSashHeight(this)+"px")}else{const m=this.layoutProvider;this.el.style.top=m.getHorizontalSashTop(this)-this.size/2+"px",m.getHorizontalSashLeft&&(this.el.style.left=m.getHorizontalSashLeft(this)+"px"),m.getHorizontalSashWidth&&(this.el.style.width=m.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(m){if(!(!m.target||!(m.target instanceof HTMLElement))&&m.target.classList.contains("orthogonal-drag-handle"))return m.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=c}),define(oe[355],se([12]),{}),define(oe[73],se([1,0,34,7,32,63,334,335,66,10,4,2,17,140,355]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const r=500,d=50,o=!0;class a{constructor(v,_,w){this.timestamp=v,this.deltaX=_,this.deltaY=w,this.score=0}}class s{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let v=1,_=0,w=1,E=this._rear;do{const I=E===this._front?v:Math.pow(2,-w);if(v-=I,_+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,w++}while(!0);return _<=.5}accept(v,_,w){const E=new a(v,_,w);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(v){if(Math.abs(v.deltaX)>0&&Math.abs(v.deltaY)>0)return 1;let _=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(v.deltaX)||!this._isAlmostInt(v.deltaY))&&(_+=.25),Math.min(Math.max(_,0),1)}_isAlmostInt(v){return Math.abs(Math.round(v)-v)<.01}}e.MouseWheelClassifier=s,s.INSTANCE=new s;class l extends C.Widget{constructor(v,_,w){super();this._onScroll=this._register(new h.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new h.Emitter),v.style.overflow="hidden",this._options=S(_),this._scrollable=w,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(v),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onnonbubblingmouseout(this._listenOnDomNode,I=>this._onMouseOut(I)),this._hideTimeout=this._register(new u.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(v){this._verticalScrollbar.delegatePointerDown(v)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(v){this._scrollable.setScrollDimensions(v,!1)}updateClassName(v){this._options.className=v,n.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(v){typeof v.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=v.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof v.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=v.mouseWheelScrollSensitivity),typeof v.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=v.fastScrollSensitivity),typeof v.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=v.scrollPredominantAxis),typeof v.horizontal!="undefined"&&(this._options.horizontal=v.horizontal),typeof v.vertical!="undefined"&&(this._options.vertical=v.vertical),typeof v.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=v.horizontalScrollbarSize),typeof v.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=v.verticalScrollbarSize),typeof v.scrollByPage!="undefined"&&(this._options.scrollByPage=v.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(v){if(this._mouseWheelToDispose.length>0!==v&&(this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),v)){const w=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(f.addDisposableListener(this._listenOnDomNode,f.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(v){const _=s.INSTANCE;if(o){const I=window.devicePixelRatio/(0,y.getZoomFactor)();n.isWindows||n.isLinux?_.accept(Date.now(),v.deltaX/I,v.deltaY/I):_.accept(Date.now(),v.deltaX,v.deltaY)}let w=!1;if(v.deltaY||v.deltaX){let I=v.deltaY*this._options.mouseWheelScrollSensitivity,T=v.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(I)>=Math.abs(T)?T=0:I=0),this._options.flipAxes&&([I,T]=[T,I]);const R=!n.isMacintosh&&v.browserEvent&&v.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!T&&(T=I,I=0),v.browserEvent&&v.browserEvent.altKey&&(T=T*this._options.fastScrollSensitivity,I=I*this._options.fastScrollSensitivity);const B=this._scrollable.getFutureScrollPosition();let O={};if(I){const k=d*I,A=B.scrollTop-(k<0?Math.floor(k):Math.ceil(k));this._verticalScrollbar.writeScrollPosition(O,A)}if(T){const k=d*T,A=B.scrollLeft-(k<0?Math.floor(k):Math.ceil(k));this._horizontalScrollbar.writeScrollPosition(O,A)}O=this._scrollable.validateScrollPosition(O),(B.scrollLeft!==O.scrollLeft||B.scrollTop!==O.scrollTop)&&(o&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),w=!0)}let E=w;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(v.preventDefault(),v.stopPropagation())}_onDidScroll(v){this._shouldRender=this._horizontalScrollbar.onDidScroll(v)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(v)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const v=this._scrollable.getCurrentScrollPosition(),_=v.scrollTop>0,w=v.scrollLeft>0,E=w?" left":"",I=_?" top":"",T=w||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(v){this._mouseIsOver=!1,this._hide()}_onMouseOver(v){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),r)}}e.AbstractScrollableElement=l;class c extends l{constructor(v,_){_=_||{},_.mouseWheelSmoothScroll=!1;const w=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>f.scheduleAtNextAnimationFrame(E)});super(v,_,w);this._register(w)}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}}e.ScrollableElement=c;class g extends l{constructor(v,_,w){super(v,_,w)}setScrollPosition(v){v.reuseAnimation?this._scrollable.setScrollPositionSmooth(v,v.reuseAnimation):this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=g;class m extends l{constructor(v,_){_=_||{},_.mouseWheelSmoothScroll=!1;const w=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>f.scheduleAtNextAnimationFrame(E)});super(v,_,w);this._register(w),this._element=v,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=m;function S(p){const v={lazyRender:typeof p.lazyRender!="undefined"?p.lazyRender:!1,className:typeof p.className!="undefined"?p.className:"",useShadows:typeof p.useShadows!="undefined"?p.useShadows:!0,handleMouseWheel:typeof p.handleMouseWheel!="undefined"?p.handleMouseWheel:!0,flipAxes:typeof p.flipAxes!="undefined"?p.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof p.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?p.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof p.alwaysConsumeMouseWheel!="undefined"?p.alwaysConsumeMouseWheel:!1,scrollYToX:typeof p.scrollYToX!="undefined"?p.scrollYToX:!1,mouseWheelScrollSensitivity:typeof p.mouseWheelScrollSensitivity!="undefined"?p.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof p.fastScrollSensitivity!="undefined"?p.fastScrollSensitivity:5,scrollPredominantAxis:typeof p.scrollPredominantAxis!="undefined"?p.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof p.mouseWheelSmoothScroll!="undefined"?p.mouseWheelSmoothScroll:!0,arrowSize:typeof p.arrowSize!="undefined"?p.arrowSize:11,listenOnDomNode:typeof p.listenOnDomNode!="undefined"?p.listenOnDomNode:null,horizontal:typeof p.horizontal!="undefined"?p.horizontal:1,horizontalScrollbarSize:typeof p.horizontalScrollbarSize!="undefined"?p.horizontalScrollbarSize:10,horizontalSliderSize:typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:0,horizontalHasArrows:typeof p.horizontalHasArrows!="undefined"?p.horizontalHasArrows:!1,vertical:typeof p.vertical!="undefined"?p.vertical:1,verticalScrollbarSize:typeof p.verticalScrollbarSize!="undefined"?p.verticalScrollbarSize:10,verticalHasArrows:typeof p.verticalHasArrows!="undefined"?p.verticalHasArrows:!1,verticalSliderSize:typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:0,scrollByPage:typeof p.scrollByPage!="undefined"?p.scrollByPage:!1};return v.horizontalSliderSize=typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:v.horizontalScrollbarSize,v.verticalSliderSize=typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:v.verticalScrollbarSize,n.isMacintosh&&(v.className+=" mac"),v}}),define(oe[232],se([1,0,7,44,73,2,347]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=y.$;class b extends D.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new N.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=b;class C extends D.Disposable{constructor(h,i,n){super();this.actionContainer=y.append(h,L("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=y.append(this.actionContainer,L("a.action")),this.action.setAttribute("role","button"),i.iconClass&&y.append(this.action,L(`span.icon.${i.iconClass}`));const t=y.append(this.action,L("span"));t.textContent=n?`${i.label} (${n})`:i.label,this._register(y.addDisposableListener(this.actionContainer,y.EventType.CLICK,r=>{r.stopPropagation(),r.preventDefault(),i.run(this.actionContainer)})),this._register(y.addDisposableListener(this.actionContainer,y.EventType.KEY_UP,r=>{new f.StandardKeyboardEvent(r).equals(3)&&(r.stopPropagation(),r.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}static render(h,i,n){return new C(h,i,n)}setEnabled(h){h?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=C}),define(oe[176],se([1,0,34,169,7,92,60,73,18,10,99,4,2,39,139,140,325,333]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const s={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(v){return[v]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class l{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=l;class c{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=c;class g{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let w=0;w<_.files.length;w++){const E=_.files.item(w);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=g;function m(v,_){return Array.isArray(v)&&Array.isArray(_)?(0,C.equals)(v,_):v===_}class S{constructor(_){(_==null?void 0:_.getSetSize)?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(w,E,I)=>I,(_==null?void 0:_.getPosInSet)?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(w,E)=>E+1,(_==null?void 0:_.getRole)?this.getRole=_.getRole.bind(_):this.getRole=w=>"listitem",(_==null?void 0:_.isChecked)?this.isChecked=_.isChecked.bind(_):this.isChecked=w=>{}}}class p{constructor(_,w,E,I=s){if(this.virtualDelegate=w,this.domId=`list_id_${++p.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=n.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=n.Disposable.None,this.onDragLeaveTimeout=n.Disposable.None,this.disposables=new n.DisposableStore,this._onDidChangeContentHeight=new i.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new o.RangeMap;for(const R of E)this.renderers.set(R.templateId,R);this.cache=this.disposables.add(new a.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(0,t.getOrDefault)(I,R=>R.horizontalScrolling,s.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof I.additionalScrollHeight=="undefined"?0:I.additionalScrollHeight,this.accessibilityProvider=new S(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,t.getOrDefault)(I,R=>R.transformOptimization,s.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(L.Gesture.addTarget(this.rowsContainer)),this.scrollable=new d.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(0,t.getOrDefault)(I,R=>R.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:R=>(0,N.scheduleAtNextAnimationFrame)(R)}),this.scrollableElement=this.disposables.add(new b.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,t.getOrDefault)(I,R=>R.alwaysConsumeMouseWheel,s.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,t.getOrDefault)(I,R=>R.verticalScrollMode,s.verticalScrollMode),useShadows:(0,t.getOrDefault)(I,R=>R.useShadows,s.useShadows),mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,N.addDisposableListener)(this.rowsContainer,L.EventType.Change,R=>this.onTouchChange(R))),this.disposables.add((0,N.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",R=>R.target.scrollTop=0)),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragover",R=>this.onDragOver(this.toDragEvent(R)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"drop",R=>this.onDrop(this.toDragEvent(R)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragleave",R=>this.onDragLeave(this.toDragEvent(R)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragend",R=>this.onDragEnd(R))),this.setRowLineHeight=(0,t.getOrDefault)(I,R=>R.setRowLineHeight,s.setRowLineHeight),this.setRowHeight=(0,t.getOrDefault)(I,R=>R.setRowHeight,s.setRowHeight),this.supportDynamicHeights=(0,t.getOrDefault)(I,R=>R.supportDynamicHeights,s.supportDynamicHeights),this.dnd=(0,t.getOrDefault)(I,R=>R.dnd,s.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,N.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(_){_.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=_.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling),_.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:_.fastScrollSensitivity})}splice(_,w,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,w,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,w,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T={start:_,end:_+w},R=r.Range.intersect(I,T),B=new Map;for(let G=R.end-1;G>=R.start;G--){const x=this.items[G];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let V=B.get(x.templateId);V||(V=[],B.set(x.templateId,V));const j=this.renderers.get(x.templateId);j&&j.disposeElement&&j.disposeElement(x.element,G,x.row.templateData,x.size),V.push(x.row)}x.row=null}const O={start:_+w,end:this.items.length},k=r.Range.intersect(O,I),A=r.Range.relativeComplement(O,I),F=E.map(G=>({id:String(this.itemId++),element:G,templateId:this.virtualDelegate.getTemplateId(G),size:this.virtualDelegate.getHeight(G),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(G),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:n.Disposable.None,checkedDisposable:n.Disposable.None}));let P;_===0&&w>=this.items.length?(this.rangeMap=new o.RangeMap,this.rangeMap.splice(0,0,F),P=this.items,this.items=F):(this.rangeMap.splice(_,w,F),P=this.items.splice(_,w,...F));const W=E.length-w,M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),z=(0,o.shift)(k,W),Q=r.Range.intersect(M,z);for(let G=Q.start;G<Q.end;G++)this.updateItemInDOM(this.items[G],G);const ne=r.Range.relativeComplement(z,M);for(const G of ne)for(let x=G.start;x<G.end;x++)this.removeItemFromDOM(x);const X=A.map(G=>(0,o.shift)(G,W)),ie=[{start:_,end:_+E.length},...X].map(G=>r.Range.intersect(M,G)),le=this.getNextToLastElement(ie);for(const G of ie)for(let x=G.start;x<G.end;x++){const V=this.items[x],j=B.get(V.templateId),re=j==null?void 0:j.pop();this.insertItemInDOM(x,le,re)}for(const G of B.values())for(const x of G)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),P.map(G=>G.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,N.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const w of this.items)typeof w.width!="undefined"&&(_=Math.max(_,w.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10})}rerender(){if(!!this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(_){return this.items[_].element}domElement(_){const w=this.items[_].row;return w&&w.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,w){let E={height:typeof _=="number"?_:(0,N.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof w!="undefined"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,N.getContentWidth)(this.domNode)})}render(_,w,E,I,T,R=!1){const B=this.getRenderRange(w,E),O=r.Range.relativeComplement(B,_),k=r.Range.relativeComplement(_,B),A=this.getNextToLastElement(O);if(R){const F=r.Range.intersect(_,B);for(let P=F.start;P<F.end;P++)this.updateItemInDOM(this.items[P],P)}for(const F of O)for(let P=F.start;P<F.end;P++)this.insertItemInDOM(P,A);for(const F of k)for(let P=F.start;P<F.end;P++)this.removeItemFromDOM(P);I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&T!==void 0&&(this.rowsContainer.style.width=`${Math.max(T,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=E}insertItemInDOM(_,w,E){const I=this.items[_];I.row||(I.row=E??this.cache.alloc(I.templateId));const T=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",T);const R=this.accessibilityProvider.isChecked(I.element);if(typeof R=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!R));else if(R){const k=A=>I.row.domNode.setAttribute("aria-checked",String(!!A));k(R.value),I.checkedDisposable=R.onDidChange(k)}I.row.domNode.parentElement||(w?this.rowsContainer.insertBefore(I.row.domNode,w):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,_);const B=this.renderers.get(I.templateId);if(!B)throw new Error(`No renderer found for template id ${I.templateId}`);B&&B.renderElement(I.element,_,I.row.templateData,I.size);const O=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!O,O&&(I.dragStartDisposable=(0,N.addDisposableListener)(I.row.domNode,"dragstart",k=>this.onDragStart(I.element,O,k))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width=y.isFirefox?"-moz-fit-content":"fit-content",_.width=(0,N.getContentWidth)(_.row.domNode);const w=window.getComputedStyle(_.row.domNode);w.paddingLeft&&(_.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(_.width+=parseFloat(w.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,w){_.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${w}`),_.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",w%2==0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,w,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,w))),_.row.domNode.setAttribute("id",this.getElementDomId(w)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const w=this.items[_];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){const E=this.renderers.get(w.templateId);E&&E.disposeElement&&E.disposeElement(w.element,_,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_))}get onMouseDblClick(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_))}get onMouseMiddleClick(){return i.Event.filter(i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_)),_=>_.browserEvent.button===1)}get onMouseDown(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_))}get onContextMenu(){return i.Event.any(i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_)),i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,L.EventType.Contextmenu)).event,_=>this.toGestureEvent(_)))}get onTouchStart(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_))}get onTap(){return i.Event.map(this.disposables.add(new D.DomEmitter(this.rowsContainer,L.EventType.Tap)).event,_=>this.toGestureEvent(_))}toMouseEvent(_){const w=this.getItemIndexFromEventTarget(_.target||null),E=typeof w=="undefined"?void 0:this.items[w],I=E&&E.element;return{browserEvent:_,index:w,element:I}}toTouchEvent(_){const w=this.getItemIndexFromEventTarget(_.target||null),E=typeof w=="undefined"?void 0:this.items[w],I=E&&E.element;return{browserEvent:_,index:w,element:I}}toGestureEvent(_){const w=this.getItemIndexFromEventTarget(_.initialTarget||null),E=typeof w=="undefined"?void 0:this.items[w],I=E&&E.element;return{browserEvent:_,index:w,element:I}}toDragEvent(_){const w=this.getItemIndexFromEventTarget(_.target||null),E=typeof w=="undefined"?void 0:this.items[w],I=E&&E.element;return{browserEvent:_,index:w,element:I}}onScroll(_){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",_),w}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,w,E){if(!E.dataTransfer)return;const I=this.dnd.getDragElements(_);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(f.DataTransfers.TEXT,w),E.dataTransfer.setDragImage){let T;this.dnd.getDragLabel&&(T=this.dnd.getDragLabel(I,E)),typeof T=="undefined"&&(T=String(I.length));const R=(0,N.$)(".monaco-drag-image");R.textContent=T,document.body.appendChild(R),E.dataTransfer.setDragImage(R,-10,-10),setTimeout(()=>document.body.removeChild(R),0)}this.currentDragData=new l(I),f.StaticDND.CurrentDragAndDropData=new c(I),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,E)}onDragOver(_){if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),f.StaticDND.CurrentDragAndDropData&&f.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(f.StaticDND.CurrentDragAndDropData)this.currentDragData=f.StaticDND.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new g}const w=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.browserEvent);if(this.canDrop=typeof w=="boolean"?w:w.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof w!="boolean"&&w.effect===0?"copy":"move";let E;if(typeof w!="boolean"&&w.feedback?E=w.feedback:typeof _.index=="undefined"?E=[-1]:E=[_.index],E=(0,C.distinct)(E).filter(I=>I>=-1&&I<this.length).sort((I,T)=>I-T),E=E[0]===-1?[-1]:E,m(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,n.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const I of E){const T=this.items[I];T.dropTarget=!0,T.row&&T.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,n.toDisposable)(()=>{for(const I of E){const T=this.items[I];T.dropTarget=!1,T.row&&T.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(_){var w,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(w=this.dnd).onDragLeave)===null||E===void 0||E.call(w,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,f.StaticDND.CurrentDragAndDropData=void 0,!(!w||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),w.update(_.browserEvent.dataTransfer),this.dnd.drop(w,_.element,_.index,_.browserEvent))}onDragEnd(_){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,f.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=n.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const w=(0,N.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,N.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-_,E=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(_){const w=this.scrollableElement.getDomNode();let E=_;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&w.contains(E);){const I=E.getAttribute("data-index");if(I){const T=Number(I);if(!isNaN(T))return T}E=E.parentElement}}getRenderRange(_,w){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+w-1)}}_rerender(_,w,E){const I=this.getRenderRange(_,w);let T,R;_===this.elementTop(I.start)?(T=I.start,R=0):I.end-I.start>1&&(T=I.start+1,R=this.elementTop(T)-_);let B=0;for(;;){const O=this.getRenderRange(_,w);let k=!1;for(let A=O.start;A<O.end;A++){const F=this.probeDynamicHeight(A);F!==0&&this.rangeMap.splice(A,1,[this.items[A]]),B+=F,k=k||F!==0}if(!k){B!==0&&this.eventuallyUpdateScrollDimensions();const A=r.Range.relativeComplement(I,O);for(const P of A)for(let W=P.start;W<P.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const F=r.Range.relativeComplement(O,I);for(const P of F)for(let W=P.start;W<P.end;W++){const M=W+1,z=M<this.items.length?this.items[M].row:null,Q=z?z.domNode:null;this.insertItemInDOM(W,Q)}for(let P=O.start;P<O.end;P++)this.items[P].row&&this.updateItemInDOM(this.items[P],P);if(typeof T=="number"){const P=this.scrollable.getFutureScrollPosition().scrollTop-_,W=this.elementTop(T)-R+P;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){const w=this.items[_];if(this.virtualDelegate.getDynamicHeight){const R=this.virtualDelegate.getDynamicHeight(w.element);if(R!==null){const B=w.size;return w.size=R,w.lastDynamicHeightWidth=this.renderWidth,R-B}}if(!w.hasDynamicHeight||w.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(w.element))return 0;const E=w.size;if(!this.setRowHeight&&w.row){let R=w.row.domNode.offsetHeight;return w.size=R,w.lastDynamicHeightWidth=this.renderWidth,R-E}const I=this.cache.alloc(w.templateId);I.domNode.style.height="",this.rowsContainer.appendChild(I.domNode);const T=this.renderers.get(w.templateId);return T&&(T.renderElement(w.element,_,I.templateData,void 0),T.disposeElement&&T.disposeElement(w.element,_,I.templateData,void 0)),w.size=I.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(w.element,w.size),w.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(I.domNode),this.cache.release(I),w.size-E}getNextToLastElement(_){const w=_[_.length-1];if(!w)return null;const E=this.items[w.end];return!E||!E.row?null:E.row.domNode}getElementDomId(_){return`${this.domId}_${_}`}dispose(){if(this.items){for(const _ of this.items)if(_.row){const w=this.renderers.get(_.row.templateId);w&&(w.disposeElement&&w.disposeElement(_.element,-1,_.row.templateData,void 0),w.disposeTemplate(_.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,n.dispose)(this.disposables)}}p.InstanceCount=0,De([h.memoize],p.prototype,"onMouseClick",null),De([h.memoize],p.prototype,"onMouseDblClick",null),De([h.memoize],p.prototype,"onMouseMiddleClick",null),De([h.memoize],p.prototype,"onMouseDown",null),De([h.memoize],p.prototype,"onContextMenu",null),De([h.memoize],p.prototype,"onTouchStart",null),De([h.memoize],p.prototype,"onTap",null),e.ListView=p}),define(oe[122],se([1,0,7,92,44,60,45,319,18,10,30,99,4,64,2,117,39,17,19,318,176,231]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class g{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(x){return x}renderElement(x,V,j){const re=this.renderedElements.findIndex(ae=>ae.templateData===j);if(re>=0){const ae=this.renderedElements[re];this.trait.unrender(j),ae.index=V}else{const ae={index:V,templateData:j};this.renderedElements.push(ae)}this.trait.renderIndex(V,j)}splice(x,V,j){const re=[];for(const ae of this.renderedElements)ae.index<x?re.push(ae):ae.index>=x+V&&re.push({index:ae.index+j-V,templateData:ae.templateData});this.renderedElements=re}renderIndexes(x){for(const{index:V,templateData:j}of this.renderedElements)x.indexOf(V)>-1&&this.trait.renderIndex(V,j)}disposeTemplate(x){const V=this.renderedElements.findIndex(j=>j.templateData===x);V<0||this.renderedElements.splice(V,1)}}class m{constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new n.Emitter,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new g(this)}splice(x,V,j){var re;V=Math.max(0,Math.min(V,this.length-x));const ae=j.length-V,Y=x+V,U=[...this.sortedIndexes.filter(q=>q<x),...j.map((q,$)=>q?$+x:-1).filter(q=>q!==-1),...this.sortedIndexes.filter(q=>q>=Y).map(q=>q+ae)],Z=this.length+ae;if(this.sortedIndexes.length>0&&U.length===0&&Z>0){const q=(re=this.sortedIndexes.find($=>$>=x))!==null&&re!==void 0?re:Z-1;U.push(Math.min(q,Z-1))}this.renderer.splice(x,V,j.length),this._set(U,U),this.length=Z}renderIndex(x,V){V.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,V){return this._set(x,[...x].sort(ne),V)}_set(x,V,j){const re=this.indexes,ae=this.sortedIndexes;this.indexes=x,this.sortedIndexes=V;const Y=z(ae,x);return this.renderer.renderIndexes(Y),this._onChange.fire({indexes:x,browserEvent:j}),re}get(){return this.indexes}contains(x){return(0,C.binarySearch)(this.sortedIndexes,x,ne)>=0}dispose(){(0,r.dispose)(this._onChange)}}De([i.memoize],m.prototype,"renderer",null);class S extends m{constructor(x){super("selected");this.setAriaSelected=x}renderIndex(x,V){super.renderIndex(x,V),this.setAriaSelected&&(this.contains(x)?V.setAttribute("aria-selected","true"):V.setAttribute("aria-selected","false"))}}class p{constructor(x,V,j){this.trait=x,this.view=V,this.identityProvider=j}splice(x,V,j){if(!this.identityProvider)return this.trait.splice(x,V,j.map(()=>!1));const re=this.trait.get().map(Y=>this.identityProvider.getId(this.view.element(Y)).toString()),ae=j.map(Y=>re.indexOf(this.identityProvider.getId(Y).toString())>-1);this.trait.splice(x,V,ae)}}function v(G){return G.tagName==="INPUT"||G.tagName==="TEXTAREA"}e.isInputElement=v;function _(G){return G.classList.contains("monaco-editor")?!0:G.classList.contains("monaco-list")||!G.parentElement?!1:_(G.parentElement)}e.isMonacoEditor=_;class w{constructor(x,V,j){this.list=x,this.view=V,this.disposables=new r.DisposableStore,this.multipleSelectionDisposables=new r.DisposableStore,this.onKeyDown.filter(re=>re.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(re=>re.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(re=>re.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(re=>re.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(re=>re.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(re=>re.keyCode===9).on(this.onEscape,this,this.disposables),j.multipleSelectionSupport!==!1&&this.onKeyDown.filter(re=>(a.isMacintosh?re.metaKey:re.ctrlKey)&&re.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return n.Event.chain(this.disposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!v(x.target)).map(x=>new N.StandardKeyboardEvent(x))}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(V=>(a.isMacintosh?V.metaKey:V.ctrlKey)&&V.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,C.range)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}De([i.memoize],w.prototype,"onKeyDown",null);var E;(function(G){G[G.Idle=0]="Idle",G[G.Typing=1]="Typing"})(E||(E={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(G){return G.ctrlKey||G.metaKey||G.altKey?!1:G.keyCode>=31&&G.keyCode<=56||G.keyCode>=21&&G.keyCode<=30||G.keyCode>=93&&G.keyCode<=102||G.keyCode>=80&&G.keyCode<=90}};class I{constructor(x,V,j,re){this.list=x,this.view=V,this.keyboardNavigationLabelProvider=j,this.delegate=re,this.enabled=!1,this.state=E.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new r.DisposableStore,this.disposables=new r.DisposableStore,this.updateOptions(x.options)}updateOptions(x){(typeof x.enableKeyboardNavigation=="undefined"?!0:!!x.enableKeyboardNavigation)?this.enable():this.disable(),typeof x.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=x.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const x=n.Event.chain(this.enabledDisposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event).filter(re=>!v(re.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(re=>new N.StandardKeyboardEvent(re)).filter(re=>this.delegate.mightProducePrintableCharacter(re)).forEach(re=>re.preventDefault()).map(re=>re.browserEvent.key).event,V=n.Event.debounce(x,()=>null,800);n.Event.reduce(n.Event.any(x,V),(re,ae)=>ae===null?null:(re||"")+ae)(this.onInput,this,this.enabledDisposables),V(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const V=this.list.getFocus();if(V.length>0&&V[0]===this.previouslyFocused){const j=(x=this.list.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.list.element(V[0]));j&&(0,L.alert)(j)}this.previouslyFocused=-1}onInput(x){if(!x){this.state=E.Idle,this.triggered=!1;return}const V=this.list.getFocus(),j=V.length>0?V[0]:0,re=this.state===E.Idle?1:0;this.state=E.Typing;for(let ae=0;ae<this.list.length;ae++){const Y=(j+ae+re)%this.list.length,U=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Y)),Z=U&&U.toString();if(typeof Z=="undefined"||(0,t.matchesPrefix)(x,Z)){this.previouslyFocused=j,this.list.setFocus([Y]),this.list.reveal(Y);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class T{constructor(x,V){this.list=x,this.view=V,this.disposables=new r.DisposableStore,n.Event.chain(this.disposables.add(new f.DomEmitter(V.domNode,"keydown")).event).filter(re=>!v(re.target)).map(re=>new N.StandardKeyboardEvent(re)).filter(re=>re.keyCode===2&&!re.ctrlKey&&!re.metaKey&&!re.shiftKey&&!re.altKey).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const V=this.list.getFocus();if(V.length===0)return;const j=this.view.domElement(V[0]);if(!j)return;const re=j.querySelector("[tabIndex]");if(!re||!(re instanceof HTMLElement)||re.tabIndex===-1)return;const ae=window.getComputedStyle(re);ae.visibility==="hidden"||ae.display==="none"||(x.preventDefault(),x.stopPropagation(),re.focus())}dispose(){this.disposables.dispose()}}function R(G){return a.isMacintosh?G.browserEvent.metaKey:G.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=R;function B(G){return G.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=B;function O(G){return G instanceof MouseEvent&&G.button===2}const k={isSelectionSingleChangeEvent:R,isSelectionRangeChangeEvent:B};class A{constructor(x){this.list=x,this.disposables=new r.DisposableStore,this._onPointer=new n.Emitter,this.onPointer=this._onPointer.event,x.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||k),this.mouseSupport=typeof x.options.mouseSupport=="undefined"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(x.getHTMLElement()))),n.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||k))}isSelectionSingleChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(x):!1}isSelectionRangeChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(x):!1}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){_(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){if(_(x.browserEvent.target))return;const V=typeof x.index=="undefined"?[]:[x.index];this.list.setFocus(V,x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||v(x.browserEvent.target)||_(x.browserEvent.target))return;const V=x.index;if(typeof V=="undefined"){this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(x))return this.changeSelection(x);if(this.isSelectionChangeEvent(x))return this.changeSelection(x);this.list.setFocus([V],x.browserEvent),this.list.setAnchor(V),O(x.browserEvent)||this.list.setSelection([V],x.browserEvent),this._onPointer.fire(x)}onDoubleClick(x){if(v(x.browserEvent.target)||_(x.browserEvent.target)||this.isSelectionChangeEvent(x))return;const V=this.list.getFocus();this.list.setSelection(V,x.browserEvent)}changeSelection(x){const V=x.index;let j=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){if(typeof j=="undefined"){const $=this.list.getFocus()[0];j=$??V,this.list.setAnchor(j)}const re=Math.min(j,V),ae=Math.max(j,V),Y=(0,C.range)(re,ae+1),U=this.list.getSelection(),Z=M(z(U,[j]),j);if(Z.length===0)return;const q=z(Y,Q(U,Z));this.list.setSelection(q,x.browserEvent),this.list.setFocus([V],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const re=this.list.getSelection(),ae=re.filter(Y=>Y!==V);this.list.setFocus([V]),this.list.setAnchor(V),re.length===ae.length?this.list.setSelection([...ae,V],x.browserEvent):this.list.setSelection(ae,x.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class F{constructor(x,V){this.styleElement=x,this.selectorSuffix=V}style(x){const V=this.selectorSuffix&&`.${this.selectorSuffix}`,j=[];x.listBackground&&(x.listBackground.isOpaque()?j.push(`.monaco-list${V} .monaco-list-rows { background: ${x.listBackground}; }`):a.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),x.listFocusBackground&&(j.push(`.monaco-list${V}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),j.push(`.monaco-list${V}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&j.push(`.monaco-list${V}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(j.push(`.monaco-list${V}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),j.push(`.monaco-list${V}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&j.push(`.monaco-list${V}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&j.push(`.monaco-list${V}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionBackground&&j.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&j.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(j.push(`.monaco-list${V} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),j.push(`.monaco-list${V} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&j.push(`.monaco-list${V} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(j.push(`.monaco-list${V} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),j.push(`.monaco-list${V} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(j.push(`.monaco-list${V} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),j.push(`.monaco-list${V} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&j.push(`.monaco-list${V} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&j.push(`.monaco-list${V}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&j.push(`.monaco-list${V} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`),x.listSelectionOutline&&j.push(`.monaco-list${V} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listFocusOutline&&j.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${V}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`),x.listInactiveFocusOutline&&j.push(`.monaco-list${V} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&j.push(`.monaco-list${V} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&j.push(`
				.monaco-list${V}.drop-target,
				.monaco-list${V} .monaco-list-rows.drop-target,
				.monaco-list${V} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.listFilterWidgetBackground&&j.push(`.monaco-list-type-filter { background-color: ${x.listFilterWidgetBackground} }`),x.listFilterWidgetOutline&&j.push(`.monaco-list-type-filter { border: 1px solid ${x.listFilterWidgetOutline}; }`),x.listFilterWidgetNoMatchesOutline&&j.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${x.listFilterWidgetNoMatchesOutline}; }`),x.listMatchesShadow&&j.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${x.listMatchesShadow}; }`),x.tableColumnsBorder&&j.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
			}`),x.tableOddRowsBackgroundColor&&j.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${x.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=j.join(`
`)}}e.DefaultStyleController=F;const P={listFocusBackground:h.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:h.Color.fromHex("#0E639C"),listActiveSelectionForeground:h.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:h.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:h.Color.fromHex("#094771"),listFocusAndSelectionForeground:h.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:h.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:h.Color.fromHex("#FFFFFF"),listHoverBackground:h.Color.fromHex("#2A2D2E"),listDropBackground:h.Color.fromHex("#383B3D"),treeIndentGuidesStroke:h.Color.fromHex("#a9a9a9"),tableColumnsBorder:h.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:h.Color.fromHex("#cccccc").transparent(.04)},W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function M(G,x){const V=G.indexOf(x);if(V===-1)return[];const j=[];let re=V-1;for(;re>=0&&G[re]===x-(V-re);)j.push(G[re--]);for(j.reverse(),re=V;re<G.length&&G[re]===x+(re-V);)j.push(G[re++]);return j}function z(G,x){const V=[];let j=0,re=0;for(;j<G.length||re<x.length;)if(j>=G.length)V.push(x[re++]);else if(re>=x.length)V.push(G[j++]);else if(G[j]===x[re]){V.push(G[j]),j++,re++;continue}else G[j]<x[re]?V.push(G[j++]):V.push(x[re++]);return V}function Q(G,x){const V=[];let j=0,re=0;for(;j<G.length||re<x.length;)if(j>=G.length)V.push(x[re++]);else if(re>=x.length)V.push(G[j++]);else if(G[j]===x[re]){j++,re++;continue}else G[j]<x[re]?V.push(G[j++]):re++;return V}const ne=(G,x)=>G-x;class X{constructor(x,V){this._templateId=x,this.renderers=V}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(V=>V.renderTemplate(x))}renderElement(x,V,j,re){let ae=0;for(const Y of this.renderers)Y.renderElement(x,V,j[ae++],re)}disposeElement(x,V,j,re){let ae=0;for(const Y of this.renderers)Y.disposeElement&&Y.disposeElement(x,V,j[ae],re),ae+=1}disposeTemplate(x){let V=0;for(const j of this.renderers)j.disposeTemplate(x[V++])}}class J{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,V,j){const re=this.accessibilityProvider.getAriaLabel(x);re?j.setAttribute("aria-label",re):j.removeAttribute("aria-label");const ae=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);typeof ae=="number"?j.setAttribute("aria-level",`${ae}`):j.removeAttribute("aria-level")}disposeTemplate(x){}}class ie{constructor(x,V){this.list=x,this.dnd=V}getDragElements(x){const V=this.list.getSelectedElements();return V.indexOf(x)>-1?V:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,V)}onDragStart(x,V){this.dnd.onDragStart&&this.dnd.onDragStart(x,V)}onDragOver(x,V,j,re){return this.dnd.onDragOver(x,V,j,re)}onDragLeave(x,V,j,re){var ae,Y;(Y=(ae=this.dnd).onDragLeave)===null||Y===void 0||Y.call(ae,x,V,j,re)}onDragEnd(x){this.dnd.onDragEnd&&this.dnd.onDragEnd(x)}drop(x,V,j,re){this.dnd.drop(x,V,j,re)}}class le{constructor(x,V,j,re,ae=W){var Y;this.user=x,this._options=ae,this.focus=new m("focused"),this.anchor=new m("anchor"),this.eventBufferer=new n.EventBufferer,this._ariaLabel="",this.disposables=new r.DisposableStore,this._onDidDispose=new n.Emitter,this.onDidDispose=this._onDidDispose.event;const U=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Y=this._options.accessibilityProvider)===null||Y===void 0?void 0:Y.getWidgetRole():"list";this.selection=new S(U!=="listbox"),(0,o.mixin)(ae,P,!1);const Z=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ae.accessibilityProvider,this.accessibilityProvider&&(Z.push(new J(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),re=re.map($=>new X($.templateId,[...Z,$]));const q=Object.assign(Object.assign({},ae),{dnd:ae.dnd&&new ie(this,ae.dnd)});if(this.view=new c.ListView(V,j,re,q),this.view.domNode.setAttribute("role",U),ae.styleController)this.styleController=ae.styleController(this.view.domId);else{const $=(0,y.createStyleSheet)(this.view.domNode);this.styleController=new F($,this.view.domId)}if(this.spliceable=new b.CombinedSpliceable([new p(this.focus,this.view,ae.identityProvider),new p(this.selection,this.view,ae.identityProvider),new p(this.anchor,this.view,ae.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new T(this,this.view)),(typeof ae.keyboardSupport!="boolean"||ae.keyboardSupport)&&(this.keyboardController=new w(this,this.view,ae),this.disposables.add(this.keyboardController)),ae.keyboardNavigationLabelProvider){const $=ae.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new I(this,this.view,ae.keyboardNavigationLabelProvider,$),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ae),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return n.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x))}get onDidChangeSelection(){return n.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const V=n.Event.chain(this.disposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event).map(ae=>new N.StandardKeyboardEvent(ae)).filter(ae=>x=ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(f.stopEvent).filter(()=>!1).event,j=n.Event.chain(this.disposables.add(new f.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>x=!1).map(ae=>new N.StandardKeyboardEvent(ae)).filter(ae=>ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(f.stopEvent).map(({browserEvent:ae})=>{const Y=this.getFocus(),U=Y.length?Y[0]:void 0,Z=typeof U!="undefined"?this.view.element(U):void 0,q=typeof U!="undefined"?this.view.domElement(U):this.view.domNode;return{index:U,element:Z,anchor:q,browserEvent:ae}}).event,re=n.Event.chain(this.view.onContextMenu).filter(ae=>!x).map(({element:ae,index:Y,browserEvent:U})=>({element:ae,index:Y,anchor:{x:U.pageX+1,y:U.pageY},browserEvent:U})).event;return n.Event.any(V,j,re)}get onKeyDown(){return this.disposables.add(new f.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return n.Event.signal(this.disposables.add(new f.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(x){return new A(this)}updateOptions(x={}){var V;this._options=Object.assign(Object.assign({},this._options),x),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),(V=this.keyboardController)===null||V===void 0||V.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,V,j=[]){if(x<0||x>this.view.length)throw new l.ListError(this.user,`Invalid start index: ${x}`);if(V<0)throw new l.ListError(this.user,`Invalid delete count: ${V}`);V===0&&j.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,V,j))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,V){this.view.layout(x,V)}setSelection(x,V){for(const j of x)if(j<0||j>=this.length)throw new l.ListError(this.user,`Invalid index ${j}`);this.selection.set(x,V)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x=="undefined"){this.anchor.set([]);return}if(x<0||x>=this.length)throw new l.ListError(this.user,`Invalid index ${x}`);this.anchor.set([x])}getAnchor(){return(0,C.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x=="undefined"?void 0:this.element(x)}setFocus(x,V){for(const j of x)if(j<0||j>=this.length)throw new l.ListError(this.user,`Invalid index ${j}`);this.focus.set(x,V)}focusNext(x=1,V=!1,j,re){if(this.length===0)return;const ae=this.focus.get(),Y=this.findNextIndex(ae.length>0?ae[0]+x:0,V,re);Y>-1&&this.setFocus([Y],j)}focusPrevious(x=1,V=!1,j,re){if(this.length===0)return;const ae=this.focus.get(),Y=this.findPreviousIndex(ae.length>0?ae[0]-x:0,V,re);Y>-1&&this.setFocus([Y],j)}focusNextPage(x,V){return Le(this,void 0,void 0,function*(){let j=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);j=j===0?0:j-1;const re=this.view.element(j),ae=this.getFocusedElements()[0];if(ae!==re){const Y=this.findPreviousIndex(j,!1,V);Y>-1&&ae!==this.view.element(Y)?this.setFocus([Y],x):this.setFocus([j],x)}else{const Y=this.view.getScrollTop();this.view.setScrollTop(Y+this.view.renderHeight-this.view.elementHeight(j)),this.view.getScrollTop()!==Y&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusNextPage(x,V))}})}focusPreviousPage(x,V){return Le(this,void 0,void 0,function*(){let j;const re=this.view.getScrollTop();re===0?j=this.view.indexAt(re):j=this.view.indexAfter(re-1);const ae=this.view.element(j),Y=this.getFocusedElements()[0];if(Y!==ae){const U=this.findNextIndex(j,!1,V);U>-1&&Y!==this.view.element(U)?this.setFocus([U],x):this.setFocus([j],x)}else{const U=re;this.view.setScrollTop(re-this.view.renderHeight),this.view.getScrollTop()!==U&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusPreviousPage(x,V))}})}focusLast(x,V){if(this.length===0)return;const j=this.findPreviousIndex(this.length-1,!1,V);j>-1&&this.setFocus([j],x)}focusFirst(x,V){this.focusNth(0,x,V)}focusNth(x,V,j){if(this.length===0)return;const re=this.findNextIndex(x,!1,j);re>-1&&this.setFocus([re],V)}findNextIndex(x,V=!1,j){for(let re=0;re<this.length;re++){if(x>=this.length&&!V)return-1;if(x=x%this.length,!j||j(this.element(x)))return x;x++}return-1}findPreviousIndex(x,V=!1,j){for(let re=0;re<this.length;re++){if(x<0&&!V)return-1;if(x=(this.length+x%this.length)%this.length,!j||j(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,V){if(x<0||x>=this.length)throw new l.ListError(this.user,`Invalid index ${x}`);const j=this.view.getScrollTop(),re=this.view.elementTop(x),ae=this.view.elementHeight(x);if((0,s.isNumber)(V)){const Y=ae-this.view.renderHeight;this.view.setScrollTop(Y*(0,d.clamp)(V,0,1)+re)}else{const Y=re+ae,U=j+this.view.renderHeight;re<j&&Y>=U||(re<j||Y>=U&&ae>=this.view.renderHeight?this.view.setScrollTop(re):Y>=U&&this.view.setScrollTop(Y-this.view.renderHeight))}}getRelativeTop(x){if(x<0||x>=this.length)throw new l.ListError(this.user,`Invalid index ${x}`);const V=this.view.getScrollTop(),j=this.view.elementTop(x),re=this.view.elementHeight(x);if(j<V||j+re>V+this.view.renderHeight)return null;const ae=re-this.view.renderHeight;return Math.abs((V-j)/ae)}getHTMLElement(){return this.view.domNode}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:V}){return{indexes:x,elements:x.map(j=>this.view.element(j)),browserEvent:V}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const V=this.focus.get();if(V.length>0){let j;((x=this.accessibilityProvider)===null||x===void 0?void 0:x.getActiveDescendantId)&&(j=this.accessibilityProvider.getActiveDescendantId(this.view.element(V[0]))),this.view.domNode.setAttribute("aria-activedescendant",j||this.view.getElementDomId(V[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",x.length===0),this.view.domNode.classList.toggle("selection-single",x.length===1),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}De([i.memoize],le.prototype,"onDidChangeFocus",null),De([i.memoize],le.prototype,"onDidChangeSelection",null),De([i.memoize],le.prototype,"onContextMenu",null),De([i.memoize],le.prototype,"onKeyDown",null),De([i.memoize],le.prototype,"onDidFocus",null),e.List=le}),define(oe[356],se([1,0,18,21,4,2,122,231]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class b{constructor(n,t){this.renderer=n,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(n){return{data:this.renderer.renderTemplate(n),disposable:D.Disposable.None}}renderElement(n,t,r,d){if(r.disposable&&r.disposable.dispose(),!r.data)return;const o=this.modelProvider();if(o.isResolved(n))return this.renderer.renderElement(o.get(n),n,r.data,d);const a=new f.CancellationTokenSource,s=o.resolve(n,a.token);r.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(n,r.data),s.then(l=>this.renderer.renderElement(l,n,r.data,d))}disposeTemplate(n){n.disposable&&(n.disposable.dispose(),n.disposable=void 0),n.data&&(this.renderer.disposeTemplate(n.data),n.data=void 0)}}class C{constructor(n,t){this.modelProvider=n,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(n){const t=this.modelProvider();return t.isResolved(n)?this.accessibilityProvider.getAriaLabel(t.get(n)):null}}function u(i,n){return Object.assign(Object.assign({},n),{accessibilityProvider:n.accessibilityProvider&&new C(i,n.accessibilityProvider)})}class h{constructor(n,t,r,d,o={}){const a=()=>this.model,s=d.map(l=>new b(l,a));this.list=new L.List(n,t,r,s,u(a,o))}updateOptions(n){this.list.updateOptions(n)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return N.Event.map(this.list.onMouseDblClick,({element:n,index:t,browserEvent:r})=>({element:n===void 0?void 0:this._model.get(n),index:t,browserEvent:r}))}get onPointer(){return N.Event.map(this.list.onPointer,({element:n,index:t,browserEvent:r})=>({element:n===void 0?void 0:this._model.get(n),index:t,browserEvent:r}))}get onDidChangeSelection(){return N.Event.map(this.list.onDidChangeSelection,({elements:n,indexes:t,browserEvent:r})=>({elements:n.map(d=>this._model.get(d)),indexes:t,browserEvent:r}))}get model(){return this._model}set model(n){this._model=n,this.list.splice(0,this.list.length,(0,y.range)(n.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(n=>this.model.get(n))}style(n){this.list.style(n)}dispose(){this.list.dispose()}}e.PagedList=h}),define(oe[357],se([12]),{}),define(oe[233],se([1,0,7,121,73,18,30,4,2,117,140,19,357]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const n={separatorBorder:L.Color.transparent};class t{constructor(c,g,m,S){this.container=c,this.view=g,this.disposable=S,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,c.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(c){this._size=c}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(c,g){c!==this.visible&&(c?(this.size=(0,u.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof g=="number"?g:this.size,this.size=0),this.container.classList.toggle("visible",c),this.view.setVisible&&this.view.setVisible(c))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(c){this.container.style.pointerEvents=c?"":"none"}layout(c,g){this.layoutContainer(c),this.view.layout(this.size,c,g)}dispose(){return this.disposable.dispose(),this.view}}class r extends t{layoutContainer(c){this.container.style.top=`${c}px`,this.container.style.height=`${this.size}px`}}class d extends t{layoutContainer(c){this.container.style.left=`${c}px`,this.container.style.width=`${this.size}px`}}var o;(function(l){l[l.Idle=0]="Idle",l[l.Busy=1]="Busy"})(o||(o={}));var a;(function(l){l.Distribute={type:"distribute"};function c(m){return{type:"split",index:m}}l.Split=c;function g(m){return{type:"invisible",cachedVisibleSize:m}}l.Invisible=g})(a=e.Sizing||(e.Sizing={}));class s extends C.Disposable{constructor(c,g={}){var m,S,p,v,_;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=o.Idle,this._onDidSashChange=this._register(new b.Emitter),this._onDidSashReset=this._register(new b.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(m=g.orientation)!==null&&m!==void 0?m:0,this.inverseAltBehavior=(S=g.inverseAltBehavior)!==null&&S!==void 0?S:!1,this.proportionalLayout=(p=g.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=g.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),c.appendChild(this.el),this.sashContainer=(0,y.append)(this.el,(0,y.$)(".sash-container")),this.viewContainer=(0,y.$)(".split-view-container"),this.scrollable=new h.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:y.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new N.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(v=g.scrollbarVisibility)!==null&&v!==void 0?v:1:2,horizontal:this.orientation===1?(_=g.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(w=>{this.viewContainer.scrollTop=w.scrollTop,this.viewContainer.scrollLeft=w.scrollLeft})),(0,y.append)(this.el,this.scrollableElement.getDomNode()),this.style(g.styles||n),g.descriptor&&(this.size=g.descriptor.size,g.descriptor.views.forEach((w,E)=>{const I=i.isUndefined(w.visible)||w.visible?w.size:{type:"invisible",cachedVisibleSize:w.size},T=w.view;this.doAddView(T,I,E,!0)}),this.contentSize=this.viewItems.reduce((w,E)=>w+E.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(c){for(const g of this.sashItems)g.sash.orthogonalStartSash=c;this._orthogonalStartSash=c}set orthogonalEndSash(c){for(const g of this.sashItems)g.sash.orthogonalEndSash=c;this._orthogonalEndSash=c}set startSnappingEnabled(c){this._startSnappingEnabled!==c&&(this._startSnappingEnabled=c,this.updateSashEnablement())}set endSnappingEnabled(c){this._endSnappingEnabled!==c&&(this._endSnappingEnabled=c,this.updateSashEnablement())}style(c){c.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",c.separatorBorder.toString()))}addView(c,g,m=this.viewItems.length,S){this.doAddView(c,g,m,S)}layout(c,g){const m=Math.max(this.size,this.contentSize);if(this.size=c,this.layoutContext=g,this.proportions)for(let S=0;S<this.viewItems.length;S++){const p=this.viewItems[S];p.size=(0,u.clamp)(Math.round(this.proportions[S]*c),p.minimumSize,p.maximumSize)}else{const S=(0,D.range)(this.viewItems.length),p=S.filter(_=>this.viewItems[_].priority===1),v=S.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,c-m,void 0,p,v)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(c=>c.size/this.contentSize))}onSashStart({sash:c,start:g,alt:m}){for(const _ of this.viewItems)_.enabled=!1;const S=this.sashItems.findIndex(_=>_.sash===c),p=(0,C.combinedDisposable)((0,y.addDisposableListener)(document.body,"keydown",_=>v(this.sashDragState.current,_.altKey)),(0,y.addDisposableListener)(document.body,"keyup",()=>v(this.sashDragState.current,!1))),v=(_,w)=>{const E=this.viewItems.map(O=>O.size);let I=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(w=!w),w)if(S===this.sashItems.length-1){const k=this.viewItems[S];I=(k.minimumSize-k.size)/2,T=(k.maximumSize-k.size)/2}else{const k=this.viewItems[S+1];I=(k.size-k.maximumSize)/2,T=(k.size-k.minimumSize)/2}let R,B;if(!w){const O=(0,D.range)(S,-1),k=(0,D.range)(S+1,this.viewItems.length),A=O.reduce((X,J)=>X+(this.viewItems[J].minimumSize-E[J]),0),F=O.reduce((X,J)=>X+(this.viewItems[J].viewMaximumSize-E[J]),0),P=k.length===0?Number.POSITIVE_INFINITY:k.reduce((X,J)=>X+(E[J]-this.viewItems[J].minimumSize),0),W=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((X,J)=>X+(E[J]-this.viewItems[J].viewMaximumSize),0),M=Math.max(A,W),z=Math.min(P,F),Q=this.findFirstSnapIndex(O),ne=this.findFirstSnapIndex(k);if(typeof Q=="number"){const X=this.viewItems[Q],J=Math.floor(X.viewMinimumSize/2);R={index:Q,limitDelta:X.visible?M-J:M+J,size:X.size}}if(typeof ne=="number"){const X=this.viewItems[ne],J=Math.floor(X.viewMinimumSize/2);B={index:ne,limitDelta:X.visible?z+J:z-J,size:X.size}}}this.sashDragState={start:_,current:_,index:S,sizes:E,minDelta:I,maxDelta:T,alt:w,snapBefore:R,snapAfter:B,disposable:p}};v(g,m)}onSashChange({current:c}){const{index:g,start:m,sizes:S,alt:p,minDelta:v,maxDelta:_,snapBefore:w,snapAfter:E}=this.sashDragState;this.sashDragState.current=c;const I=c-m,T=this.resize(g,I,S,void 0,void 0,v,_,w,E);if(p){const R=g===this.sashItems.length-1,B=this.viewItems.map(W=>W.size),O=R?g:g+1,k=this.viewItems[O],A=k.size-k.maximumSize,F=k.size-k.minimumSize,P=R?g-1:g+1;this.resize(P,-T,B,void 0,void 0,A,F)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(c){this._onDidSashChange.fire(c),this.sashDragState.disposable.dispose(),this.saveProportions();for(const g of this.viewItems)g.enabled=!0}onViewChange(c,g){const m=this.viewItems.indexOf(c);m<0||m>=this.viewItems.length||(g=typeof g=="number"?g:c.size,g=(0,u.clamp)(g,c.minimumSize,c.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((c.size-g)/2)),this.distributeEmptySpace(),this.layoutViews()):(c.size=g,this.relayout([m],void 0)))}resizeView(c,g){if(this.state!==o.Idle)throw new Error("Cant modify splitview");if(this.state=o.Busy,c<0||c>=this.viewItems.length)return;const m=(0,D.range)(this.viewItems.length).filter(_=>_!==c),S=[...m.filter(_=>this.viewItems[_].priority===1),c],p=m.filter(_=>this.viewItems[_].priority===2),v=this.viewItems[c];g=Math.round(g),g=(0,u.clamp)(g,v.minimumSize,Math.min(v.maximumSize,this.size)),v.size=g,this.relayout(S,p),this.state=o.Idle}distributeViewSizes(){const c=[];let g=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(c.push(_),g+=_.size);const m=Math.floor(g/c.length);for(const _ of c)_.size=(0,u.clamp)(m,_.minimumSize,_.maximumSize);const S=(0,D.range)(this.viewItems.length),p=S.filter(_=>this.viewItems[_].priority===1),v=S.filter(_=>this.viewItems[_].priority===2);this.relayout(p,v)}getViewSize(c){return c<0||c>=this.viewItems.length?-1:this.viewItems[c].size}doAddView(c,g,m=this.viewItems.length,S){if(this.state!==o.Idle)throw new Error("Cant modify splitview");this.state=o.Busy;const p=(0,y.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(m));const v=c.onDidChange(R=>this.onViewChange(I,R)),_=(0,C.toDisposable)(()=>this.viewContainer.removeChild(p)),w=(0,C.combinedDisposable)(v,_);let E;typeof g=="number"?E=g:g.type==="split"?E=this.getViewSize(g.index)/2:g.type==="invisible"?E={cachedVisibleSize:g.cachedVisibleSize}:E=c.minimumSize;const I=this.orientation===0?new r(p,c,E,w):new d(p,c,E,w);if(this.viewItems.splice(m,0,I),this.viewItems.length>1){let R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const B=this.orientation===0?new f.Sash(this.sashContainer,{getHorizontalSashTop:X=>this.getSashPosition(X),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:1})):new f.Sash(this.sashContainer,{getVerticalSashLeft:X=>this.getSashPosition(X),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:0})),O=this.orientation===0?X=>({sash:B,start:X.startY,current:X.currentY,alt:X.altKey}):X=>({sash:B,start:X.startX,current:X.currentX,alt:X.altKey}),A=b.Event.map(B.onDidStart,O)(this.onSashStart,this),P=b.Event.map(B.onDidChange,O)(this.onSashChange,this),M=b.Event.map(B.onDidEnd,()=>this.sashItems.findIndex(X=>X.sash===B))(this.onSashEnd,this),z=B.onDidReset(()=>{const X=this.sashItems.findIndex(x=>x.sash===B),J=(0,D.range)(X,-1),ie=(0,D.range)(X+1,this.viewItems.length),le=this.findFirstSnapIndex(J),G=this.findFirstSnapIndex(ie);typeof le=="number"&&!this.viewItems[le].visible||typeof G=="number"&&!this.viewItems[G].visible||this._onDidSashReset.fire(X)}),Q=(0,C.combinedDisposable)(A,P,M,z,B),ne={sash:B,disposable:Q};this.sashItems.splice(m-1,0,ne)}p.appendChild(c.element);let T;typeof g!="number"&&g.type==="split"&&(T=[g.index]),S||this.relayout([m],T),this.state=o.Idle,!S&&typeof g!="number"&&g.type==="distribute"&&this.distributeViewSizes()}relayout(c,g){const m=this.viewItems.reduce((S,p)=>S+p.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,c,g),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(c,g,m=this.viewItems.map(I=>I.size),S,p,v=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,w,E){if(c<0||c>=this.viewItems.length)return 0;const I=(0,D.range)(c,-1),T=(0,D.range)(c+1,this.viewItems.length);if(p)for(const ne of p)(0,D.pushToStart)(I,ne),(0,D.pushToStart)(T,ne);if(S)for(const ne of S)(0,D.pushToEnd)(I,ne),(0,D.pushToEnd)(T,ne);const R=I.map(ne=>this.viewItems[ne]),B=I.map(ne=>m[ne]),O=T.map(ne=>this.viewItems[ne]),k=T.map(ne=>m[ne]),A=I.reduce((ne,X)=>ne+(this.viewItems[X].minimumSize-m[X]),0),F=I.reduce((ne,X)=>ne+(this.viewItems[X].maximumSize-m[X]),0),P=T.length===0?Number.POSITIVE_INFINITY:T.reduce((ne,X)=>ne+(m[X]-this.viewItems[X].minimumSize),0),W=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((ne,X)=>ne+(m[X]-this.viewItems[X].maximumSize),0),M=Math.max(A,W,v),z=Math.min(P,F,_);let Q=!1;if(w){const ne=this.viewItems[w.index],X=g>=w.limitDelta;Q=X!==ne.visible,ne.setVisible(X,w.size)}if(!Q&&E){const ne=this.viewItems[E.index],X=g<E.limitDelta;Q=X!==ne.visible,ne.setVisible(X,E.size)}if(Q)return this.resize(c,g,m,S,p,v,_);g=(0,u.clamp)(g,M,z);for(let ne=0,X=g;ne<R.length;ne++){const J=R[ne],ie=(0,u.clamp)(B[ne]+X,J.minimumSize,J.maximumSize);X-=ie-B[ne],J.size=ie}for(let ne=0,X=g;ne<O.length;ne++){const J=O[ne],ie=(0,u.clamp)(k[ne]-X,J.minimumSize,J.maximumSize);X+=ie-k[ne],J.size=ie}return g}distributeEmptySpace(c){const g=this.viewItems.reduce((_,w)=>_+w.size,0);let m=this.size-g;const S=(0,D.range)(this.viewItems.length-1,-1),p=S.filter(_=>this.viewItems[_].priority===1),v=S.filter(_=>this.viewItems[_].priority===2);for(const _ of v)(0,D.pushToStart)(S,_);for(const _ of p)(0,D.pushToEnd)(S,_);typeof c=="number"&&(0,D.pushToEnd)(S,c);for(let _=0;m!==0&&_<S.length;_++){const w=this.viewItems[S[_]],E=(0,u.clamp)(w.size+m,w.minimumSize,w.maximumSize);m-=E-w.size,w.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((g,m)=>g+m.size,0);let c=0;for(const g of this.viewItems)g.layout(c,this.layoutContext),c+=g.size;this.sashItems.forEach(g=>g.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let c=!1;const g=this.viewItems.map(w=>c=w.size-w.minimumSize>0||c);c=!1;const m=this.viewItems.map(w=>c=w.maximumSize-w.size>0||c),S=[...this.viewItems].reverse();c=!1;const p=S.map(w=>c=w.size-w.minimumSize>0||c).reverse();c=!1;const v=S.map(w=>c=w.maximumSize-w.size>0||c).reverse();let _=0;for(let w=0;w<this.sashItems.length;w++){const{sash:E}=this.sashItems[w];_+=this.viewItems[w].size;const T=!(g[w]&&v[w+1]),R=!(m[w]&&p[w+1]);if(T&&R){const B=(0,D.range)(w,-1),O=(0,D.range)(w+1,this.viewItems.length),k=this.findFirstSnapIndex(B),A=this.findFirstSnapIndex(O),F=typeof k=="number"&&!this.viewItems[k].visible,P=typeof A=="number"&&!this.viewItems[A].visible;F&&p[w]&&(_>0||this.startSnappingEnabled)?E.state=1:P&&g[w]&&(_<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else T&&!R?E.state=1:!T&&R?E.state=2:E.state=3}}getSashPosition(c){let g=0;for(let m=0;m<this.sashItems.length;m++)if(g+=this.viewItems[m].size,this.sashItems[m].sash===c)return g;return 0}findFirstSnapIndex(c){for(const g of c){const m=this.viewItems[g];if(!!m.visible&&m.snap)return g}for(const g of c){const m=this.viewItems[g];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return g}}dispose(){super.dispose(),(0,C.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(c=>c.disposable.dispose()),this.sashItems=[]}}e.SplitView=s}),define(oe[358],se([12]),{}),define(oe[359],se([1,0,7,122,233,4,2,358]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(n,t,r){this.columns=n,this.getColumnSize=r,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const d=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(const o of n){const a=d.get(o.templateId);if(!a)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(a)}}renderTemplate(n){const t=(0,y.append)(n,(0,y.$)(".monaco-table-tr")),r=[],d=[];for(let a=0;a<this.columns.length;a++){const s=this.renderers[a],l=(0,y.append)(t,(0,y.$)(".monaco-table-td",{"data-col-index":a}));l.style.width=`${this.getColumnSize(a)}px`,r.push(l),d.push(s.renderTemplate(l))}const o={container:n,cellContainers:r,cellTemplateData:d};return this.renderedTemplates.add(o),o}renderElement(n,t,r,d){for(let o=0;o<this.columns.length;o++){const s=this.columns[o].project(n);this.renderers[o].renderElement(s,t,r.cellTemplateData[o],d)}}disposeElement(n,t,r,d){for(let o=0;o<this.columns.length;o++){const a=this.renderers[o];if(a.disposeElement){const l=this.columns[o].project(n);a.disposeElement(l,t,r.cellTemplateData[o],d)}}}disposeTemplate(n){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(n.cellTemplateData[t]);(0,y.clearNode)(n.container),this.renderedTemplates.delete(n)}layoutColumn(n,t){for(const{cellContainers:r}of this.renderedTemplates)r[n].style.width=`${t}px`}}b.TemplateId="row";function C(i){return{getHeight(n){return i.getHeight(n)},getTemplateId(){return b.TemplateId}}}class u{constructor(n,t){this.column=n,this.index=t,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,y.$)(".monaco-table-th",{"data-col-index":t,title:n.tooltip},n.label)}get minimumSize(){var n;return(n=this.column.minimumWidth)!==null&&n!==void 0?n:120}get maximumSize(){var n;return(n=this.column.maximumWidth)!==null&&n!==void 0?n:Number.POSITIVE_INFINITY}get onDidChange(){var n;return(n=this.column.onDidChangeWidthConstraints)!==null&&n!==void 0?n:D.Event.None}layout(n){this._onDidLayout.fire([this.index,n])}}class h{constructor(n,t,r,d,o,a){this.virtualDelegate=r,this.domId=`table_id_${++h.InstanceCount}`,this.disposables=new L.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,y.append)(t,(0,y.$)(`.monaco-table.${this.domId}`));const s=d.map((g,m)=>new u(g,m)),l={size:s.reduce((g,m)=>g+m.column.weight,0),views:s.map(g=>({size:g.column.weight,view:g}))};this.splitview=this.disposables.add(new N.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${r.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${r.headerRowHeight}px`;const c=new b(d,o,g=>this.splitview.getViewSize(g));this.list=this.disposables.add(new f.List(n,this.domNode,C(r),[c],a)),D.Event.any(...s.map(g=>g.onDidLayout))(([g,m])=>c.layoutColumn(g,m),null,this.disposables),this.splitview.onDidSashReset(g=>{const m=d.reduce((p,v)=>p+v.weight,0),S=d[g].weight/m*this.cachedWidth;this.splitview.resizeView(g,S)},null,this.disposables),this.styleElement=(0,y.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(n){this.list.updateOptions(n)}splice(n,t,r=[]){this.list.splice(n,t,r)}getHTMLElement(){return this.domNode}style(n){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(n)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=h,h.InstanceCount=0}),define(oe[360],se([12]),{}),define(oe[177],se([1,0,66,28,30,4,360]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const L={inputActiveOptionBorder:N.Color.fromHex("#007ACC00"),inputActiveOptionForeground:N.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:N.Color.fromHex("#0E639C50")};class b extends y.Widget{constructor(u){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},L),u),this._checked=this._opts.isChecked;const h=["monaco-custom-toggle"];this._opts.icon&&h.push(...f.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&h.push(...this._opts.actionClassName.split(" ")),this._checked&&h.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...h),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(u){this._checked=u,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(u){u.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=u.inputActiveOptionBorder),u.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=u.inputActiveOptionForeground),u.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=u.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=b}),define(oe[361],se([12]),{}),define(oe[145],se([12]),{}),define(oe[234],se([1,0,7,136,145]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const N={},D=new f.IdGenerator("quick-input-button-icon-");function L(b){if(!b)return;let C;const u=b.dark.toString();return N[u]?C=N[u]:(C=D.nextId(),y.createCSSRule(`.${C}, .hc-light .${C}`,`background-image: ${y.asCSSUrl(b.light||b.dark)}`),y.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${y.asCSSUrl(b.dark)}`),N[u]=C),C}e.getIconClass=L}),define(oe[362],se([12]),{}),define(oe[363],se([12]),{}),define(oe[364],se([12]),{}),define(oe[365],se([12]),{}),define(oe[366],se([12]),{}),define(oe[367],se([12]),{}),define(oe[368],se([12]),{}),define(oe[369],se([12]),{}),define(oe[370],se([12]),{}),define(oe[371],se([12]),{}),define(oe[372],se([12]),{}),define(oe[373],se([12]),{}),define(oe[374],se([12]),{}),define(oe[375],se([12]),{}),define(oe[376],se([12]),{}),define(oe[377],se([12]),{}),define(oe[378],se([12]),{}),define(oe[379],se([12]),{}),define(oe[380],se([12]),{}),define(oe[381],se([12]),{}),define(oe[382],se([12]),{}),define(oe[383],se([12]),{}),define(oe[384],se([12]),{}),define(oe[385],se([12]),{}),define(oe[386],se([12]),{}),define(oe[387],se([12]),{}),define(oe[388],se([12]),{}),define(oe[389],se([12]),{}),define(oe[390],se([12]),{}),define(oe[391],se([12]),{}),define(oe[392],se([12]),{}),define(oe[393],se([12]),{}),define(oe[394],se([12]),{}),define(oe[395],se([12]),{}),define(oe[396],se([12]),{}),define(oe[397],se([12]),{}),define(oe[398],se([12]),{}),define(oe[399],se([12]),{}),define(oe[400],se([12]),{}),define(oe[401],se([12]),{}),define(oe[402],se([12]),{}),define(oe[403],se([12]),{}),define(oe[404],se([12]),{}),define(oe[405],se([12]),{}),define(oe[406],se([12]),{}),define(oe[407],se([12]),{}),define(oe[408],se([12]),{}),define(oe[235],se([1,0,2,4]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends y.Disposable{constructor(L,b){super();this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=L,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,b){let C=0,u=0;b?(C=b.width,u=b.height):this._referenceDomElement&&(C=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),C=Math.max(5,C),u=Math.max(5,u),(this._width!==C||this._height!==u)&&(this._width=C,this._height=u,L&&this._onDidChange.fire())}}e.ElementSizeObserver=N}),define(oe[409],se([1,0,219]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class f{constructor(u,h){this.key=u,this.migrate=h}apply(u){const h=f._read(u,this.key),i=t=>f._read(u,t),n=(t,r)=>f._write(u,t,r);this.migrate(h,i,n)}static _read(u,h){if(typeof u=="undefined")return;const i=h.indexOf(".");if(i>=0){const n=h.substring(0,i);return this._read(u[n],h.substring(i+1))}return u[h]}static _write(u,h,i){const n=h.indexOf(".");if(n>=0){const t=h.substring(0,n);u[t]=u[t]||{},this._write(u[t],h.substring(n+1),i);return}u[h]=i}}e.EditorSettingMigration=f,f.items=[];function N(C,u){f.items.push(new f(C,u))}function D(C,u){N(C,(h,i,n)=>{if(typeof h!="undefined"){for(const[t,r]of u)if(h===t){n(C,r);return}}})}function L(C){f.items.forEach(u=>u.apply(C))}e.migrateOptions=L,D("wordWrap",[[!0,"on"],[!1,"off"]]),D("lineNumbers",[[!0,"on"],[!1,"off"]]),D("cursorBlinking",[["visible","solid"]]),D("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),D("renderLineHighlight",[[!0,"line"],[!1,"none"]]),D("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),D("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),D("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),D("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),D("autoIndent",[[!1,"advanced"],[!0,"full"]]),D("matchBrackets",[[!0,"always"],[!1,"never"]]),N("autoClosingBrackets",(C,u,h)=>{C===!1&&(h("autoClosingBrackets","never"),typeof u("autoClosingQuotes")=="undefined"&&h("autoClosingQuotes","never"),typeof u("autoSurround")=="undefined"&&h("autoSurround","never"))}),N("renderIndentGuides",(C,u,h)=>{typeof C!="undefined"&&(h("renderIndentGuides",void 0),typeof u("guides.indentation")=="undefined"&&h("guides.indentation",!!C))}),N("highlightActiveIndentGuide",(C,u,h)=>{typeof C!="undefined"&&(h("highlightActiveIndentGuide",void 0),typeof u("guides.highlightActiveIndentation")=="undefined"&&h("guides.highlightActiveIndentation",!!C))});const b={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};N("suggest.filteredTypes",(C,u,h)=>{C&&typeof C=="object"&&((0,y.forEach)(b,i=>{C[i.key]===!1&&typeof u(`suggest.${i.value}`)=="undefined"&&h(`suggest.${i.value}`,!1)}),h("suggest.filteredTypes",void 0))}),N("quickSuggestions",(C,u,h)=>{if(typeof C=="boolean"){const i=C?"on":"off";h("quickSuggestions",{comments:i,strings:i,other:i})}})}),define(oe[236],se([1,0,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class f{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new y.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus!==D&&(this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new f}),define(oe[146],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class y{constructor(N,D,L){this._visiblePosition=N,this._visiblePositionScrollDelta=D,this._cursorPosition=L}static capture(N){let D=null,L=0;if(N.getScrollTop()!==0){const b=N.getVisibleRanges();if(b.length>0){D=b[0].getStartPosition();const C=N.getTopForPosition(D.lineNumber,D.column);L=N.getScrollTop()-C}}return new y(D,L,N.getPosition())}restore(N){if(this._visiblePosition){const D=N.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);N.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(N){const D=N.getPosition();if(!this._cursorPosition||!D)return;const L=N.getTopForLineNumber(D.lineNumber)-N.getTopForLineNumber(this._cursorPosition.lineNumber);N.setScrollTop(N.getScrollTop()+L)}}e.StableEditorScrollState=y}),define(oe[123],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class y{constructor(h,i){this._restrictedRenderingContextBrand=void 0,this._viewLayout=h,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(h){return h-this.scrollTop}getVerticalOffsetForLineNumber(h){return this._viewLayout.getVerticalOffsetForLineNumber(h)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=y;class f extends y{constructor(h,i,n){super(h,i);this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(h,i){return this._viewLines.linesVisibleRangesForRange(h,i)}visibleRangeForPosition(h){return this._viewLines.visibleRangeForPosition(h)}}e.RenderingContext=f;class N{constructor(h,i,n){this.outsideRenderedLine=h,this.lineNumber=i,this.ranges=n}}e.LineVisibleRanges=N;class D{constructor(h,i){this._horizontalRangeBrand=void 0,this.left=Math.round(h),this.width=Math.round(i)}static from(h){const i=new Array(h.length);for(let n=0,t=h.length;n<t;n++){const r=h[n];i[n]=new D(r.left,r.width)}return i}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class L{constructor(h,i){this._floatHorizontalRangeBrand=void 0,this.left=h,this.width=i}toString(){return`[${this.left},${this.width}]`}static compare(h,i){return h.left-i.left}}e.FloatHorizontalRange=L;class b{constructor(h,i){this.outsideRenderedLine=h,this.originalLeft=i,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=b;class C{constructor(h,i){this.outsideRenderedLine=h,this.ranges=i}}e.VisibleRanges=C}),define(oe[237],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class y{constructor(N){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=N}emitKeyDown(N){this.onKeyDown&&this.onKeyDown(N)}emitKeyUp(N){this.onKeyUp&&this.onKeyUp(N)}emitContextMenu(N){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(N))}emitMouseMove(N){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(N))}emitMouseLeave(N){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(N))}emitMouseDown(N){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(N))}emitMouseUp(N){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(N))}emitMouseDrag(N){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(N))}emitMouseDrop(N){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(N))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(N){this.onMouseWheel&&this.onMouseWheel(N)}_convertViewToModelMouseEvent(N){return N.target?{event:N.event,target:this._convertViewToModelMouseTarget(N.target)}:N}_convertViewToModelMouseTarget(N){return y.convertViewToModelMouseTarget(N,this._coordinatesConverter)}static convertViewToModelMouseTarget(N,D){const L=Object.assign({},N);return L.position&&(L.position=D.convertViewPositionToModelPosition(L.position)),L.range&&(L.range=D.convertViewRangeToModelRange(L.range)),L}}e.ViewUserInputEvents=y}),define(oe[410],se([1,0,123]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class f{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,L){D.selectNodeContents(L)}static _readClientRects(D,L,b,C,u){const h=this._createRange();try{return h.setStart(D,L),h.setEnd(b,C),h.getClientRects()}catch{return null}finally{this._detachRange(h,u)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(y.FloatHorizontalRange.compare);const L=[];let b=0,C=D[0];for(let u=1,h=D.length;u<h;u++){const i=D[u];C.left+C.width+.9>=i.left?C.width=Math.max(C.width,i.left+i.width-C.left):(L[b++]=C,C=i)}return L[b++]=C,L}static _createHorizontalRangesFromClientRects(D,L,b){if(!D||D.length===0)return null;const C=[];for(let u=0,h=D.length;u<h;u++){const i=D[u];C[u]=new y.FloatHorizontalRange(Math.max(0,(i.left-L)/b),i.width/b)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(D,L,b,C,u,h,i,n){const t=0,r=D.children.length-1;if(t>r)return null;if(L=Math.min(r,Math.max(t,L)),C=Math.min(r,Math.max(t,C)),L===C&&b===u&&b===0&&!D.children[L].firstChild){const s=D.children[L].getClientRects();return this._createHorizontalRangesFromClientRects(s,h,i)}L!==C&&C>0&&u===0&&(C--,u=1073741824);let d=D.children[L].firstChild,o=D.children[C].firstChild;if((!d||!o)&&(!d&&b===0&&L>0&&(d=D.children[L-1].firstChild,b=1073741824),!o&&u===0&&C>0&&(o=D.children[C-1].firstChild,u=1073741824)),!d||!o)return null;b=Math.min(d.textContent.length,Math.max(0,b)),u=Math.min(o.textContent.length,Math.max(0,u));const a=this._readClientRects(d,b,o,u,n);return this._createHorizontalRangesFromClientRects(a,h,i)}}e.RangeUtil=f}),define(oe[238],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const f=[];for(let N=32;N<=126;N++)f.push(N);return f.push(65533),f})();const y=(f,N)=>(f-=32,f<0||f>96?N<=2?(f+96)%96:96-1:f);e.getCharIndex=y}),define(oe[411],se([1,0,238,142]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class N{constructor(L,b){this.scale=b,this._minimapCharRendererBrand=void 0,this.charDataNormal=N.soften(L,12/15),this.charDataLight=N.soften(L,50/60)}static soften(L,b){const C=new Uint8ClampedArray(L.length);for(let u=0,h=L.length;u<h;u++)C[u]=(0,f.toUint8)(L[u]*b);return C}renderChar(L,b,C,u,h,i,n,t,r,d,o){const a=1*this.scale,s=2*this.scale,l=o?1:s;if(b+a>L.width||C+l>L.height){console.warn("bad render request outside image data");return}const c=d?this.charDataLight:this.charDataNormal,g=(0,y.getCharIndex)(u,r),m=L.width*4,S=n.r,p=n.g,v=n.b,_=h.r-S,w=h.g-p,E=h.b-v,I=Math.max(i,t),T=L.data;let R=g*a*s,B=C*m+b*4;for(let O=0;O<l;O++){let k=B;for(let A=0;A<a;A++){const F=c[R++]/255*(i/255);T[k++]=S+_*F,T[k++]=p+w*F,T[k++]=v+E*F,T[k++]=I}B+=m}}blockRenderChar(L,b,C,u,h,i,n,t){const r=1*this.scale,d=2*this.scale,o=t?1:d;if(b+r>L.width||C+o>L.height){console.warn("bad render request outside image data");return}const a=L.width*4,s=.5*(h/255),l=i.r,c=i.g,g=i.b,m=u.r-l,S=u.g-c,p=u.b-g,v=l+m*s,_=c+S*s,w=g+p*s,E=Math.max(h,n),I=L.data;let T=C*a+b*4;for(let R=0;R<o;R++){let B=T;for(let O=0;O<r;O++)I[B++]=v,I[B++]=_,I[B++]=w,I[B++]=E;T+=a}}}e.MinimapCharRenderer=N}),define(oe[412],se([1,0,91]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const f={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},N=D=>{const L=new Uint8ClampedArray(D.length/2);for(let b=0;b<D.length;b+=2)L[b>>1]=f[D[b]]<<4|f[D[b+1]]&15;return L};e.prebakedMiniMaps={1:(0,y.once)(()=>N("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,y.once)(()=>N("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(oe[413],se([1,0,411,238,412,142]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class L{static create(C,u){if(this.lastCreated&&C===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let h;return N.prebakedMiniMaps[C]?h=new y.MinimapCharRenderer(N.prebakedMiniMaps[C](),C):h=L.createFromSampleData(L.createSampleData(u).data,C),this.lastFontFamily=u,this.lastCreated=h,h}static createSampleData(C){const u=document.createElement("canvas"),h=u.getContext("2d");u.style.height=`${16}px`,u.height=16,u.width=96*10,u.style.width=96*10+"px",h.fillStyle="#ffffff",h.font=`bold ${16}px ${C}`,h.textBaseline="middle";let i=0;for(const n of f.allCharCodes)h.fillText(String.fromCharCode(n),i,16/2),i+=10;return h.getImageData(0,0,96*10,16)}static createFromSampleData(C,u){const h=16*10*4*96;if(C.length!==h)throw new Error("Unexpected source in MinimapCharRenderer");const i=L._downsample(C,u);return new y.MinimapCharRenderer(i,u)}static _downsampleChar(C,u,h,i,n){const t=1*n,r=2*n;let d=i,o=0;for(let a=0;a<r;a++){const s=a/r*16,l=(a+1)/r*16;for(let c=0;c<t;c++){const g=c/t*10,m=(c+1)/t*10;let S=0,p=0;for(let _=s;_<l;_++){const w=u+Math.floor(_)*3840,E=1-(_-Math.floor(_));for(let I=g;I<m;I++){const T=1-(I-Math.floor(I)),R=w+Math.floor(I)*4,B=T*E;p+=B,S+=C[R]*C[R+3]/255*B}}const v=S/p;o=Math.max(o,v),h[d++]=(0,D.toUint8)(v)}}return o}static _downsample(C,u){const h=2*u*1*u,i=h*96,n=new Uint8ClampedArray(i);let t=0,r=0,d=0;for(let o=0;o<96;o++)d=Math.max(d,this._downsampleChar(C,r,n,t,u)),t+=h,r+=10*4;if(d>0){const o=255/d;for(let a=0;a<i;a++)n[a]*=o}return n}}e.MinimapCharRendererFactory=L}),define(oe[147],se([1,0,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(f){f=Math.min(Math.max(-5,f),20),this._zoomLevel!==f&&(this._zoomLevel=f,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(oe[178],se([1,0,17,147]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const N=y.isMacintosh?1.5:1.35,D=8;class L{constructor(u){this._bareFontInfoBrand=void 0,this.pixelRatio=u.pixelRatio,this.fontFamily=String(u.fontFamily),this.fontWeight=String(u.fontWeight),this.fontSize=u.fontSize,this.fontFeatureSettings=u.fontFeatureSettings,this.lineHeight=u.lineHeight|0,this.letterSpacing=u.letterSpacing}static createFromValidatedSettings(u,h,i){const n=u.get(43),t=u.get(47),r=u.get(46),d=u.get(45),o=u.get(59),a=u.get(56);return L._create(n,t,r,d,o,a,h,i)}static _create(u,h,i,n,t,r,d,o){t===0?t=N*i:t<D&&(t=t*i),t=Math.round(t),t<D&&(t=D);const a=1+(o?0:f.EditorZoom.getZoomLevel()*.1);return i*=a,t*=a,new L({pixelRatio:d,fontFamily:u,fontWeight:h,fontSize:i,fontFeatureSettings:n,lineHeight:t,letterSpacing:r})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(u){const h=L._wrapInQuotes(this.fontFamily);return u&&this.fontFamily!==u?`${h}, ${u}`:h}static _wrapInQuotes(u){return/[,"']/.test(u)?u:/[+ ]/.test(u)?`"${u}"`:u}}e.BareFontInfo=L,e.SERIALIZED_FONT_INFO_VERSION=1;class b extends L{constructor(u,h){super(u);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=h,this.isMonospace=u.isMonospace,this.typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=u.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.maxDigitWidth=u.maxDigitWidth}equals(u){return this.fontFamily===u.fontFamily&&this.fontWeight===u.fontWeight&&this.fontSize===u.fontSize&&this.fontFeatureSettings===u.fontFeatureSettings&&this.lineHeight===u.lineHeight&&this.letterSpacing===u.letterSpacing&&this.typicalHalfwidthCharacterWidth===u.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===u.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===u.canUseHalfwidthRightwardsArrow&&this.spaceWidth===u.spaceWidth&&this.middotWidth===u.middotWidth&&this.wsmiddotWidth===u.wsmiddotWidth&&this.maxDigitWidth===u.maxDigitWidth}}e.FontInfo=b}),define(oe[102],se([1,0,142]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class f{constructor(L){const b=(0,y.toUint8)(L);this._defaultValue=b,this._asciiMap=f._createAsciiMap(b),this._map=new Map}static _createAsciiMap(L){const b=new Uint8Array(256);for(let C=0;C<256;C++)b[C]=L;return b}set(L,b){const C=(0,y.toUint8)(b);L>=0&&L<256?this._asciiMap[L]=C:this._map.set(L,C)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}e.CharacterClassifier=f;class N{constructor(){this._actual=new f(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}e.CharacterSet=N}),define(oe[67],se([1,0,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class f{static _nextVisibleColumn(D,L,b){return D===9?f.nextRenderTabStop(L,b):y.isFullWidthCharacter(D)||y.isEmojiImprecise(D)?L+2:L+1}static visibleColumnFromColumn(D,L,b){const C=Math.min(L-1,D.length),u=D.substring(0,C),h=new y.GraphemeIterator(u);let i=0;for(;!h.eol();){const n=y.getNextCodePoint(u,C,h.offset);h.nextGraphemeLength(),i=this._nextVisibleColumn(n,i,b)}return i}static columnFromVisibleColumn(D,L,b){if(L<=0)return 1;const C=D.length,u=new y.GraphemeIterator(D);let h=0,i=1;for(;!u.eol();){const n=y.getNextCodePoint(D,C,u.offset);u.nextGraphemeLength();const t=this._nextVisibleColumn(n,h,b),r=u.offset+1;if(t>=L){const d=L-h;return t-L<d?r:i}h=t,i=r}return C+1}static nextRenderTabStop(D,L){return D+L-D%L}static nextIndentTabStop(D,L){return D+L-D%L}static prevRenderTabStop(D,L){return Math.max(0,D-1-(D-1)%L)}static prevIndentTabStop(D,L){return Math.max(0,D-1-(D-1)%L)}}e.CursorColumns=f}),define(oe[124],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function y(f){let N=0,D=0,L=0,b=0;for(let C=0,u=f.length;C<u;C++){const h=f.charCodeAt(C);h===13?(N===0&&(D=C),N++,C+1<u&&f.charCodeAt(C+1)===10?(b|=2,C++):b|=3,L=C+1):h===10&&(b|=1,N===0&&(D=C),N++,L=C+1)}return N===0&&(D=f.length),[N,D,f.length-L,b]}e.countEOL=y}),define(oe[179],se([1,0,8,67]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function N(L,b,C){let u=0;for(let i=0;i<L.length;i++)L.charAt(i)==="	"?u=f.CursorColumns.nextIndentTabStop(u,b):u++;let h="";if(!C){const i=Math.floor(u/b);u=u%b;for(let n=0;n<i;n++)h+="	"}for(let i=0;i<u;i++)h+=" ";return h}function D(L,b,C){let u=y.firstNonWhitespaceIndex(L);return u===-1&&(u=L.length),N(L.substring(0,u),b,C)+L.substring(u)}e.normalizeIndentation=D}),define(oe[11],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class y{constructor(N,D){this.lineNumber=N,this.column=D}with(N=this.lineNumber,D=this.column){return N===this.lineNumber&&D===this.column?this:new y(N,D)}delta(N=0,D=0){return this.with(this.lineNumber+N,this.column+D)}equals(N){return y.equals(this,N)}static equals(N,D){return!N&&!D?!0:!!N&&!!D&&N.lineNumber===D.lineNumber&&N.column===D.column}isBefore(N){return y.isBefore(this,N)}static isBefore(N,D){return N.lineNumber<D.lineNumber?!0:D.lineNumber<N.lineNumber?!1:N.column<D.column}isBeforeOrEqual(N){return y.isBeforeOrEqual(this,N)}static isBeforeOrEqual(N,D){return N.lineNumber<D.lineNumber?!0:D.lineNumber<N.lineNumber?!1:N.column<=D.column}static compare(N,D){const L=N.lineNumber|0,b=D.lineNumber|0;if(L===b){const C=N.column|0,u=D.column|0;return C-u}return L-b}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(N){return new y(N.lineNumber,N.column)}static isIPosition(N){return N&&typeof N.lineNumber=="number"&&typeof N.column=="number"}}e.Position=y}),define(oe[3],se([1,0,11]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class f{constructor(D,L,b,C){D>b||D===b&&L>C?(this.startLineNumber=b,this.startColumn=C,this.endLineNumber=D,this.endColumn=L):(this.startLineNumber=D,this.startColumn=L,this.endLineNumber=b,this.endColumn=C)}isEmpty(){return f.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return f.containsPosition(this,D)}static containsPosition(D,L){return!(L.lineNumber<D.startLineNumber||L.lineNumber>D.endLineNumber||L.lineNumber===D.startLineNumber&&L.column<D.startColumn||L.lineNumber===D.endLineNumber&&L.column>D.endColumn)}static strictContainsPosition(D,L){return!(L.lineNumber<D.startLineNumber||L.lineNumber>D.endLineNumber||L.lineNumber===D.startLineNumber&&L.column<=D.startColumn||L.lineNumber===D.endLineNumber&&L.column>=D.endColumn)}containsRange(D){return f.containsRange(this,D)}static containsRange(D,L){return!(L.startLineNumber<D.startLineNumber||L.endLineNumber<D.startLineNumber||L.startLineNumber>D.endLineNumber||L.endLineNumber>D.endLineNumber||L.startLineNumber===D.startLineNumber&&L.startColumn<D.startColumn||L.endLineNumber===D.endLineNumber&&L.endColumn>D.endColumn)}strictContainsRange(D){return f.strictContainsRange(this,D)}static strictContainsRange(D,L){return!(L.startLineNumber<D.startLineNumber||L.endLineNumber<D.startLineNumber||L.startLineNumber>D.endLineNumber||L.endLineNumber>D.endLineNumber||L.startLineNumber===D.startLineNumber&&L.startColumn<=D.startColumn||L.endLineNumber===D.endLineNumber&&L.endColumn>=D.endColumn)}plusRange(D){return f.plusRange(this,D)}static plusRange(D,L){let b,C,u,h;return L.startLineNumber<D.startLineNumber?(b=L.startLineNumber,C=L.startColumn):L.startLineNumber===D.startLineNumber?(b=L.startLineNumber,C=Math.min(L.startColumn,D.startColumn)):(b=D.startLineNumber,C=D.startColumn),L.endLineNumber>D.endLineNumber?(u=L.endLineNumber,h=L.endColumn):L.endLineNumber===D.endLineNumber?(u=L.endLineNumber,h=Math.max(L.endColumn,D.endColumn)):(u=D.endLineNumber,h=D.endColumn),new f(b,C,u,h)}intersectRanges(D){return f.intersectRanges(this,D)}static intersectRanges(D,L){let b=D.startLineNumber,C=D.startColumn,u=D.endLineNumber,h=D.endColumn,i=L.startLineNumber,n=L.startColumn,t=L.endLineNumber,r=L.endColumn;return b<i?(b=i,C=n):b===i&&(C=Math.max(C,n)),u>t?(u=t,h=r):u===t&&(h=Math.min(h,r)),b>u||b===u&&C>h?null:new f(b,C,u,h)}equalsRange(D){return f.equalsRange(this,D)}static equalsRange(D,L){return!!D&&!!L&&D.startLineNumber===L.startLineNumber&&D.startColumn===L.startColumn&&D.endLineNumber===L.endLineNumber&&D.endColumn===L.endColumn}getEndPosition(){return f.getEndPosition(this)}static getEndPosition(D){return new y.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return f.getStartPosition(this)}static getStartPosition(D){return new y.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,L){return new f(this.startLineNumber,this.startColumn,D,L)}setStartPosition(D,L){return new f(D,L,this.endLineNumber,this.endColumn)}collapseToStart(){return f.collapseToStart(this)}static collapseToStart(D){return new f(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}static fromPositions(D,L=D){return new f(D.lineNumber,D.column,L.lineNumber,L.column)}static lift(D){return D?new f(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,L){return!(D.endLineNumber<L.startLineNumber||D.endLineNumber===L.startLineNumber&&D.endColumn<L.startColumn||L.endLineNumber<D.startLineNumber||L.endLineNumber===D.startLineNumber&&L.endColumn<D.startColumn)}static areIntersecting(D,L){return!(D.endLineNumber<L.startLineNumber||D.endLineNumber===L.startLineNumber&&D.endColumn<=L.startColumn||L.endLineNumber<D.startLineNumber||L.endLineNumber===D.startLineNumber&&L.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,L){if(D&&L){const u=D.startLineNumber|0,h=L.startLineNumber|0;if(u===h){const i=D.startColumn|0,n=L.startColumn|0;if(i===n){const t=D.endLineNumber|0,r=L.endLineNumber|0;if(t===r){const d=D.endColumn|0,o=L.endColumn|0;return d-o}return t-r}return i-n}return u-h}return(D?1:0)-(L?1:0)}static compareRangesUsingEnds(D,L){return D.endLineNumber===L.endLineNumber?D.endColumn===L.endColumn?D.startLineNumber===L.startLineNumber?D.startColumn-L.startColumn:D.startLineNumber-L.startLineNumber:D.endColumn-L.endColumn:D.endLineNumber-L.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=f}),define(oe[239],se([1,0,8,11,3]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class D{constructor(C,u,h,i,n){this.value=C,this.selectionStart=u,this.selectionEnd=h,this.selectionStartPosition=i,this.selectionEndPosition=n}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(C){return new D(C.getValue(),C.getSelectionStart(),C.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(C,u,h){e._debugComposition&&console.log(`writeToTextArea ${C}: ${this.toString()}`),u.setValue(C,this.value),h&&u.setSelectionRange(C,this.selectionStart,this.selectionEnd)}deduceEditorPosition(C){if(C<=this.selectionStart){const i=this.value.substring(C,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,i,-1)}if(C>=this.selectionEnd){const i=this.value.substring(this.selectionEnd,C);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,1)}const u=this.value.substring(this.selectionStart,C);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,u,1);const h=this.value.substring(C,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,h,-1)}_finishDeduceEditorPosition(C,u,h){let i=0,n=-1;for(;(n=u.indexOf(`
`,n+1))!==-1;)i++;return[C,h*u.length,i]}static deduceInput(C,u,h){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${C.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`));const i=Math.min(y.commonPrefixLength(C.value,u.value),C.selectionStart,u.selectionStart),n=Math.min(y.commonSuffixLength(C.value,u.value),C.value.length-C.selectionEnd,u.value.length-u.selectionEnd),t=C.value.substring(i,C.value.length-n),r=u.value.substring(i,u.value.length-n),d=C.selectionStart-i,o=C.selectionEnd-i,a=u.selectionStart-i,s=u.selectionEnd-i;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${d}, selectionEnd: ${o}`),console.log(`AFTER DIFFING CURRENT STATE: <${r}>, selectionStart: ${a}, selectionEnd: ${s}`)),a===s){const c=C.selectionStart-i;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${c} chars`),{text:r,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}const l=o-d;return{text:r,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(C,u){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${C.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`)),C.value===u.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:u.selectionEnd-C.selectionEnd};const h=Math.min(y.commonPrefixLength(C.value,u.value),C.selectionEnd),i=Math.min(y.commonSuffixLength(C.value,u.value),C.value.length-C.selectionEnd),n=C.value.substring(h,C.value.length-i),t=u.value.substring(h,u.value.length-i),r=C.selectionStart-h,d=C.selectionEnd-h,o=u.selectionStart-h,a=u.selectionEnd-h;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${r}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${o}, selectionEnd: ${a}`)),{text:t,replacePrevCharCnt:d,replaceNextCharCnt:n.length-d,positionDelta:a-t.length}}}e.TextAreaState=D,D.EMPTY=new D("",0,0,null,null);class L{static _getPageOfLine(C,u){return Math.floor((C-1)/u)}static _getRangeForPage(C,u){const h=C*u,i=h+1,n=h+u;return new N.Range(i,1,n+1,1)}static fromEditorSelection(C,u,h,i,n){const t=L._getPageOfLine(h.startLineNumber,i),r=L._getRangeForPage(t,i),d=L._getPageOfLine(h.endLineNumber,i),o=L._getRangeForPage(d,i),a=r.intersectRanges(new N.Range(1,1,h.startLineNumber,h.startColumn));let s=u.getValueInRange(a,1);const l=u.getLineCount(),c=u.getLineMaxColumn(l),g=o.intersectRanges(new N.Range(h.endLineNumber,h.endColumn,l,c));let m=u.getValueInRange(g,1),S;if(t===d||t+1===d)S=u.getValueInRange(h,1);else{const p=r.intersectRanges(h),v=o.intersectRanges(h);S=u.getValueInRange(p,1)+String.fromCharCode(8230)+u.getValueInRange(v,1)}if(n){const p=500;s.length>p&&(s=s.substring(s.length-p,s.length)),m.length>p&&(m=m.substring(0,p)),S.length>2*p&&(S=S.substring(0,p)+String.fromCharCode(8230)+S.substring(S.length-p,S.length))}return new D(s+S+m,s.length,s.length+S.length,new f.Position(h.startLineNumber,h.startColumn),new f.Position(h.endLineNumber,h.endColumn))}}e.PagedScreenReaderStrategy=L}),define(oe[240],se([1,0,217,4,2,39,3]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const b={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class C extends N.Disposable{constructor(h,i={}){super();this._onDidUpdate=this._register(new f.Emitter),this._editor=h,this._options=D.mixin(i,b,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(n=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(n=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(h){this.ranges=[],h&&h.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(n=>{this.ranges.push({rhs:!0,range:new L.Range(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,n)=>L.Range.compareRangesUsingStarts(i.range,n.range)),this._onDidUpdate.fire(this)}_initIdx(h){let i=!1;const n=this._editor.getPosition();if(!n){this.nextIdx=0;return}for(let t=0,r=this.ranges.length;t<r&&!i;t++){const d=this.ranges[t].range;n.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=t+(h?0:-1),i=!0)}i||(this.nextIdx=h?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(h,i){if(y.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(h):h?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const t=n.range.getStartPosition();this._editor.setPosition(t),this._editor.revealRangeInCenter(n.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(h=0){this._move(!0,h)}previous(h=0){this._move(!1,h)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=C}),define(oe[61],se([1,0,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class f{static insert(D,L){return{range:new y.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:L,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,L){return{range:D,text:L}}static replaceMove(D,L){return{range:D,text:L,forceMoveMarkers:!0}}}e.EditOperation=f}),define(oe[414],se([1,0,8,61,3]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(C,u){this._selection=C,this._cursors=u,this._selectionId=null}getEditOperations(C,u){const h=L(C,this._cursors);for(let i=0,n=h.length;i<n;i++){const t=h[i];u.addEditOperation(t.range,t.text)}this._selectionId=u.trackSelection(this._selection)}computeCursorState(C,u){return u.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function L(b,C){C.sort((t,r)=>t.lineNumber===r.lineNumber?t.column-r.column:t.lineNumber-r.lineNumber);for(let t=C.length-2;t>=0;t--)C[t].lineNumber===C[t+1].lineNumber&&C.splice(t,1);const u=[];let h=0,i=0;const n=C.length;for(let t=1,r=b.getLineCount();t<=r;t++){const d=b.getLineContent(t),o=d.length+1;let a=0;if(i<n&&C[i].lineNumber===t&&(a=C[i].column,i++,a===o)||d.length===0)continue;const s=y.lastNonWhitespaceIndex(d);let l=0;if(s===-1)l=1;else if(s!==d.length-1)l=s+2;else continue;l=Math.max(a,l),u[h++]=f.EditOperation.delete(new N.Range(t,l,t,o))}return u}e.trimTrailingWhitespace=L}),define(oe[241],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class y{constructor(N,D,L,b){this._rgba8Brand=void 0,this.r=y._clamp(N),this.g=y._clamp(D),this.b=y._clamp(L),this.a=y._clamp(b)}equals(N){return this.r===N.r&&this.g===N.g&&this.b===N.b&&this.a===N.a}static _clamp(N){return N<0?0:N>255?255:N|0}}e.RGBA8=y,y.Empty=new y(0,0,0,0)}),define(oe[24],se([1,0,11,3]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class N extends f.Range{constructor(L,b,C,u){super(L,b,C,u);this.selectionStartLineNumber=L,this.selectionStartColumn=b,this.positionLineNumber=C,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return N.selectionsEqual(this,L)}static selectionsEqual(L,b){return L.selectionStartLineNumber===b.selectionStartLineNumber&&L.selectionStartColumn===b.selectionStartColumn&&L.positionLineNumber===b.positionLineNumber&&L.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,b){return this.getDirection()===0?new N(this.startLineNumber,this.startColumn,L,b):new N(L,b,this.startLineNumber,this.startColumn)}getPosition(){return new y.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new y.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,b){return this.getDirection()===0?new N(L,b,this.endLineNumber,this.endColumn):new N(this.endLineNumber,this.endColumn,L,b)}static fromPositions(L,b=L){return new N(L.lineNumber,L.column,b.lineNumber,b.column)}static fromRange(L,b){return b===0?new N(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new N(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new N(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,b){if(L&&!b||!L&&b)return!1;if(!L&&!b)return!0;if(L.length!==b.length)return!1;for(let C=0,u=L.length;C<u;C++)if(!this.selectionsEqual(L[C],b[C]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,b,C,u,h){return h===0?new N(L,b,C,u):new N(C,u,L,b)}}e.Selection=N}),define(oe[180],se([1,0,34,7,44,10,4,2,138,8,239,24]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var n;(function(s){s.Tap="-monaco-textarea-synthetic-tap"})(n=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class t{constructor(){this._lastState=null}set(l,c){this._lastState={lastCopiedValue:l,data:c}}get(l){return this._lastState&&this._lastState.lastCopiedValue===l?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=t,t.INSTANCE=new t;class r{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(l){l=l||"";const c={text:l,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=l.length,c}}class d extends b.Disposable{constructor(l,c,g,m){super();this._host=l,this._textArea=c,this._OS=g,this._browser=m,this._onFocus=this._register(new L.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new D.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new D.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=h.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let S=null;this._register(this._textArea.onKeyDown(p=>{const v=new N.StandardKeyboardEvent(p);(v.keyCode===109||this._currentComposition&&v.keyCode===1)&&v.stopPropagation(),v.equals(9)&&v.preventDefault(),S=v,this._onKeyDown.fire(v)})),this._register(this._textArea.onKeyUp(p=>{const v=new N.StandardKeyboardEvent(p);this._onKeyUp.fire(v)})),this._register(this._textArea.onCompositionStart(p=>{h._debugComposition&&console.log("[compositionstart]",p);const v=new r;if(this._currentComposition){this._currentComposition=v;return}if(this._currentComposition=v,this._OS===2&&S&&S.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(S.code==="ArrowRight"||S.code==="ArrowLeft")){h._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),v.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{h._debugComposition&&console.log("[compositionupdate]",p);const v=this._currentComposition;if(!v)return;if(this._browser.isAndroid){const w=h.TextAreaState.readFromTextArea(this._textArea),E=h.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,w);this._textAreaState=w,this._onType.fire(E),this._onCompositionUpdate.fire(p);return}const _=v.handleCompositionUpdate(p.data);this._textAreaState=h.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{h._debugComposition&&console.log("[compositionend]",p);const v=this._currentComposition;if(!v)return;if(this._currentComposition=null,this._browser.isAndroid){const w=h.TextAreaState.readFromTextArea(this._textArea),E=h.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,w);this._textAreaState=w,this._onType.fire(E),this._onCompositionEnd.fire();return}const _=v.handleCompositionUpdate(p.data);this._textAreaState=h.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(h._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const v=h.TextAreaState.readFromTextArea(this._textArea),_=h.TextAreaState.deduceInput(this._textAreaState,v,this._OS===2);_.replacePrevCharCnt===0&&_.text.length===1&&u.isHighSurrogate(_.text.charCodeAt(0))||(this._textAreaState=v,(_.text!==""||_.replacePrevCharCnt!==0||_.replaceNextCharCnt!==0||_.positionDelta!==0)&&this._onType.fire(_))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[v,_]=o.getTextData(p.clipboardData);!v||(_=_||t.INSTANCE.get(v),this._onPaste.fire({text:v,metadata:_}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let l=0;return f.addDisposableListener(document,"selectionchange",c=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const g=Date.now(),m=g-l;if(l=g,m<5)return;const S=g-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),S<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const v=this._textArea.getSelectionStart(),_=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===v&&this._textAreaState.selectionEnd===_)return;const w=this._textAreaState.deduceEditorPosition(v),E=this._host.deduceModelPosition(w[0],w[1],w[2]),I=this._textAreaState.deduceEditorPosition(_),T=this._host.deduceModelPosition(I[0],I[1],I[2]),R=new i.Selection(E.lineNumber,E.column,T.lineNumber,T.column);this._onSelectionChangeRequest.fire(R)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(l){this._hasFocus!==l&&(this._hasFocus=l,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(l,c){this._hasFocus||(c=c.collapseSelection()),c.writeToTextArea(l,this._textArea,this._hasFocus),this._textAreaState=c}writeScreenReaderContent(l){this._currentComposition||this._setAndWriteTextAreaState(l,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(l){const c=this._host.getDataToCopy(),g={version:1,isFromEmptySelection:c.isFromEmptySelection,multicursorText:c.multicursorText,mode:c.mode};t.INSTANCE.set(this._browser.isFirefox?c.text.replace(/\r\n/g,`
`):c.text,g),l.preventDefault(),l.clipboardData&&o.setTextData(l.clipboardData,c.text,c.html,g)}}e.TextAreaInput=d;class o{static getTextData(l){const c=l.getData(C.Mimes.text);let g=null;const m=l.getData("vscode-editor-data");if(typeof m=="string")try{g=JSON.parse(m),g.version!==1&&(g=null)}catch{}return c.length===0&&g===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(p=>p.name).join(`
`),null]:[c,g]}static setTextData(l,c,g,m){l.setData(C.Mimes.text,c),typeof g=="string"&&l.setData("text/html",g),l.setData("vscode-editor-data",JSON.stringify(m))}}class a extends b.Disposable{constructor(l){super();this._actual=l,this.onKeyDown=this._register(f.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(f.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(f.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(f.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(f.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(f.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(f.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(f.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(f.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(f.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(f.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new L.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(f.addDisposableListener(this._actual,n.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const l=f.getShadowRoot(this._actual);return l?l.activeElement===this._actual:f.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(l){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(l,c){const g=this._actual;g.value!==c&&(this.setIgnoreSelectionChangeTime("setValue"),g.value=c)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(l,c,g){const m=this._actual;let S=null;const p=f.getShadowRoot(m);p?S=p.activeElement:S=document.activeElement;const v=S===m,_=m.selectionStart,w=m.selectionEnd;if(v&&_===c&&w===g){y.isFirefox&&window.parent!==window&&m.focus();return}if(v){this.setIgnoreSelectionChangeTime("setSelectionRange"),m.setSelectionRange(c,g),y.isFirefox&&window.parent!==window&&m.focus();return}try{const E=f.saveParentsScrollTop(m);this.setIgnoreSelectionChangeTime("setSelectionRange"),m.focus(),m.setSelectionRange(c,g),f.restoreParentsScrollTop(m,E)}catch{}}}e.TextAreaWrapper=a}),define(oe[103],se([1,0,24]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class f{constructor(u,h,i=!1){this._range=u,this._text=h,this.insertsAutoWhitespace=i}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromPositions(n.getEndPosition())}}e.ReplaceCommand=f;class N{constructor(u,h){this._range=u,this._text=h}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromRange(n,0)}}e.ReplaceCommandThatSelectsText=N;class D{constructor(u,h,i=!1){this._range=u,this._text=h,this.insertsAutoWhitespace=i}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromPositions(n.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class L{constructor(u,h,i,n,t=!1){this._range=u,this._text=h,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=t}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return y.Selection.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=L;class b{constructor(u,h,i,n=!1){this._range=u,this._text=h,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=h.trackSelection(this._initialSelection)}computeCursorState(u,h){return h.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=b}),define(oe[415],se([1,0,3,24]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class N{constructor(b,C,u){this._range=b,this._charBeforeSelection=C,this._charAfterSelection=u}getEditOperations(b,C){C.addTrackedEditOperation(new y.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),C.addTrackedEditOperation(new y.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,C){const u=C.getInverseEditOperations(),h=u[0].range,i=u[1].range;return new f.Selection(h.endLineNumber,h.endColumn,i.endLineNumber,i.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=N;class D{constructor(b,C,u){this._position=b,this._text=C,this._charAfter=u}getEditOperations(b,C){C.addTrackedEditOperation(new y.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(b,C){const h=C.getInverseEditOperations()[0].range;return new f.Selection(h.endLineNumber,h.startColumn,h.endLineNumber,h.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(oe[93],se([1,0,8,17,116]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let D;function L(){return D||(D=new TextDecoder("UTF-16LE")),D}let b;function C(){return b||(b=new TextDecoder("UTF-16BE")),b}let u;function h(){return u||(u=f.isLittleEndian()?L():C()),u}e.getPlatformTextDecoder=h,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new t(d),e.decodeUTF16LE=i):(e.createStringBuilder=d=>new r,e.decodeUTF16LE=n);function i(d,o,a){const s=new Uint16Array(d.buffer,o,a);return a>0&&(s[0]===65279||s[0]===65534)?n(d,o,a):L().decode(s)}function n(d,o,a){const s=[];let l=0;for(let c=0;c<a;c++){const g=N.readUInt16LE(d,o);o+=2,s[l++]=String.fromCharCode(g)}return s.join("")}class t{constructor(o){this._capacity=o|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const o=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return h().decode(o)}_flushBuffer(){const o=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[o]:this._completedStrings[this._completedStrings.length]=o}write1(o){const a=this._capacity-this._bufferLength;a<=1&&(a===0||y.isHighSurrogate(o))&&this._flushBuffer(),this._buffer[this._bufferLength++]=o}appendASCII(o){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=o}appendASCIIString(o){const a=o.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=o;return}for(let s=0;s<a;s++)this._buffer[this._bufferLength++]=o.charCodeAt(s)}}class r{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(o){this._pieces[this._piecesLen++]=String.fromCharCode(o)}appendASCII(o){this._pieces[this._piecesLen++]=String.fromCharCode(o)}appendASCIIString(o){this._pieces[this._piecesLen++]=o}}}),define(oe[181],se([1,0,32,93]),function(K,e,y,f){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class D{constructor(u){this._createLine=u,this._set(1,[])}flush(){this._set(1,[])}_set(u,h){this._lines=h,this._rendLineNumberStart=u}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(u){const h=u-this._rendLineNumberStart;if(h<0||h>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[h]}onLinesDeleted(u,h){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(h<i){const o=h-u+1;return this._rendLineNumberStart-=o,null}if(u>n)return null;let t=0,r=0;for(let o=i;o<=n;o++){const a=o-this._rendLineNumberStart;u<=o&&o<=h&&(r===0?(t=a,r=1):r++)}if(u<i){let o=0;h<i?o=h-u+1:o=i-u,this._rendLineNumberStart-=o}return this._lines.splice(t,r)}onLinesChanged(u,h){const i=u+h-1;if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),t=this.getEndLineNumber();let r=!1;for(let d=u;d<=i;d++)d>=n&&d<=t&&(this._lines[d-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(u,h){if(this.getCount()===0)return null;const i=h-u+1,n=this.getStartLineNumber(),t=this.getEndLineNumber();if(u<=n)return this._rendLineNumberStart+=i,null;if(u>t)return null;if(i+u>t)return this._lines.splice(u-this._rendLineNumberStart,t-u+1);const r=[];for(let l=0;l<i;l++)r[l]=this._createLine();const d=u-this._rendLineNumberStart,o=this._lines.slice(0,d),a=this._lines.slice(d,this._lines.length-i),s=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=o.concat(r).concat(a),s}onTokensChanged(u){if(this.getCount()===0)return!1;const h=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let t=0,r=u.length;t<r;t++){const d=u[t];if(d.toLineNumber<h||d.fromLineNumber>i)continue;const o=Math.max(h,d.fromLineNumber),a=Math.min(i,d.toLineNumber);for(let s=o;s<=a;s++){const l=s-this._rendLineNumberStart;this._lines[l].onTokensChanged(),n=!0}}return n}}e.RenderedLinesCollection=D;class L{constructor(u){this._host=u,this.domNode=this._createDomNode(),this._linesCollection=new D(()=>this._host.createVisibleLine())}_createDomNode(){const u=(0,y.createFastDomNode)(document.createElement("div"));return u.setClassName("view-layer"),u.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u}onConfigurationChanged(u){return!!u.hasChanged(131)}onFlushed(u){return this._linesCollection.flush(),!0}onLinesChanged(u){return this._linesCollection.onLinesChanged(u.fromLineNumber,u.count)}onLinesDeleted(u){const h=this._linesCollection.onLinesDeleted(u.fromLineNumber,u.toLineNumber);if(h)for(let i=0,n=h.length;i<n;i++){const t=h[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(u){const h=this._linesCollection.onLinesInserted(u.fromLineNumber,u.toLineNumber);if(h)for(let i=0,n=h.length;i<n;i++){const t=h[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(u){return u.scrollTopChanged}onTokensChanged(u){return this._linesCollection.onTokensChanged(u.ranges)}onZonesChanged(u){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(u){return this._linesCollection.getLine(u)}renderLines(u){const h=this._linesCollection._get(),i=new b(this.domNode.domNode,this._host,u),n={rendLineNumberStart:h.rendLineNumberStart,lines:h.lines,linesLength:h.lines.length},t=i.render(n,u.startLineNumber,u.endLineNumber,u.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=L;class b{constructor(u,h,i){this.domNode=u,this.host=h,this.viewportData=i}render(u,h,i,n){const t={rendLineNumberStart:u.rendLineNumberStart,lines:u.lines.slice(0),linesLength:u.linesLength};if(t.rendLineNumberStart+t.linesLength-1<h||i<t.rendLineNumberStart){t.rendLineNumberStart=h,t.linesLength=i-h+1,t.lines=[];for(let r=h;r<=i;r++)t.lines[r-h]=this.host.createVisibleLine();return this._finishRendering(t,!0,n),t}if(this._renderUntouchedLines(t,Math.max(h-t.rendLineNumberStart,0),Math.min(i-t.rendLineNumberStart,t.linesLength-1),n,h),t.rendLineNumberStart>h){const r=h,d=Math.min(i,t.rendLineNumberStart-1);r<=d&&(this._insertLinesBefore(t,r,d,n,h),t.linesLength+=d-r+1)}else if(t.rendLineNumberStart<h){const r=Math.min(t.linesLength,h-t.rendLineNumberStart);r>0&&(this._removeLinesBefore(t,r),t.linesLength-=r)}if(t.rendLineNumberStart=h,t.rendLineNumberStart+t.linesLength-1<i){const r=t.rendLineNumberStart+t.linesLength,d=i;r<=d&&(this._insertLinesAfter(t,r,d,n,h),t.linesLength+=d-r+1)}else if(t.rendLineNumberStart+t.linesLength-1>i){const r=Math.max(0,i-t.rendLineNumberStart+1),o=t.linesLength-1-r+1;o>0&&(this._removeLinesAfter(t,o),t.linesLength-=o)}return this._finishRendering(t,!1,n),t}_renderUntouchedLines(u,h,i,n,t){const r=u.rendLineNumberStart,d=u.lines;for(let o=h;o<=i;o++){const a=r+o;d[o].layoutLine(a,n[a-t])}}_insertLinesBefore(u,h,i,n,t){const r=[];let d=0;for(let o=h;o<=i;o++)r[d++]=this.host.createVisibleLine();u.lines=r.concat(u.lines)}_removeLinesBefore(u,h){for(let i=0;i<h;i++){const n=u.lines[i].getDomNode();n&&this.domNode.removeChild(n)}u.lines.splice(0,h)}_insertLinesAfter(u,h,i,n,t){const r=[];let d=0;for(let o=h;o<=i;o++)r[d++]=this.host.createVisibleLine();u.lines=u.lines.concat(r)}_removeLinesAfter(u,h){const i=u.linesLength-h;for(let n=0;n<h;n++){const t=u.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}u.lines.splice(i,h)}_finishRenderingNewLines(u,h,i,n){b._ttPolicy&&(i=b._ttPolicy.createHTML(i));const t=this.domNode.lastChild;h||!t?this.domNode.innerHTML=i:t.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let d=u.linesLength-1;d>=0;d--){const o=u.lines[d];n[d]&&(o.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(u,h,i){const n=document.createElement("div");b._ttPolicy&&(h=b._ttPolicy.createHTML(h)),n.innerHTML=h;for(let t=0;t<u.linesLength;t++){const r=u.lines[t];if(i[t]){const d=n.firstChild,o=r.getDomNode();o.parentNode.replaceChild(d,o),r.setDomNode(d)}}}_finishRendering(u,h,i){const n=b._sb,t=u.linesLength,r=u.lines,d=u.rendLineNumberStart,o=[];{n.reset();let a=!1;for(let s=0;s<t;s++){const l=r[s];o[s]=!1,!(l.getDomNode()||!l.renderLine(s+d,i[s],this.viewportData,n))&&(o[s]=!0,a=!0)}a&&this._finishRenderingNewLines(u,h,n.build(),o)}{n.reset();let a=!1;const s=[];for(let l=0;l<t;l++){const c=r[l];s[l]=!1,!(o[l]||!c.renderLine(l+d,i[l],this.viewportData,n))&&(s[l]=!0,a=!0)}a&&this._finishRenderingInvalidLines(u,n.build(),s)}}}b._ttPolicy=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("editorViewLayer",{createHTML:C=>C}),b._sb=(0,f.createStringBuilder)(1e5)}),define(oe[242],se([1,0,116,93]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function N(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{constructor(u,h,i,n){this.oldPosition=u,this.oldText=h,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${N(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${N(this.oldText)}")`:`(replace@${this.oldPosition} "${N(this.oldText)}" with "${N(this.newText)}")`}static _writeStringSize(u){return 4+2*u.length}static _writeString(u,h,i){const n=h.length;y.writeUInt32BE(u,n,i),i+=4;for(let t=0;t<n;t++)y.writeUInt16LE(u,h.charCodeAt(t),i),i+=2;return i}static _readString(u,h){const i=y.readUInt32BE(u,h);return h+=4,(0,f.decodeUTF16LE)(u,h,i)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(u,h){return y.writeUInt32BE(u,this.oldPosition,h),h+=4,y.writeUInt32BE(u,this.newPosition,h),h+=4,h=D._writeString(u,this.oldText,h),h=D._writeString(u,this.newText,h),h}static read(u,h,i){const n=y.readUInt32BE(u,h);h+=4;const t=y.readUInt32BE(u,h);h+=4;const r=D._readString(u,h);h+=D._writeStringSize(r);const d=D._readString(u,h);return h+=D._writeStringSize(d),i.push(new D(n,r,t,d)),h}}e.TextChange=D;function L(C,u){return C===null||C.length===0?u:new b(C,u).compress()}e.compressConsecutiveTextChanges=L;class b{constructor(u,h){this._prevEdits=u,this._currEdits=h,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let u=0,h=0,i=this._getPrev(u),n=this._getCurr(h);for(;u<this._prevLen||h<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++h);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++u);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++h);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++u);continue}if(n.oldPosition<i.newPosition){const[a,s]=b._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(a),n=s;continue}if(i.newPosition<n.oldPosition){const[a,s]=b._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(a),i=s;continue}let d,o;if(n.oldEnd===i.newEnd)d=i,o=n,i=this._getPrev(++u),n=this._getCurr(++h);else if(n.oldEnd<i.newEnd){const[a,s]=b._splitPrev(i,n.oldLength);d=a,o=n,i=s,n=this._getCurr(++h)}else{const[a,s]=b._splitCurr(n,i.newLength);d=i,o=a,i=this._getPrev(++u),n=s}this._result[this._resultLen++]=new D(d.oldPosition,d.oldText,o.newPosition,o.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=o.newLength-o.oldLength}const t=b._merge(this._result);return b._removeNoOps(t)}_acceptCurr(u){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,u),this._currDeltaOffset+=u.newLength-u.oldLength}_getCurr(u){return u<this._currLen?this._currEdits[u]:null}_acceptPrev(u){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,u),this._prevDeltaOffset+=u.newLength-u.oldLength}_getPrev(u){return u<this._prevLen?this._prevEdits[u]:null}static _rebaseCurr(u,h){return new D(h.oldPosition-u,h.oldText,h.newPosition,h.newText)}static _rebasePrev(u,h){return new D(h.oldPosition,h.oldText,h.newPosition+u,h.newText)}static _splitPrev(u,h){const i=u.newText.substr(0,h),n=u.newText.substr(h);return[new D(u.oldPosition,u.oldText,u.newPosition,i),new D(u.oldEnd,"",u.newPosition+h,n)]}static _splitCurr(u,h){const i=u.oldText.substr(0,h),n=u.oldText.substr(h);return[new D(u.oldPosition,i,u.newPosition,u.newText),new D(u.oldPosition+h,n,u.newEnd,"")]}static _merge(u){if(u.length===0)return u;const h=[];let i=0,n=u[0];for(let t=1;t<u.length;t++){const r=u[t];n.oldEnd===r.oldPosition?n=new D(n.oldPosition,n.oldText+r.oldText,n.newPosition,n.newText+r.newText):(h[i++]=n,n=r)}return h[i++]=n,h}static _removeNoOps(u){if(u.length===0)return u;const h=[];let i=0;for(let n=0;n<u.length;n++){const t=u[n];t.oldText!==t.newText&&(h[i++]=t)}return h}}}),define(oe[148],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(oe[125],se([1,0,102]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class f extends y.CharacterClassifier{constructor(L){super(0);for(let b=0,C=L.length;b<C;b++)this.set(L.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=f;function N(D){const L={};return b=>(L.hasOwnProperty(b)||(L[b]=D(b)),L[b])}e.getMapForWordSeparators=N(D=>new f(D))}),define(oe[126],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(b=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const u of e.USUAL_WORD_SEPARATORS)b.indexOf(u)>=0||(C+="\\"+u);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=y();function f(b){let C=e.DEFAULT_WORD_REGEXP;if(b&&b instanceof RegExp)if(b.global)C=b;else{let u="g";b.ignoreCase&&(u+="i"),b.multiline&&(u+="m"),b.unicode&&(u+="u"),C=new RegExp(b.source,u)}return C.lastIndex=0,C}e.ensureValidWordDefinition=f;const N={maxLen:1e3,windowSize:15,timeBudget:150};function D(b,C,u,h,i=N){if(u.length>i.maxLen){let o=b-i.maxLen/2;return o<0?o=0:h+=o,u=u.substring(o,b+i.maxLen/2),D(b,C,u,h,i)}const n=Date.now(),t=b-1-h;let r=-1,d=null;for(let o=1;!(Date.now()-n>=i.timeBudget);o++){const a=t-i.windowSize*o;C.lastIndex=Math.max(0,a);const s=L(C,u,t,r);if(!s&&d||(d=s,a<=0))break;r=a}if(d){const o={word:d[0],startColumn:h+1+d.index,endColumn:h+1+d.index+d[0].length};return C.lastIndex=0,o}return null}e.getWordAtText=D;function L(b,C,u,h){let i;for(;i=b.exec(C);){const n=i.index||0;if(n<=u&&b.lastIndex>=u)return i;if(h>0&&n>h)return null}return null}}),define(oe[243],se([1,0,67]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class f{static whitespaceVisibleColumn(D,L,b){const C=D.length;let u=0,h=-1,i=-1;for(let n=0;n<C;n++){if(n===L)return[h,i,u];switch(u%b==0&&(h=n,i=u),D.charCodeAt(n)){case 32:u+=1;break;case 9:u=y.CursorColumns.nextRenderTabStop(u,b);break;default:return[-1,-1,-1]}}return L===C?[h,i,u]:[-1,-1,-1]}static atomicPosition(D,L,b,C){const u=D.length,[h,i,n]=f.whitespaceVisibleColumn(D,L,b);if(n===-1)return-1;let t;switch(C){case 0:t=!0;break;case 1:t=!1;break;case 2:if(n%b==0)return L;t=n%b<=b/2;break}if(t){if(h===-1)return-1;let o=i;for(let a=h;a<u;++a){if(o===i+b)return h;switch(D.charCodeAt(a)){case 32:o+=1;break;case 9:o=y.CursorColumns.nextRenderTabStop(o,b);break;default:return-1}}return o===i+b?h:-1}const r=y.CursorColumns.nextRenderTabStop(n,b);let d=n;for(let o=L;o<u;o++){if(d===r)return o;switch(D.charCodeAt(o)){case 32:d+=1;break;case 9:d=y.CursorColumns.nextRenderTabStop(d,b);break;default:return-1}}return d===r?u:-1}}e.AtomicTabMoveOperations=f}),define(oe[416],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class y{constructor(N,D,L,b){this._cursorContextBrand=void 0,this.model=N,this.viewModel=D,this.coordinatesConverter=L,this.cursorConfig=b}}e.CursorContext=y}),define(oe[417],se([1,0,141,8]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const N=3;function D(d,o,a,s){return new y.LcsDiff(d,o,a).ComputeDiff(s)}class L{constructor(o){const a=[],s=[];for(let l=0,c=o.length;l<c;l++)a[l]=n(o[l],1),s[l]=t(o[l],1);this.lines=o,this._startColumns=a,this._endColumns=s}getElements(){const o=[];for(let a=0,s=this.lines.length;a<s;a++)o[a]=this.lines[a].substring(this._startColumns[a]-1,this._endColumns[a]-1);return o}getStrictElement(o){return this.lines[o]}getStartLineNumber(o){return o+1}getEndLineNumber(o){return o+1}createCharSequence(o,a,s){const l=[],c=[],g=[];let m=0;for(let S=a;S<=s;S++){const p=this.lines[S],v=o?this._startColumns[S]:1,_=o?this._endColumns[S]:p.length+1;for(let w=v;w<_;w++)l[m]=p.charCodeAt(w-1),c[m]=S+1,g[m]=w,m++}return new b(l,c,g)}}class b{constructor(o,a,s){this._charCodes=o,this._lineNumbers=a,this._columns=s}getElements(){return this._charCodes}getStartLineNumber(o){return this._lineNumbers[o]}getStartColumn(o){return this._columns[o]}getEndLineNumber(o){return this._lineNumbers[o]}getEndColumn(o){return this._columns[o]+1}}class C{constructor(o,a,s,l,c,g,m,S){this.originalStartLineNumber=o,this.originalStartColumn=a,this.originalEndLineNumber=s,this.originalEndColumn=l,this.modifiedStartLineNumber=c,this.modifiedStartColumn=g,this.modifiedEndLineNumber=m,this.modifiedEndColumn=S}static createFromDiffChange(o,a,s){let l,c,g,m,S,p,v,_;return o.originalLength===0?(l=0,c=0,g=0,m=0):(l=a.getStartLineNumber(o.originalStart),c=a.getStartColumn(o.originalStart),g=a.getEndLineNumber(o.originalStart+o.originalLength-1),m=a.getEndColumn(o.originalStart+o.originalLength-1)),o.modifiedLength===0?(S=0,p=0,v=0,_=0):(S=s.getStartLineNumber(o.modifiedStart),p=s.getStartColumn(o.modifiedStart),v=s.getEndLineNumber(o.modifiedStart+o.modifiedLength-1),_=s.getEndColumn(o.modifiedStart+o.modifiedLength-1)),new C(l,c,g,m,S,p,v,_)}}function u(d){if(d.length<=1)return d;const o=[d[0]];let a=o[0];for(let s=1,l=d.length;s<l;s++){const c=d[s],g=c.originalStart-(a.originalStart+a.originalLength),m=c.modifiedStart-(a.modifiedStart+a.modifiedLength);Math.min(g,m)<N?(a.originalLength=c.originalStart+c.originalLength-a.originalStart,a.modifiedLength=c.modifiedStart+c.modifiedLength-a.modifiedStart):(o.push(c),a=c)}return o}class h{constructor(o,a,s,l,c){this.originalStartLineNumber=o,this.originalEndLineNumber=a,this.modifiedStartLineNumber=s,this.modifiedEndLineNumber=l,this.charChanges=c}static createFromDiffResult(o,a,s,l,c,g,m){let S,p,v,_,w;if(a.originalLength===0?(S=s.getStartLineNumber(a.originalStart)-1,p=0):(S=s.getStartLineNumber(a.originalStart),p=s.getEndLineNumber(a.originalStart+a.originalLength-1)),a.modifiedLength===0?(v=l.getStartLineNumber(a.modifiedStart)-1,_=0):(v=l.getStartLineNumber(a.modifiedStart),_=l.getEndLineNumber(a.modifiedStart+a.modifiedLength-1)),g&&a.originalLength>0&&a.originalLength<20&&a.modifiedLength>0&&a.modifiedLength<20&&c()){const E=s.createCharSequence(o,a.originalStart,a.originalStart+a.originalLength-1),I=l.createCharSequence(o,a.modifiedStart,a.modifiedStart+a.modifiedLength-1);let T=D(E,I,c,!0).changes;m&&(T=u(T)),w=[];for(let R=0,B=T.length;R<B;R++)w.push(C.createFromDiffChange(T[R],E,I))}return new h(S,p,v,_,w)}}class i{constructor(o,a,s){this.shouldComputeCharChanges=s.shouldComputeCharChanges,this.shouldPostProcessCharChanges=s.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=s.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=s.shouldMakePrettyDiff,this.originalLines=o,this.modifiedLines=a,this.original=new L(o),this.modified=new L(a),this.continueLineDiff=r(s.maxComputationTime),this.continueCharDiff=r(s.maxComputationTime===0?0:Math.min(s.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const o=D(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),a=o.changes,s=o.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let S=0,p=a.length;S<p;S++)m.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,a[S],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:s,changes:m}}const l=[];let c=0,g=0;for(let m=-1,S=a.length;m<S;m++){const p=m+1<S?a[m+1]:null,v=p?p.originalStart:this.originalLines.length,_=p?p.modifiedStart:this.modifiedLines.length;for(;c<v&&g<_;){const w=this.originalLines[c],E=this.modifiedLines[g];if(w!==E){{let I=n(w,1),T=n(E,1);for(;I>1&&T>1;){const R=w.charCodeAt(I-2),B=E.charCodeAt(T-2);if(R!==B)break;I--,T--}(I>1||T>1)&&this._pushTrimWhitespaceCharChange(l,c+1,1,I,g+1,1,T)}{let I=t(w,1),T=t(E,1);const R=w.length+1,B=E.length+1;for(;I<R&&T<B;){const O=w.charCodeAt(I-1),k=w.charCodeAt(T-1);if(O!==k)break;I++,T++}(I<R||T<B)&&this._pushTrimWhitespaceCharChange(l,c+1,I,R,g+1,T,B)}}c++,g++}p&&(l.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,p,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),c+=p.originalLength,g+=p.modifiedLength)}return{quitEarly:s,changes:l}}_pushTrimWhitespaceCharChange(o,a,s,l,c,g,m){if(this._mergeTrimWhitespaceCharChange(o,a,s,l,c,g,m))return;let S;this.shouldComputeCharChanges&&(S=[new C(a,s,a,l,c,g,c,m)]),o.push(new h(a,a,c,c,S))}_mergeTrimWhitespaceCharChange(o,a,s,l,c,g,m){const S=o.length;if(S===0)return!1;const p=o[S-1];return p.originalEndLineNumber===0||p.modifiedEndLineNumber===0?!1:p.originalEndLineNumber+1===a&&p.modifiedEndLineNumber+1===c?(p.originalEndLineNumber=a,p.modifiedEndLineNumber=c,this.shouldComputeCharChanges&&p.charChanges&&p.charChanges.push(new C(a,s,a,l,c,g,c,m)),!0):!1}}e.DiffComputer=i;function n(d,o){const a=f.firstNonWhitespaceIndex(d);return a===-1?o:a+1}function t(d,o){const a=f.lastNonWhitespaceIndex(d);return a===-1?o:a+2}function r(d){if(d===0)return()=>!0;const o=Date.now();return()=>Date.now()-o<d}}),define(oe[244],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class y{constructor(N,D,L,b,C,u){this.id=N,this.label=D,this.alias=L,this._precondition=b,this._run=C,this._contextKeyService=u}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=y}),define(oe[149],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(oe[150],se([1,0,149]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function f(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===y.EditorType.ICodeEditor:!1}e.isCodeEditor=f;function N(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===y.EditorType.IDiffEditor:!1}e.isDiffEditor=N;function D(L){return f(L)?L:N(L)?L.getModifiedEditor():null}e.getCodeEditor=D}),define(oe[418],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class y{constructor(N){this._theme=N}get type(){return this._theme.type}get value(){return this._theme}update(N){this._theme=N}getColor(N){return this._theme.getColor(N)}}e.EditorTheme=y}),define(oe[419],se([1,0,220,85]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function N(D,L,b,C,u,h){if(Array.isArray(D)){let i=0;for(const n of D){const t=N(n,L,b,C,u,h);if(t===10)return t;t>i&&(i=t)}return i}else{if(typeof D=="string")return C?D==="*"?5:D===b?10:0:0;if(D){const{language:i,pattern:n,scheme:t,hasAccessToAllModels:r,notebookType:d}=D;if(!C&&!r)return 0;d&&u&&(L=u);let o=0;if(t)if(t===L.scheme)o=10;else if(t==="*")o=5;else return 0;if(i)if(i===b)o=10;else if(i==="*")o=Math.max(o,5);else return 0;if(d)if(d===h)o=10;else if(d==="*"&&h!==void 0)o=Math.max(o,5);else return 0;if(n){let a;if(typeof n=="string"?a=n:a=Object.assign(Object.assign({},n),{base:(0,f.normalize)(n.base)}),a===L.fsPath||(0,y.match)(a,L.fsPath))o=10;else return 0}return o}else return 0}}e.score=N}),define(oe[94],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var y;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(y=e.IndentAction||(e.IndentAction={}));class f{constructor(b){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=b.open,this.close=b.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(b.notIn))for(let C=0,u=b.notIn.length;C<u;C++)switch(b.notIn[C]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(b){switch(b){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(b,C){if(b.getTokenCount()===0)return!0;const u=b.findTokenIndexAtOffset(C-2),h=b.getStandardTokenType(u);return this.isOK(h)}_findNeutralCharacterInRange(b,C){for(let u=b;u<=C;u++){const h=String.fromCharCode(u);if(!this.open.includes(h)&&!this.close.includes(h))return h}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=f;class N{constructor(b){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of b)D(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),D(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),D(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),D(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&D(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=N;function D(L,b,C){L.has(b)?L.get(b).push(C):L.set(b,[C])}}),define(oe[420],se([1,0,102]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class f{constructor(n,t,r){const d=new Uint8Array(n*t);for(let o=0,a=n*t;o<a;o++)d[o]=r;this._data=d,this.rows=n,this.cols=t}get(n,t){return this._data[n*this.cols+t]}set(n,t,r){this._data[n*this.cols+t]=r}}e.Uint8Matrix=f;class N{constructor(n){let t=0,r=0;for(let o=0,a=n.length;o<a;o++){const[s,l,c]=n[o];l>t&&(t=l),s>r&&(r=s),c>r&&(r=c)}t++,r++;const d=new f(r,t,0);for(let o=0,a=n.length;o<a;o++){const[s,l,c]=n[o];d.set(s,l,c)}this._states=d,this._maxCharCode=t}nextState(n,t){return t<0||t>=this._maxCharCode?0:this._states.get(n,t)}}e.StateMachine=N;let D=null;function L(){return D===null&&(D=new N([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let b=null;function C(){if(b===null){b=new y.CharacterClassifier(0);const i=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<i.length;t++)b.set(i.charCodeAt(t),1);const n=".,;";for(let t=0;t<n.length;t++)b.set(n.charCodeAt(t),2)}return b}class u{static _createLink(n,t,r,d,o){let a=o-1;do{const s=t.charCodeAt(a);if(n.get(s)!==2)break;a--}while(a>d);if(d>0){const s=t.charCodeAt(d-1),l=t.charCodeAt(a);(s===40&&l===41||s===91&&l===93||s===123&&l===125)&&a--}return{range:{startLineNumber:r,startColumn:d+1,endLineNumber:r,endColumn:a+2},url:t.substring(d,a+1)}}static computeLinks(n,t=L()){const r=C(),d=[];for(let o=1,a=n.getLineCount();o<=a;o++){const s=n.getLineContent(o),l=s.length;let c=0,g=0,m=0,S=1,p=!1,v=!1,_=!1,w=!1;for(;c<l;){let E=!1;const I=s.charCodeAt(c);if(S===13){let T;switch(I){case 40:p=!0,T=0;break;case 41:T=p?0:1;break;case 91:_=!0,v=!0,T=0;break;case 93:_=!1,T=v?0:1;break;case 123:w=!0,T=0;break;case 125:T=w?0:1;break;case 39:T=m===34||m===96?0:1;break;case 34:T=m===39||m===96?0:1;break;case 96:T=m===39||m===34?0:1;break;case 42:T=m===42?1:0;break;case 124:T=m===124?1:0;break;case 32:T=_?0:1;break;default:T=r.get(I)}T===1&&(d.push(u._createLink(r,s,o,g,c)),E=!0)}else if(S===12){let T;I===91?(v=!0,T=0):T=r.get(I),T===1?E=!0:S=13}else S=t.nextState(S,I),S===0&&(E=!0);E&&(S=1,p=!1,v=!1,w=!1,g=c+1,m=I),c++}S===13&&d.push(u._createLink(r,s,o,g,l))}return d}}e.LinkComputer=u;function h(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:u.computeLinks(i)}e.computeLinks=h}),define(oe[104],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function y(D,L){const b=D.getCount(),C=D.findTokenIndexAtOffset(L),u=D.getLanguageId(C);let h=C;for(;h+1<b&&D.getLanguageId(h+1)===u;)h++;let i=C;for(;i>0&&D.getLanguageId(i-1)===u;)i--;return new f(D,u,i,h+1,D.getStartOffset(i),D.getEndOffset(h))}e.createScopedLineTokens=y;class f{constructor(L,b,C,u,h,i){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=b,this._firstTokenIndex=C,this._lastTokenIndex=u,this.firstCharOffset=h,this._lastCharOffset=i}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}e.ScopedLineTokens=f;function N(D){return(D&3)!=0}e.ignoreBracketsInToken=N}),define(oe[62],se([1,0,11,3,24,104,67,179]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const C=()=>!0,u=()=>!1,h=s=>s===" "||s==="	";class i{constructor(l,c,g,m){this.languageConfigurationService=m,this._cursorMoveConfigurationBrand=void 0,this._languageId=l;const S=g.options,p=S.get(131);this.readOnly=S.get(81),this.tabSize=c.tabSize,this.indentSize=c.indentSize,this.insertSpaces=c.insertSpaces,this.stickyTabStops=S.get(104),this.lineHeight=S.get(59),this.pageSize=Math.max(1,Math.floor(p.height/this.lineHeight)-2),this.useTabStops=S.get(116),this.wordSeparators=S.get(117),this.emptySelectionClipboard=S.get(32),this.copyWithSyntaxHighlighting=S.get(21),this.multiCursorMergeOverlapping=S.get(69),this.multiCursorPaste=S.get(71),this.autoClosingBrackets=S.get(5),this.autoClosingQuotes=S.get(8),this.autoClosingDelete=S.get(6),this.autoClosingOvertype=S.get(7),this.autoSurround=S.get(11),this.autoIndent=S.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(l,this.autoClosingQuotes),bracket:this._getShouldAutoClose(l,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(l).getAutoClosingPairs();const v=this.languageConfigurationService.getLanguageConfiguration(l).getSurroundingPairs();if(v)for(const _ of v)this.surroundingPairs[_.open]=_.close}static shouldRecreate(l){return l.hasChanged(131)||l.hasChanged(117)||l.hasChanged(32)||l.hasChanged(69)||l.hasChanged(71)||l.hasChanged(5)||l.hasChanged(8)||l.hasChanged(6)||l.hasChanged(7)||l.hasChanged(11)||l.hasChanged(116)||l.hasChanged(59)||l.hasChanged(81)}get electricChars(){var l;if(!this._electricChars){this._electricChars={};const c=(l=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||l===void 0?void 0:l.getElectricCharacters();if(c)for(const g of c)this._electricChars[g]=!0}return this._electricChars}onElectricCharacter(l,c,g){const m=(0,D.createScopedLineTokens)(c,g-1),S=this.languageConfigurationService.getLanguageConfiguration(m.languageId).electricCharacter;return S?S.onElectricCharacter(l,m,g-m.firstCharOffset):null}normalizeIndentation(l){return(0,b.normalizeIndentation)(l,this.indentSize,this.insertSpaces)}_getShouldAutoClose(l,c){switch(c){case"beforeWhitespace":return h;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(l);case"always":return C;case"never":return u}}_getLanguageDefinedShouldAutoClose(l){const c=this.languageConfigurationService.getLanguageConfiguration(l).getAutoCloseBeforeSet();return g=>c.indexOf(g)!==-1}visibleColumnFromColumn(l,c){return L.CursorColumns.visibleColumnFromColumn(l.getLineContent(c.lineNumber),c.column,this.tabSize)}columnFromVisibleColumn(l,c,g){const m=L.CursorColumns.columnFromVisibleColumn(l.getLineContent(c),g,this.tabSize),S=l.getLineMinColumn(c);if(m<S)return S;const p=l.getLineMaxColumn(c);return m>p?p:m}}e.CursorConfiguration=i;class n{constructor(l,c){this._cursorStateBrand=void 0,this.modelState=l,this.viewState=c}static fromModelState(l){return new t(l)}static fromViewState(l){return new r(l)}static fromModelSelection(l){const c=N.Selection.liftSelection(l),g=new d(f.Range.fromPositions(c.getSelectionStart()),0,c.getPosition(),0);return n.fromModelState(g)}static fromModelSelections(l){const c=[];for(let g=0,m=l.length;g<m;g++)c[g]=this.fromModelSelection(l[g]);return c}equals(l){return this.viewState.equals(l.viewState)&&this.modelState.equals(l.modelState)}}e.CursorState=n;class t{constructor(l){this.modelState=l,this.viewState=null}}e.PartialModelCursorState=t;class r{constructor(l){this.modelState=null,this.viewState=l}}e.PartialViewCursorState=r;class d{constructor(l,c,g,m){this._singleCursorStateBrand=void 0,this.selectionStart=l,this.selectionStartLeftoverVisibleColumns=c,this.position=g,this.leftoverVisibleColumns=m,this.selection=d._computeSelection(this.selectionStart,this.position)}equals(l){return this.selectionStartLeftoverVisibleColumns===l.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===l.leftoverVisibleColumns&&this.position.equals(l.position)&&this.selectionStart.equalsRange(l.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(l,c,g,m){return l?new d(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new y.Position(c,g),m):new d(new f.Range(c,g,c,g),m,new y.Position(c,g),m)}static _computeSelection(l,c){return l.isEmpty()||!c.isBeforeOrEqual(l.getStartPosition())?N.Selection.fromPositions(l.getStartPosition(),c):N.Selection.fromPositions(l.getEndPosition(),c)}}e.SingleCursorState=d;class o{constructor(l,c,g){this._editOperationResultBrand=void 0,this.type=l,this.commands=c,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}e.EditOperationResult=o;function a(s){return s==="'"||s==='"'||s==="`"}e.isQuote=a}),define(oe[421],se([1,0,62,11,3]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(b,C,u,h,i,n){const t=Math.abs(i-u)+1,r=u>i,d=h>n,o=h<n,a=[];for(let s=0;s<t;s++){const l=u+(r?-s:s),c=b.columnFromVisibleColumn(C,l,h),g=b.columnFromVisibleColumn(C,l,n),m=b.visibleColumnFromColumn(C,new f.Position(l,c)),S=b.visibleColumnFromColumn(C,new f.Position(l,g));o&&(m>n||S<h)||d&&(S>h||m<n)||a.push(new y.SingleCursorState(new N.Range(l,c,l,c),0,new f.Position(l,g),0))}if(a.length===0)for(let s=0;s<t;s++){const l=u+(r?-s:s),c=C.getLineMaxColumn(l);a.push(new y.SingleCursorState(new N.Range(l,c,l,c),0,new f.Position(l,c),0))}return{viewStates:a,reversed:r,fromLineNumber:u,fromVisualColumn:h,toLineNumber:i,toVisualColumn:n}}static columnSelectLeft(b,C,u){let h=u.toViewVisualColumn;return h>0&&h--,D.columnSelect(b,C,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,h)}static columnSelectRight(b,C,u){let h=0;const i=Math.min(u.fromViewLineNumber,u.toViewLineNumber),n=Math.max(u.fromViewLineNumber,u.toViewLineNumber);for(let r=i;r<=n;r++){const d=C.getLineMaxColumn(r),o=b.visibleColumnFromColumn(C,new f.Position(r,d));h=Math.max(h,o)}let t=u.toViewVisualColumn;return t<h&&t++,this.columnSelect(b,C,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,t)}static columnSelectUp(b,C,u,h){const i=h?b.pageSize:1,n=Math.max(1,u.toViewLineNumber-i);return this.columnSelect(b,C,u.fromViewLineNumber,u.fromViewVisualColumn,n,u.toViewVisualColumn)}static columnSelectDown(b,C,u,h){const i=h?b.pageSize:1,n=Math.min(C.getLineCount(),u.toViewLineNumber+i);return this.columnSelect(b,C,u.fromViewLineNumber,u.fromViewVisualColumn,n,u.toViewVisualColumn)}}e.ColumnSelection=D}),define(oe[182],se([1,0,62,67,11,3,8,243]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class C{constructor(i,n,t){this._cursorPositionBrand=void 0,this.lineNumber=i,this.column=n,this.leftoverVisibleColumns=t}}e.CursorPosition=C;class u{static leftPosition(i,n){if(n.column>i.getLineMinColumn(n.lineNumber))return n.delta(void 0,-L.prevCharLength(i.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const t=n.lineNumber-1;return new N.Position(t,i.getLineMaxColumn(t))}else return n}static leftPositionAtomicSoftTabs(i,n,t){if(n.column<=i.getLineIndentColumn(n.lineNumber)){const r=i.getLineMinColumn(n.lineNumber),d=i.getLineContent(n.lineNumber),o=b.AtomicTabMoveOperations.atomicPosition(d,n.column-1,t,0);if(o!==-1&&o+1>=r)return new N.Position(n.lineNumber,o+1)}return this.leftPosition(i,n)}static left(i,n,t){const r=i.stickyTabStops?u.leftPositionAtomicSoftTabs(n,t,i.tabSize):u.leftPosition(n,t);return new C(r.lineNumber,r.column,0)}static moveLeft(i,n,t,r,d){let o,a;if(t.hasSelection()&&!r)o=t.selection.startLineNumber,a=t.selection.startColumn;else{const s=t.position.delta(void 0,-(d-1)),l=n.normalizePosition(u.clipPositionColumn(s,n),0),c=u.left(i,n,l);o=c.lineNumber,a=c.column}return t.move(r,o,a,0)}static clipPositionColumn(i,n){return new N.Position(i.lineNumber,u.clipRange(i.column,n.getLineMinColumn(i.lineNumber),n.getLineMaxColumn(i.lineNumber)))}static clipRange(i,n,t){return i<n?n:i>t?t:i}static rightPosition(i,n,t){return t<i.getLineMaxColumn(n)?t=t+L.nextCharLength(i.getLineContent(n),t-1):n<i.getLineCount()&&(n=n+1,t=i.getLineMinColumn(n)),new N.Position(n,t)}static rightPositionAtomicSoftTabs(i,n,t,r,d){if(t<i.getLineIndentColumn(n)){const o=i.getLineContent(n),a=b.AtomicTabMoveOperations.atomicPosition(o,t-1,r,1);if(a!==-1)return new N.Position(n,a+1)}return this.rightPosition(i,n,t)}static right(i,n,t){const r=i.stickyTabStops?u.rightPositionAtomicSoftTabs(n,t.lineNumber,t.column,i.tabSize,i.indentSize):u.rightPosition(n,t.lineNumber,t.column);return new C(r.lineNumber,r.column,0)}static moveRight(i,n,t,r,d){let o,a;if(t.hasSelection()&&!r)o=t.selection.endLineNumber,a=t.selection.endColumn;else{const s=t.position.delta(void 0,d-1),l=n.normalizePosition(u.clipPositionColumn(s,n),1),c=u.right(i,n,l);o=c.lineNumber,a=c.column}return t.move(r,o,a,0)}static vertical(i,n,t,r,d,o,a,s){const l=f.CursorColumns.visibleColumnFromColumn(n.getLineContent(t),r,i.tabSize)+d,c=n.getLineCount(),g=t===1&&r===1,m=t===c&&r===n.getLineMaxColumn(t),S=o<t?g:m;if(t=o,t<1?(t=1,a?r=n.getLineMinColumn(t):r=Math.min(n.getLineMaxColumn(t),r)):t>c?(t=c,a?r=n.getLineMaxColumn(t):r=Math.min(n.getLineMaxColumn(t),r)):r=i.columnFromVisibleColumn(n,t,l),S?d=0:d=l-f.CursorColumns.visibleColumnFromColumn(n.getLineContent(t),r,i.tabSize),s!==void 0){const p=new N.Position(t,r),v=n.normalizePosition(p,s);d=d+(r-v.column),t=v.lineNumber,r=v.column}return new C(t,r,d)}static down(i,n,t,r,d,o,a){return this.vertical(i,n,t,r,d,t+o,a,4)}static moveDown(i,n,t,r,d){let o,a;t.hasSelection()&&!r?(o=t.selection.endLineNumber,a=t.selection.endColumn):(o=t.position.lineNumber,a=t.position.column);const s=u.down(i,n,o,a,t.leftoverVisibleColumns,d,!0);return t.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(i,n,t){const r=t.selection,d=u.down(i,n,r.selectionStartLineNumber,r.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),o=u.down(i,n,r.positionLineNumber,r.positionColumn,t.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new D.Range(d.lineNumber,d.column,d.lineNumber,d.column),d.leftoverVisibleColumns,new N.Position(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(i,n,t,r,d,o,a){return this.vertical(i,n,t,r,d,t-o,a,3)}static moveUp(i,n,t,r,d){let o,a;t.hasSelection()&&!r?(o=t.selection.startLineNumber,a=t.selection.startColumn):(o=t.position.lineNumber,a=t.position.column);const s=u.up(i,n,o,a,t.leftoverVisibleColumns,d,!0);return t.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(i,n,t){const r=t.selection,d=u.up(i,n,r.selectionStartLineNumber,r.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),o=u.up(i,n,r.positionLineNumber,r.positionColumn,t.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new D.Range(d.lineNumber,d.column,d.lineNumber,d.column),d.leftoverVisibleColumns,new N.Position(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(i,n){return i.getLineFirstNonWhitespaceColumn(n)===0}static moveToPrevBlankLine(i,n,t,r){let d=t.position.lineNumber;for(;d>1&&this._isBlankLine(n,d);)d--;for(;d>1&&!this._isBlankLine(n,d);)d--;return t.move(r,d,n.getLineMinColumn(d),0)}static moveToNextBlankLine(i,n,t,r){const d=n.getLineCount();let o=t.position.lineNumber;for(;o<d&&this._isBlankLine(n,o);)o++;for(;o<d&&!this._isBlankLine(n,o);)o++;return t.move(r,o,n.getLineMinColumn(o),0)}static moveToBeginningOfLine(i,n,t,r){const d=t.position.lineNumber,o=n.getLineMinColumn(d),a=n.getLineFirstNonWhitespaceColumn(d)||o;let s;return t.position.column===a?s=o:s=a,t.move(r,d,s,0)}static moveToEndOfLine(i,n,t,r,d){const o=t.position.lineNumber,a=n.getLineMaxColumn(o);return t.move(r,o,a,d?1073741824-a:0)}static moveToBeginningOfBuffer(i,n,t,r){return t.move(r,1,1,0)}static moveToEndOfBuffer(i,n,t,r){const d=n.getLineCount(),o=n.getLineMaxColumn(d);return t.move(r,d,o,0)}}e.MoveOperations=u}),define(oe[183],se([1,0,8,103,62,67,182,3,11]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class u{static deleteRight(i,n,t,r){const d=[];let o=i!==3;for(let a=0,s=r.length;a<s;a++){const l=r[a];let c=l;if(c.isEmpty()){const g=l.getPosition(),m=L.MoveOperations.right(n,t,g);c=new b.Range(m.lineNumber,m.column,g.lineNumber,g.column)}if(c.isEmpty()){d[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(o=!0),d[a]=new f.ReplaceCommand(c,"")}return[o,d]}static isAutoClosingPairDelete(i,n,t,r,d,o,a){if(n==="never"&&t==="never"||i==="never")return!1;for(let s=0,l=o.length;s<l;s++){const c=o[s],g=c.getPosition();if(!c.isEmpty())return!1;const m=d.getLineContent(g.lineNumber);if(g.column<2||g.column>=m.length+1)return!1;const S=m.charAt(g.column-2),p=r.get(S);if(!p)return!1;if((0,N.isQuote)(S)){if(t==="never")return!1}else if(n==="never")return!1;const v=m.charAt(g.column-1);let _=!1;for(const w of p)w.open===S&&w.close===v&&(_=!0);if(!_)return!1;if(i==="auto"){let w=!1;for(let E=0,I=a.length;E<I;E++){const T=a[E];if(g.lineNumber===T.startLineNumber&&g.column===T.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(i,n,t){const r=[];for(let d=0,o=t.length;d<o;d++){const a=t[d].getPosition(),s=new b.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[d]=new f.ReplaceCommand(s,"")}return[!0,r]}static deleteLeft(i,n,t,r,d){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,t,r,d))return this._runAutoClosingPairDelete(n,t,r);const o=[];let a=i!==2;for(let s=0,l=r.length;s<l;s++){const c=u.getDeleteRange(r[s],t,n);if(c.isEmpty()){o[s]=null;continue}c.startLineNumber!==c.endLineNumber&&(a=!0),o[s]=new f.ReplaceCommand(c,"")}return[a,o]}static getDeleteRange(i,n,t){if(!i.isEmpty())return i;const r=i.getPosition();if(t.useTabStops&&r.column>1){const d=n.getLineContent(r.lineNumber),o=y.firstNonWhitespaceIndex(d),a=o===-1?d.length+1:o+1;if(r.column<=a){const s=t.visibleColumnFromColumn(n,r),l=D.CursorColumns.prevIndentTabStop(s,t.indentSize),c=t.columnFromVisibleColumn(n,r.lineNumber,l);return new b.Range(r.lineNumber,c,r.lineNumber,r.column)}}return b.Range.fromPositions(u.getPositionAfterDeleteLeft(r,n),r)}static getPositionAfterDeleteLeft(i,n){if(i.column>1){const t=y.getLeftDeleteOffset(i.column-1,n.getLineContent(i.lineNumber));return i.with(void 0,t+1)}else if(i.lineNumber>1){const t=i.lineNumber-1;return new C.Position(t,n.getLineMaxColumn(t))}else return i}static cut(i,n,t){const r=[];let d=null;t.sort((o,a)=>C.Position.compare(o.getStartPosition(),a.getEndPosition()));for(let o=0,a=t.length;o<a;o++){const s=t[o];if(s.isEmpty())if(i.emptySelectionClipboard){const l=s.getPosition();let c,g,m,S;l.lineNumber<n.getLineCount()?(c=l.lineNumber,g=1,m=l.lineNumber+1,S=1):l.lineNumber>1&&(d==null?void 0:d.endLineNumber)!==l.lineNumber?(c=l.lineNumber-1,g=n.getLineMaxColumn(l.lineNumber-1),m=l.lineNumber,S=n.getLineMaxColumn(l.lineNumber)):(c=l.lineNumber,g=1,m=l.lineNumber,S=n.getLineMaxColumn(l.lineNumber));const p=new b.Range(c,g,m,S);d=p,p.isEmpty()?r[o]=null:r[o]=new f.ReplaceCommand(p,"")}else r[o]=null;else r[o]=new f.ReplaceCommand(s,"")}return new N.EditOperationResult(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=u}),define(oe[151],se([1,0,8,62,183,125,11,3]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static _createWord(n,t,r,d,o){return{start:d,end:o,wordType:t,nextCharClass:r}}static _findPreviousWordOnLine(n,t,r){const d=t.getLineContent(r.lineNumber);return this._doFindPreviousWordOnLine(d,n,r)}static _doFindPreviousWordOnLine(n,t,r){let d=0;for(let o=r.column-2;o>=0;o--){const a=n.charCodeAt(o),s=t.get(a);if(s===0){if(d===2)return this._createWord(n,d,s,o+1,this._findEndOfWord(n,t,d,o+1));d=1}else if(s===2){if(d===1)return this._createWord(n,d,s,o+1,this._findEndOfWord(n,t,d,o+1));d=2}else if(s===1&&d!==0)return this._createWord(n,d,s,o+1,this._findEndOfWord(n,t,d,o+1))}return d!==0?this._createWord(n,d,1,0,this._findEndOfWord(n,t,d,0)):null}static _findEndOfWord(n,t,r,d){const o=n.length;for(let a=d;a<o;a++){const s=n.charCodeAt(a),l=t.get(s);if(l===1||r===1&&l===2||r===2&&l===0)return a}return o}static _findNextWordOnLine(n,t,r){const d=t.getLineContent(r.lineNumber);return this._doFindNextWordOnLine(d,n,r)}static _doFindNextWordOnLine(n,t,r){let d=0;const o=n.length;for(let a=r.column-1;a<o;a++){const s=n.charCodeAt(a),l=t.get(s);if(l===0){if(d===2)return this._createWord(n,d,l,this._findStartOfWord(n,t,d,a-1),a);d=1}else if(l===2){if(d===1)return this._createWord(n,d,l,this._findStartOfWord(n,t,d,a-1),a);d=2}else if(l===1&&d!==0)return this._createWord(n,d,l,this._findStartOfWord(n,t,d,a-1),a)}return d!==0?this._createWord(n,d,1,this._findStartOfWord(n,t,d,o-1),o):null}static _findStartOfWord(n,t,r,d){for(let o=d;o>=0;o--){const a=n.charCodeAt(o),s=t.get(a);if(s===1||r===1&&s===2||r===2&&s===0)return o+1}return 0}static moveWordLeft(n,t,r,d){let o=r.lineNumber,a=r.column;a===1&&o>1&&(o=o-1,a=t.getLineMaxColumn(o));let s=C._findPreviousWordOnLine(n,t,new L.Position(o,a));if(d===0)return new L.Position(o,s?s.start+1:1);if(d===1)return s&&s.wordType===2&&s.end-s.start==1&&s.nextCharClass===0&&(s=C._findPreviousWordOnLine(n,t,new L.Position(o,s.start+1))),new L.Position(o,s?s.start+1:1);if(d===3){for(;s&&s.wordType===2;)s=C._findPreviousWordOnLine(n,t,new L.Position(o,s.start+1));return new L.Position(o,s?s.start+1:1)}return s&&a<=s.end+1&&(s=C._findPreviousWordOnLine(n,t,new L.Position(o,s.start+1))),new L.Position(o,s?s.end+1:1)}static _moveWordPartLeft(n,t){const r=t.lineNumber,d=n.getLineMaxColumn(r);if(t.column===1)return r>1?new L.Position(r-1,n.getLineMaxColumn(r-1)):t;const o=n.getLineContent(r);for(let a=t.column-1;a>1;a--){const s=o.charCodeAt(a-2),l=o.charCodeAt(a-1);if(s===95&&l!==95)return new L.Position(r,a);if(y.isLowerAsciiLetter(s)&&y.isUpperAsciiLetter(l))return new L.Position(r,a);if(y.isUpperAsciiLetter(s)&&y.isUpperAsciiLetter(l)&&a+1<d){const c=o.charCodeAt(a);if(y.isLowerAsciiLetter(c))return new L.Position(r,a)}}return new L.Position(r,1)}static moveWordRight(n,t,r,d){let o=r.lineNumber,a=r.column,s=!1;a===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(s=!0,o=o+1,a=1);let l=C._findNextWordOnLine(n,t,new L.Position(o,a));if(d===2)l&&l.wordType===2&&l.end-l.start==1&&l.nextCharClass===0&&(l=C._findNextWordOnLine(n,t,new L.Position(o,l.end+1))),l?a=l.end+1:a=t.getLineMaxColumn(o);else if(d===3){for(s&&(a=0);l&&(l.wordType===2||l.start+1<=a);)l=C._findNextWordOnLine(n,t,new L.Position(o,l.end+1));l?a=l.start+1:a=t.getLineMaxColumn(o)}else l&&!s&&a>=l.start+1&&(l=C._findNextWordOnLine(n,t,new L.Position(o,l.end+1))),l?a=l.start+1:a=t.getLineMaxColumn(o);return new L.Position(o,a)}static _moveWordPartRight(n,t){const r=t.lineNumber,d=n.getLineMaxColumn(r);if(t.column===d)return r<n.getLineCount()?new L.Position(r+1,1):t;const o=n.getLineContent(r);for(let a=t.column+1;a<d;a++){const s=o.charCodeAt(a-2),l=o.charCodeAt(a-1);if(s!==95&&l===95)return new L.Position(r,a);if(y.isLowerAsciiLetter(s)&&y.isUpperAsciiLetter(l))return new L.Position(r,a);if(y.isUpperAsciiLetter(s)&&y.isUpperAsciiLetter(l)&&a+1<d){const c=o.charCodeAt(a);if(y.isLowerAsciiLetter(c))return new L.Position(r,a)}}return new L.Position(r,d)}static _deleteWordLeftWhitespace(n,t){const r=n.getLineContent(t.lineNumber),d=t.column-2,o=y.lastNonWhitespaceIndex(r,d);return o+1<d?new b.Range(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(n,t){const r=n.wordSeparators,d=n.model,o=n.selection,a=n.whitespaceHeuristics;if(!o.isEmpty())return o;if(N.DeleteOperations.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,n.model,[n.selection],n.autoClosedCharacters)){const m=n.selection.getPosition();return new b.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const s=new L.Position(o.positionLineNumber,o.positionColumn);let l=s.lineNumber,c=s.column;if(l===1&&c===1)return null;if(a){const m=this._deleteWordLeftWhitespace(d,s);if(m)return m}let g=C._findPreviousWordOnLine(r,d,s);return t===0?g?c=g.start+1:c>1?c=1:(l--,c=d.getLineMaxColumn(l)):(g&&c<=g.end+1&&(g=C._findPreviousWordOnLine(r,d,new L.Position(l,g.start+1))),g?c=g.end+1:c>1?c=1:(l--,c=d.getLineMaxColumn(l))),new b.Range(l,c,s.lineNumber,s.column)}static deleteInsideWord(n,t,r){if(!r.isEmpty())return r;const d=new L.Position(r.positionLineNumber,r.positionColumn),o=this._deleteInsideWordWhitespace(t,d);return o||this._deleteInsideWordDetermineDeleteRange(n,t,d)}static _charAtIsWhitespace(n,t){const r=n.charCodeAt(t);return r===32||r===9}static _deleteInsideWordWhitespace(n,t){const r=n.getLineContent(t.lineNumber),d=r.length;if(d===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(r,o))return null;let a=Math.min(t.column-1,d-1);if(!this._charAtIsWhitespace(r,a))return null;for(;o>0&&this._charAtIsWhitespace(r,o-1);)o--;for(;a+1<d&&this._charAtIsWhitespace(r,a+1);)a++;return new b.Range(t.lineNumber,o+1,t.lineNumber,a+2)}static _deleteInsideWordDetermineDeleteRange(n,t,r){const d=t.getLineContent(r.lineNumber),o=d.length;if(o===0)return r.lineNumber>1?new b.Range(r.lineNumber-1,t.getLineMaxColumn(r.lineNumber-1),r.lineNumber,1):r.lineNumber<t.getLineCount()?new b.Range(r.lineNumber,1,r.lineNumber+1,1):new b.Range(r.lineNumber,1,r.lineNumber,1);const a=m=>m.start+1<=r.column&&r.column<=m.end+1,s=(m,S)=>(m=Math.min(m,r.column),S=Math.max(S,r.column),new b.Range(r.lineNumber,m,r.lineNumber,S)),l=m=>{let S=m.start+1,p=m.end+1,v=!1;for(;p-1<o&&this._charAtIsWhitespace(d,p-1);)v=!0,p++;if(!v)for(;S>1&&this._charAtIsWhitespace(d,S-2);)S--;return s(S,p)},c=C._findPreviousWordOnLine(n,t,r);if(c&&a(c))return l(c);const g=C._findNextWordOnLine(n,t,r);return g&&a(g)?l(g):c&&g?s(c.end+1,g.start+1):c?s(c.start+1,c.end+1):g?s(g.start+1,g.end+1):s(1,o+1)}static _deleteWordPartLeft(n,t){if(!t.isEmpty())return t;const r=t.getPosition(),d=C._moveWordPartLeft(n,r);return new b.Range(r.lineNumber,r.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(n,t){const r=n.length;for(let d=t;d<r;d++){const o=n.charAt(d);if(o!==" "&&o!=="	")return d}return r}static _deleteWordRightWhitespace(n,t){const r=n.getLineContent(t.lineNumber),d=t.column-1,o=this._findFirstNonWhitespaceChar(r,d);return d+1<o?new b.Range(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(n,t){const r=n.wordSeparators,d=n.model,o=n.selection,a=n.whitespaceHeuristics;if(!o.isEmpty())return o;const s=new L.Position(o.positionLineNumber,o.positionColumn);let l=s.lineNumber,c=s.column;const g=d.getLineCount(),m=d.getLineMaxColumn(l);if(l===g&&c===m)return null;if(a){const p=this._deleteWordRightWhitespace(d,s);if(p)return p}let S=C._findNextWordOnLine(r,d,s);return t===2?S?c=S.end+1:c<m||l===g?c=m:(l++,S=C._findNextWordOnLine(r,d,new L.Position(l,1)),S?c=S.start+1:c=d.getLineMaxColumn(l)):(S&&c>=S.start+1&&(S=C._findNextWordOnLine(r,d,new L.Position(l,S.end+1))),S?c=S.start+1:c<m||l===g?c=m:(l++,S=C._findNextWordOnLine(r,d,new L.Position(l,1)),S?c=S.start+1:c=d.getLineMaxColumn(l))),new b.Range(l,c,s.lineNumber,s.column)}static _deleteWordPartRight(n,t){if(!t.isEmpty())return t;const r=t.getPosition(),d=C._moveWordPartRight(n,r);return new b.Range(r.lineNumber,r.column,d.lineNumber,d.column)}static _createWordAtPosition(n,t,r){const d=new b.Range(t,r.start+1,t,r.end+1);return{word:n.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(n,t,r){const d=(0,D.getMapForWordSeparators)(t),o=C._findPreviousWordOnLine(d,n,r);if(o&&o.wordType===1&&o.start<=r.column-1&&r.column-1<=o.end)return C._createWordAtPosition(n,r.lineNumber,o);const a=C._findNextWordOnLine(d,n,r);return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?C._createWordAtPosition(n,r.lineNumber,a):null}static word(n,t,r,d,o){const a=(0,D.getMapForWordSeparators)(n.wordSeparators),s=C._findPreviousWordOnLine(a,t,o),l=C._findNextWordOnLine(a,t,o);if(!d){let p,v;return s&&s.wordType===1&&s.start<=o.column-1&&o.column-1<=s.end?(p=s.start+1,v=s.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(p=l.start+1,v=l.end+1):(s?p=s.end+1:p=1,l?v=l.start+1:v=t.getLineMaxColumn(o.lineNumber)),new f.SingleCursorState(new b.Range(o.lineNumber,p,o.lineNumber,v),0,new L.Position(o.lineNumber,v),0)}let c,g;s&&s.wordType===1&&s.start<o.column-1&&o.column-1<s.end?(c=s.start+1,g=s.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(c=l.start+1,g=l.end+1):(c=o.column,g=o.column);const m=o.lineNumber;let S;if(r.selectionStart.containsPosition(o))S=r.selectionStart.endColumn;else if(o.isBeforeOrEqual(r.selectionStart.getStartPosition())){S=c;const p=new L.Position(m,S);r.selectionStart.containsPosition(p)&&(S=r.selectionStart.endColumn)}else{S=g;const p=new L.Position(m,S);r.selectionStart.containsPosition(p)&&(S=r.selectionStart.startColumn)}return r.move(!0,m,S,0)}}e.WordOperations=C;class u extends C{static deleteWordPartLeft(n){const t=h([C.deleteWordLeft(n,0),C.deleteWordLeft(n,2),C._deleteWordPartLeft(n.model,n.selection)]);return t.sort(b.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(n){const t=h([C.deleteWordRight(n,0),C.deleteWordRight(n,2),C._deleteWordPartRight(n.model,n.selection)]);return t.sort(b.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(n,t,r){const d=h([C.moveWordLeft(n,t,r,0),C.moveWordLeft(n,t,r,2),C._moveWordPartLeft(t,r)]);return d.sort(L.Position.compare),d[2]}static moveWordPartRight(n,t,r){const d=h([C.moveWordRight(n,t,r,0),C.moveWordRight(n,t,r,2),C._moveWordPartRight(t,r)]);return d.sort(L.Position.compare),d[0]}}e.WordPartOperations=u;function h(i){return i.filter(n=>Boolean(n))}}),define(oe[184],se([1,0,19,62,182,151,11,3]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(i,n,t){const r=[];let d=0;for(let o=0,a=n.length;o<a;o++){const s=n[o];r[d++]=new f.CursorState(s.modelState,s.viewState),t?r[d++]=f.CursorState.fromModelState(N.MoveOperations.translateDown(i.cursorConfig,i.model,s.modelState)):r[d++]=f.CursorState.fromViewState(N.MoveOperations.translateDown(i.cursorConfig,i,s.viewState))}return r}static addCursorUp(i,n,t){const r=[];let d=0;for(let o=0,a=n.length;o<a;o++){const s=n[o];r[d++]=new f.CursorState(s.modelState,s.viewState),t?r[d++]=f.CursorState.fromModelState(N.MoveOperations.translateUp(i.cursorConfig,i.model,s.modelState)):r[d++]=f.CursorState.fromViewState(N.MoveOperations.translateUp(i.cursorConfig,i,s.viewState))}return r}static moveToBeginningOfLine(i,n,t){let r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d];r[d]=this._moveToLineStart(i,a,t)}return r}static _moveToLineStart(i,n,t){const r=n.viewState.position.column,d=n.modelState.position.column,o=r===d,a=n.viewState.position.lineNumber,s=i.getLineFirstNonWhitespaceColumn(a);return!o&&!(r===s)?this._moveToLineStartByView(i,n,t):this._moveToLineStartByModel(i,n,t)}static _moveToLineStartByView(i,n,t){return f.CursorState.fromViewState(N.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i,n.viewState,t))}static _moveToLineStartByModel(i,n,t){return f.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i.model,n.modelState,t))}static moveToEndOfLine(i,n,t,r){const d=[];for(let o=0,a=n.length;o<a;o++){const s=n[o];d[o]=this._moveToLineEnd(i,s,t,r)}return d}static _moveToLineEnd(i,n,t,r){const d=n.viewState.position,o=i.getLineMaxColumn(d.lineNumber),a=d.column===o,s=n.modelState.position,l=i.model.getLineMaxColumn(s.lineNumber),c=o-d.column==l-s.column;return a||c?this._moveToLineEndByModel(i,n,t,r):this._moveToLineEndByView(i,n,t,r)}static _moveToLineEndByView(i,n,t,r){return f.CursorState.fromViewState(N.MoveOperations.moveToEndOfLine(i.cursorConfig,i,n.viewState,t,r))}static _moveToLineEndByModel(i,n,t,r){return f.CursorState.fromModelState(N.MoveOperations.moveToEndOfLine(i.cursorConfig,i.model,n.modelState,t,r))}static expandLineSelection(i,n){const t=[];for(let r=0,d=n.length;r<d;r++){const o=n[r],a=o.modelState.selection.startLineNumber,s=i.model.getLineCount();let l=o.modelState.selection.endLineNumber,c;l===s?c=i.model.getLineMaxColumn(s):(l++,c=1),t[r]=f.CursorState.fromModelState(new f.SingleCursorState(new b.Range(a,1,a,1),0,new L.Position(l,c),0))}return t}static moveToBeginningOfBuffer(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d];r[d]=f.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfBuffer(i.cursorConfig,i.model,a.modelState,t))}return r}static moveToEndOfBuffer(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d];r[d]=f.CursorState.fromModelState(N.MoveOperations.moveToEndOfBuffer(i.cursorConfig,i.model,a.modelState,t))}return r}static selectAll(i,n){const t=i.model.getLineCount(),r=i.model.getLineMaxColumn(t);return f.CursorState.fromModelState(new f.SingleCursorState(new b.Range(1,1,1,1),0,new L.Position(t,r),0))}static line(i,n,t,r,d){const o=i.model.validatePosition(r),a=d?i.coordinatesConverter.validateViewPosition(new L.Position(d.lineNumber,d.column),o):i.coordinatesConverter.convertModelPositionToViewPosition(o);if(!t||!n.modelState.hasSelection()){const l=i.model.getLineCount();let c=o.lineNumber+1,g=1;return c>l&&(c=l,g=i.model.getLineMaxColumn(c)),f.CursorState.fromModelState(new f.SingleCursorState(new b.Range(o.lineNumber,1,c,g),0,new L.Position(c,g),0))}const s=n.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<s)return f.CursorState.fromViewState(n.viewState.move(n.modelState.hasSelection(),a.lineNumber,1,0));if(o.lineNumber>s){const l=i.getLineCount();let c=a.lineNumber+1,g=1;return c>l&&(c=l,g=i.getLineMaxColumn(c)),f.CursorState.fromViewState(n.viewState.move(n.modelState.hasSelection(),c,g,0))}else{const l=n.modelState.selectionStart.getEndPosition();return f.CursorState.fromModelState(n.modelState.move(n.modelState.hasSelection(),l.lineNumber,l.column,0))}}static word(i,n,t,r){const d=i.model.validatePosition(r);return f.CursorState.fromModelState(D.WordOperations.word(i.cursorConfig,i.model,n.modelState,t,d))}static cancelSelection(i,n){if(!n.modelState.hasSelection())return new f.CursorState(n.modelState,n.viewState);const t=n.viewState.position.lineNumber,r=n.viewState.position.column;return f.CursorState.fromViewState(new f.SingleCursorState(new b.Range(t,r,t,r),0,new L.Position(t,r),0))}static moveTo(i,n,t,r,d){const o=i.model.validatePosition(r),a=d?i.coordinatesConverter.validateViewPosition(new L.Position(d.lineNumber,d.column),o):i.coordinatesConverter.convertModelPositionToViewPosition(o);return f.CursorState.fromViewState(n.viewState.move(t,a.lineNumber,a.column,0))}static simpleMove(i,n,t,r,d,o){switch(t){case 0:return o===4?this._moveHalfLineLeft(i,n,r):this._moveLeft(i,n,r,d);case 1:return o===4?this._moveHalfLineRight(i,n,r):this._moveRight(i,n,r,d);case 2:return o===2?this._moveUpByViewLines(i,n,r,d):this._moveUpByModelLines(i,n,r,d);case 3:return o===2?this._moveDownByViewLines(i,n,r,d):this._moveDownByModelLines(i,n,r,d);case 4:return o===2?n.map(a=>f.CursorState.fromViewState(N.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i,a.viewState,r))):n.map(a=>f.CursorState.fromModelState(N.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i.model,a.modelState,r)));case 5:return o===2?n.map(a=>f.CursorState.fromViewState(N.MoveOperations.moveToNextBlankLine(i.cursorConfig,i,a.viewState,r))):n.map(a=>f.CursorState.fromModelState(N.MoveOperations.moveToNextBlankLine(i.cursorConfig,i.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(i,n,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(i,n,r);case 8:return this._moveToViewCenterColumn(i,n,r);case 9:return this._moveToViewMaxColumn(i,n,r);case 10:return this._moveToViewLastNonWhitespaceColumn(i,n,r);default:return null}}static viewportMove(i,n,t,r,d){const o=i.getCompletelyVisibleViewRange(),a=i.coordinatesConverter.convertViewRangeToModelRange(o);switch(t){case 11:{const s=this._firstLineNumberInRange(i.model,a,d),l=i.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(i,n[0],r,s,l)]}case 13:{const s=this._lastLineNumberInRange(i.model,a,d),l=i.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(i,n[0],r,s,l)]}case 12:{const s=Math.round((a.startLineNumber+a.endLineNumber)/2),l=i.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(i,n[0],r,s,l)]}case 14:{const s=[];for(let l=0,c=n.length;l<c;l++){const g=n[l];s[l]=this.findPositionInViewportIfOutside(i,g,o,r)}return s}default:return null}}static findPositionInViewportIfOutside(i,n,t,r){const d=n.viewState.position.lineNumber;if(t.startLineNumber<=d&&d<=t.endLineNumber-1)return new f.CursorState(n.modelState,n.viewState);{let o;d>t.endLineNumber-1?o=t.endLineNumber-1:d<t.startLineNumber?o=t.startLineNumber:o=d;const a=N.MoveOperations.vertical(i.cursorConfig,i,d,n.viewState.position.column,n.viewState.leftoverVisibleColumns,o,!1);return f.CursorState.fromViewState(n.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(i,n,t){let r=n.startLineNumber;return n.startColumn!==i.getLineMinColumn(r)&&r++,Math.min(n.endLineNumber,r+t-1)}static _lastLineNumberInRange(i,n,t){let r=n.startLineNumber;return n.startColumn!==i.getLineMinColumn(r)&&r++,Math.max(r,n.endLineNumber-t+1)}static _moveLeft(i,n,t,r){return n.map(d=>f.CursorState.fromViewState(N.MoveOperations.moveLeft(i.cursorConfig,i,d.viewState,t,r)))}static _moveHalfLineLeft(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=Math.round(i.getLineContent(s).length/2);r[d]=f.CursorState.fromViewState(N.MoveOperations.moveLeft(i.cursorConfig,i,a.viewState,t,l))}return r}static _moveRight(i,n,t,r){return n.map(d=>f.CursorState.fromViewState(N.MoveOperations.moveRight(i.cursorConfig,i,d.viewState,t,r)))}static _moveHalfLineRight(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=Math.round(i.getLineContent(s).length/2);r[d]=f.CursorState.fromViewState(N.MoveOperations.moveRight(i.cursorConfig,i,a.viewState,t,l))}return r}static _moveDownByViewLines(i,n,t,r){const d=[];for(let o=0,a=n.length;o<a;o++){const s=n[o];d[o]=f.CursorState.fromViewState(N.MoveOperations.moveDown(i.cursorConfig,i,s.viewState,t,r))}return d}static _moveDownByModelLines(i,n,t,r){const d=[];for(let o=0,a=n.length;o<a;o++){const s=n[o];d[o]=f.CursorState.fromModelState(N.MoveOperations.moveDown(i.cursorConfig,i.model,s.modelState,t,r))}return d}static _moveUpByViewLines(i,n,t,r){const d=[];for(let o=0,a=n.length;o<a;o++){const s=n[o];d[o]=f.CursorState.fromViewState(N.MoveOperations.moveUp(i.cursorConfig,i,s.viewState,t,r))}return d}static _moveUpByModelLines(i,n,t,r){const d=[];for(let o=0,a=n.length;o<a;o++){const s=n[o];d[o]=f.CursorState.fromModelState(N.MoveOperations.moveUp(i.cursorConfig,i.model,s.modelState,t,r))}return d}static _moveToViewPosition(i,n,t,r,d){return f.CursorState.fromViewState(n.viewState.move(t,r,d,0))}static _moveToModelPosition(i,n,t,r,d){return f.CursorState.fromModelState(n.modelState.move(t,r,d,0))}static _moveToViewMinColumn(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=i.getLineMinColumn(s);r[d]=this._moveToViewPosition(i,a,t,s,l)}return r}static _moveToViewFirstNonWhitespaceColumn(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=i.getLineFirstNonWhitespaceColumn(s);r[d]=this._moveToViewPosition(i,a,t,s,l)}return r}static _moveToViewCenterColumn(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=Math.round((i.getLineMaxColumn(s)+i.getLineMinColumn(s))/2);r[d]=this._moveToViewPosition(i,a,t,s,l)}return r}static _moveToViewMaxColumn(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=i.getLineMaxColumn(s);r[d]=this._moveToViewPosition(i,a,t,s,l)}return r}static _moveToViewLastNonWhitespaceColumn(i,n,t){const r=[];for(let d=0,o=n.length;d<o;d++){const a=n[d],s=a.viewState.position.lineNumber,l=i.getLineLastNonWhitespaceColumn(s);r[d]=this._moveToViewPosition(i,a,t,s,l)}return r}}e.CursorMoveCommands=C;var u;(function(h){const i=function(t){if(!y.isObject(t))return!1;const r=t;return!(!y.isString(r.to)||!y.isUndefined(r.select)&&!y.isBoolean(r.select)||!y.isUndefined(r.by)&&!y.isString(r.by)||!y.isUndefined(r.value)&&!y.isNumber(r.value))};h.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:i,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},h.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},h.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function n(t){if(!t.to)return null;let r;switch(t.to){case h.RawDirection.Left:r=0;break;case h.RawDirection.Right:r=1;break;case h.RawDirection.Up:r=2;break;case h.RawDirection.Down:r=3;break;case h.RawDirection.PrevBlankLine:r=4;break;case h.RawDirection.NextBlankLine:r=5;break;case h.RawDirection.WrappedLineStart:r=6;break;case h.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case h.RawDirection.WrappedLineColumnCenter:r=8;break;case h.RawDirection.WrappedLineEnd:r=9;break;case h.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case h.RawDirection.ViewPortTop:r=11;break;case h.RawDirection.ViewPortBottom:r=13;break;case h.RawDirection.ViewPortCenter:r=12;break;case h.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let d=0;switch(t.by){case h.RawUnit.Line:d=1;break;case h.RawUnit.WrappedLine:d=2;break;case h.RawUnit.Character:d=3;break;case h.RawUnit.HalfLine:d=4;break}return{direction:r,unit:d,select:!!t.select,value:t.value||1}}h.parse=n})(u=e.CursorMove||(e.CursorMove={}))}),define(oe[422],se([1,0,62,11,3,24]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class L{constructor(C){this._selTrackedRange=null,this._trackSelection=!0,this._setState(C,new y.SingleCursorState(new N.Range(1,1,1,1),0,new f.Position(1,1),0),new y.SingleCursorState(new N.Range(1,1,1,1),0,new f.Position(1,1),0))}dispose(C){this._removeTrackedRange(C)}startTrackingSelection(C){this._trackSelection=!0,this._updateTrackedRange(C)}stopTrackingSelection(C){this._trackSelection=!1,this._removeTrackedRange(C)}_updateTrackedRange(C){!this._trackSelection||(this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(C){this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new y.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const u=C.model._getTrackedRange(this._selTrackedRange);return D.Selection.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(C){this._setState(C,this.modelState,this.viewState)}setState(C,u,h){this._setState(C,u,h)}static _validatePositionWithCache(C,u,h,i){return u.equals(h)?i:C.normalizePosition(u,2)}static _validateViewState(C,u){const h=u.position,i=u.selectionStart.getStartPosition(),n=u.selectionStart.getEndPosition(),t=C.normalizePosition(h,2),r=this._validatePositionWithCache(C,i,h,t),d=this._validatePositionWithCache(C,n,i,r);return h.equals(t)&&i.equals(r)&&n.equals(d)?u:new y.SingleCursorState(N.Range.fromPositions(r,d),u.selectionStartLeftoverVisibleColumns+i.column-r.column,t,u.leftoverVisibleColumns+h.column-t.column)}_setState(C,u,h){if(h&&(h=L._validateViewState(C.viewModel,h)),u){const i=C.model.validateRange(u.selectionStart),n=u.selectionStart.equalsRange(i)?u.selectionStartLeftoverVisibleColumns:0,t=C.model.validatePosition(u.position),r=u.position.equals(t)?u.leftoverVisibleColumns:0;u=new y.SingleCursorState(i,n,t,r)}else{if(!h)return;const i=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(h.selectionStart)),n=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(h.position));u=new y.SingleCursorState(i,h.selectionStartLeftoverVisibleColumns,n,h.leftoverVisibleColumns)}if(h){const i=C.coordinatesConverter.validateViewRange(h.selectionStart,u.selectionStart),n=C.coordinatesConverter.validateViewPosition(h.position,u.position);h=new y.SingleCursorState(i,u.selectionStartLeftoverVisibleColumns,n,u.leftoverVisibleColumns)}else{const i=C.coordinatesConverter.convertModelPositionToViewPosition(new f.Position(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),n=C.coordinatesConverter.convertModelPositionToViewPosition(new f.Position(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),t=new N.Range(i.lineNumber,i.column,n.lineNumber,n.column),r=C.coordinatesConverter.convertModelPositionToViewPosition(u.position);h=new y.SingleCursorState(t,u.selectionStartLeftoverVisibleColumns,r,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=h,this._updateTrackedRange(C)}}e.Cursor=L}),define(oe[423],se([1,0,18,62,422,11,3,24]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class C{constructor(h){this.context=h,this.cursors=[new N.Cursor(h)],this.lastAddedCursorIndex=0}dispose(){for(const h of this.cursors)h.dispose(this.context)}startTrackingSelections(){for(const h of this.cursors)h.startTrackingSelection(this.context)}stopTrackingSelections(){for(const h of this.cursors)h.stopTrackingSelection(this.context)}updateContext(h){this.context=h}ensureValidState(){for(const h of this.cursors)h.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(h=>h.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(h=>h.asCursorState())}getViewPositions(){return this.cursors.map(h=>h.viewState.position)}getTopMostViewPosition(){return(0,y.findMinBy)(this.cursors,(0,y.compareBy)(h=>h.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,y.findLastMaxBy)(this.cursors,(0,y.compareBy)(h=>h.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(h=>h.modelState.selection)}getViewSelections(){return this.cursors.map(h=>h.viewState.selection)}setSelections(h){this.setStates(f.CursorState.fromModelSelections(h))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(h){h!==null&&(this.cursors[0].setState(this.context,h[0].modelState,h[0].viewState),this._setSecondaryStates(h.slice(1)))}_setSecondaryStates(h){const i=this.cursors.length-1,n=h.length;if(i<n){const t=n-i;for(let r=0;r<t;r++)this._addSecondaryCursor()}else if(i>n){const t=i-n;for(let r=0;r<t;r++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<n;t++)this.cursors[t+1].setState(this.context,h[t].modelState,h[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(h){this.lastAddedCursorIndex>=h+1&&this.lastAddedCursorIndex--,this.cursors[h+1].dispose(this.context),this.cursors.splice(h+1,1)}normalize(){if(this.cursors.length===1)return;const h=this.cursors.slice(0),i=[];for(let n=0,t=h.length;n<t;n++)i.push({index:n,selection:h[n].modelState.selection});i.sort((0,y.compareBy)(n=>n.selection,L.Range.compareRangesUsingStarts));for(let n=0;n<i.length-1;n++){const t=i[n],r=i[n+1],d=t.selection,o=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(o.isEmpty()||d.isEmpty()?a=o.getStartPosition().isBeforeOrEqual(d.getEndPosition()):a=o.getStartPosition().isBefore(d.getEndPosition()),a){const s=t.index<r.index?n:n+1,l=t.index<r.index?n+1:n,c=i[l].index,g=i[s].index,m=i[l].selection,S=i[s].selection;if(!m.equalsSelection(S)){const p=m.plusRange(S),v=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,_=S.selectionStartLineNumber===S.startLineNumber&&S.selectionStartColumn===S.startColumn;let w;c===this.lastAddedCursorIndex?(w=v,this.lastAddedCursorIndex=g):w=_;let E;w?E=new b.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):E=new b.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),i[s].selection=E;const I=f.CursorState.fromModelSelection(E);h[g].setState(this.context,I.modelState,I.viewState)}for(const p of i)p.index>c&&p.index--;h.splice(c,1),i.splice(l,1),this._removeSecondaryCursor(c-1),n--}}}}e.CursorCollection=C}),define(oe[424],se([1,0,94]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class f{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(L=>new y.StandardAutoClosingPairConditional(L)):D.brackets?this._autoClosingPairs=D.brackets.map(L=>new y.StandardAutoClosingPairConditional({open:L[0],close:L[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const L=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.StandardAutoClosingPairConditional({open:L.open,close:L.close||""}))}this._autoCloseBefore=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:f.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=f,f.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(oe[425],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function y(N){return N.global&&(N.lastIndex=0),!0}class f{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let L=0;return this.shouldIncrease(D)&&(L+=1),this.shouldDecrease(D)&&(L+=2),this.shouldIndentNextLine(D)&&(L+=4),this.shouldIgnore(D)&&(L+=8),L}}e.IndentRulesSupport=f}),define(oe[426],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(N,D,L,b,C){if(N&&D){const u=this.doNavigateValueSet(D,C);if(u)return{range:N,value:u}}if(L&&b){const u=this.doNavigateValueSet(b,C);if(u)return{range:L,value:u}}return null}doNavigateValueSet(N,D){const L=this.numberReplace(N,D);return L!==null?L:this.textReplace(N,D)}numberReplace(N,D){const L=Math.pow(10,N.length-(N.lastIndexOf(".")+1));let b=Number(N),C=parseFloat(N);return!isNaN(b)&&!isNaN(C)&&b===C?b===0&&!D?null:(b=Math.floor(b*L),b+=D?L:-L,String(b/L)):null}textReplace(N,D){return this.valueSetsReplace(this._defaultValueSet,N,D)}valueSetsReplace(N,D,L){let b=null;for(let C=0,u=N.length;b===null&&C<u;C++)b=this.valueSetReplace(N[C],D,L);return b}valueSetReplace(N,D,L){let b=N.indexOf(D);return b>=0?(b+=L?1:-1,b<0?b=N.length-1:b%=N.length,N[b]):null}}e.BasicInplaceReplace=y,y.INSTANCE=new y}),define(oe[427],se([1,0,218,13]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class N{constructor(h,i){this.languageId=h;let n;i.colorizedBracketPairs?n=D(i.colorizedBracketPairs.map(d=>[d[0],d[1]])):i.brackets?n=D(i.brackets.map(d=>[d[0],d[1]]).filter(d=>!(d[0]==="<"&&d[1]===">"))):n=[];const t=new y.CachedFunction(d=>{const o=new Set;return{info:new b(this,d,o),closing:o}}),r=new y.CachedFunction(d=>{const o=new Set;return{info:new C(this,d,o),opening:o}});for(const[d,o]of n){const a=t.get(d),s=r.get(o);a.closing.add(s.info),s.opening.add(a.info)}this._openingBrackets=new Map([...t.cachedValues].map(([d,o])=>[d,o.info])),this._closingBrackets=new Map([...r.cachedValues].map(([d,o])=>[d,o.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(h){return this._openingBrackets.get(h)}getClosingBracketInfo(h){return this._closingBrackets.get(h)}getBracketInfo(h){return this.getOpeningBracketInfo(h)||this.getClosingBracketInfo(h)}}e.LanguageBracketsConfiguration=N;function D(u){return u.filter(([h,i])=>h!==""&&i!=="")}class L{constructor(h,i){this.config=h,this.bracketText=i}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class b extends L{constructor(h,i,n){super(h,i);this.openedBrackets=n,this.isOpeningBracket=!0}}e.OpeningBracketKind=b;class C extends L{constructor(h,i,n){super(h,i);this.closedBrackets=n,this.isOpeningBracket=!1}closes(h){if(h.languageId===this.languageId&&h.config!==this.config)throw new f.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(h)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=C}),define(oe[428],se([1,0,13,8,94]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(b){b=b||{},b.brackets=b.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],b.brackets.forEach(C=>{const u=D._createOpenBracketRegExp(C[0]),h=D._createCloseBracketRegExp(C[1]);u&&h&&this._brackets.push({open:C[0],openRegExp:u,close:C[1],closeRegExp:h})}),this._regExpRules=b.onEnterRules||[]}onEnter(b,C,u,h){if(b>=3)for(let i=0,n=this._regExpRules.length;i<n;i++){const t=this._regExpRules[i];if([{reg:t.beforeText,text:u},{reg:t.afterText,text:h},{reg:t.previousLineText,text:C}].every(d=>d.reg?(d.reg.lastIndex=0,d.reg.test(d.text)):!0))return t.action}if(b>=2&&u.length>0&&h.length>0)for(let i=0,n=this._brackets.length;i<n;i++){const t=this._brackets[i];if(t.openRegExp.test(u)&&t.closeRegExp.test(h))return{indentAction:N.IndentAction.IndentOutdent}}if(b>=2&&u.length>0){for(let i=0,n=this._brackets.length;i<n;i++)if(this._brackets[i].openRegExp.test(u))return{indentAction:N.IndentAction.Indent}}return null}static _createOpenBracketRegExp(b){let C=f.escapeRegExpCharacters(b);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",D._safeRegExp(C)}static _createCloseBracketRegExp(b){let C=f.escapeRegExpCharacters(b);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,D._safeRegExp(C)}static _safeRegExp(b){try{return new RegExp(b)}catch(C){return(0,y.onUnexpectedError)(C),null}}}e.OnEnterSupport=D}),define(oe[185],se([1,0,8,93,3]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(c,g,m,S,p,v){this._richEditBracketBrand=void 0,this.languageId=c,this.index=g,this.open=m,this.close=S,this.forwardRegex=p,this.reversedRegex=v,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(c){return this._openSet.has(c)}isClose(c){return this._closeSet.has(c)}static _toSet(c){const g=new Set;for(const m of c)g.add(m);return g}}e.RichEditBracket=D;function L(l){const c=l.length;l=l.map(v=>[v[0].toLowerCase(),v[1].toLowerCase()]);const g=[];for(let v=0;v<c;v++)g[v]=v;const m=(v,_)=>{const[w,E]=v,[I,T]=_;return w===I||w===T||E===I||E===T},S=(v,_)=>{const w=Math.min(v,_),E=Math.max(v,_);for(let I=0;I<c;I++)g[I]===E&&(g[I]=w)};for(let v=0;v<c;v++){const _=l[v];for(let w=v+1;w<c;w++){const E=l[w];m(_,E)&&S(g[v],g[w])}}const p=[];for(let v=0;v<c;v++){const _=[],w=[];for(let E=0;E<c;E++)if(g[E]===v){const[I,T]=l[E];_.push(I),w.push(T)}_.length>0&&p.push({open:_,close:w})}return p}class b{constructor(c,g){this._richEditBracketsBrand=void 0;const m=L(g);this.brackets=m.map((S,p)=>new D(c,p,S.open,S.close,i(S.open,S.close,m,p),n(S.open,S.close,m,p))),this.forwardRegex=t(this.brackets),this.reversedRegex=r(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const S of this.brackets){for(const p of S.open)this.textIsBracket[p]=S,this.textIsOpenBracket[p]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,p.length);for(const p of S.close)this.textIsBracket[p]=S,this.textIsOpenBracket[p]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,p.length)}}}e.RichEditBrackets=b;function C(l,c,g,m){for(let S=0,p=c.length;S<p;S++){if(S===g)continue;const v=c[S];for(const _ of v.open)_.indexOf(l)>=0&&m.push(_);for(const _ of v.close)_.indexOf(l)>=0&&m.push(_)}}function u(l,c){return l.length-c.length}function h(l){if(l.length<=1)return l;const c=[],g=new Set;for(const m of l)g.has(m)||(c.push(m),g.add(m));return c}function i(l,c,g,m){let S=[];S=S.concat(l),S=S.concat(c);for(let p=0,v=S.length;p<v;p++)C(S[p],g,m,S);return S=h(S),S.sort(u),S.reverse(),o(S)}function n(l,c,g,m){let S=[];S=S.concat(l),S=S.concat(c);for(let p=0,v=S.length;p<v;p++)C(S[p],g,m,S);return S=h(S),S.sort(u),S.reverse(),o(S.map(a))}function t(l){let c=[];for(const g of l){for(const m of g.open)c.push(m);for(const m of g.close)c.push(m)}return c=h(c),o(c)}function r(l){let c=[];for(const g of l){for(const m of g.open)c.push(m);for(const m of g.close)c.push(m)}return c=h(c),o(c.map(a))}function d(l){const c=/^[\w ]+$/.test(l);return l=y.escapeRegExpCharacters(l),c?`\\b${l}\\b`:l}function o(l){const c=`(${l.map(d).join(")|(")})`;return y.createRegExp(c,!0)}const a=function(){function l(m){if(f.hasTextDecoder){const S=new Uint16Array(m.length);let p=0;for(let v=m.length-1;v>=0;v--)S[p++]=m.charCodeAt(v);return f.getPlatformTextDecoder().decode(S)}else{const S=[];let p=0;for(let v=m.length-1;v>=0;v--)S[p++]=m.charAt(v);return S.join("")}}let c=null,g=null;return function(S){return c!==S&&(c=S,g=l(c)),g}}();class s{static _findPrevBracketInText(c,g,m,S){const p=m.match(c);if(!p)return null;const v=m.length-(p.index||0),_=p[0].length,w=S+v;return new N.Range(g,w-_+1,g,w+1)}static findPrevBracketInRange(c,g,m,S,p){const _=a(m).substring(m.length-p,m.length-S);return this._findPrevBracketInText(c,g,_,S)}static findNextBracketInText(c,g,m,S){const p=m.match(c);if(!p)return null;const v=p.index||0,_=p[0].length;if(_===0)return null;const w=S+v;return new N.Range(g,w+1,g,w+1+_)}static findNextBracketInRange(c,g,m,S,p){const v=m.substring(S,p);return this.findNextBracketInText(c,g,v,S)}}e.BracketsUtils=s}),define(oe[429],se([1,0,18,104,185]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(b){this._richEditBrackets=b}getElectricCharacters(){const b=[];if(this._richEditBrackets)for(const C of this._richEditBrackets.brackets)for(const u of C.close){const h=u.charAt(u.length-1);b.push(h)}return(0,y.distinct)(b)}onElectricCharacter(b,C,u){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const h=C.findTokenIndexAtOffset(u-1);if((0,f.ignoreBracketsInToken)(C.getStandardTokenType(h)))return null;const i=this._richEditBrackets.reversedRegex,n=C.getLineContent().substring(0,u-1)+b,t=N.BracketsUtils.findPrevBracketInRange(i,1,n,0,n.length);if(!t)return null;const r=n.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[r])return null;const o=C.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(o)?{matchOpenBracket:r}:null}}e.BracketElectricCharacterSupport=D}),define(oe[430],se([1,0,30]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class f{constructor(o,a,s,l,c){this._parsedThemeRuleBrand=void 0,this.token=o,this.index=a,this.fontStyle=s,this.foreground=l,this.background=c}}e.ParsedTokenThemeRule=f;function N(d){if(!d||!Array.isArray(d))return[];const o=[];let a=0;for(let s=0,l=d.length;s<l;s++){const c=d[s];let g=-1;if(typeof c.fontStyle=="string"){g=0;const p=c.fontStyle.split(" ");for(let v=0,_=p.length;v<_;v++)switch(p[v]){case"italic":g=g|1;break;case"bold":g=g|2;break;case"underline":g=g|4;break;case"strikethrough":g=g|8;break}}let m=null;typeof c.foreground=="string"&&(m=c.foreground);let S=null;typeof c.background=="string"&&(S=c.background),o[a++]=new f(c.token||"",s,g,m,S)}return o}e.parseTokenTheme=N;function D(d,o){d.sort((v,_)=>{const w=i(v.token,_.token);return w!==0?w:v.index-_.index});let a=0,s="000000",l="ffffff";for(;d.length>=1&&d[0].token==="";){const v=d.shift();v.fontStyle!==-1&&(a=v.fontStyle),v.foreground!==null&&(s=v.foreground),v.background!==null&&(l=v.background)}const c=new b;for(let v of o)c.getId(v);const g=c.getId(s),m=c.getId(l),S=new n(a,g,m),p=new t(S);for(let v=0,_=d.length;v<_;v++){const w=d[v];p.insert(w.token,w.fontStyle,c.getId(w.foreground),c.getId(w.background))}return new C(c,p)}const L=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(o){if(o===null)return 0;const a=o.match(L);if(!a)throw new Error("Illegal value for token color: "+o);o=a[1].toUpperCase();let s=this._color2id.get(o);return s||(s=++this._lastColorId,this._color2id.set(o,s),this._id2color[s]=y.Color.fromHex("#"+o),s)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=b;class C{constructor(o,a){this._colorMap=o,this._root=a,this._cache=new Map}static createFromRawTokenTheme(o,a){return this.createFromParsedTokenTheme(N(o),a)}static createFromParsedTokenTheme(o,a){return D(o,a)}getColorMap(){return this._colorMap.getColorMap()}_match(o){return this._root.match(o)}match(o,a){let s=this._cache.get(a);if(typeof s=="undefined"){const l=this._match(a),c=h(a);s=(l.metadata|c<<8)>>>0,this._cache.set(a,s)}return(s|o<<0)>>>0}}e.TokenTheme=C;const u=/\b(comment|string|regex|regexp)\b/;function h(d){const o=d.match(u);if(!o)return 0;switch(o[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=h;function i(d,o){return d<o?-1:d>o?1:0}e.strcmp=i;class n{constructor(o,a,s){this._themeTrieElementRuleBrand=void 0,this._fontStyle=o,this._foreground=a,this._background=s,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new n(this._fontStyle,this._foreground,this._background)}acceptOverwrite(o,a,s){o!==-1&&(this._fontStyle=o),a!==0&&(this._foreground=a),s!==0&&(this._background=s),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=n;class t{constructor(o){this._themeTrieElementBrand=void 0,this._mainRule=o,this._children=new Map}match(o){if(o==="")return this._mainRule;const a=o.indexOf(".");let s,l;a===-1?(s=o,l=""):(s=o.substring(0,a),l=o.substring(a+1));const c=this._children.get(s);return typeof c!="undefined"?c.match(l):this._mainRule}insert(o,a,s,l){if(o===""){this._mainRule.acceptOverwrite(a,s,l);return}const c=o.indexOf(".");let g,m;c===-1?(g=o,m=""):(g=o.substring(0,c),m=o.substring(c+1));let S=this._children.get(g);typeof S=="undefined"&&(S=new t(this._mainRule.clone()),this._children.set(g,S)),S.insert(m,a,s,l)}}e.ThemeTrieElement=t;function r(d){const o=[];for(let a=1,s=d.length;a<s;a++){const l=d[a];o[a]=`.mtk${a} { color: ${l}; }`}return o.push(".mtki { font-style: italic; }"),o.push(".mtkb { font-weight: bold; }"),o.push(".mtku { text-decoration: underline; text-underline-position: under; }"),o.push(".mtks { text-decoration: line-through; }"),o.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),o.join(`
`)}e.generateTokensCSSForColorMap=r}),define(oe[46],se([1,0,39]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var f;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(f=e.OverviewRulerLane||(e.OverviewRulerLane={}));var N;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(N=e.MinimapPosition||(e.MinimapPosition={}));var D;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(D=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class L{constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),this.indentSize=t.tabSize|0,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,y.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=L;class b{constructor(t,r){this._findMatchBrand=void 0,this.range=t,this.matches=r}}e.FindMatch=b;class C{constructor(t,r,d,o,a,s){this.identifier=t,this.range=r,this.text=d,this.forceMoveMarkers=o,this.isAutoWhitespaceEdit=a,this._isTracked=s}}e.ValidAnnotatedEditOperation=C;class u{constructor(t,r,d){this.regex=t,this.wordSeparators=r,this.simpleSearch=d}}e.SearchData=u;class h{constructor(t,r,d){this.reverseEdits=t,this.changes=r,this.trimAutoWhitespaceLineNumbers=d}}e.ApplyEditsResult=h;function i(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(oe[431],se([1,0,4,2,46,419]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function L(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(L):!!u.exclusive}class b{constructor(h,i,n,t){this.uri=h,this.languageId=i,this.notebookUri=n,this.notebookType=t}equals(h){var i,n;return this.notebookType===h.notebookType&&this.languageId===h.languageId&&this.uri.toString()===h.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((n=h.notebookUri)===null||n===void 0?void 0:n.toString())}}class C{constructor(h){this._notebookInfoResolver=h,this._clock=0,this._entries=[],this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}register(h,i){let n={selector:h,provider:i,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,f.toDisposable)(()=>{if(n){const t=this._entries.indexOf(n);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(h){return this.all(h).length>0}all(h){if(!h)return[];this._updateScores(h);const i=[];for(let n of this._entries)n._score>0&&i.push(n.provider);return i}ordered(h){const i=[];return this._orderedForEach(h,n=>i.push(n.provider)),i}orderedGroups(h){const i=[];let n,t;return this._orderedForEach(h,r=>{n&&t===r._score?n.push(r.provider):(t=r._score,n=[r.provider],i.push(n))}),i}_orderedForEach(h,i){this._updateScores(h);for(const n of this._entries)n._score>0&&i(n)}_updateScores(h){var i,n;const t=(i=this._notebookInfoResolver)===null||i===void 0?void 0:i.call(this,h.uri),r=t?new b(h.uri,h.getLanguageId(),t.uri,t.type):new b(h.uri,h.getLanguageId(),void 0,void 0);if(!((n=this._lastCandidate)===null||n===void 0?void 0:n.equals(r))){this._lastCandidate=r;for(let d of this._entries)if(d._score=(0,D.score)(d.selector,r.uri,r.languageId,(0,N.shouldSynchronizeModel)(h),r.notebookUri,r.notebookType),L(d.selector)&&d._score>0){for(let o of this._entries)o._score=0;d._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(h,i){return h._score<i._score?1:h._score>i._score?-1:h._time<i._time?1:h._time>i._time?-1:0}}e.LanguageFeatureRegistry=C}),define(oe[86],se([1,0,8,3]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class N{constructor(g,m){this.lineCount=g,this.columnCount=m}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=N,N.zero=new N(0,0);function D(c,g,m,S){return c!==m?C(m-c,S):C(0,S-g)}e.lengthDiff=D,e.lengthZero=0;function L(c){return c===0}e.lengthIsZero=L;const b=Math.pow(2,26);function C(c,g){return c*b+g}e.toLength=C;function u(c){const g=c,m=Math.floor(g/b),S=g-m*b;return new N(m,S)}e.lengthToObj=u;function h(c){return Math.floor(c/b)}e.lengthGetLineCount=h;function i(c){return c}e.lengthGetColumnCountIfZeroLineCount=i;function n(c,g){return g<b?c+g:c-c%b+g}e.lengthAdd=n;function t(c,g){const m=c,S=g;if(S-m<=0)return e.lengthZero;const v=Math.floor(m/b),_=Math.floor(S/b),w=S-_*b;if(v===_){const E=m-v*b;return C(0,w-E)}else return C(_-v,w)}e.lengthDiffNonNegative=t;function r(c,g){return c<g}e.lengthLessThan=r;function d(c,g){return c<=g}e.lengthLessThanEqual=d;function o(c,g){return c>=g}e.lengthGreaterThanEqual=o;function a(c){return C(c.lineNumber-1,c.column-1)}e.positionToLength=a;function s(c,g){const m=c,S=Math.floor(m/b),p=m-S*b,v=g,_=Math.floor(v/b),w=v-_*b;return new f.Range(S+1,p+1,_+1,w+1)}e.lengthsToRange=s;function l(c){const g=(0,y.splitLines)(c);return C(g.length-1,g[g.length-1].length)}e.lengthOfString=l}),define(oe[245],se([1,0,86]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class f{constructor(b,C,u){this.startOffset=b,this.endOffset=C,this.newLength=u}}e.TextEditInfo=f;class N{constructor(b,C){this.documentLength=C,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(u=>D.from(u))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const C=this.edits[this.nextEditIdx],u=C?this.translateOldToCur(C.offsetObj):this.documentLength;return(0,y.lengthDiffNonNegative)(b,u)}translateOldToCur(b){return b.lineCount===this.deltaLineIdxInOld?(0,y.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount+this.deltaOldToNewColumnCount):(0,y.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount)}translateCurToOld(b){const C=(0,y.lengthToObj)(b);return C.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,y.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount-this.deltaOldToNewColumnCount):(0,y.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const C=this.edits[this.nextEditIdx],u=this.translateOldToCur(C.endOffsetAfterObj);if((0,y.lengthLessThanEqual)(u,b)){this.nextEditIdx++;const h=(0,y.lengthToObj)(u),i=(0,y.lengthToObj)(this.translateOldToCur(C.endOffsetBeforeObj)),n=h.lineCount-i.lineCount;this.deltaOldToNewLineCount+=n;const t=this.deltaLineIdxInOld===C.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=h.columnCount-i.columnCount;this.deltaOldToNewColumnCount=t+r,this.deltaLineIdxInOld=C.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=N;class D{constructor(b,C,u){this.endOffsetBeforeObj=(0,y.lengthToObj)(C),this.endOffsetAfterObj=(0,y.lengthToObj)((0,y.lengthAdd)(b,u)),this.offsetObj=(0,y.lengthToObj)(b)}static from(b){return new D(b.startOffset,b.endOffset,b.newLength)}}}),define(oe[432],se([1,0,86]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class f{constructor(b){this.lastOffset=y.lengthZero,this.nextNodes=[b],this.offsets=[y.lengthZero],this.idxs=[]}readLongestNodeAt(b,C){if((0,y.lengthLessThan)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const u=D(this.nextNodes);if(!u)return;const h=D(this.offsets);if((0,y.lengthLessThan)(b,h))return;if((0,y.lengthLessThan)(h,b))if((0,y.lengthAdd)(h,u.length)<=b)this.nextNodeAfterCurrent();else{const i=N(u);i!==-1?(this.nextNodes.push(u.getChild(i)),this.offsets.push(h),this.idxs.push(i)):this.nextNodeAfterCurrent()}else{if(C(u))return this.nextNodeAfterCurrent(),u;{const i=N(u);if(i===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(u.getChild(i)),this.offsets.push(h),this.idxs.push(i)}}}}nextNodeAfterCurrent(){for(;;){const b=D(this.offsets),C=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const u=D(this.nextNodes),h=N(u,this.idxs[this.idxs.length-1]);if(h!==-1){this.nextNodes.push(u.getChild(h)),this.offsets.push((0,y.lengthAdd)(b,C.length)),this.idxs[this.idxs.length-1]=h;break}else this.idxs.pop()}}}e.NodeReader=f;function N(L,b=-1){for(;;){if(b++,b>=L.childrenLength)return-1;if(L.getChild(b))return b}}function D(L){return L.length>0?L[L.length-1]:void 0}}),define(oe[105],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const y=new Array;class f{constructor(L,b){this.items=L,this.additionalItems=b}static create(L,b){if(L<=128&&b.length===0){let C=f.cache[L];return C||(C=new f(L,b),f.cache[L]=C),C}return new f(L,b)}static getEmpty(){return this.empty}add(L,b){const C=b.getKey(L);let u=C>>5;if(u===0){const i=1<<C|this.items;return i===this.items?this:f.create(i,this.additionalItems)}u--;const h=this.additionalItems.slice(0);for(;h.length<u;)h.push(0);return h[u]|=1<<(C&31),f.create(this.items,h)}merge(L){const b=this.items|L.items;if(this.additionalItems===y&&L.additionalItems===y)return b===this.items?this:b===L.items?L:f.create(b,y);const C=new Array;for(let u=0;u<Math.max(this.additionalItems.length,L.additionalItems.length);u++){const h=this.additionalItems[u]||0,i=L.additionalItems[u]||0;C.push(h|i)}return f.create(b,C)}intersects(L){if((this.items&L.items)!=0)return!0;for(let b=0;b<Math.min(this.additionalItems.length,L.additionalItems.length);b++)if((this.additionalItems[b]&L.additionalItems[b])!=0)return!0;return!1}}e.SmallImmutableSet=f,f.cache=new Array(129),f.empty=f.create(0,y),e.identityKeyProvider={getKey(D){return D}};class N{constructor(){this.items=new Map}getKey(L){let b=this.items.get(L);return b===void 0&&(b=this.items.size,this.items.set(L,b)),b}}e.DenseKeyProvider=N}),define(oe[152],se([1,0,67,86,105]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class D{constructor(s){this._length=s}get length(){return this._length}}class L extends D{constructor(s,l,c,g,m){super(s);this.openingBracket=l,this.child=c,this.closingBracket=g,this.missingOpeningBracketIds=m}static create(s,l,c){let g=s.length;return l&&(g=(0,f.lengthAdd)(g,l.length)),c&&(g=(0,f.lengthAdd)(g,c.length)),new L(g,s,l,c,l?l.missingOpeningBracketIds:N.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(s){switch(s){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const s=new Array;return s.push(this.openingBracket),this.child&&s.push(this.child),this.closingBracket&&s.push(this.closingBracket),s}canBeReused(s){return!(this.closingBracket===null||s.intersects(this.missingOpeningBracketIds))}deepClone(){return new L(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(s,l){return this.child?this.child.computeMinIndentation((0,f.lengthAdd)(s,this.openingBracket.length),l):Number.MAX_SAFE_INTEGER}}e.PairAstNode=L;class b extends D{constructor(s,l,c){super(s);this.listHeight=l,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}static create23(s,l,c,g=!1){let m=s.length,S=s.missingOpeningBracketIds;if(s.listHeight!==l.listHeight)throw new Error("Invalid list heights");if(m=(0,f.lengthAdd)(m,l.length),S=S.merge(l.missingOpeningBracketIds),c){if(s.listHeight!==c.listHeight)throw new Error("Invalid list heights");m=(0,f.lengthAdd)(m,c.length),S=S.merge(c.missingOpeningBracketIds)}return g?new u(m,s.listHeight+1,s,l,c,S):new C(m,s.listHeight+1,s,l,c,S)}static getEmpty(){return new i(f.lengthZero,0,[],N.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const s=this.childrenLength;if(s===0)return;const l=this.getChild(s-1),c=l.kind===4?l.toMutable():l;return l!==c&&this.setChild(s-1,c),c}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const l=this.getChild(0),c=l.kind===4?l.toMutable():l;return l!==c&&this.setChild(0,c),c}canBeReused(s){if(s.intersects(this.missingOpeningBracketIds))return!1;let l=this,c;for(;l.kind===4&&(c=l.childrenLength)>0;)l=l.getChild(c-1);return l.canBeReused(s)}handleChildrenChanged(){this.throwIfImmutable();const s=this.childrenLength;let l=this.getChild(0).length,c=this.getChild(0).missingOpeningBracketIds;for(let g=1;g<s;g++){const m=this.getChild(g);l=(0,f.lengthAdd)(l,m.length),c=c.merge(m.missingOpeningBracketIds)}this._length=l,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}computeMinIndentation(s,l){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let c=Number.MAX_SAFE_INTEGER,g=s;for(let m=0;m<this.childrenLength;m++){const S=this.getChild(m);S&&(c=Math.min(c,S.computeMinIndentation(g,l)),g=(0,f.lengthAdd)(g,S.length))}return this.cachedMinIndentation=c,c}}e.ListAstNode=b;class C extends b{constructor(s,l,c,g,m,S){super(s,l,S);this._item1=c,this._item2=g,this._item3=m}get childrenLength(){return this._item3!==null?3:2}getChild(s){switch(s){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(s,l){switch(s){case 0:this._item1=l;return;case 1:this._item2=l;return;case 2:this._item3=l;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new C(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(s){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=s,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const s=this._item3;return this._item3=null,this.handleChildrenChanged(),s}prependChildOfSameHeight(s){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=s,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const s=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),s}toMutable(){return this}}class u extends C{toMutable(){return new C(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class h extends b{constructor(s,l,c,g){super(s,l,g);this._children=c}get childrenLength(){return this._children.length}getChild(s){return this._children[s]}setChild(s,l){this._children[s]=l}get children(){return this._children}deepClone(){const s=new Array(this._children.length);for(let l=0;l<this._children.length;l++)s[l]=this._children[l].deepClone();return new h(this.length,this.listHeight,s,this.missingOpeningBracketIds)}appendChildOfSameHeight(s){this.throwIfImmutable(),this._children.push(s),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const s=this._children.pop();return this.handleChildrenChanged(),s}prependChildOfSameHeight(s){this.throwIfImmutable(),this._children.unshift(s),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const s=this._children.shift();return this.handleChildrenChanged(),s}toMutable(){return this}}class i extends h{toMutable(){return new h(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const n=[];class t extends D{get listHeight(){return 0}get childrenLength(){return 0}getChild(s){return null}get children(){return n}deepClone(){return this}}class r extends t{get kind(){return 0}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}canBeReused(s){return!0}computeMinIndentation(s,l){const c=(0,f.lengthToObj)(s),g=(c.columnCount===0?c.lineCount:c.lineCount+1)+1,m=(0,f.lengthGetLineCount)((0,f.lengthAdd)(s,this.length))+1;let S=Number.MAX_SAFE_INTEGER;for(let p=g;p<=m;p++){const v=l.getLineFirstNonWhitespaceColumn(p),_=l.getLineContent(p);if(v===0)continue;const w=y.CursorColumns.visibleColumnFromColumn(_,v,l.getOptions().tabSize);S=Math.min(S,w)}return S}}e.TextAstNode=r;class d extends t{constructor(s,l,c){super(s);this.bracketInfo=l,this.bracketIds=c}static create(s,l,c){return new d(s,l,c)}get kind(){return 1}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(s){return!1}computeMinIndentation(s,l){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=d;class o extends t{constructor(s,l){super(l);this.missingOpeningBracketIds=s}get kind(){return 3}canBeReused(s){return!s.intersects(this.missingOpeningBracketIds)}computeMinIndentation(s,l){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=o}),define(oe[433],se([1,0,152]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function f(u){if(u.length===0)return null;if(u.length===1)return u[0];let h=0;function i(){if(h>=u.length)return null;const d=h,o=u[d].listHeight;for(h++;h<u.length&&u[h].listHeight===o;)h++;return h-d>=2?N(d===0&&h===u.length?u:u.slice(d,h),!1):u[d]}let n=i(),t=i();if(!t)return n;for(let d=i();d;d=i())D(n,t)<=D(t,d)?(n=L(n,t),t=d):t=L(t,d);return L(n,t)}e.concat23Trees=f;function N(u,h=!1){if(u.length===0)return null;if(u.length===1)return u[0];let i=u.length;for(;i>3;){const n=i>>1;for(let t=0;t<n;t++){const r=t<<1;u[t]=y.ListAstNode.create23(u[r],u[r+1],r+3===i?u[r+2]:null,h)}i=n}return y.ListAstNode.create23(u[0],u[1],i>=3?u[2]:null,h)}e.concat23TreesOfSameHeight=N;function D(u,h){return Math.abs(u.listHeight-h.listHeight)}function L(u,h){return u.listHeight===h.listHeight?y.ListAstNode.create23(u,h,null,!1):u.listHeight>h.listHeight?b(u,h):C(h,u)}function b(u,h){u=u.toMutable();let i=u;const n=new Array;let t;for(;;){if(h.listHeight===i.listHeight){t=h;break}if(i.kind!==4)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let r=n.length-1;r>=0;r--){const d=n[r];t?d.childrenLength>=3?t=y.ListAstNode.create23(d.unappendChild(),t,null,!1):(d.appendChildOfSameHeight(t),t=void 0):d.handleChildrenChanged()}return t?y.ListAstNode.create23(u,t,null,!1):u}function C(u,h){u=u.toMutable();let i=u;const n=new Array;for(;h.listHeight!==i.listHeight;){if(i.kind!==4)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let t=h;for(let r=n.length-1;r>=0;r--){const d=n[r];t?d.childrenLength>=3?t=y.ListAstNode.create23(t,d.unprependChild(),null,!1):(d.prependChildOfSameHeight(t),t=void 0):d.handleChildrenChanged()}return t?y.ListAstNode.create23(t,u,null,!1):u}}),define(oe[246],se([1,0,152,245,105,86,433,432]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function C(h,i,n,t){return new u(h,i,n,t).parseDocument()}e.parseDocument=C;class u{constructor(i,n,t,r){if(this.tokenizer=i,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,t&&r)throw new Error("Not supported");this.oldNodeReader=t?new b.NodeReader(t):void 0,this.positionMapper=new f.BeforeEditPositionMapper(n,i.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let i=this.parseList(N.SmallImmutableSet.getEmpty());return i||(i=y.ListAstNode.getEmpty()),i}parseList(i){const n=new Array;for(;;){const r=this.tokenizer.peek();if(!r||r.kind===2&&r.bracketIds.intersects(i))break;const d=this.parseChild(i);d.kind===4&&d.childrenLength===0||n.push(d)}return this.oldNodeReader?(0,L.concat23Trees)(n):(0,L.concat23TreesOfSameHeight)(n,this.createImmutableLists)}parseChild(i){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,D.lengthIsZero)(t)){const r=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),d=>(0,D.lengthLessThan)(d.length,t)?d.canBeReused(i):!1);if(r)return this._itemsFromCache++,this.tokenizer.skip(r.length),r}}this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new y.InvalidBracketAstNode(n.bracketIds,n.length);case 0:return n.astNode;case 1:{const t=i.merge(n.bracketIds),r=this.parseList(t),d=this.tokenizer.peek();return d&&d.kind===2&&(d.bracketId===n.bracketId||d.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),y.PairAstNode.create(n.astNode,r,d.astNode)):y.PairAstNode.create(n.astNode,r,null)}default:throw new Error("unexpected")}}}}),define(oe[434],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function f(D,L,b,C,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let h;for(h=0;h<L&&h<C;h++){const a=D.charCodeAt(h),s=b.charCodeAt(h);if(a!==s)break}let i=0,n=0;for(let a=h;a<L;a++)D.charCodeAt(a)===32?i++:n++;let t=0,r=0;for(let a=h;a<C;a++)b.charCodeAt(a)===32?t++:r++;if(i>0&&n>0||t>0&&r>0)return;const d=Math.abs(n-r),o=Math.abs(i-t);if(d===0){u.spacesDiff=o,o>0&&0<=t-1&&t-1<D.length&&t<b.length&&b.charCodeAt(t)!==32&&D.charCodeAt(t-1)===32&&D.charCodeAt(D.length-1)===44&&(u.looksLikeAlignment=!0);return}if(o%d==0){u.spacesDiff=o/d;return}}function N(D,L,b){const C=Math.min(D.getLineCount(),1e4);let u=0,h=0,i="",n=0;const t=[2,4,6,8,3,5,7],r=8,d=[0,0,0,0,0,0,0,0,0],o=new y;for(let l=1;l<=C;l++){const c=D.getLineLength(l),g=D.getLineContent(l),m=c<=65536;let S=!1,p=0,v=0,_=0;for(let E=0,I=c;E<I;E++){const T=m?g.charCodeAt(E):D.getLineCharCode(l,E);if(T===9)_++;else if(T===32)v++;else{S=!0,p=E;break}}if(!S||(_>0?u++:v>1&&h++,f(i,n,g,p,o),o.looksLikeAlignment&&!(b&&L===o.spacesDiff)))continue;const w=o.spacesDiff;w<=r&&d[w]++,i=g,n=p}let a=b;u!==h&&(a=u<h);let s=L;if(a){let l=a?0:.1*C;t.forEach(c=>{const g=d[c];g>l&&(l=g,s=c)}),s===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(s=2)}return{insertSpaces:a,tabSize:s}}e.guessIndentation=N}),define(oe[435],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function y(k){return(k.metadata&1)>>>0}e.getNodeColor=y;function f(k,A){k.metadata=k.metadata&254|A<<0}function N(k){return(k.metadata&2)>>>1==1}function D(k,A){k.metadata=k.metadata&253|(A?1:0)<<1}function L(k){return(k.metadata&4)>>>2==1}function b(k,A){k.metadata=k.metadata&251|(A?1:0)<<2}function C(k){return(k.metadata&24)>>>3}function u(k,A){k.metadata=k.metadata&231|A<<3}function h(k){return(k.metadata&32)>>>5==1}function i(k,A){k.metadata=k.metadata&223|(A?1:0)<<5}class n{constructor(A,F,P){this.metadata=0,this.parent=this,this.left=this,this.right=this,f(this,1),this.start=F,this.end=P,this.delta=0,this.maxEnd=P,this.id=A,this.ownerId=0,this.options=null,b(this,!1),u(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=P,this.range=null,D(this,!1)}reset(A,F,P,W){this.start=F,this.end=P,this.maxEnd=P,this.cachedVersionId=A,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=P,this.range=W}setOptions(A){this.options=A;const F=this.options.className;b(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),u(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,F,P){this.cachedVersionId!==P&&(this.range=null),this.cachedVersionId=P,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=n,e.SENTINEL=new n(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,f(e.SENTINEL,0);class t{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,F,P,W,M){return this.root===e.SENTINEL?[]:m(this,A,F,P,W,M)}search(A,F,P){return this.root===e.SENTINEL?[]:g(this,A,F,P)}collectNodesFromOwner(A){return l(this,A)}collectNodesPostOrder(){return c(this)}insert(A){S(this,A),this._normalizeDeltaIfNecessary()}delete(A){v(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,F){const P=A;let W=0;for(;A!==this.root;)A===A.parent.right&&(W+=A.parent.delta),A=A.parent;const M=P.start+W,z=P.end+W;P.setCachedOffsets(M,z,F)}acceptReplace(A,F,P,W){const M=a(this,A,A+F);for(let z=0,Q=M.length;z<Q;z++){const ne=M[z];v(this,ne)}this._normalizeDeltaIfNecessary(),s(this,A,A+F,P),this._normalizeDeltaIfNecessary();for(let z=0,Q=M.length;z<Q;z++){const ne=M[z];ne.start=ne.cachedAbsoluteStart,ne.end=ne.cachedAbsoluteEnd,o(ne,A,A+F,P,W),ne.maxEnd=ne.end,S(this,ne)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,r(this))}}e.IntervalTree=t;function r(k){let A=k.root,F=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!N(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!N(A.right)){F+=A.delta,A=A.right;continue}A.start=F+A.start,A.end=F+A.end,A.delta=0,R(A),D(A,!0),D(A.left,!1),D(A.right,!1),A===A.parent.right&&(F-=A.parent.delta),A=A.parent}D(k.root,!1)}function d(k,A,F,P){return k<F?!0:k>F||P===1?!1:P===2?!0:A}function o(k,A,F,P,W){const M=C(k),z=M===0||M===2,Q=M===1||M===2,ne=F-A,X=P,J=Math.min(ne,X),ie=k.start;let le=!1;const G=k.end;let x=!1;A<=ie&&G<=F&&h(k)&&(k.start=A,le=!0,k.end=A,x=!0);{const j=W?1:ne>0?2:0;!le&&d(ie,z,A,j)&&(le=!0),!x&&d(G,Q,A,j)&&(x=!0)}if(J>0&&!W){const j=ne>X?2:0;!le&&d(ie,z,A+J,j)&&(le=!0),!x&&d(G,Q,A+J,j)&&(x=!0)}{const j=W?1:0;!le&&d(ie,z,F,j)&&(k.start=A+X,le=!0),!x&&d(G,Q,F,j)&&(k.end=A+X,x=!0)}const V=X-ne;le||(k.start=Math.max(0,ie+V)),x||(k.end=Math.max(0,G+V)),k.start>k.end&&(k.end=k.start)}e.nodeAcceptEdit=o;function a(k,A,F){let P=k.root,W=0,M=0,z=0,Q=0;const ne=[];let X=0;for(;P!==e.SENTINEL;){if(N(P)){D(P.left,!1),D(P.right,!1),P===P.parent.right&&(W-=P.parent.delta),P=P.parent;continue}if(!N(P.left)){if(M=W+P.maxEnd,M<A){D(P,!0);continue}if(P.left!==e.SENTINEL){P=P.left;continue}}if(z=W+P.start,z>F){D(P,!0);continue}if(Q=W+P.end,Q>=A&&(P.setCachedOffsets(z,Q,0),ne[X++]=P),D(P,!0),P.right!==e.SENTINEL&&!N(P.right)){W+=P.delta,P=P.right;continue}}return D(k.root,!1),ne}function s(k,A,F,P){let W=k.root,M=0,z=0,Q=0;const ne=P-(F-A);for(;W!==e.SENTINEL;){if(N(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(M-=W.parent.delta),R(W),W=W.parent;continue}if(!N(W.left)){if(z=M+W.maxEnd,z<A){D(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(Q=M+W.start,Q>F){W.start+=ne,W.end+=ne,W.delta+=ne,(W.delta<-1073741824||W.delta>1073741824)&&(k.requestNormalizeDelta=!0),D(W,!0);continue}if(D(W,!0),W.right!==e.SENTINEL&&!N(W.right)){M+=W.delta,W=W.right;continue}}D(k.root,!1)}function l(k,A){let F=k.root;const P=[];let W=0;for(;F!==e.SENTINEL;){if(N(F)){D(F.left,!1),D(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!N(F.left)){F=F.left;continue}if(F.ownerId===A&&(P[W++]=F),D(F,!0),F.right!==e.SENTINEL&&!N(F.right)){F=F.right;continue}}return D(k.root,!1),P}function c(k){let A=k.root;const F=[];let P=0;for(;A!==e.SENTINEL;){if(N(A)){D(A.left,!1),D(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!N(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!N(A.right)){A=A.right;continue}F[P++]=A,D(A,!0)}return D(k.root,!1),F}function g(k,A,F,P){let W=k.root,M=0,z=0,Q=0;const ne=[];let X=0;for(;W!==e.SENTINEL;){if(N(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(M-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!N(W.left)){W=W.left;continue}z=M+W.start,Q=M+W.end,W.setCachedOffsets(z,Q,P);let J=!0;if(A&&W.ownerId&&W.ownerId!==A&&(J=!1),F&&L(W)&&(J=!1),J&&(ne[X++]=W),D(W,!0),W.right!==e.SENTINEL&&!N(W.right)){M+=W.delta,W=W.right;continue}}return D(k.root,!1),ne}function m(k,A,F,P,W,M){let z=k.root,Q=0,ne=0,X=0,J=0;const ie=[];let le=0;for(;z!==e.SENTINEL;){if(N(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(Q-=z.parent.delta),z=z.parent;continue}if(!N(z.left)){if(ne=Q+z.maxEnd,ne<A){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(X=Q+z.start,X>F){D(z,!0);continue}if(J=Q+z.end,J>=A){z.setCachedOffsets(X,J,M);let G=!0;P&&z.ownerId&&z.ownerId!==P&&(G=!1),W&&L(z)&&(G=!1),G&&(ie[le++]=z)}if(D(z,!0),z.right!==e.SENTINEL&&!N(z.right)){Q+=z.delta,z=z.right;continue}}return D(k.root,!1),ie}function S(k,A){if(k.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,f(A,0),k.root=A,k.root;p(k,A),B(A.parent);let F=A;for(;F!==k.root&&y(F.parent)===1;)if(F.parent===F.parent.parent.left){const P=F.parent.parent.right;y(P)===1?(f(F.parent,0),f(P,0),f(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,E(k,F)),f(F.parent,0),f(F.parent.parent,1),I(k,F.parent.parent))}else{const P=F.parent.parent.left;y(P)===1?(f(F.parent,0),f(P,0),f(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,I(k,F)),f(F.parent,0),f(F.parent.parent,1),E(k,F.parent.parent))}return f(k.root,0),A}function p(k,A){let F=0,P=k.root;const W=A.start,M=A.end;for(;;)if(O(W,M,P.start+F,P.end+F)<0)if(P.left===e.SENTINEL){A.start-=F,A.end-=F,A.maxEnd-=F,P.left=A;break}else P=P.left;else if(P.right===e.SENTINEL){A.start-=F+P.delta,A.end-=F+P.delta,A.maxEnd-=F+P.delta,P.right=A;break}else F+=P.delta,P=P.right;A.parent=P,A.left=e.SENTINEL,A.right=e.SENTINEL,f(A,1)}function v(k,A){let F,P;if(A.left===e.SENTINEL?(F=A.right,P=A,F.delta+=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(k.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta):A.right===e.SENTINEL?(F=A.left,P=A):(P=_(A.right),F=P.right,F.start+=P.delta,F.end+=P.delta,F.delta+=P.delta,(F.delta<-1073741824||F.delta>1073741824)&&(k.requestNormalizeDelta=!0),P.start+=A.delta,P.end+=A.delta,P.delta=A.delta,(P.delta<-1073741824||P.delta>1073741824)&&(k.requestNormalizeDelta=!0)),P===k.root){k.root=F,f(F,0),A.detach(),w(),R(F),k.root.parent=e.SENTINEL;return}const W=y(P)===1;if(P===P.parent.left?P.parent.left=F:P.parent.right=F,P===A?F.parent=P.parent:(P.parent===A?F.parent=P:F.parent=P.parent,P.left=A.left,P.right=A.right,P.parent=A.parent,f(P,y(A)),A===k.root?k.root=P:A===A.parent.left?A.parent.left=P:A.parent.right=P,P.left!==e.SENTINEL&&(P.left.parent=P),P.right!==e.SENTINEL&&(P.right.parent=P)),A.detach(),W){B(F.parent),P!==A&&(B(P),B(P.parent)),w();return}B(F),B(F.parent),P!==A&&(B(P),B(P.parent));let M;for(;F!==k.root&&y(F)===0;)F===F.parent.left?(M=F.parent.right,y(M)===1&&(f(M,0),f(F.parent,1),E(k,F.parent),M=F.parent.right),y(M.left)===0&&y(M.right)===0?(f(M,1),F=F.parent):(y(M.right)===0&&(f(M.left,0),f(M,1),I(k,M),M=F.parent.right),f(M,y(F.parent)),f(F.parent,0),f(M.right,0),E(k,F.parent),F=k.root)):(M=F.parent.left,y(M)===1&&(f(M,0),f(F.parent,1),I(k,F.parent),M=F.parent.left),y(M.left)===0&&y(M.right)===0?(f(M,1),F=F.parent):(y(M.left)===0&&(f(M.right,0),f(M,1),E(k,M),M=F.parent.left),f(M,y(F.parent)),f(F.parent,0),f(M.left,0),I(k,F.parent),F=k.root));f(F,0),w()}function _(k){for(;k.left!==e.SENTINEL;)k=k.left;return k}function w(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(k,A){const F=A.right;F.delta+=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(k.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta,A.right=F.left,F.left!==e.SENTINEL&&(F.left.parent=A),F.parent=A.parent,A.parent===e.SENTINEL?k.root=F:A===A.parent.left?A.parent.left=F:A.parent.right=F,F.left=A,A.parent=F,R(A),R(F)}function I(k,A){const F=A.left;A.delta-=F.delta,(A.delta<-1073741824||A.delta>1073741824)&&(k.requestNormalizeDelta=!0),A.start-=F.delta,A.end-=F.delta,A.left=F.right,F.right!==e.SENTINEL&&(F.right.parent=A),F.parent=A.parent,A.parent===e.SENTINEL?k.root=F:A===A.parent.right?A.parent.right=F:A.parent.left=F,F.right=A,A.parent=F,R(A),R(F)}function T(k){let A=k.end;if(k.left!==e.SENTINEL){const F=k.left.maxEnd;F>A&&(A=F)}if(k.right!==e.SENTINEL){const F=k.right.maxEnd+k.delta;F>A&&(A=F)}return A}function R(k){k.maxEnd=T(k)}e.recomputeMaxEnd=R;function B(k){for(;k!==e.SENTINEL;){const A=T(k);if(k.maxEnd===A)return;k.maxEnd=A,k=k.parent}}function O(k,A,F,P){return k===F?A-P:k-F}e.intervalCompare=O}),define(oe[436],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class y{constructor(d,o){this.piece=d,this.color=o,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return f(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return N(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=y,e.SENTINEL=new y(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function f(r){for(;r.left!==e.SENTINEL;)r=r.left;return r}e.leftest=f;function N(r){for(;r.right!==e.SENTINEL;)r=r.right;return r}e.righttest=N;function D(r){return r===e.SENTINEL?0:r.size_left+r.piece.length+D(r.right)}e.calculateSize=D;function L(r){return r===e.SENTINEL?0:r.lf_left+r.piece.lineFeedCnt+L(r.right)}e.calculateLF=L;function b(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=b;function C(r,d){const o=d.right;o.size_left+=d.size_left+(d.piece?d.piece.length:0),o.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=o.left,o.left!==e.SENTINEL&&(o.left.parent=d),o.parent=d.parent,d.parent===e.SENTINEL?r.root=o:d.parent.left===d?d.parent.left=o:d.parent.right=o,o.left=d,d.parent=o}e.leftRotate=C;function u(r,d){const o=d.left;d.left=o.right,o.right!==e.SENTINEL&&(o.right.parent=d),o.parent=d.parent,d.size_left-=o.size_left+(o.piece?o.piece.length:0),d.lf_left-=o.lf_left+(o.piece?o.piece.lineFeedCnt:0),d.parent===e.SENTINEL?r.root=o:d===d.parent.right?d.parent.right=o:d.parent.left=o,o.right=d,d.parent=o}e.rightRotate=u;function h(r,d){let o,a;if(d.left===e.SENTINEL?(a=d,o=a.right):d.right===e.SENTINEL?(a=d,o=a.left):(a=f(d.right),o=a.right),a===r.root){r.root=o,o.color=0,d.detach(),b(),r.root.parent=e.SENTINEL;return}const s=a.color===1;if(a===a.parent.left?a.parent.left=o:a.parent.right=o,a===d?(o.parent=a.parent,t(r,o)):(a.parent===d?o.parent=a:o.parent=a.parent,t(r,o),a.left=d.left,a.right=d.right,a.parent=d.parent,a.color=d.color,d===r.root?r.root=a:d===d.parent.left?d.parent.left=a:d.parent.right=a,a.left!==e.SENTINEL&&(a.left.parent=a),a.right!==e.SENTINEL&&(a.right.parent=a),a.size_left=d.size_left,a.lf_left=d.lf_left,t(r,a)),d.detach(),o.parent.left===o){const c=D(o),g=L(o);if(c!==o.parent.size_left||g!==o.parent.lf_left){const m=c-o.parent.size_left,S=g-o.parent.lf_left;o.parent.size_left=c,o.parent.lf_left=g,n(r,o.parent,m,S)}}if(t(r,o.parent),s){b();return}let l;for(;o!==r.root&&o.color===0;)o===o.parent.left?(l=o.parent.right,l.color===1&&(l.color=0,o.parent.color=1,C(r,o.parent),l=o.parent.right),l.left.color===0&&l.right.color===0?(l.color=1,o=o.parent):(l.right.color===0&&(l.left.color=0,l.color=1,u(r,l),l=o.parent.right),l.color=o.parent.color,o.parent.color=0,l.right.color=0,C(r,o.parent),o=r.root)):(l=o.parent.left,l.color===1&&(l.color=0,o.parent.color=1,u(r,o.parent),l=o.parent.left),l.left.color===0&&l.right.color===0?(l.color=1,o=o.parent):(l.left.color===0&&(l.right.color=0,l.color=1,C(r,l),l=o.parent.left),l.color=o.parent.color,o.parent.color=0,l.left.color=0,u(r,o.parent),o=r.root));o.color=0,b()}e.rbDelete=h;function i(r,d){for(t(r,d);d!==r.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const o=d.parent.parent.right;o.color===1?(d.parent.color=0,o.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,C(r,d)),d.parent.color=0,d.parent.parent.color=1,u(r,d.parent.parent))}else{const o=d.parent.parent.left;o.color===1?(d.parent.color=0,o.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,u(r,d)),d.parent.color=0,d.parent.parent.color=1,C(r,d.parent.parent))}r.root.color=0}e.fixInsert=i;function n(r,d,o,a){for(;d!==r.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=o,d.parent.lf_left+=a),d=d.parent}e.updateTreeMetadata=n;function t(r,d){let o=0,a=0;if(d!==r.root){for(;d!==r.root&&d===d.parent.right;)d=d.parent;if(d!==r.root)for(d=d.parent,o=D(d.left)-d.size_left,a=L(d.left)-d.lf_left,d.size_left+=o,d.lf_left+=a;d!==r.root&&(o!==0||a!==0);)d.parent.left===d&&(d.parent.size_left+=o,d.parent.lf_left+=a),d=d.parent}}e.recomputeTreeMetadata=t}),define(oe[247],se([1,0,18,142]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class N{constructor(C){this.values=C,this.prefixSum=new Uint32Array(C.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(C,u){C=(0,f.toUint32)(C);const h=this.values,i=this.prefixSum,n=u.length;return n===0?!1:(this.values=new Uint32Array(h.length+n),this.values.set(h.subarray(0,C),0),this.values.set(h.subarray(C),C+n),this.values.set(u,C),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(C,u){return C=(0,f.toUint32)(C),u=(0,f.toUint32)(u),this.values[C]===u?!1:(this.values[C]=u,C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),!0)}removeValues(C,u){C=(0,f.toUint32)(C),u=(0,f.toUint32)(u);const h=this.values,i=this.prefixSum;if(C>=h.length)return!1;const n=h.length-C;return u>=n&&(u=n),u===0?!1:(this.values=new Uint32Array(h.length-u),this.values.set(h.subarray(0,C),0),this.values.set(h.subarray(C+u),C),this.prefixSum=new Uint32Array(this.values.length),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(C){return C<0?0:(C=(0,f.toUint32)(C),this._getPrefixSum(C))}_getPrefixSum(C){if(C<=this.prefixSumValidIndex[0])return this.prefixSum[C];let u=this.prefixSumValidIndex[0]+1;u===0&&(this.prefixSum[0]=this.values[0],u++),C>=this.values.length&&(C=this.values.length-1);for(let h=u;h<=C;h++)this.prefixSum[h]=this.prefixSum[h-1]+this.values[h];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],C),this.prefixSum[C]}getIndexOf(C){C=Math.floor(C),this.getTotalSum();let u=0,h=this.values.length-1,i=0,n=0,t=0;for(;u<=h;)if(i=u+(h-u)/2|0,n=this.prefixSum[i],t=n-this.values[i],C<t)h=i-1;else if(C>=n)u=i+1;else break;return new L(i,C-t)}}e.PrefixSumComputer=N;class D{constructor(C){this._values=C,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(C){return this._ensureValid(),C===0?0:this._prefixSum[C-1]}getIndexOf(C){this._ensureValid();const u=this._indexBySum[C],h=u>0?this._prefixSum[u-1]:0;return new L(u,C-h)}removeValues(C,u){this._values.splice(C,u),this._invalidate(C)}insertValues(C,u){this._values=(0,y.arrayInsert)(this._values,C,u),this._invalidate(C)}_invalidate(C){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,C-1)}_ensureValid(){if(!this._isValid){for(let C=this._validEndIndex+1,u=this._values.length;C<u;C++){const h=this._values[C],i=C>0?this._prefixSum[C-1]:0;this._prefixSum[C]=i+h;for(let n=0;n<h;n++)this._indexBySum[i+n]=C}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(C,u){this._values[C]!==u&&(this._values[C]=u,this._invalidate(C))}}e.ConstantTimePrefixSumComputer=D;class L{constructor(C,u){this.index=C,this.remainder=u,this._prefixSumIndexOfResultBrand=void 0,this.index=C,this.remainder=u}}e.PrefixSumIndexOfResult=L}),define(oe[437],se([1,0,8,11,247]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(b,C,u,h){this._uri=b,this._lines=C,this._eol=u,this._versionId=h,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(b){b.eol&&b.eol!==this._eol&&(this._eol=b.eol,this._lineStarts=null);const C=b.changes;for(const u of C)this._acceptDeleteRange(u.range),this._acceptInsertText(new f.Position(u.range.startLineNumber,u.range.startColumn),u.text);this._versionId=b.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const b=this._eol.length,C=this._lines.length,u=new Uint32Array(C);for(let h=0;h<C;h++)u[h]=this._lines[h].length+b;this._lineStarts=new N.PrefixSumComputer(u)}}_setLineText(b,C){this._lines[b]=C,this._lineStarts&&this._lineStarts.setValue(b,this._lines[b].length+this._eol.length)}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.startLineNumber-1].substring(b.endColumn-1));return}this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.endLineNumber-1].substring(b.endColumn-1)),this._lines.splice(b.startLineNumber,b.endLineNumber-b.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,C){if(C.length===0)return;const u=(0,y.splitLines)(C);if(u.length===1){this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]+this._lines[b.lineNumber-1].substring(b.column-1));return}u[u.length-1]+=this._lines[b.lineNumber-1].substring(b.column-1),this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]);const h=new Uint32Array(u.length-1);for(let i=1;i<u.length;i++)this._lines.splice(b.lineNumber+i-1,0,u[i]),h[i-1]=u[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(b.lineNumber,h)}}e.MirrorTextModel=D}),define(oe[248],se([1,0,2]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class f extends y.Disposable{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=f}),define(oe[153],se([1,0,8,125,11,3,46]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const b=999;class C{constructor(s,l,c,g){this.searchString=s,this.isRegex=l,this.matchCase=c,this.wordSeparators=g}parseSearchRequest(){if(this.searchString==="")return null;let s;this.isRegex?s=u(this.searchString):s=this.searchString.indexOf(`
`)>=0;let l=null;try{l=y.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:s,global:!0,unicode:!0})}catch{return null}if(!l)return null;let c=!this.isRegex&&!s;return c&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(c=this.matchCase),new L.SearchData(l,this.wordSeparators?(0,f.getMapForWordSeparators)(this.wordSeparators):null,c?this.searchString:null)}}e.SearchParams=C;function u(a){if(!a||a.length===0)return!1;for(let s=0,l=a.length;s<l;s++)if(a.charCodeAt(s)===92){if(s++,s>=l)break;const g=a.charCodeAt(s);if(g===110||g===114||g===87)return!0}return!1}e.isMultilineRegexSource=u;function h(a,s,l){if(!l)return new L.FindMatch(a,null);const c=[];for(let g=0,m=s.length;g<m;g++)c[g]=s[g];return new L.FindMatch(a,c)}e.createFindMatch=h;class i{constructor(s){const l=[];let c=0;for(let g=0,m=s.length;g<m;g++)s.charCodeAt(g)===10&&(l[c++]=g);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(s){const l=this._lineFeedsOffsets;let c=0,g=l.length-1;if(g===-1||s<=l[0])return 0;for(;c<g;){const m=c+((g-c)/2>>0);l[m]>=s?g=m-1:l[m+1]>=s?(c=m,g=m):c=m+1}return c+1}}class n{static findMatches(s,l,c,g,m){const S=l.parseSearchRequest();return S?S.regex.multiline?this._doFindMatchesMultiline(s,c,new o(S.wordSeparators,S.regex),g,m):this._doFindMatchesLineByLine(s,c,S,g,m):[]}static _getMultilineMatchRange(s,l,c,g,m,S){let p,v=0;g?(v=g.findLineFeedCountBeforeOffset(m),p=l+m+v):p=l+m;let _;if(g){const T=g.findLineFeedCountBeforeOffset(m+S.length)-v;_=p+S.length+T}else _=p+S.length;const w=s.getPositionAt(p),E=s.getPositionAt(_);return new D.Range(w.lineNumber,w.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(s,l,c,g,m){const S=s.getOffsetAt(l.getStartPosition()),p=s.getValueInRange(l,1),v=s.getEOL()===`\r
`?new i(p):null,_=[];let w=0,E;for(c.reset(0);E=c.next(p);)if(_[w++]=h(this._getMultilineMatchRange(s,S,p,v,E.index,E[0]),E,g),w>=m)return _;return _}static _doFindMatchesLineByLine(s,l,c,g,m){const S=[];let p=0;if(l.startLineNumber===l.endLineNumber){const _=s.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return p=this._findMatchesInLine(c,_,l.startLineNumber,l.startColumn-1,p,S,g,m),S}const v=s.getLineContent(l.startLineNumber).substring(l.startColumn-1);p=this._findMatchesInLine(c,v,l.startLineNumber,l.startColumn-1,p,S,g,m);for(let _=l.startLineNumber+1;_<l.endLineNumber&&p<m;_++)p=this._findMatchesInLine(c,s.getLineContent(_),_,0,p,S,g,m);if(p<m){const _=s.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);p=this._findMatchesInLine(c,_,l.endLineNumber,0,p,S,g,m)}return S}static _findMatchesInLine(s,l,c,g,m,S,p,v){const _=s.wordSeparators;if(!p&&s.simpleSearch){const I=s.simpleSearch,T=I.length,R=l.length;let B=-T;for(;(B=l.indexOf(I,B+T))!==-1;)if((!_||d(_,l,R,B,T))&&(S[m++]=new L.FindMatch(new D.Range(c,B+1+g,c,B+1+T+g),null),m>=v))return m;return m}const w=new o(s.wordSeparators,s.regex);let E;w.reset(0);do if(E=w.next(l),E&&(S[m++]=h(new D.Range(c,E.index+1+g,c,E.index+1+E[0].length+g),E,p),m>=v))return m;while(E);return m}static findNextMatch(s,l,c,g){const m=l.parseSearchRequest();if(!m)return null;const S=new o(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(s,c,S,g):this._doFindNextMatchLineByLine(s,c,S,g)}static _doFindNextMatchMultiline(s,l,c,g){const m=new N.Position(l.lineNumber,1),S=s.getOffsetAt(m),p=s.getLineCount(),v=s.getValueInRange(new D.Range(m.lineNumber,m.column,p,s.getLineMaxColumn(p)),1),_=s.getEOL()===`\r
`?new i(v):null;c.reset(l.column-1);let w=c.next(v);return w?h(this._getMultilineMatchRange(s,S,v,_,w.index,w[0]),w,g):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(s,new N.Position(1,1),c,g):null}static _doFindNextMatchLineByLine(s,l,c,g){const m=s.getLineCount(),S=l.lineNumber,p=s.getLineContent(S),v=this._findFirstMatchInLine(c,p,S,l.column,g);if(v)return v;for(let _=1;_<=m;_++){const w=(S+_-1)%m,E=s.getLineContent(w+1),I=this._findFirstMatchInLine(c,E,w+1,1,g);if(I)return I}return null}static _findFirstMatchInLine(s,l,c,g,m){s.reset(g-1);const S=s.next(l);return S?h(new D.Range(c,S.index+1,c,S.index+1+S[0].length),S,m):null}static findPreviousMatch(s,l,c,g){const m=l.parseSearchRequest();if(!m)return null;const S=new o(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(s,c,S,g):this._doFindPreviousMatchLineByLine(s,c,S,g)}static _doFindPreviousMatchMultiline(s,l,c,g){const m=this._doFindMatchesMultiline(s,new D.Range(1,1,l.lineNumber,l.column),c,g,10*b);if(m.length>0)return m[m.length-1];const S=s.getLineCount();return l.lineNumber!==S||l.column!==s.getLineMaxColumn(S)?this._doFindPreviousMatchMultiline(s,new N.Position(S,s.getLineMaxColumn(S)),c,g):null}static _doFindPreviousMatchLineByLine(s,l,c,g){const m=s.getLineCount(),S=l.lineNumber,p=s.getLineContent(S).substring(0,l.column-1),v=this._findLastMatchInLine(c,p,S,g);if(v)return v;for(let _=1;_<=m;_++){const w=(m+S-_-1)%m,E=s.getLineContent(w+1),I=this._findLastMatchInLine(c,E,w+1,g);if(I)return I}return null}static _findLastMatchInLine(s,l,c,g){let m=null,S;for(s.reset(0);S=s.next(l);)m=h(new D.Range(c,S.index+1,c,S.index+1+S[0].length),S,g);return m}}e.TextModelSearch=n;function t(a,s,l,c,g){if(c===0)return!0;const m=s.charCodeAt(c-1);if(a.get(m)!==0||m===13||m===10)return!0;if(g>0){const S=s.charCodeAt(c);if(a.get(S)!==0)return!0}return!1}function r(a,s,l,c,g){if(c+g===l)return!0;const m=s.charCodeAt(c+g);if(a.get(m)!==0||m===13||m===10)return!0;if(g>0){const S=s.charCodeAt(c+g-1);if(a.get(S)!==0)return!0}return!1}function d(a,s,l,c,g){return t(a,s,l,c,g)&&r(a,s,l,c,g)}e.isValidMatch=d;class o{constructor(s,l){this._wordSeparators=s,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(s){this._searchRegex.lastIndex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(s){const l=s.length;let c;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(c=this._searchRegex.exec(s),!c))return null;const g=c.index,m=c[0].length;if(g===this._prevMatchStartIndex&&m===this._prevMatchLength){if(m===0){y.getNextCodePoint(s,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=g,this._prevMatchLength=m,!this._wordSeparators||d(this._wordSeparators,s,l,g,m))return c}while(c);return null}}e.Searcher=o}),define(oe[249],se([1,0,11,3,46,436,153]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function b(o){let a;return o[o.length-1]<65536?a=new Uint16Array(o.length):a=new Uint32Array(o.length),a.set(o,0),a}e.createUintArray=b;class C{constructor(a,s,l,c,g){this.lineStarts=a,this.cr=s,this.lf=l,this.crlf=c,this.isBasicASCII=g}}e.LineStarts=C;function u(o,a=!0){const s=[0];let l=1;for(let c=0,g=o.length;c<g;c++){const m=o.charCodeAt(c);m===13?c+1<g&&o.charCodeAt(c+1)===10?(s[l++]=c+2,c++):s[l++]=c+1:m===10&&(s[l++]=c+1)}return a?b(s):s}e.createLineStartsFast=u;function h(o,a){o.length=0,o[0]=0;let s=1,l=0,c=0,g=0,m=!0;for(let p=0,v=a.length;p<v;p++){const _=a.charCodeAt(p);_===13?p+1<v&&a.charCodeAt(p+1)===10?(g++,o[s++]=p+2,p++):(l++,o[s++]=p+1):_===10?(c++,o[s++]=p+1):m&&_!==9&&(_<32||_>126)&&(m=!1)}const S=new C(b(o),l,c,g,m);return o.length=0,S}e.createLineStarts=h;class i{constructor(a,s,l,c,g){this.bufferIndex=a,this.start=s,this.end=l,this.lineFeedCnt=c,this.length=g}}e.Piece=i;class n{constructor(a,s){this.buffer=a,this.lineStarts=s}}e.StringBuffer=n;class t{constructor(a,s){this._pieces=[],this._tree=a,this._BOM=s,this._index=0,a.root!==D.SENTINEL&&a.iterate(a.root,l=>(l!==D.SENTINEL&&this._pieces.push(l.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class r{constructor(a){this._limit=a,this._cache=[]}get(a){for(let s=this._cache.length-1;s>=0;s--){const l=this._cache[s];if(l.nodeStartOffset<=a&&l.nodeStartOffset+l.node.piece.length>=a)return l}return null}get2(a){for(let s=this._cache.length-1;s>=0;s--){const l=this._cache[s];if(l.nodeStartLineNumber&&l.nodeStartLineNumber<a&&l.nodeStartLineNumber+l.node.piece.lineFeedCnt>=a)return l}return null}set(a){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(a)}validate(a){let s=!1;const l=this._cache;for(let c=0;c<l.length;c++){const g=l[c];if(g.node.parent===null||g.nodeStartOffset>=a){l[c]=null,s=!0;continue}}if(s){const c=[];for(const g of l)g!==null&&c.push(g);this._cache=c}}}class d{constructor(a,s,l){this.create(a,s,l)}create(a,s,l){this._buffers=[new n("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=s,this._EOLLength=s.length,this._EOLNormalized=l;let c=null;for(let g=0,m=a.length;g<m;g++)if(a[g].buffer.length>0){a[g].lineStarts||(a[g].lineStarts=u(a[g].buffer));const S=new i(g+1,{line:0,column:0},{line:a[g].lineStarts.length-1,column:a[g].buffer.length-a[g].lineStarts[a[g].lineStarts.length-1]},a[g].lineStarts.length-1,a[g].buffer.length);this._buffers.push(a[g]),c=this.rbInsertRight(c,S)}this._searchCache=new r(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(a){const s=e.AverageBufferSize,l=s-Math.floor(s/3),c=l*2;let g="",m=0;const S=[];if(this.iterate(this.root,p=>{const v=this.getNodeContent(p),_=v.length;if(m<=l||m+_<c)return g+=v,m+=_,!0;const w=g.replace(/\r\n|\r|\n/g,a);return S.push(new n(w,u(w))),g=v,m=_,!0}),m>0){const p=g.replace(/\r\n|\r|\n/g,a);S.push(new n(p,u(p)))}this.create(S,a,!0)}getEOL(){return this._EOL}setEOL(a){this._EOL=a,this._EOLLength=this._EOL.length,this.normalizeEOL(a)}createSnapshot(a){return new t(this,a)}getOffsetAt(a,s){let l=0,c=this.root;for(;c!==D.SENTINEL;)if(c.left!==D.SENTINEL&&c.lf_left+1>=a)c=c.left;else{if(c.lf_left+c.piece.lineFeedCnt+1>=a)return l+=c.size_left,l+=this.getAccumulatedValue(c,a-c.lf_left-2)+s-1;a-=c.lf_left+c.piece.lineFeedCnt,l+=c.size_left+c.piece.length,c=c.right}return l}getPositionAt(a){a=Math.floor(a),a=Math.max(0,a);let s=this.root,l=0;const c=a;for(;s!==D.SENTINEL;)if(s.size_left!==0&&s.size_left>=a)s=s.left;else if(s.size_left+s.piece.length>=a){const g=this.getIndexOf(s,a-s.size_left);if(l+=s.lf_left+g.index,g.index===0){const m=this.getOffsetAt(l+1,1),S=c-m;return new y.Position(l+1,S+1)}return new y.Position(l+1,g.remainder+1)}else if(a-=s.size_left+s.piece.length,l+=s.lf_left+s.piece.lineFeedCnt,s.right===D.SENTINEL){const g=this.getOffsetAt(l+1,1),m=c-a-g;return new y.Position(l+1,m+1)}else s=s.right;return new y.Position(1,1)}getValueInRange(a,s){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return"";const l=this.nodeAt2(a.startLineNumber,a.startColumn),c=this.nodeAt2(a.endLineNumber,a.endColumn),g=this.getValueInRange2(l,c);return s?s!==this._EOL||!this._EOLNormalized?g.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this._EOLNormalized?g:g.replace(/\r\n|\r|\n/g,s):g}getValueInRange2(a,s){if(a.node===s.node){const S=a.node,p=this._buffers[S.piece.bufferIndex].buffer,v=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return p.substring(v+a.remainder,v+s.remainder)}let l=a.node;const c=this._buffers[l.piece.bufferIndex].buffer,g=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);let m=c.substring(g+a.remainder,g+l.piece.length);for(l=l.next();l!==D.SENTINEL;){const S=this._buffers[l.piece.bufferIndex].buffer,p=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);if(l===s.node){m+=S.substring(p,p+s.remainder);break}else m+=S.substr(p,l.piece.length);l=l.next()}return m}getLinesContent(){const a=[];let s=0,l="",c=!1;return this.iterate(this.root,g=>{if(g===D.SENTINEL)return!0;const m=g.piece;let S=m.length;if(S===0)return!0;const p=this._buffers[m.bufferIndex].buffer,v=this._buffers[m.bufferIndex].lineStarts,_=m.start.line,w=m.end.line;let E=v[_]+m.start.column;if(c&&(p.charCodeAt(E)===10&&(E++,S--),a[s++]=l,l="",c=!1,S===0))return!0;if(_===w)return!this._EOLNormalized&&p.charCodeAt(E+S-1)===13?(c=!0,l+=p.substr(E,S-1)):l+=p.substr(E,S),!0;l+=this._EOLNormalized?p.substring(E,Math.max(E,v[_+1]-this._EOLLength)):p.substring(E,v[_+1]).replace(/(\r\n|\r|\n)$/,""),a[s++]=l;for(let I=_+1;I<w;I++)l=this._EOLNormalized?p.substring(v[I],v[I+1]-this._EOLLength):p.substring(v[I],v[I+1]).replace(/(\r\n|\r|\n)$/,""),a[s++]=l;return!this._EOLNormalized&&p.charCodeAt(v[w]+m.end.column-1)===13?(c=!0,m.end.column===0?s--:l=p.substr(v[w],m.end.column-1)):l=p.substr(v[w],m.end.column),!0}),c&&(a[s++]=l,l=""),a[s++]=l,a}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(a){return this._lastVisitedLine.lineNumber===a?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=a,a===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(a):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(a,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(a).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(a){if(a.remainder===a.node.piece.length){const s=a.node.next();if(!s)return 0;const l=this._buffers[s.piece.bufferIndex],c=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return l.buffer.charCodeAt(c)}else{const s=this._buffers[a.node.piece.bufferIndex],c=this.offsetInBuffer(a.node.piece.bufferIndex,a.node.piece.start)+a.remainder;return s.buffer.charCodeAt(c)}}getLineCharCode(a,s){const l=this.nodeAt2(a,s+1);return this._getCharCode(l)}getLineLength(a){if(a===this.getLineCount()){const s=this.getOffsetAt(a,1);return this.getLength()-s}return this.getOffsetAt(a+1,1)-this.getOffsetAt(a,1)-this._EOLLength}findMatchesInNode(a,s,l,c,g,m,S,p,v,_,w){const E=this._buffers[a.piece.bufferIndex],I=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start),T=this.offsetInBuffer(a.piece.bufferIndex,g),R=this.offsetInBuffer(a.piece.bufferIndex,m);let B;const O={line:0,column:0};let k,A;s._wordSeparators?(k=E.buffer.substring(T,R),A=F=>F+T,s.reset(0)):(k=E.buffer,A=F=>F,s.reset(T));do if(B=s.next(k),B){if(A(B.index)>=R)return _;this.positionInBuffer(a,A(B.index)-I,O);const F=this.getLineFeedCnt(a.piece.bufferIndex,g,O),P=O.line===g.line?O.column-g.column+c:O.column+1,W=P+B[0].length;if(w[_++]=(0,L.createFindMatch)(new f.Range(l+F,P,l+F,W),B,p),A(B.index)+B[0].length>=R||_>=v)return _}while(B);return _}findMatchesLineByLine(a,s,l,c){const g=[];let m=0;const S=new L.Searcher(s.wordSeparators,s.regex);let p=this.nodeAt2(a.startLineNumber,a.startColumn);if(p===null)return[];const v=this.nodeAt2(a.endLineNumber,a.endColumn);if(v===null)return[];let _=this.positionInBuffer(p.node,p.remainder);const w=this.positionInBuffer(v.node,v.remainder);if(p.node===v.node)return this.findMatchesInNode(p.node,S,a.startLineNumber,a.startColumn,_,w,s,l,c,m,g),g;let E=a.startLineNumber,I=p.node;for(;I!==v.node;){const R=this.getLineFeedCnt(I.piece.bufferIndex,_,I.piece.end);if(R>=1){const O=this._buffers[I.piece.bufferIndex].lineStarts,k=this.offsetInBuffer(I.piece.bufferIndex,I.piece.start),A=O[_.line+R],F=E===a.startLineNumber?a.startColumn:1;if(m=this.findMatchesInNode(I,S,E,F,_,this.positionInBuffer(I,A-k),s,l,c,m,g),m>=c)return g;E+=R}const B=E===a.startLineNumber?a.startColumn-1:0;if(E===a.endLineNumber){const O=this.getLineContent(E).substring(B,a.endColumn-1);return m=this._findMatchesInLine(s,S,O,a.endLineNumber,B,m,g,l,c),g}if(m=this._findMatchesInLine(s,S,this.getLineContent(E).substr(B),E,B,m,g,l,c),m>=c)return g;E++,p=this.nodeAt2(E,1),I=p.node,_=this.positionInBuffer(p.node,p.remainder)}if(E===a.endLineNumber){const R=E===a.startLineNumber?a.startColumn-1:0,B=this.getLineContent(E).substring(R,a.endColumn-1);return m=this._findMatchesInLine(s,S,B,a.endLineNumber,R,m,g,l,c),g}const T=E===a.startLineNumber?a.startColumn:1;return m=this.findMatchesInNode(v.node,S,E,T,_,w,s,l,c,m,g),g}_findMatchesInLine(a,s,l,c,g,m,S,p,v){const _=a.wordSeparators;if(!p&&a.simpleSearch){const E=a.simpleSearch,I=E.length,T=l.length;let R=-I;for(;(R=l.indexOf(E,R+I))!==-1;)if((!_||(0,L.isValidMatch)(_,l,T,R,I))&&(S[m++]=new N.FindMatch(new f.Range(c,R+1+g,c,R+1+I+g),null),m>=v))return m;return m}let w;s.reset(0);do if(w=s.next(l),w&&(S[m++]=(0,L.createFindMatch)(new f.Range(c,w.index+1+g,c,w.index+1+w[0].length+g),w,p),m>=v))return m;while(w);return m}insert(a,s,l=!1){if(this._EOLNormalized=this._EOLNormalized&&l,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:c,remainder:g,nodeStartOffset:m}=this.nodeAt(a),S=c.piece,p=S.bufferIndex,v=this.positionInBuffer(c,g);if(c.piece.bufferIndex===0&&S.end.line===this._lastChangeBufferPos.line&&S.end.column===this._lastChangeBufferPos.column&&m+S.length===a&&s.length<e.AverageBufferSize){this.appendToNode(c,s),this.computeBufferMetadata();return}if(m===a)this.insertContentToNodeLeft(s,c),this._searchCache.validate(a);else if(m+c.piece.length>a){const _=[];let w=new i(S.bufferIndex,v,S.end,this.getLineFeedCnt(S.bufferIndex,v,S.end),this.offsetInBuffer(p,S.end)-this.offsetInBuffer(p,v));if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.nodeCharCodeAt(c,g)===10){const R={line:w.start.line+1,column:0};w=new i(w.bufferIndex,R,w.end,this.getLineFeedCnt(w.bufferIndex,R,w.end),w.length-1),s+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(s))if(this.nodeCharCodeAt(c,g-1)===13){const R=this.positionInBuffer(c,g-1);this.deleteNodeTail(c,R),s="\r"+s,c.piece.length===0&&_.push(c)}else this.deleteNodeTail(c,v);else this.deleteNodeTail(c,v);const E=this.createNewPieces(s);w.length>0&&this.rbInsertRight(c,w);let I=c;for(let T=0;T<E.length;T++)I=this.rbInsertRight(I,E[T]);this.deleteNodes(_)}else this.insertContentToNodeRight(s,c)}else{const c=this.createNewPieces(s);let g=this.rbInsertLeft(null,c[0]);for(let m=1;m<c.length;m++)g=this.rbInsertRight(g,c[m])}this.computeBufferMetadata()}delete(a,s){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",s<=0||this.root===D.SENTINEL)return;const l=this.nodeAt(a),c=this.nodeAt(a+s),g=l.node,m=c.node;if(g===m){const E=this.positionInBuffer(g,l.remainder),I=this.positionInBuffer(g,c.remainder);if(l.nodeStartOffset===a){if(s===g.piece.length){const T=g.next();(0,D.rbDelete)(this,g),this.validateCRLFWithPrevNode(T),this.computeBufferMetadata();return}this.deleteNodeHead(g,I),this._searchCache.validate(a),this.validateCRLFWithPrevNode(g),this.computeBufferMetadata();return}if(l.nodeStartOffset+g.piece.length===a+s){this.deleteNodeTail(g,E),this.validateCRLFWithNextNode(g),this.computeBufferMetadata();return}this.shrinkNode(g,E,I),this.computeBufferMetadata();return}const S=[],p=this.positionInBuffer(g,l.remainder);this.deleteNodeTail(g,p),this._searchCache.validate(a),g.piece.length===0&&S.push(g);const v=this.positionInBuffer(m,c.remainder);this.deleteNodeHead(m,v),m.piece.length===0&&S.push(m);const _=g.next();for(let E=_;E!==D.SENTINEL&&E!==m;E=E.next())S.push(E);const w=g.piece.length===0?g.prev():g;this.deleteNodes(S),this.validateCRLFWithNextNode(w),this.computeBufferMetadata()}insertContentToNodeLeft(a,s){const l=[];if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.startWithLF(s)){const m=s.piece,S={line:m.start.line+1,column:0},p=new i(m.bufferIndex,S,m.end,this.getLineFeedCnt(m.bufferIndex,S,m.end),m.length-1);s.piece=p,a+=`
`,(0,D.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&l.push(s)}const c=this.createNewPieces(a);let g=this.rbInsertLeft(s,c[c.length-1]);for(let m=c.length-2;m>=0;m--)g=this.rbInsertLeft(g,c[m]);this.validateCRLFWithPrevNode(g),this.deleteNodes(l)}insertContentToNodeRight(a,s){this.adjustCarriageReturnFromNext(a,s)&&(a+=`
`);const l=this.createNewPieces(a),c=this.rbInsertRight(s,l[0]);let g=c;for(let m=1;m<l.length;m++)g=this.rbInsertRight(g,l[m]);this.validateCRLFWithPrevNode(c)}positionInBuffer(a,s,l){const c=a.piece,g=a.piece.bufferIndex,m=this._buffers[g].lineStarts,p=m[c.start.line]+c.start.column+s;let v=c.start.line,_=c.end.line,w=0,E=0,I=0;for(;v<=_&&(w=v+(_-v)/2|0,I=m[w],w!==_);)if(E=m[w+1],p<I)_=w-1;else if(p>=E)v=w+1;else break;return l?(l.line=w,l.column=p-I,null):{line:w,column:p-I}}getLineFeedCnt(a,s,l){if(l.column===0)return l.line-s.line;const c=this._buffers[a].lineStarts;if(l.line===c.length-1)return l.line-s.line;const g=c[l.line+1],m=c[l.line]+l.column;if(g>m+1)return l.line-s.line;const S=m-1;return this._buffers[a].buffer.charCodeAt(S)===13?l.line-s.line+1:l.line-s.line}offsetInBuffer(a,s){return this._buffers[a].lineStarts[s.line]+s.column}deleteNodes(a){for(let s=0;s<a.length;s++)(0,D.rbDelete)(this,a[s])}createNewPieces(a){if(a.length>e.AverageBufferSize){const _=[];for(;a.length>e.AverageBufferSize;){const E=a.charCodeAt(e.AverageBufferSize-1);let I;E===13||E>=55296&&E<=56319?(I=a.substring(0,e.AverageBufferSize-1),a=a.substring(e.AverageBufferSize-1)):(I=a.substring(0,e.AverageBufferSize),a=a.substring(e.AverageBufferSize));const T=u(I);_.push(new i(this._buffers.length,{line:0,column:0},{line:T.length-1,column:I.length-T[T.length-1]},T.length-1,I.length)),this._buffers.push(new n(I,T))}const w=u(a);return _.push(new i(this._buffers.length,{line:0,column:0},{line:w.length-1,column:a.length-w[w.length-1]},w.length-1,a.length)),this._buffers.push(new n(a,w)),_}let s=this._buffers[0].buffer.length;const l=u(a,!1);let c=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(a)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},c=this._lastChangeBufferPos;for(let _=0;_<l.length;_++)l[_]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1)),this._buffers[0].buffer+="_"+a,s+=1}else{if(s!==0)for(let _=0;_<l.length;_++)l[_]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1)),this._buffers[0].buffer+=a}const g=this._buffers[0].buffer.length,m=this._buffers[0].lineStarts.length-1,S=g-this._buffers[0].lineStarts[m],p={line:m,column:S},v=new i(0,c,p,this.getLineFeedCnt(0,c,p),g-s);return this._lastChangeBufferPos=p,[v]}getLineRawContent(a,s=0){let l=this.root,c="";const g=this._searchCache.get2(a);if(g){l=g.node;const m=this.getAccumulatedValue(l,a-g.nodeStartLineNumber-1),S=this._buffers[l.piece.bufferIndex].buffer,p=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);if(g.nodeStartLineNumber+l.piece.lineFeedCnt===a)c=S.substring(p+m,p+l.piece.length);else{const v=this.getAccumulatedValue(l,a-g.nodeStartLineNumber);return S.substring(p+m,p+v-s)}}else{let m=0;const S=a;for(;l!==D.SENTINEL;)if(l.left!==D.SENTINEL&&l.lf_left>=a-1)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt>a-1){const p=this.getAccumulatedValue(l,a-l.lf_left-2),v=this.getAccumulatedValue(l,a-l.lf_left-1),_=this._buffers[l.piece.bufferIndex].buffer,w=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return m+=l.size_left,this._searchCache.set({node:l,nodeStartOffset:m,nodeStartLineNumber:S-(a-1-l.lf_left)}),_.substring(w+p,w+v-s)}else if(l.lf_left+l.piece.lineFeedCnt===a-1){const p=this.getAccumulatedValue(l,a-l.lf_left-2),v=this._buffers[l.piece.bufferIndex].buffer,_=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);c=v.substring(_+p,_+l.piece.length);break}else a-=l.lf_left+l.piece.lineFeedCnt,m+=l.size_left+l.piece.length,l=l.right}for(l=l.next();l!==D.SENTINEL;){const m=this._buffers[l.piece.bufferIndex].buffer;if(l.piece.lineFeedCnt>0){const S=this.getAccumulatedValue(l,0),p=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return c+=m.substring(p,p+S-s),c}else{const S=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);c+=m.substr(S,l.piece.length)}l=l.next()}return c}computeBufferMetadata(){let a=this.root,s=1,l=0;for(;a!==D.SENTINEL;)s+=a.lf_left+a.piece.lineFeedCnt,l+=a.size_left+a.piece.length,a=a.right;this._lineCnt=s,this._length=l,this._searchCache.validate(this._length)}getIndexOf(a,s){const l=a.piece,c=this.positionInBuffer(a,s),g=c.line-l.start.line;if(this.offsetInBuffer(l.bufferIndex,l.end)-this.offsetInBuffer(l.bufferIndex,l.start)===s){const m=this.getLineFeedCnt(a.piece.bufferIndex,l.start,c);if(m!==g)return{index:m,remainder:0}}return{index:g,remainder:c.column}}getAccumulatedValue(a,s){if(s<0)return 0;const l=a.piece,c=this._buffers[l.bufferIndex].lineStarts,g=l.start.line+s+1;return g>l.end.line?c[l.end.line]+l.end.column-c[l.start.line]-l.start.column:c[g]-c[l.start.line]-l.start.column}deleteNodeTail(a,s){const l=a.piece,c=l.lineFeedCnt,g=this.offsetInBuffer(l.bufferIndex,l.end),m=s,S=this.offsetInBuffer(l.bufferIndex,m),p=this.getLineFeedCnt(l.bufferIndex,l.start,m),v=p-c,_=S-g,w=l.length+_;a.piece=new i(l.bufferIndex,l.start,m,p,w),(0,D.updateTreeMetadata)(this,a,_,v)}deleteNodeHead(a,s){const l=a.piece,c=l.lineFeedCnt,g=this.offsetInBuffer(l.bufferIndex,l.start),m=s,S=this.getLineFeedCnt(l.bufferIndex,m,l.end),p=this.offsetInBuffer(l.bufferIndex,m),v=S-c,_=g-p,w=l.length+_;a.piece=new i(l.bufferIndex,m,l.end,S,w),(0,D.updateTreeMetadata)(this,a,_,v)}shrinkNode(a,s,l){const c=a.piece,g=c.start,m=c.end,S=c.length,p=c.lineFeedCnt,v=s,_=this.getLineFeedCnt(c.bufferIndex,c.start,v),w=this.offsetInBuffer(c.bufferIndex,s)-this.offsetInBuffer(c.bufferIndex,g);a.piece=new i(c.bufferIndex,c.start,v,_,w),(0,D.updateTreeMetadata)(this,a,w-S,_-p);const E=new i(c.bufferIndex,l,m,this.getLineFeedCnt(c.bufferIndex,l,m),this.offsetInBuffer(c.bufferIndex,m)-this.offsetInBuffer(c.bufferIndex,l)),I=this.rbInsertRight(a,E);this.validateCRLFWithPrevNode(I)}appendToNode(a,s){this.adjustCarriageReturnFromNext(s,a)&&(s+=`
`);const l=this.shouldCheckCRLF()&&this.startWithLF(s)&&this.endWithCR(a),c=this._buffers[0].buffer.length;this._buffers[0].buffer+=s;const g=u(s,!1);for(let I=0;I<g.length;I++)g[I]+=c;if(l){const I=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:c-I}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(g.slice(1));const m=this._buffers[0].lineStarts.length-1,S=this._buffers[0].buffer.length-this._buffers[0].lineStarts[m],p={line:m,column:S},v=a.piece.length+s.length,_=a.piece.lineFeedCnt,w=this.getLineFeedCnt(0,a.piece.start,p),E=w-_;a.piece=new i(a.piece.bufferIndex,a.piece.start,p,w,v),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,a,s.length,E)}nodeAt(a){let s=this.root;const l=this._searchCache.get(a);if(l)return{node:l.node,nodeStartOffset:l.nodeStartOffset,remainder:a-l.nodeStartOffset};let c=0;for(;s!==D.SENTINEL;)if(s.size_left>a)s=s.left;else if(s.size_left+s.piece.length>=a){c+=s.size_left;const g={node:s,remainder:a-s.size_left,nodeStartOffset:c};return this._searchCache.set(g),g}else a-=s.size_left+s.piece.length,c+=s.size_left+s.piece.length,s=s.right;return null}nodeAt2(a,s){let l=this.root,c=0;for(;l!==D.SENTINEL;)if(l.left!==D.SENTINEL&&l.lf_left>=a-1)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt>a-1){const g=this.getAccumulatedValue(l,a-l.lf_left-2),m=this.getAccumulatedValue(l,a-l.lf_left-1);return c+=l.size_left,{node:l,remainder:Math.min(g+s-1,m),nodeStartOffset:c}}else if(l.lf_left+l.piece.lineFeedCnt===a-1){const g=this.getAccumulatedValue(l,a-l.lf_left-2);if(g+s-1<=l.piece.length)return{node:l,remainder:g+s-1,nodeStartOffset:c};s-=l.piece.length-g;break}else a-=l.lf_left+l.piece.lineFeedCnt,c+=l.size_left+l.piece.length,l=l.right;for(l=l.next();l!==D.SENTINEL;){if(l.piece.lineFeedCnt>0){const g=this.getAccumulatedValue(l,0),m=this.offsetOfNode(l);return{node:l,remainder:Math.min(s-1,g),nodeStartOffset:m}}else if(l.piece.length>=s-1){const g=this.offsetOfNode(l);return{node:l,remainder:s-1,nodeStartOffset:g}}else s-=l.piece.length;l=l.next()}return null}nodeCharCodeAt(a,s){if(a.piece.lineFeedCnt<1)return-1;const l=this._buffers[a.piece.bufferIndex],c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start)+s;return l.buffer.charCodeAt(c)}offsetOfNode(a){if(!a)return 0;let s=a.size_left;for(;a!==this.root;)a.parent.right===a&&(s+=a.parent.size_left+a.parent.piece.length),a=a.parent;return s}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(a){if(typeof a=="string")return a.charCodeAt(0)===10;if(a===D.SENTINEL||a.piece.lineFeedCnt===0)return!1;const s=a.piece,l=this._buffers[s.bufferIndex].lineStarts,c=s.start.line,g=l[c]+s.start.column;return c===l.length-1||l[c+1]>g+1?!1:this._buffers[s.bufferIndex].buffer.charCodeAt(g)===10}endWithCR(a){return typeof a=="string"?a.charCodeAt(a.length-1)===13:a===D.SENTINEL||a.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(a,a.piece.length-1)===13}validateCRLFWithPrevNode(a){if(this.shouldCheckCRLF()&&this.startWithLF(a)){const s=a.prev();this.endWithCR(s)&&this.fixCRLF(s,a)}}validateCRLFWithNextNode(a){if(this.shouldCheckCRLF()&&this.endWithCR(a)){const s=a.next();this.startWithLF(s)&&this.fixCRLF(a,s)}}fixCRLF(a,s){const l=[],c=this._buffers[a.piece.bufferIndex].lineStarts;let g;a.piece.end.column===0?g={line:a.piece.end.line-1,column:c[a.piece.end.line]-c[a.piece.end.line-1]-1}:g={line:a.piece.end.line,column:a.piece.end.column-1};const m=a.piece.length-1,S=a.piece.lineFeedCnt-1;a.piece=new i(a.piece.bufferIndex,a.piece.start,g,S,m),(0,D.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&l.push(a);const p={line:s.piece.start.line+1,column:0},v=s.piece.length-1,_=this.getLineFeedCnt(s.piece.bufferIndex,p,s.piece.end);s.piece=new i(s.piece.bufferIndex,p,s.piece.end,_,v),(0,D.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&l.push(s);const w=this.createNewPieces(`\r
`);this.rbInsertRight(a,w[0]);for(let E=0;E<l.length;E++)(0,D.rbDelete)(this,l[E])}adjustCarriageReturnFromNext(a,s){if(this.shouldCheckCRLF()&&this.endWithCR(a)){const l=s.next();if(this.startWithLF(l)){if(a+=`
`,l.piece.length===1)(0,D.rbDelete)(this,l);else{const c=l.piece,g={line:c.start.line+1,column:0},m=c.length-1,S=this.getLineFeedCnt(c.bufferIndex,g,c.end);l.piece=new i(c.bufferIndex,g,c.end,S,m),(0,D.updateTreeMetadata)(this,l,-1,-1)}return!0}}return!1}iterate(a,s){if(a===D.SENTINEL)return s(D.SENTINEL);const l=this.iterate(a.left,s);return l&&s(a)&&this.iterate(a.right,s)}getNodeContent(a){if(a===D.SENTINEL)return"";const s=this._buffers[a.piece.bufferIndex];let l;const c=a.piece,g=this.offsetInBuffer(c.bufferIndex,c.start),m=this.offsetInBuffer(c.bufferIndex,c.end);return l=s.buffer.substring(g,m),l}getPieceContent(a){const s=this._buffers[a.bufferIndex],l=this.offsetInBuffer(a.bufferIndex,a.start),c=this.offsetInBuffer(a.bufferIndex,a.end);return s.buffer.substring(l,c)}rbInsertRight(a,s){const l=new D.TreeNode(s,1);if(l.left=D.SENTINEL,l.right=D.SENTINEL,l.parent=D.SENTINEL,l.size_left=0,l.lf_left=0,this.root===D.SENTINEL)this.root=l,l.color=0;else if(a.right===D.SENTINEL)a.right=l,l.parent=a;else{const g=(0,D.leftest)(a.right);g.left=l,l.parent=g}return(0,D.fixInsert)(this,l),l}rbInsertLeft(a,s){const l=new D.TreeNode(s,1);if(l.left=D.SENTINEL,l.right=D.SENTINEL,l.parent=D.SENTINEL,l.size_left=0,l.lf_left=0,this.root===D.SENTINEL)this.root=l,l.color=0;else if(a.left===D.SENTINEL)a.left=l,l.parent=a;else{const c=(0,D.righttest)(a.left);c.right=l,l.parent=c}return(0,D.fixInsert)(this,l),l}}e.PieceTreeBase=d}),define(oe[250],se([1,0,4,8,3,46,249,124,242,2]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class h extends u.Disposable{constructor(n,t,r,d,o,a,s){super();this._onDidChangeContent=this._register(new y.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!a,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=o,this._pieceTree=new L.PieceTreeBase(n,r,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(n){return this._pieceTree.createSnapshot(n?this._BOM:"")}getOffsetAt(n,t){return this._pieceTree.getOffsetAt(n,t)}getPositionAt(n){return this._pieceTree.getPositionAt(n)}getRangeAt(n,t){const r=n+t,d=this.getPositionAt(n),o=this.getPositionAt(r);return new N.Range(d.lineNumber,d.column,o.lineNumber,o.column)}getValueInRange(n,t=0){if(n.isEmpty())return"";const r=this._getEndOfLine(t);return this._pieceTree.getValueInRange(n,r)}getValueLengthInRange(n,t=0){if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;const r=this.getOffsetAt(n.startLineNumber,n.startColumn);return this.getOffsetAt(n.endLineNumber,n.endColumn)-r}getCharacterCountInRange(n,t=0){if(this._mightContainNonBasicASCII){let r=0;const d=n.startLineNumber,o=n.endLineNumber;for(let a=d;a<=o;a++){const s=this.getLineContent(a),l=a===d?n.startColumn-1:0,c=a===o?n.endColumn-1:s.length;for(let g=l;g<c;g++)f.isHighSurrogate(s.charCodeAt(g))?(r=r+1,g=g+1):r=r+1}return r+=this._getEndOfLine(t).length*(o-d),r}return this.getValueLengthInRange(n,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(n){return this._pieceTree.getLineContent(n)}getLineCharCode(n,t){return this._pieceTree.getLineCharCode(n,t)}getLineLength(n){return this._pieceTree.getLineLength(n)}getLineFirstNonWhitespaceColumn(n){const t=f.firstNonWhitespaceIndex(this.getLineContent(n));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(n){const t=f.lastNonWhitespaceIndex(this.getLineContent(n));return t===-1?0:t+2}_getEndOfLine(n){switch(n){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(n){this._pieceTree.setEOL(n)}applyEdits(n,t,r){let d=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,a=this._mightContainNonBasicASCII,s=!0,l=[];for(let _=0;_<n.length;_++){const w=n[_];s&&w._isTracked&&(s=!1);const E=w.range;if(w.text){let O=!0;a||(O=!f.isBasicASCII(w.text),a=O),!d&&O&&(d=f.containsRTL(w.text)),!o&&O&&(o=f.containsUnusualLineTerminators(w.text))}let I="",T=0,R=0,B=0;if(w.text){let O;[T,R,B,O]=(0,b.countEOL)(w.text);const k=this.getEOL();O===0||O===(k===`\r
`?2:1)?I=w.text:I=w.text.replace(/\r\n|\r|\n/g,k)}l[_]={sortIndex:_,identifier:w.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:T,firstLineLength:R,lastLineLength:B,forceMoveMarkers:Boolean(w.forceMoveMarkers),isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}l.sort(h._sortOpsAscending);let c=!1;for(let _=0,w=l.length-1;_<w;_++){const E=l[_].range.getEndPosition(),I=l[_+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");c=!0}}s&&(l=this._reduceOperations(l));const g=r||t?h._getInverseEditRanges(l):[],m=[];if(t)for(let _=0;_<l.length;_++){const w=l[_],E=g[_];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let T="";I===E.startLineNumber&&(T=this.getLineContent(w.range.startLineNumber),f.firstNonWhitespaceIndex(T)!==-1)||m.push({lineNumber:I,oldContent:T})}}let S=null;if(r){let _=0;S=[];for(let w=0;w<l.length;w++){const E=l[w],I=g[w],T=this.getValueInRange(E.range),R=E.rangeOffset+_;_+=E.text.length-T.length,S[w]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:T,textChange:new C.TextChange(E.rangeOffset,T,R,E.text)}}c||S.sort((w,E)=>w.sortIndex-E.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=a;const p=this._doApplyEdits(l);let v=null;if(t&&m.length>0){m.sort((_,w)=>w.lineNumber-_.lineNumber),v=[];for(let _=0,w=m.length;_<w;_++){const E=m[_].lineNumber;if(_>0&&m[_-1].lineNumber===E)continue;const I=m[_].oldContent,T=this.getLineContent(E);T.length===0||T===I||f.firstNonWhitespaceIndex(T)!==-1||v.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(S,p,v)}_reduceOperations(n){return n.length<1e3?n:[this._toSingleEditOperation(n)]}_toSingleEditOperation(n){let t=!1;const r=n[0].range,d=n[n.length-1].range,o=new N.Range(r.startLineNumber,r.startColumn,d.endLineNumber,d.endColumn);let a=r.startLineNumber,s=r.startColumn;const l=[];for(let p=0,v=n.length;p<v;p++){const _=n[p],w=_.range;t=t||_.forceMoveMarkers,l.push(this.getValueInRange(new N.Range(a,s,w.startLineNumber,w.startColumn))),_.text.length>0&&l.push(_.text),a=w.endLineNumber,s=w.endColumn}const c=l.join(""),[g,m,S]=(0,b.countEOL)(c);return{sortIndex:0,identifier:n[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:g,firstLineLength:m,lastLineLength:S,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(n){n.sort(h._sortOpsDescending);const t=[];for(let r=0;r<n.length;r++){const d=n[r],o=d.range.startLineNumber,a=d.range.startColumn,s=d.range.endLineNumber,l=d.range.endColumn;if(o===s&&a===l&&d.text.length===0)continue;d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const c=new N.Range(o,a,s,l);t.push({range:c,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}return t}findMatchesLineByLine(n,t,r,d){return this._pieceTree.findMatchesLineByLine(n,t,r,d)}static _getInverseEditRanges(n){const t=[];let r=0,d=0,o=null;for(let a=0,s=n.length;a<s;a++){const l=n[a];let c,g;o?o.range.endLineNumber===l.range.startLineNumber?(c=r,g=d+(l.range.startColumn-o.range.endColumn)):(c=r+(l.range.startLineNumber-o.range.endLineNumber),g=l.range.startColumn):(c=l.range.startLineNumber,g=l.range.startColumn);let m;if(l.text.length>0){const S=l.eolCount+1;S===1?m=new N.Range(c,g,c,g+l.firstLineLength):m=new N.Range(c,g,c+S-1,l.lastLineLength+1)}else m=new N.Range(c,g,c,g);r=m.endLineNumber,d=m.endColumn,t.push(m),o=l}return t}static _sortOpsAscending(n,t){const r=N.Range.compareRangesUsingEnds(n.range,t.range);return r===0?n.sortIndex-t.sortIndex:r}static _sortOpsDescending(n,t){const r=N.Range.compareRangesUsingEnds(n.range,t.range);return r===0?t.sortIndex-n.sortIndex:-r}}e.PieceTreeTextBuffer=h}),define(oe[438],se([1,0,8,249,250]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class D{constructor(C,u,h,i,n,t,r,d,o){this._chunks=C,this._bom=u,this._cr=h,this._lf=i,this._crlf=n,this._containsRTL=t,this._containsUnusualLineTerminators=r,this._isBasicASCII=d,this._normalizeEOL=o}_getEOL(C){const u=this._cr+this._lf+this._crlf,h=this._cr+this._crlf;return u===0?C===1?`
`:`\r
`:h>u/2?`\r
`:`
`}create(C){const u=this._getEOL(C),h=this._chunks;if(this._normalizeEOL&&(u===`\r
`&&(this._cr>0||this._lf>0)||u===`
`&&(this._cr>0||this._crlf>0)))for(let n=0,t=h.length;n<t;n++){const r=h[n].buffer.replace(/\r\n|\r|\n/g,u),d=(0,f.createLineStartsFast)(r);h[n]=new f.StringBuffer(r,d)}const i=new N.PieceTreeTextBuffer(h,this._bom,u,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}e.PieceTreeTextBufferFactory=D;class L{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(C){if(C.length===0)return;this.chunks.length===0&&y.startsWithUTF8BOM(C)&&(this.BOM=y.UTF8_BOM_CHARACTER,C=C.substr(1));const u=C.charCodeAt(C.length-1);u===13||u>=55296&&u<=56319?(this._acceptChunk1(C.substr(0,C.length-1),!1),this._hasPreviousChar=!0,this._previousChar=u):(this._acceptChunk1(C,!1),this._hasPreviousChar=!1,this._previousChar=u)}_acceptChunk1(C,u){!u&&C.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+C):this._acceptChunk2(C))}_acceptChunk2(C){const u=(0,f.createLineStarts)(this._tmpLineStarts,C);this.chunks.push(new f.StringBuffer(C,u.lineStarts)),this.cr+=u.cr,this.lf+=u.lf,this.crlf+=u.crlf,this.isBasicASCII&&(this.isBasicASCII=u.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=y.containsRTL(C)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=y.containsUnusualLineTerminators(C))}finish(C=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,C)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const C=this.chunks[this.chunks.length-1];C.buffer+=String.fromCharCode(this._previousChar);const u=(0,f.createLineStartsFast)(C.buffer);C.lineStarts=u,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=L}),define(oe[186],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function y(f,N){let D=0,L=0;const b=f.length;for(;L<b;){const C=f.charCodeAt(L);if(C===32)D++;else if(C===9)D=D-D%N+N;else break;L++}return L===b?-1:D}e.computeIndentLevel=y}),define(oe[251],se([1,0,19,11,46]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(i,n,t,r,d){this.injectionOffsets=i,this.injectionOptions=n,this.breakOffsets=t,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=d}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const n=i>0?this.breakOffsets[i-1]:0;let r=this.breakOffsets[i]-n;return i>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,n){i>0&&(n=Math.max(0,n-this.wrappedTextIndentLength));let r=i===0?n:this.breakOffsets[i-1]+n;if(this.injectionOffsets!==null)for(let d=0;d<this.injectionOffsets.length&&r>this.injectionOffsets[d];d++)r<this.injectionOffsets[d]+this.injectionOptions[d].content.length?r=this.injectionOffsets[d]:r-=this.injectionOptions[d].content.length;return r}translateToOutputPosition(i,n=2){let t=i;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(i<this.injectionOffsets[r]||n!==1&&i===this.injectionOffsets[r]);r++)t+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,n)}offsetInInputWithInjectionsToOutputPosition(i,n=2){let t=0,r=this.breakOffsets.length-1,d=0,o=0;for(;t<=r;){d=t+(r-t)/2|0;const s=this.breakOffsets[d];if(o=d>0?this.breakOffsets[d-1]:0,n===0)if(i<=o)r=d-1;else if(i>s)t=d+1;else break;else if(i<o)r=d-1;else if(i>=s)t=d+1;else break}let a=i-o;return d>0&&(a+=this.wrappedTextIndentLength),new u(d,a)}normalizeOutputPosition(i,n,t){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(i,n),d=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,t);if(d!==r)return this.offsetInInputWithInjectionsToOutputPosition(d,t)}if(t===0){if(i>0&&n===this.getMinOutputOffset(i))return new u(i-1,this.getMaxOutputOffset(i-1))}else if(t===1){const r=this.getOutputLineCount()-1;if(i<r&&n===this.getMaxOutputOffset(i))return new u(i+1,this.getMinOutputOffset(i+1))}return new u(i,n)}outputPositionToOffsetInInputWithInjections(i,n){return i>0&&(n=Math.max(0,n-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+n}normalizeOffsetInInputWithInjectionsAroundInjections(i,n){const t=this.getInjectedTextAtOffset(i);if(!t)return i;if(n===2){if(i===t.offsetInInputWithInjections+t.length&&L(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let r=t.offsetInInputWithInjections;if(b(this.injectionOptions[t.injectedTextIndex].cursorStops))return r;let d=t.injectedTextIndex-1;for(;d>=0&&this.injectionOffsets[d]===this.injectionOffsets[t.injectedTextIndex]&&!(L(this.injectionOptions[d].cursorStops)||(r-=this.injectionOptions[d].content.length,b(this.injectionOptions[d].cursorStops)));)d--;return r}}else if(n===1||n===4){let r=t.offsetInInputWithInjections+t.length,d=t.injectedTextIndex;for(;d+1<this.injectionOffsets.length&&this.injectionOffsets[d+1]===this.injectionOffsets[d];)r+=this.injectionOptions[d+1].content.length,d++;return r}else if(n===0||n===3){let r=t.offsetInInputWithInjections,d=t.injectedTextIndex;for(;d-1>=0&&this.injectionOffsets[d-1]===this.injectionOffsets[d];)r-=this.injectionOptions[d-1].content.length,d--;return r}(0,y.assertNever)(n)}getInjectedText(i,n){const t=this.outputPositionToOffsetInInputWithInjections(i,n),r=this.getInjectedTextAtOffset(t);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const n=this.injectionOffsets,t=this.injectionOptions;if(n!==null){let r=0;for(let d=0;d<n.length;d++){const o=t[d].content.length,a=n[d]+r,s=n[d]+r+o;if(a>i)break;if(i<=s)return{injectedTextIndex:d,offsetInInputWithInjections:a,length:o};r+=o}}}}e.ModelLineProjectionData=D;function L(h){return h==null?!0:h===N.InjectedTextCursorStops.Right||h===N.InjectedTextCursorStops.Both}function b(h){return h==null?!0:h===N.InjectedTextCursorStops.Left||h===N.InjectedTextCursorStops.Both}class C{constructor(i){this.options=i}}e.InjectedText=C;class u{constructor(i,n){this.outputLineIndex=i,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new f.Position(i+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=u}),define(oe[439],se([1,0,116,17]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function N(C){for(let u=0,h=C.length;u<h;u+=4){const i=C[u+0],n=C[u+1],t=C[u+2],r=C[u+3];C[u+0]=r,C[u+1]=t,C[u+2]=n,C[u+3]=i}}function D(C){const u=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return f.isLittleEndian()||N(u),y.VSBuffer.wrap(u)}function L(C){const u=new Uint32Array(b(C));let h=0;if(u[h++]=C.id,C.type==="full")u[h++]=1,u[h++]=C.data.length,u.set(C.data,h),h+=C.data.length;else{u[h++]=2,u[h++]=C.deltas.length;for(const i of C.deltas)u[h++]=i.start,u[h++]=i.deleteCount,i.data?(u[h++]=i.data.length,u.set(i.data,h),h+=i.data.length):u[h++]=0}return D(u)}e.encodeSemanticTokensDto=L;function b(C){let u=0;if(u+=1+1,C.type==="full")u+=1+C.data.length;else{u+=1,u+=(1+1+1)*C.deltas.length;for(const h of C.deltas)h.data&&(u+=h.data.length)}return u}}),define(oe[252],se([1,0,3,153,8,19,126]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class b{static computeUnicodeHighlights(n,t,r){const d=r?r.startLineNumber:1,o=r?r.endLineNumber:n.getLineCount(),a=new u(t),s=a.getCandidateCodePoints();let l;s==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${C(Array.from(s))}`,"g");const c=new f.Searcher(null,l),g=[];let m=!1,S,p=0,v=0,_=0;e:for(let w=d,E=o;w<=E;w++){const I=n.getLineContent(w),T=I.length;c.reset(0);do if(S=c.next(I),S){let R=S.index,B=S.index+S[0].length;if(R>0){const F=I.charCodeAt(R-1);N.isHighSurrogate(F)&&R--}if(B+1<T){const F=I.charCodeAt(B-1);N.isHighSurrogate(F)&&B++}const O=I.substring(R,B),k=(0,L.getWordAtText)(R+1,L.DEFAULT_WORD_REGEXP,I,0),A=a.shouldHighlightNonBasicASCII(O,k?k.word:null);if(A!==0){A===3?p++:A===2?v++:A===1?_++:(0,D.assertNever)(A);const F=1e3;if(g.length>=F){m=!0;break e}g.push(new y.Range(w,R+1,w,B+1))}}while(S)}return{ranges:g,hasMore:m,ambiguousCharacterCount:p,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(n,t){const r=new u(t);switch(r.shouldHighlightNonBasicASCII(n,null)){case 0:return null;case 2:return{kind:1};case 3:{const o=n.codePointAt(0),a=r.ambiguousCharacters.getPrimaryConfusable(o),s=N.AmbiguousCharacters.getLocales().filter(l=>!N.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(a),notAmbiguousInLocales:s}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=b;function C(i,n){return`[${N.escapeRegExpCharacters(i.map(r=>String.fromCodePoint(r)).join(""))}]`}class u{constructor(n){this.options=n,this.allowedCodePoints=new Set(n.allowedCodePoints),this.ambiguousCharacters=N.AmbiguousCharacters.getInstance(new Set(n.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const n=new Set;if(this.options.invisibleCharacters)for(const t of N.InvisibleCharacters.codePoints)h(String.fromCodePoint(t))||n.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())n.add(t);for(const t of this.allowedCodePoints)n.delete(t);return n}shouldHighlightNonBasicASCII(n,t){const r=n.codePointAt(0);if(this.allowedCodePoints.has(r))return 0;if(this.options.nonBasicASCII)return 1;let d=!1,o=!1;if(t)for(let a of t){const s=a.codePointAt(0),l=N.isBasicASCII(a);d=d||l,!l&&!this.ambiguousCharacters.isAmbiguous(s)&&!N.InvisibleCharacters.isInvisibleCharacter(s)&&(o=!0)}return!d&&o?0:this.options.invisibleCharacters&&!h(n)&&N.InvisibleCharacters.isInvisibleCharacter(r)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(r)?3:0}}function h(i){return i===" "||i===`
`||i==="	"}}),define(oe[154],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var y;(function(M){M[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled"})(y=e.AccessibilitySupport||(e.AccessibilitySupport={}));var f;(function(M){M[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet"})(f=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var N;(function(M){M[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet"})(N=e.CompletionItemKind||(e.CompletionItemKind={}));var D;(function(M){M[M.Deprecated=1]="Deprecated"})(D=e.CompletionItemTag||(e.CompletionItemTag={}));var L;(function(M){M[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(L=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var b;(function(M){M[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW"})(b=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var C;(function(M){M[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo"})(C=e.CursorChangeReason||(e.CursorChangeReason={}));var u;(function(M){M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(u=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var h;(function(M){M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write"})(h=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(M){M[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var n;(function(M){M[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.autoClosingBrackets=5]="autoClosingBrackets",M[M.autoClosingDelete=6]="autoClosingDelete",M[M.autoClosingOvertype=7]="autoClosingOvertype",M[M.autoClosingQuotes=8]="autoClosingQuotes",M[M.autoIndent=9]="autoIndent",M[M.automaticLayout=10]="automaticLayout",M[M.autoSurround=11]="autoSurround",M[M.bracketPairColorization=12]="bracketPairColorization",M[M.guides=13]="guides",M[M.codeLens=14]="codeLens",M[M.codeLensFontFamily=15]="codeLensFontFamily",M[M.codeLensFontSize=16]="codeLensFontSize",M[M.colorDecorators=17]="colorDecorators",M[M.columnSelection=18]="columnSelection",M[M.comments=19]="comments",M[M.contextmenu=20]="contextmenu",M[M.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",M[M.cursorBlinking=22]="cursorBlinking",M[M.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",M[M.cursorStyle=24]="cursorStyle",M[M.cursorSurroundingLines=25]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",M[M.cursorWidth=27]="cursorWidth",M[M.disableLayerHinting=28]="disableLayerHinting",M[M.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",M[M.domReadOnly=30]="domReadOnly",M[M.dragAndDrop=31]="dragAndDrop",M[M.emptySelectionClipboard=32]="emptySelectionClipboard",M[M.extraEditorClassName=33]="extraEditorClassName",M[M.fastScrollSensitivity=34]="fastScrollSensitivity",M[M.find=35]="find",M[M.fixedOverflowWidgets=36]="fixedOverflowWidgets",M[M.folding=37]="folding",M[M.foldingStrategy=38]="foldingStrategy",M[M.foldingHighlight=39]="foldingHighlight",M[M.foldingImportsByDefault=40]="foldingImportsByDefault",M[M.foldingMaximumRegions=41]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=43]="fontFamily",M[M.fontInfo=44]="fontInfo",M[M.fontLigatures=45]="fontLigatures",M[M.fontSize=46]="fontSize",M[M.fontWeight=47]="fontWeight",M[M.formatOnPaste=48]="formatOnPaste",M[M.formatOnType=49]="formatOnType",M[M.glyphMargin=50]="glyphMargin",M[M.gotoLocation=51]="gotoLocation",M[M.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",M[M.hover=53]="hover",M[M.inDiffEditor=54]="inDiffEditor",M[M.inlineSuggest=55]="inlineSuggest",M[M.letterSpacing=56]="letterSpacing",M[M.lightbulb=57]="lightbulb",M[M.lineDecorationsWidth=58]="lineDecorationsWidth",M[M.lineHeight=59]="lineHeight",M[M.lineNumbers=60]="lineNumbers",M[M.lineNumbersMinChars=61]="lineNumbersMinChars",M[M.linkedEditing=62]="linkedEditing",M[M.links=63]="links",M[M.matchBrackets=64]="matchBrackets",M[M.minimap=65]="minimap",M[M.mouseStyle=66]="mouseStyle",M[M.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=68]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",M[M.multiCursorModifier=70]="multiCursorModifier",M[M.multiCursorPaste=71]="multiCursorPaste",M[M.occurrencesHighlight=72]="occurrencesHighlight",M[M.overviewRulerBorder=73]="overviewRulerBorder",M[M.overviewRulerLanes=74]="overviewRulerLanes",M[M.padding=75]="padding",M[M.parameterHints=76]="parameterHints",M[M.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",M[M.quickSuggestions=79]="quickSuggestions",M[M.quickSuggestionsDelay=80]="quickSuggestionsDelay",M[M.readOnly=81]="readOnly",M[M.renameOnType=82]="renameOnType",M[M.renderControlCharacters=83]="renderControlCharacters",M[M.renderFinalNewline=84]="renderFinalNewline",M[M.renderLineHighlight=85]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=87]="renderValidationDecorations",M[M.renderWhitespace=88]="renderWhitespace",M[M.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",M[M.roundedSelection=90]="roundedSelection",M[M.rulers=91]="rulers",M[M.scrollbar=92]="scrollbar",M[M.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=94]="scrollBeyondLastLine",M[M.scrollPredominantAxis=95]="scrollPredominantAxis",M[M.selectionClipboard=96]="selectionClipboard",M[M.selectionHighlight=97]="selectionHighlight",M[M.selectOnLineNumbers=98]="selectOnLineNumbers",M[M.showFoldingControls=99]="showFoldingControls",M[M.showUnused=100]="showUnused",M[M.snippetSuggestions=101]="snippetSuggestions",M[M.smartSelect=102]="smartSelect",M[M.smoothScrolling=103]="smoothScrolling",M[M.stickyTabStops=104]="stickyTabStops",M[M.stopRenderingLineAfter=105]="stopRenderingLineAfter",M[M.suggest=106]="suggest",M[M.suggestFontSize=107]="suggestFontSize",M[M.suggestLineHeight=108]="suggestLineHeight",M[M.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",M[M.suggestSelection=110]="suggestSelection",M[M.tabCompletion=111]="tabCompletion",M[M.tabIndex=112]="tabIndex",M[M.unicodeHighlighting=113]="unicodeHighlighting",M[M.unusualLineTerminators=114]="unusualLineTerminators",M[M.useShadowDOM=115]="useShadowDOM",M[M.useTabStops=116]="useTabStops",M[M.wordSeparators=117]="wordSeparators",M[M.wordWrap=118]="wordWrap",M[M.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=121]="wordWrapColumn",M[M.wordWrapOverride1=122]="wordWrapOverride1",M[M.wordWrapOverride2=123]="wordWrapOverride2",M[M.wrappingIndent=124]="wrappingIndent",M[M.wrappingStrategy=125]="wrappingStrategy",M[M.showDeprecated=126]="showDeprecated",M[M.inlayHints=127]="inlayHints",M[M.editorClassName=128]="editorClassName",M[M.pixelRatio=129]="pixelRatio",M[M.tabFocusMode=130]="tabFocusMode",M[M.layoutInfo=131]="layoutInfo",M[M.wrappingInfo=132]="wrappingInfo"})(n=e.EditorOption||(e.EditorOption={}));var t;(function(M){M[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(t=e.EndOfLinePreference||(e.EndOfLinePreference={}));var r;(function(M){M[M.LF=0]="LF",M[M.CRLF=1]="CRLF"})(r=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(M){M[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var o;(function(M){M[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None"})(o=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var a;(function(M){M[M.Type=1]="Type",M[M.Parameter=2]="Parameter"})(a=e.InlayHintKind||(e.InlayHintKind={}));var s;(function(M){M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit"})(s=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var l;(function(M){M[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.NumLock=78]="NumLock",M[M.ScrollLock=79]="ScrollLock",M[M.Semicolon=80]="Semicolon",M[M.Equal=81]="Equal",M[M.Comma=82]="Comma",M[M.Minus=83]="Minus",M[M.Period=84]="Period",M[M.Slash=85]="Slash",M[M.Backquote=86]="Backquote",M[M.BracketLeft=87]="BracketLeft",M[M.Backslash=88]="Backslash",M[M.BracketRight=89]="BracketRight",M[M.Quote=90]="Quote",M[M.OEM_8=91]="OEM_8",M[M.IntlBackslash=92]="IntlBackslash",M[M.Numpad0=93]="Numpad0",M[M.Numpad1=94]="Numpad1",M[M.Numpad2=95]="Numpad2",M[M.Numpad3=96]="Numpad3",M[M.Numpad4=97]="Numpad4",M[M.Numpad5=98]="Numpad5",M[M.Numpad6=99]="Numpad6",M[M.Numpad7=100]="Numpad7",M[M.Numpad8=101]="Numpad8",M[M.Numpad9=102]="Numpad9",M[M.NumpadMultiply=103]="NumpadMultiply",M[M.NumpadAdd=104]="NumpadAdd",M[M.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=106]="NumpadSubtract",M[M.NumpadDecimal=107]="NumpadDecimal",M[M.NumpadDivide=108]="NumpadDivide",M[M.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",M[M.ABNT_C1=110]="ABNT_C1",M[M.ABNT_C2=111]="ABNT_C2",M[M.AudioVolumeMute=112]="AudioVolumeMute",M[M.AudioVolumeUp=113]="AudioVolumeUp",M[M.AudioVolumeDown=114]="AudioVolumeDown",M[M.BrowserSearch=115]="BrowserSearch",M[M.BrowserHome=116]="BrowserHome",M[M.BrowserBack=117]="BrowserBack",M[M.BrowserForward=118]="BrowserForward",M[M.MediaTrackNext=119]="MediaTrackNext",M[M.MediaTrackPrevious=120]="MediaTrackPrevious",M[M.MediaStop=121]="MediaStop",M[M.MediaPlayPause=122]="MediaPlayPause",M[M.LaunchMediaPlayer=123]="LaunchMediaPlayer",M[M.LaunchMail=124]="LaunchMail",M[M.LaunchApp2=125]="LaunchApp2",M[M.Clear=126]="Clear",M[M.MAX_VALUE=127]="MAX_VALUE"})(l=e.KeyCode||(e.KeyCode={}));var c;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(c=e.MarkerSeverity||(e.MarkerSeverity={}));var g;(function(M){M[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated"})(g=e.MarkerTag||(e.MarkerTag={}));var m;(function(M){M[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter"})(m=e.MinimapPosition||(e.MinimapPosition={}));var S;(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(S=e.MouseTargetType||(e.MouseTargetType={}));var p;(function(M){M[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER"})(p=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var v;(function(M){M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full"})(v=e.OverviewRulerLane||(e.OverviewRulerLane={}));var _;(function(M){M[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText"})(_=e.PositionAffinity||(e.PositionAffinity={}));var w;(function(M){M[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom"})(w=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var E;(function(M){M[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks"})(E=e.RenderMinimap||(e.RenderMinimap={}));var I;(function(M){M[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate"})(I=e.ScrollType||(e.ScrollType={}));var T;(function(M){M[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible"})(T=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var R;(function(M){M[M.LTR=0]="LTR",M[M.RTL=1]="RTL"})(R=e.SelectionDirection||(e.SelectionDirection={}));var B;(function(M){M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange"})(B=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var O;(function(M){M[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter"})(O=e.SymbolKind||(e.SymbolKind={}));var k;(function(M){M[M.Deprecated=1]="Deprecated"})(k=e.SymbolTag||(e.SymbolTag={}));var A;(function(M){M[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid"})(A=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var F;(function(M){M[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin"})(F=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var P;(function(M){M[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(P=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var W;(function(M){M[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent"})(W=e.WrappingIndent||(e.WrappingIndent={}))}),define(oe[440],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class y{constructor(L,b,C,u){this.range=L,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=C,this.isInvalid=u}}e.BracketInfo=y;class f{constructor(L,b,C,u,h,i){this.range=L,this.openingBracketRange=b,this.closingBracketRange=C,this.nestingLevel=u,this.nestingLevelOfEqualBracketType=h,this.bracketPairNode=i}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=f;class N extends f{constructor(L,b,C,u,h,i,n){super(L,b,C,u,h,i);this.minVisibleColumnIndentation=n}}e.BracketPairWithMinIndentationInfo=N}),define(oe[95],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class y{constructor(){this.changeType=1}}e.ModelRawFlush=y;class f{constructor(n,t,r,d,o){this.ownerId=n,this.lineNumber=t,this.column=r,this.options=d,this.order=o}static applyInjectedText(n,t){if(!t||t.length===0)return n;let r="",d=0;for(const o of t)r+=n.substring(d,o.column-1),d=o.column-1,r+=o.options.content;return r+=n.substring(d),r}static fromDecorations(n){const t=[];for(const r of n)r.options.before&&r.options.before.content.length>0&&t.push(new f(r.ownerId,r.range.startLineNumber,r.range.startColumn,r.options.before,0)),r.options.after&&r.options.after.content.length>0&&t.push(new f(r.ownerId,r.range.endLineNumber,r.range.endColumn,r.options.after,1));return t.sort((r,d)=>r.lineNumber===d.lineNumber?r.column===d.column?r.order-d.order:r.column-d.column:r.lineNumber-d.lineNumber),t}}e.LineInjectedText=f;class N{constructor(n,t,r){this.changeType=2,this.lineNumber=n,this.detail=t,this.injectedText=r}}e.ModelRawLineChanged=N;class D{constructor(n,t){this.changeType=3,this.fromLineNumber=n,this.toLineNumber=t}}e.ModelRawLinesDeleted=D;class L{constructor(n,t,r,d){this.changeType=4,this.injectedTexts=d,this.fromLineNumber=n,this.toLineNumber=t,this.detail=r}}e.ModelRawLinesInserted=L;class b{constructor(){this.changeType=5}}e.ModelRawEOLChanged=b;class C{constructor(n,t,r,d){this.changes=n,this.versionId=t,this.isUndoing=r,this.isRedoing=d,this.resultingSelection=null}containsEvent(n){for(let t=0,r=this.changes.length;t<r;t++)if(this.changes[t].changeType===n)return!0;return!1}static merge(n,t){const r=[].concat(n.changes).concat(t.changes),d=t.versionId,o=n.isUndoing||t.isUndoing,a=n.isRedoing||t.isRedoing;return new C(r,d,o,a)}}e.ModelRawContentChangedEvent=C;class u{constructor(n){this.changes=n}}e.ModelInjectedTextChangedEvent=u;class h{constructor(n,t){this.rawContentChangedEvent=n,this.contentChangedEvent=t}merge(n){const t=C.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),r=h._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new h(t,r)}static _mergeChangeEvents(n,t){const r=[].concat(n.changes).concat(t.changes),d=t.eol,o=t.versionId,a=n.isUndoing||t.isUndoing,s=n.isRedoing||t.isRedoing,l=n.isFlush||t.isFlush;return{changes:r,eol:d,versionId:o,isUndoing:a,isRedoing:s,isFlush:l}}}e.InternalModelContentChangeEvent=h}),define(oe[187],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var y;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(y=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class f{constructor(L,b,C,u,h,i){if(this.visibleColumn=L,this.column=b,this.className=C,this.horizontalLine=u,this.forWrappedLinesAfterColumn=h,this.forWrappedLinesBeforeOrAtColumn=i,L!==-1==(b!==-1))throw new Error}}e.IndentGuide=f;class N{constructor(L,b){this.top=L,this.endColumn=b}}e.IndentGuideHorizontalLine=N}),define(oe[253],se([1,0,18,8,67,3,248,186,187]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class u extends L.TextModelPart{constructor(n,t){super();this.textModel=n,this.languageConfigurationService=t}getLanguageConfiguration(n){return this.languageConfigurationService.getLanguageConfiguration(n)}_computeIndentLevel(n){return(0,b.computeIndentLevel)(this.textModel.getLineContent(n+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(n,t,r){this.assertNotDisposed();const d=this.textModel.getLineCount();if(n<1||n>d)throw new Error("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(o&&o.offSide);let s=-2,l=-1,c=-2,g=-1;const m=k=>{if(s!==-1&&(s===-2||s>k-1)){s=-1,l=-1;for(let A=k-2;A>=0;A--){const F=this._computeIndentLevel(A);if(F>=0){s=A,l=F;break}}}if(c===-2){c=-1,g=-1;for(let A=k;A<d;A++){const F=this._computeIndentLevel(A);if(F>=0){c=A,g=F;break}}}};let S=-2,p=-1,v=-2,_=-1;const w=k=>{if(S===-2){S=-1,p=-1;for(let A=k-2;A>=0;A--){const F=this._computeIndentLevel(A);if(F>=0){S=A,p=F;break}}}if(v!==-1&&(v===-2||v<k-1)){v=-1,_=-1;for(let A=k;A<d;A++){const F=this._computeIndentLevel(A);if(F>=0){v=A,_=F;break}}}};let E=0,I=!0,T=0,R=!0,B=0,O=0;for(let k=0;I||R;k++){const A=n-k,F=n+k;k>1&&(A<1||A<t)&&(I=!1),k>1&&(F>d||F>r)&&(R=!1),k>5e4&&(I=!1,R=!1);let P=-1;if(I&&A>=1){const M=this._computeIndentLevel(A-1);M>=0?(c=A-1,g=M,P=Math.ceil(M/this.textModel.getOptions().indentSize)):(m(A),P=this._getIndentLevelForWhitespaceLine(a,l,g))}let W=-1;if(R&&F<=d){const M=this._computeIndentLevel(F-1);M>=0?(S=F-1,p=M,W=Math.ceil(M/this.textModel.getOptions().indentSize)):(w(F),W=this._getIndentLevelForWhitespaceLine(a,p,_))}if(k===0){O=P;continue}if(k===1){if(F<=d&&W>=0&&O+1===W){I=!1,E=F,T=F,B=W;continue}if(A>=1&&P>=0&&P-1===O){R=!1,E=A,T=A,B=P;continue}if(E=n,T=n,B=O,B===0)return{startLineNumber:E,endLineNumber:T,indent:B}}I&&(P>=B?E=A:I=!1),R&&(W>=B?T=F:R=!1)}return{startLineNumber:E,endLineNumber:T,indent:B}}getLinesBracketGuides(n,t,r,d){var o;const a=[];for(let S=n;S<=t;S++)a.push([]);const s=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(n,1,t,this.textModel.getLineMaxColumn(t)));let c;if(r&&l.length>0){const S=(n<=r.lineNumber&&r.lineNumber<=t?l:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(r))).filter(p=>D.Range.strictContainsPosition(p.range,r));c=(o=(0,y.findLast)(S,p=>s||p.range.startLineNumber!==p.range.endLineNumber))===null||o===void 0?void 0:o.range}const g=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,m=new h;for(const S of l){if(!S.closingBracketRange)continue;const p=c&&S.range.equalsRange(c);if(!p&&!d.includeInactive)continue;const v=m.getInlineClassName(S.nestingLevel,S.nestingLevelOfEqualBracketType,g)+(d.highlightActive&&p?" "+m.activeClassName:""),_=S.openingBracketRange.getStartPosition(),w=S.closingBracketRange.getStartPosition(),E=d.horizontalGuides===C.HorizontalGuidesState.Enabled||d.horizontalGuides===C.HorizontalGuidesState.EnabledForActive&&p;if(S.range.startLineNumber===S.range.endLineNumber){s&&E&&a[S.range.startLineNumber-n].push(new C.IndentGuide(-1,S.openingBracketRange.getEndPosition().column,v,new C.IndentGuideHorizontalLine(!1,w.column),-1,-1));continue}const I=this.getVisibleColumnFromPosition(w),T=this.getVisibleColumnFromPosition(S.openingBracketRange.getStartPosition()),R=Math.min(T,I,S.minVisibleColumnIndentation+1);let B=!1;f.firstNonWhitespaceIndex(this.textModel.getLineContent(S.closingBracketRange.startLineNumber))<S.closingBracketRange.startColumn-1&&(B=!0);const A=Math.max(_.lineNumber,n),F=Math.min(w.lineNumber,t),P=B?1:0;for(let W=A;W<F+P;W++)a[W-n].push(new C.IndentGuide(R,-1,v,null,W===_.lineNumber?_.column:-1,W===w.lineNumber?w.column:-1));E&&(_.lineNumber>=n&&T>R&&a[_.lineNumber-n].push(new C.IndentGuide(R,-1,v,new C.IndentGuideHorizontalLine(!1,_.column),-1,-1)),w.lineNumber<=t&&I>R&&a[w.lineNumber-n].push(new C.IndentGuide(R,-1,v,new C.IndentGuideHorizontalLine(!B,w.column),-1,-1)))}for(const S of a)S.sort((p,v)=>p.visibleColumn-v.visibleColumn);return a}getVisibleColumnFromPosition(n){return N.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(n.lineNumber),n.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(n,t){this.assertNotDisposed();const r=this.textModel.getLineCount();if(n<1||n>r)throw new Error("Illegal value for startLineNumber");if(t<1||t>r)throw new Error("Illegal value for endLineNumber");const d=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(o&&o.offSide),s=new Array(t-n+1);let l=-2,c=-1,g=-2,m=-1;for(let S=n;S<=t;S++){const p=S-n,v=this._computeIndentLevel(S-1);if(v>=0){l=S-1,c=v,s[p]=Math.ceil(v/d.indentSize);continue}if(l===-2){l=-1,c=-1;for(let _=S-2;_>=0;_--){const w=this._computeIndentLevel(_);if(w>=0){l=_,c=w;break}}}if(g!==-1&&(g===-2||g<S-1)){g=-1,m=-1;for(let _=S;_<r;_++){const w=this._computeIndentLevel(_);if(w>=0){g=_,m=w;break}}}s[p]=this._getIndentLevelForWhitespaceLine(a,c,m)}return s}_getIndentLevelForWhitespaceLine(n,t,r){const d=this.textModel.getOptions();return t===-1||r===-1?0:t<r?1+Math.floor(t/d.indentSize):t===r||n?Math.ceil(r/d.indentSize):1+Math.floor(r/d.indentSize)}}e.GuidesTextModelPart=u;class h{constructor(){this.activeClassName="indent-active"}getInlineClassName(n,t,r){return this.getInlineClassNameOfLevel(r?t:n)}getInlineClassNameOfLevel(n){return`bracket-indent-guide lvl-${n%30}`}}e.BracketPairGuidesClassNames=h}),define(oe[441],se([1,0,4,2]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class N{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,C){return this._map.set(b,C),this.fire([b]),(0,f.toDisposable)(()=>{this._map.get(b)===C&&(this._map.delete(b),this.fire([b]))})}registerFactory(b,C){var u;(u=this._factories.get(b))===null||u===void 0||u.dispose();const h=new D(this,b,C);return this._factories.set(b,h),(0,f.toDisposable)(()=>{const i=this._factories.get(b);!i||i!==h||(this._factories.delete(b),i.dispose())})}getOrCreate(b){return Le(this,void 0,void 0,function*(){const C=this.get(b);if(C)return C;const u=this._factories.get(b);return!u||u.isResolved?null:(yield u.resolve(),this.get(b))})}get(b){return this._map.get(b)||null}isResolved(b){if(this.get(b))return!0;const u=this._factories.get(b);return!!(!u||u.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=N;class D extends f.Disposable{constructor(b,C,u){super();this._registry=b,this._languageId=C,this._factory=u,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Le(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Le(this,void 0,void 0,function*(){const b=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))})}}}),define(oe[27],se([1,0,25,3,441,28]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=e.TokenMetadata=void 0;class L{static getLanguageId(c){return(c&255)>>>0}static getTokenType(c){return(c&768)>>>8}static containsBalancedBrackets(c){return(c&1024)!=0}static getFontStyle(c){return(c&30720)>>>11}static getForeground(c){return(c&16744448)>>>15}static getBackground(c){return(c&4278190080)>>>24}static getClassNameFromMetadata(c){const g=this.getForeground(c);let m="mtk"+g;const S=this.getFontStyle(c);return S&1&&(m+=" mtki"),S&2&&(m+=" mtkb"),S&4&&(m+=" mtku"),S&8&&(m+=" mtks"),m}static getInlineStyleFromMetadata(c,g){const m=this.getForeground(c),S=this.getFontStyle(c);let p=`color: ${g[m]};`;S&1&&(p+="font-style: italic;"),S&2&&(p+="font-weight: bold;");let v="";return S&4&&(v+=" underline"),S&8&&(v+=" line-through"),v&&(p+=`text-decoration:${v};`),p}static getPresentationFromMetadata(c){const g=this.getForeground(c),m=this.getFontStyle(c);return{foreground:g,italic:Boolean(m&1),bold:Boolean(m&2),underline:Boolean(m&4),strikethrough:Boolean(m&8)}}}e.TokenMetadata=L;class b{constructor(c,g,m){this._tokenBrand=void 0,this.offset=c,this.type=g,this.language=m}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=b;class C{constructor(c,g){this._tokenizationResultBrand=void 0,this.tokens=c,this.endState=g}}e.TokenizationResult=C;class u{constructor(c,g){this._encodedTokenizationResultBrand=void 0,this.tokens=c,this.endState=g}}e.EncodedTokenizationResult=u;var h;(function(l){const c=new Map;c.set(0,D.Codicon.symbolMethod),c.set(1,D.Codicon.symbolFunction),c.set(2,D.Codicon.symbolConstructor),c.set(3,D.Codicon.symbolField),c.set(4,D.Codicon.symbolVariable),c.set(5,D.Codicon.symbolClass),c.set(6,D.Codicon.symbolStruct),c.set(7,D.Codicon.symbolInterface),c.set(8,D.Codicon.symbolModule),c.set(9,D.Codicon.symbolProperty),c.set(10,D.Codicon.symbolEvent),c.set(11,D.Codicon.symbolOperator),c.set(12,D.Codicon.symbolUnit),c.set(13,D.Codicon.symbolValue),c.set(15,D.Codicon.symbolEnum),c.set(14,D.Codicon.symbolConstant),c.set(15,D.Codicon.symbolEnum),c.set(16,D.Codicon.symbolEnumMember),c.set(17,D.Codicon.symbolKeyword),c.set(27,D.Codicon.symbolSnippet),c.set(18,D.Codicon.symbolText),c.set(19,D.Codicon.symbolColor),c.set(20,D.Codicon.symbolFile),c.set(21,D.Codicon.symbolReference),c.set(22,D.Codicon.symbolCustomColor),c.set(23,D.Codicon.symbolFolder),c.set(24,D.Codicon.symbolTypeParameter),c.set(25,D.Codicon.account),c.set(26,D.Codicon.issues);function g(p){let v=c.get(p);return v||(console.info("No codicon found for CompletionItemKind "+p),v=D.Codicon.symbolProperty),v}l.toIcon=g;const m=new Map;m.set("method",0),m.set("function",1),m.set("constructor",2),m.set("field",3),m.set("variable",4),m.set("class",5),m.set("struct",6),m.set("interface",7),m.set("module",8),m.set("property",9),m.set("event",10),m.set("operator",11),m.set("unit",12),m.set("value",13),m.set("constant",14),m.set("enum",15),m.set("enum-member",16),m.set("enumMember",16),m.set("keyword",17),m.set("snippet",27),m.set("text",18),m.set("color",19),m.set("file",20),m.set("reference",21),m.set("customcolor",22),m.set("folder",23),m.set("type-parameter",24),m.set("typeParameter",24),m.set("account",25),m.set("issue",26);function S(p,v){let _=m.get(p);return typeof _=="undefined"&&!v&&(_=9),_}l.fromString=S})(h=e.CompletionItemKinds||(e.CompletionItemKinds={}));var i;(function(l){l[l.Automatic=0]="Automatic",l[l.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var n;(function(l){l[l.Invoke=1]="Invoke",l[l.TriggerCharacter=2]="TriggerCharacter",l[l.ContentChange=3]="ContentChange"})(n=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var t;(function(l){l[l.Text=0]="Text",l[l.Read=1]="Read",l[l.Write=2]="Write"})(t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function r(l){return l&&y.URI.isUri(l.uri)&&f.Range.isIRange(l.range)&&(f.Range.isIRange(l.originSelectionRange)||f.Range.isIRange(l.targetSelectionRange))}e.isLocationLink=r;var d;(function(l){const c=new Map;c.set(0,D.Codicon.symbolFile),c.set(1,D.Codicon.symbolModule),c.set(2,D.Codicon.symbolNamespace),c.set(3,D.Codicon.symbolPackage),c.set(4,D.Codicon.symbolClass),c.set(5,D.Codicon.symbolMethod),c.set(6,D.Codicon.symbolProperty),c.set(7,D.Codicon.symbolField),c.set(8,D.Codicon.symbolConstructor),c.set(9,D.Codicon.symbolEnum),c.set(10,D.Codicon.symbolInterface),c.set(11,D.Codicon.symbolFunction),c.set(12,D.Codicon.symbolVariable),c.set(13,D.Codicon.symbolConstant),c.set(14,D.Codicon.symbolString),c.set(15,D.Codicon.symbolNumber),c.set(16,D.Codicon.symbolBoolean),c.set(17,D.Codicon.symbolArray),c.set(18,D.Codicon.symbolObject),c.set(19,D.Codicon.symbolKey),c.set(20,D.Codicon.symbolNull),c.set(21,D.Codicon.symbolEnumMember),c.set(22,D.Codicon.symbolStruct),c.set(23,D.Codicon.symbolEvent),c.set(24,D.Codicon.symbolOperator),c.set(25,D.Codicon.symbolTypeParameter);function g(m){let S=c.get(m);return S||(console.info("No codicon found for SymbolKind "+m),S=D.Codicon.symbolProperty),S}l.toIcon=g})(d=e.SymbolKinds||(e.SymbolKinds={}));class o{constructor(c){this.value=c}}e.FoldingRangeKind=o,o.Comment=new o("comment"),o.Imports=new o("imports"),o.Region=new o("region");var a;(function(l){function c(g){return!g||typeof g!="object"?!1:typeof g.id=="string"&&typeof g.title=="string"}l.is=c})(a=e.Command||(e.Command={}));var s;(function(l){l[l.Type=1]="Type",l[l.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new N.TokenizationRegistry}),define(oe[127],se([1,0,27]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function f(D,L){return new y.TokenizationResult([new y.Token(0,"",D)],L)}e.nullTokenize=f;function N(D,L){const b=new Uint32Array(2);return b[0]=0,b[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new y.EncodedTokenizationResult(b,L===null?e.NullState:L)}e.nullTokenizeEncoded=N}),define(oe[188],se([1,0,13,27,152,86,105]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class b{constructor(n,t,r,d,o){this.length=n,this.kind=t,this.bracketId=r,this.bracketIds=d,this.astNode=o}}e.Token=b;class C{constructor(n,t){this.textModel=n,this.bracketTokens=t,this.reader=new u(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(n){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,n);const t=(0,D.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let n;return this.peeked?(this.didPeek=!1,n=this.peeked):n=this.reader.read(),n&&(this._offset=(0,D.lengthAdd)(this._offset,n.length)),n}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=C;class u{constructor(n,t){this.textModel=n,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}setPosition(n,t){n===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=n,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(o.length),o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const n=this.lineIdx,t=this.lineCharOffset;let r=0;for(;;){const o=this.lineTokens,a=o.getCount();let s=null;if(this.lineTokenOffset<a){const l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<a&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=f.TokenMetadata.getTokenType(l)===0,g=f.TokenMetadata.containsBalancedBrackets(l),m=o.getEndOffset(this.lineTokenOffset);if(g&&c&&m!==this.lineCharOffset){const S=o.getLanguageId(this.lineTokenOffset),p=this.line.substring(this.lineCharOffset,m),v=this.bracketTokens.getSingleLanguageBracketTokens(S),_=v.regExpGlobal;if(_){_.lastIndex=0;const w=_.exec(p);w&&(s=v.getToken(w[0]),s&&(this.lineCharOffset+=w.index))}}if(r+=m-this.lineCharOffset,s)if(n!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=s;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(s.length),s;else this.lineTokenOffset++,this.lineCharOffset=m}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,r+=33,r>1e3))break;if(r>1500)break}const d=(0,D.lengthDiff)(n,t,this.lineIdx,this.lineCharOffset);return new b(d,0,-1,L.SmallImmutableSet.getEmpty(),new N.TextAstNode(d))}}class h{constructor(n,t){this.text=n,this._offset=D.lengthZero,this.idx=0;const r=t.getRegExpStr(),d=r?new RegExp(r+`|
`,"gi"):null,o=[];let a,s=0,l=0,c=0,g=0;const m=new Array;for(let v=0;v<60;v++)m.push(new b((0,D.toLength)(0,v),0,-1,L.SmallImmutableSet.getEmpty(),new N.TextAstNode((0,D.toLength)(0,v))));const S=new Array;for(let v=0;v<60;v++)S.push(new b((0,D.toLength)(1,v),0,-1,L.SmallImmutableSet.getEmpty(),new N.TextAstNode((0,D.toLength)(1,v))));if(d)for(d.lastIndex=0;(a=d.exec(n))!==null;){const v=a.index,_=a[0];if(_===`
`)s++,l=v+1;else{if(c!==v){let w;if(g===s){const E=v-c;if(E<m.length)w=m[E];else{const I=(0,D.toLength)(0,E);w=new b(I,0,-1,L.SmallImmutableSet.getEmpty(),new N.TextAstNode(I))}}else{const E=s-g,I=v-l;if(E===1&&I<S.length)w=S[I];else{const T=(0,D.toLength)(E,I);w=new b(T,0,-1,L.SmallImmutableSet.getEmpty(),new N.TextAstNode(T))}}o.push(w)}o.push(t.getToken(_)),c=v+_.length,g=s}}const p=n.length;if(c!==p){const v=g===s?(0,D.toLength)(0,p-c):(0,D.toLength)(s-g,p-l);o.push(new b(v,0,-1,L.SmallImmutableSet.getEmpty(),new N.TextAstNode(v)))}this.length=(0,D.toLength)(s,p-l),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(n){throw new y.NotSupportedError}}e.FastTokenizer=h}),define(oe[254],se([1,0,8,152,86,105,188]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{constructor(i){this.map=i,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(i,n){function t(d){return n.getKey(`${d.languageId}:::${d.bracketText}`)}const r=new Map;for(const d of i.bracketsNew.openingBrackets){const o=(0,N.toLength)(0,d.bracketText.length),a=t(d),s=D.SmallImmutableSet.getEmpty().add(a,D.identityKeyProvider);r.set(d.bracketText,new L.Token(o,1,a,s,f.BracketAstNode.create(o,d,s)))}for(const d of i.bracketsNew.closingBrackets){const o=(0,N.toLength)(0,d.bracketText.length);let a=D.SmallImmutableSet.getEmpty();const s=d.getClosedBrackets();for(const l of s)a=a.add(t(l),D.identityKeyProvider);r.set(d.bracketText,new L.Token(o,2,t(s[0]),a,f.BracketAstNode.create(o,d,a)))}return new b(r)}getRegExpStr(){if(this.isEmpty)return null;{const i=[...this.map.keys()];return i.sort(),i.reverse(),i.map(n=>C(n)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const i=this.getRegExpStr();this._regExpGlobal=i?new RegExp(i,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(i){return this.map.get(i.toLowerCase())}findClosingTokenText(i){for(const[n,t]of this.map)if(t.bracketIds.intersects(i))return n}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;function C(h){const i=(0,y.escapeRegExpCharacters)(h);return/^[\w ]+$/.test(h)?`\\b${i}\\b`:i}class u{constructor(i,n){this.denseKeyProvider=i,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}didLanguageChange(i){return this.languageIdToBracketTokens.has(i)}getSingleLanguageBracketTokens(i){let n=this.languageIdToBracketTokens.get(i);return n||(n=b.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider),this.languageIdToBracketTokens.set(i,n)),n}}e.LanguageAgnosticBracketTokens=u}),define(oe[442],se([1,0,4,2,3,440,245,254,86,246,105,188]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class n extends f.Disposable{constructor(l,c){super();if(this.textModel=l,this.getLanguageConfiguration=c,this.didChangeEmitter=new y.Emitter,this.denseKeyProvider=new h.DenseKeyProvider,this.brackets=new b.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,l.tokenization.backgroundTokenizationState===0){const g=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),m=new i.FastTokenizer(this.textModel.getValue(),g);this.initialAstWithoutTokens=(0,u.parseDocument)(m,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else l.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):l.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(l){return this.brackets.didLanguageChange(l)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const l=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,l||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:l}){const c=l.map(g=>new L.TextEditInfo((0,C.toLength)(g.fromLineNumber-1,0),(0,C.toLength)(g.toLineNumber,0),(0,C.toLength)(g.toLineNumber-g.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(c,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(l){const c=l.changes.map(g=>{const m=N.Range.lift(g.range);return new L.TextEditInfo((0,C.positionToLength)(m.getStartPosition()),(0,C.positionToLength)(m.getEndPosition()),(0,C.lengthOfString)(g.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(c,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(c,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(l,c,g){const S=!1?c==null?void 0:c.deepClone():c,p=new i.TextBufferTokenizer(this.textModel,this.brackets);return(0,u.parseDocument)(p,l,S,g)}getBracketsInRange(l){const c=(0,C.toLength)(l.startLineNumber-1,l.startColumn-1),g=(0,C.toLength)(l.endLineNumber-1,l.endColumn-1),m=new Array,S=this.initialAstWithoutTokens||this.astWithTokens;return d(S,C.lengthZero,S.length,c,g,m,0,new Map),m}getBracketPairsInRange(l,c){const g=new Array,m=(0,C.positionToLength)(l.getStartPosition()),S=(0,C.positionToLength)(l.getEndPosition()),p=this.initialAstWithoutTokens||this.astWithTokens,v=new o(g,c,this.textModel);return a(p,C.lengthZero,p.length,m,S,v,0,new Map),g}getFirstBracketAfter(l){const c=this.initialAstWithoutTokens||this.astWithTokens;return r(c,C.lengthZero,c.length,(0,C.positionToLength)(l))}getFirstBracketBefore(l){const c=this.initialAstWithoutTokens||this.astWithTokens;return t(c,C.lengthZero,c.length,(0,C.positionToLength)(l))}}e.BracketPairsTree=n;function t(s,l,c,g){if(s.kind===4||s.kind===2){const m=[];for(const S of s.children)c=(0,C.lengthAdd)(l,S.length),m.push({nodeOffsetStart:l,nodeOffsetEnd:c}),l=c;for(let S=m.length-1;S>=0;S--){const{nodeOffsetStart:p,nodeOffsetEnd:v}=m[S];if((0,C.lengthLessThan)(p,g)){const _=t(s.children[S],p,v,g);if(_)return _}}return null}else{if(s.kind===3)return null;if(s.kind===1){const m=(0,C.lengthsToRange)(l,c);return{bracketInfo:s.bracketInfo,range:m}}}return null}function r(s,l,c,g){if(s.kind===4||s.kind===2){for(const m of s.children){if(c=(0,C.lengthAdd)(l,m.length),(0,C.lengthLessThan)(g,c)){const S=r(m,l,c,g);if(S)return S}l=c}return null}else{if(s.kind===3)return null;if(s.kind===1){const m=(0,C.lengthsToRange)(l,c);return{bracketInfo:s.bracketInfo,range:m}}}return null}function d(s,l,c,g,m,S,p,v){if(s.kind===4)for(const _ of s.children)c=(0,C.lengthAdd)(l,_.length),(0,C.lengthLessThanEqual)(l,m)&&(0,C.lengthGreaterThanEqual)(c,g)&&d(_,l,c,g,m,S,p,v),l=c;else if(s.kind===2){let _=0;if(v){let w=v.get(s.openingBracket.text);w===void 0&&(w=0),_=w,w++,v.set(s.openingBracket.text,w)}{const w=s.openingBracket;if(c=(0,C.lengthAdd)(l,w.length),(0,C.lengthLessThanEqual)(l,m)&&(0,C.lengthGreaterThanEqual)(c,g)){const E=(0,C.lengthsToRange)(l,c);S.push(new D.BracketInfo(E,p,_,!s.closingBracket))}l=c}if(s.child){const w=s.child;c=(0,C.lengthAdd)(l,w.length),(0,C.lengthLessThanEqual)(l,m)&&(0,C.lengthGreaterThanEqual)(c,g)&&d(w,l,c,g,m,S,p+1,v),l=c}if(s.closingBracket){const w=s.closingBracket;if(c=(0,C.lengthAdd)(l,w.length),(0,C.lengthLessThanEqual)(l,m)&&(0,C.lengthGreaterThanEqual)(c,g)){const E=(0,C.lengthsToRange)(l,c);S.push(new D.BracketInfo(E,p,_,!1))}l=c}v&&v.set(s.openingBracket.text,_)}else if(s.kind===3){const _=(0,C.lengthsToRange)(l,c);S.push(new D.BracketInfo(_,p-1,0,!0))}else if(s.kind===1){const _=(0,C.lengthsToRange)(l,c);S.push(new D.BracketInfo(_,p-1,0,!1))}}class o{constructor(l,c,g){this.result=l,this.includeMinIndentation=c,this.textModel=g}}function a(s,l,c,g,m,S,p,v){var _;if(s.kind===2){let w=0;if(v){let T=v.get(s.openingBracket.text);T===void 0&&(T=0),w=T,T++,v.set(s.openingBracket.text,T)}const E=(0,C.lengthAdd)(l,s.openingBracket.length);let I=-1;if(S.includeMinIndentation&&(I=s.computeMinIndentation(l,S.textModel)),S.result.push(new D.BracketPairWithMinIndentationInfo((0,C.lengthsToRange)(l,c),(0,C.lengthsToRange)(l,E),s.closingBracket?(0,C.lengthsToRange)((0,C.lengthAdd)(E,((_=s.child)===null||_===void 0?void 0:_.length)||C.lengthZero),c):void 0,p,w,s,I)),l=E,s.child){const T=s.child;c=(0,C.lengthAdd)(l,T.length),(0,C.lengthLessThanEqual)(l,m)&&(0,C.lengthGreaterThanEqual)(c,g)&&a(T,l,c,g,m,S,p+1,v)}v&&v.set(s.openingBracket.text,w)}else{let w=l;for(const E of s.children){const I=w;w=(0,C.lengthAdd)(w,E.length),(0,C.lengthLessThanEqual)(I,m)&&(0,C.lengthLessThanEqual)(g,w)&&a(E,I,w,g,m,S,p,v)}}}}),define(oe[443],se([1,0,4,2,3,442,104,185,18]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class u extends f.Disposable{constructor(d,o){super();this.textModel=d,this.languageConfigurationService=o,this.bracketPairsTree=this._register(new f.MutableDisposable),this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(a=>{var s;(!a.languageId||((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.didLanguageChange(a.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){const d=5e4*100;return this.textModel.getValueLength()<=d}handleDidChangeOptions(d){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(d){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(d){var o;(o=this.bracketPairsTree.value)===null||o===void 0||o.object.handleContentChanged(d)}handleDidChangeBackgroundTokenizationState(){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(d){var o;(o=this.bracketPairsTree.value)===null||o===void 0||o.object.handleDidChangeTokens(d)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const d=new f.DisposableStore;this.bracketPairsTree.value=h(d.add(new D.BracketPairsTree(this.textModel,o=>this.languageConfigurationService.getLanguageConfiguration(o))),d),d.add(this.bracketPairsTree.value.object.onDidChange(o=>this.onDidChangeEmitter.fire(o))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(d){var o;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)===null||o===void 0?void 0:o.object.getBracketPairsInRange(d,!1))||[]}getBracketPairsInRangeWithMinIndentation(d){var o;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)===null||o===void 0?void 0:o.object.getBracketPairsInRange(d,!0))||[]}getBracketsInRange(d){var o;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)===null||o===void 0?void 0:o.object.getBracketsInRange(d))||[]}findMatchingBracketUp(d,o,a){const s=this.textModel.validatePosition(o),l=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const c=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew.getClosingBracketInfo(d),g=(0,C.findLast)(this.getBracketPairsInRange(N.Range.fromPositions(o,o))||[],m=>c.closes(m.openingBracketInfo));return g?g.openingBracketRange:null}else{const c=d.toLowerCase(),g=this.languageConfigurationService.getLanguageConfiguration(l).brackets;if(!g)return null;const m=g.textIsBracket[c];return m?t(this._findMatchingBracketUp(m,s,i(a))):null}}matchBracket(d,o){if(this.canBuildAST){const a=(0,C.findLastMaxBy)(this.getBracketPairsInRange(N.Range.fromPositions(d,d)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(d)||s.closingBracketRange.containsPosition(d))),(0,C.compareBy)(s=>s.openingBracketRange.containsPosition(d)?s.openingBracketRange:s.closingBracketRange,N.Range.compareRangesUsingStarts));return a?[a.openingBracketRange,a.closingBracketRange]:null}else{const a=i(o);return this._matchBracket(this.textModel.validatePosition(d),a)}}_establishBracketSearchOffsets(d,o,a,s){const l=o.getCount(),c=o.getLanguageId(s);let g=Math.max(0,d.column-1-a.maxBracketLength);for(let S=s-1;S>=0;S--){const p=o.getEndOffset(S);if(p<=g)break;if((0,L.ignoreBracketsInToken)(o.getStandardTokenType(S))||o.getLanguageId(S)!==c){g=p;break}}let m=Math.min(o.getLineContent().length,d.column-1+a.maxBracketLength);for(let S=s+1;S<l;S++){const p=o.getStartOffset(S);if(p>=m)break;if((0,L.ignoreBracketsInToken)(o.getStandardTokenType(S))||o.getLanguageId(S)!==c){m=p;break}}return{searchStartOffset:g,searchEndOffset:m}}_matchBracket(d,o){const a=d.lineNumber,s=this.textModel.tokenization.getLineTokens(a),l=this.textModel.getLineContent(a),c=s.findTokenIndexAtOffset(d.column-1);if(c<0)return null;const g=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(c)).brackets;if(g&&!(0,L.ignoreBracketsInToken)(s.getStandardTokenType(c))){let{searchStartOffset:m,searchEndOffset:S}=this._establishBracketSearchOffsets(d,s,g,c),p=null;for(;;){const v=b.BracketsUtils.findNextBracketInRange(g.forwardRegex,a,l,m,S);if(!v)break;if(v.startColumn<=d.column&&d.column<=v.endColumn){const _=l.substring(v.startColumn-1,v.endColumn-1).toLowerCase(),w=this._matchFoundBracket(v,g.textIsBracket[_],g.textIsOpenBracket[_],o);if(w){if(w instanceof n)return null;p=w}}m=v.endColumn-1}if(p)return p}if(c>0&&s.getStartOffset(c)===d.column-1){const m=c-1,S=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(m)).brackets;if(S&&!(0,L.ignoreBracketsInToken)(s.getStandardTokenType(m))){const{searchStartOffset:p,searchEndOffset:v}=this._establishBracketSearchOffsets(d,s,S,m),_=b.BracketsUtils.findPrevBracketInRange(S.reversedRegex,a,l,p,v);if(_&&_.startColumn<=d.column&&d.column<=_.endColumn){const w=l.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),E=this._matchFoundBracket(_,S.textIsBracket[w],S.textIsOpenBracket[w],o);if(E)return E instanceof n?null:E}}}return null}_matchFoundBracket(d,o,a,s){if(!o)return null;const l=a?this._findMatchingBracketDown(o,d.getEndPosition(),s):this._findMatchingBracketUp(o,d.getStartPosition(),s);return l?l instanceof n?l:[d,l]:null}_findMatchingBracketUp(d,o,a){const s=d.languageId,l=d.reversedRegex;let c=-1,g=0;const m=(S,p,v,_)=>{for(;;){if(a&&++g%100==0&&!a())return n.INSTANCE;const w=b.BracketsUtils.findPrevBracketInRange(l,S,p,v,_);if(!w)break;const E=p.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(d.isOpen(E)?c++:d.isClose(E)&&c--,c===0)return w;_=w.startColumn-1}return null};for(let S=o.lineNumber;S>=1;S--){const p=this.textModel.tokenization.getLineTokens(S),v=p.getCount(),_=this.textModel.getLineContent(S);let w=v-1,E=_.length,I=_.length;S===o.lineNumber&&(w=p.findTokenIndexAtOffset(o.column-1),E=o.column-1,I=o.column-1);let T=!0;for(;w>=0;w--){const R=p.getLanguageId(w)===s&&!(0,L.ignoreBracketsInToken)(p.getStandardTokenType(w));if(R)T?E=p.getStartOffset(w):(E=p.getStartOffset(w),I=p.getEndOffset(w));else if(T&&E!==I){const B=m(S,_,E,I);if(B)return B}T=R}if(T&&E!==I){const R=m(S,_,E,I);if(R)return R}}return null}_findMatchingBracketDown(d,o,a){const s=d.languageId,l=d.forwardRegex;let c=1,g=0;const m=(p,v,_,w)=>{for(;;){if(a&&++g%100==0&&!a())return n.INSTANCE;const E=b.BracketsUtils.findNextBracketInRange(l,p,v,_,w);if(!E)break;const I=v.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(d.isOpen(I)?c++:d.isClose(I)&&c--,c===0)return E;_=E.endColumn-1}return null},S=this.textModel.getLineCount();for(let p=o.lineNumber;p<=S;p++){const v=this.textModel.tokenization.getLineTokens(p),_=v.getCount(),w=this.textModel.getLineContent(p);let E=0,I=0,T=0;p===o.lineNumber&&(E=v.findTokenIndexAtOffset(o.column-1),I=o.column-1,T=o.column-1);let R=!0;for(;E<_;E++){const B=v.getLanguageId(E)===s&&!(0,L.ignoreBracketsInToken)(v.getStandardTokenType(E));if(B)R||(I=v.getStartOffset(E)),T=v.getEndOffset(E);else if(R&&I!==T){const O=m(p,w,I,T);if(O)return O}R=B}if(R&&I!==T){const B=m(p,w,I,T);if(B)return B}}return null}findPrevBracket(d){var o;const a=this.textModel.validatePosition(d);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)===null||o===void 0?void 0:o.object.getFirstBracketBefore(a))||null;let s=null,l=null,c=null;for(let g=a.lineNumber;g>=1;g--){const m=this.textModel.tokenization.getLineTokens(g),S=m.getCount(),p=this.textModel.getLineContent(g);let v=S-1,_=p.length,w=p.length;if(g===a.lineNumber){v=m.findTokenIndexAtOffset(a.column-1),_=a.column-1,w=a.column-1;const I=m.getLanguageId(v);s!==I&&(s=I,l=this.languageConfigurationService.getLanguageConfiguration(s).brackets,c=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let E=!0;for(;v>=0;v--){const I=m.getLanguageId(v);if(s!==I){if(l&&c&&E&&_!==w){const R=b.BracketsUtils.findPrevBracketInRange(l.reversedRegex,g,p,_,w);if(R)return this._toFoundBracket(c,R);E=!1}s=I,l=this.languageConfigurationService.getLanguageConfiguration(s).brackets,c=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const T=!!l&&!(0,L.ignoreBracketsInToken)(m.getStandardTokenType(v));if(T)E?_=m.getStartOffset(v):(_=m.getStartOffset(v),w=m.getEndOffset(v));else if(c&&l&&E&&_!==w){const R=b.BracketsUtils.findPrevBracketInRange(l.reversedRegex,g,p,_,w);if(R)return this._toFoundBracket(c,R)}E=T}if(c&&l&&E&&_!==w){const I=b.BracketsUtils.findPrevBracketInRange(l.reversedRegex,g,p,_,w);if(I)return this._toFoundBracket(c,I)}}return null}findNextBracket(d){var o;const a=this.textModel.validatePosition(d);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)===null||o===void 0?void 0:o.object.getFirstBracketAfter(a))||null;const s=this.textModel.getLineCount();let l=null,c=null,g=null;for(let m=a.lineNumber;m<=s;m++){const S=this.textModel.tokenization.getLineTokens(m),p=S.getCount(),v=this.textModel.getLineContent(m);let _=0,w=0,E=0;if(m===a.lineNumber){_=S.findTokenIndexAtOffset(a.column-1),w=a.column-1,E=a.column-1;const T=S.getLanguageId(_);l!==T&&(l=T,c=this.languageConfigurationService.getLanguageConfiguration(l).brackets,g=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew)}let I=!0;for(;_<p;_++){const T=S.getLanguageId(_);if(l!==T){if(g&&c&&I&&w!==E){const B=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,m,v,w,E);if(B)return this._toFoundBracket(g,B);I=!1}l=T,c=this.languageConfigurationService.getLanguageConfiguration(l).brackets,g=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew}const R=!!c&&!(0,L.ignoreBracketsInToken)(S.getStandardTokenType(_));if(R)I||(w=S.getStartOffset(_)),E=S.getEndOffset(_);else if(g&&c&&I&&w!==E){const B=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,m,v,w,E);if(B)return this._toFoundBracket(g,B)}I=R}if(g&&c&&I&&w!==E){const T=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,m,v,w,E);if(T)return this._toFoundBracket(g,T)}}return null}findEnclosingBrackets(d,o){const a=this.textModel.validatePosition(d);if(this.canBuildAST){const w=N.Range.fromPositions(a),E=(0,C.findLast)(this.getBracketPairsInRange(N.Range.fromPositions(a,a)),I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(w));return E?[E.openingBracketRange,E.closingBracketRange]:null}const s=i(o),l=this.textModel.getLineCount(),c=new Map;let g=[];const m=(w,E)=>{if(!c.has(w)){const I=[];for(let T=0,R=E?E.brackets.length:0;T<R;T++)I[T]=0;c.set(w,I)}g=c.get(w)};let S=0;const p=(w,E,I,T,R)=>{for(;;){if(s&&++S%100==0&&!s())return n.INSTANCE;const B=b.BracketsUtils.findNextBracketInRange(w.forwardRegex,E,I,T,R);if(!B)break;const O=I.substring(B.startColumn-1,B.endColumn-1).toLowerCase(),k=w.textIsBracket[O];if(k&&(k.isOpen(O)?g[k.index]++:k.isClose(O)&&g[k.index]--,g[k.index]===-1))return this._matchFoundBracket(B,k,!1,s);T=B.endColumn-1}return null};let v=null,_=null;for(let w=a.lineNumber;w<=l;w++){const E=this.textModel.tokenization.getLineTokens(w),I=E.getCount(),T=this.textModel.getLineContent(w);let R=0,B=0,O=0;if(w===a.lineNumber){R=E.findTokenIndexAtOffset(a.column-1),B=a.column-1,O=a.column-1;const A=E.getLanguageId(R);v!==A&&(v=A,_=this.languageConfigurationService.getLanguageConfiguration(v).brackets,m(v,_))}let k=!0;for(;R<I;R++){const A=E.getLanguageId(R);if(v!==A){if(_&&k&&B!==O){const P=p(_,w,T,B,O);if(P)return t(P);k=!1}v=A,_=this.languageConfigurationService.getLanguageConfiguration(v).brackets,m(v,_)}const F=!!_&&!(0,L.ignoreBracketsInToken)(E.getStandardTokenType(R));if(F)k||(B=E.getStartOffset(R)),O=E.getEndOffset(R);else if(_&&k&&B!==O){const P=p(_,w,T,B,O);if(P)return t(P)}k=F}if(_&&k&&B!==O){const A=p(_,w,T,B,O);if(A)return t(A)}}return null}_toFoundBracket(d,o){if(!o)return null;let a=this.textModel.getValueInRange(o);a=a.toLowerCase();const s=d.getBracketInfo(a);return s?{range:o,bracketInfo:s}:null}}e.BracketPairsTextModelPart=u;function h(r,d){return{object:r,dispose:()=>d==null?void 0:d.dispose()}}function i(r){if(typeof r=="undefined")return()=>!0;{const d=Date.now();return()=>Date.now()-d<=r}}class n{constructor(){this._searchCanceledBrand=void 0}}n.INSTANCE=new n;function t(r){return r instanceof n?null:r}}),define(oe[444],se([1,0,254,86,246,105,188]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function b(u,h){const i=new D.DenseKeyProvider,n=new y.LanguageAgnosticBracketTokens(i,s=>h.getLanguageConfiguration(s)),t=new L.TextBufferTokenizer(new C([u]),n),r=(0,N.parseDocument)(t,[],void 0,!0);let d="";const o=u.getLineContent();function a(s,l){if(s.kind===2)a(s.openingBracket,l),l=(0,f.lengthAdd)(l,s.openingBracket.length),s.child&&(a(s.child,l),l=(0,f.lengthAdd)(l,s.child.length)),s.closingBracket?(a(s.closingBracket,l),l=(0,f.lengthAdd)(l,s.closingBracket.length)):d+=n.getSingleLanguageBracketTokens(s.openingBracket.languageId).findClosingTokenText(s.openingBracket.bracketIds);else if(s.kind!==3){if(s.kind===0||s.kind===1)d+=o.substring((0,f.lengthGetColumnCountIfZeroLineCount)(l),(0,f.lengthGetColumnCountIfZeroLineCount)((0,f.lengthAdd)(l,s.length)));else if(s.kind===4)for(const c of s.children)a(c,l),l=(0,f.lengthAdd)(l,c.length)}}return a(r,f.lengthZero),d}e.fixBracketsInLine=b;class C{constructor(h){this.lines=h,this.tokenization={getLineTokens:i=>this.lines[i-1]}}getLineCount(){return this.lines.length}getLineLength(h){return this.lines[h-1].getLineContent().length}}}),define(oe[255],se([1,0,21,4,59,25,11,3,24,27,154]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class i{static chord(r,d){return(0,N.KeyChord)(r,d)}}e.KeyMod=i,i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256;function n(){return{editor:void 0,languages:void 0,CancellationTokenSource:y.CancellationTokenSource,Emitter:f.Emitter,KeyCode:h.KeyCode,KeyMod:i,Position:L.Position,Range:b.Range,Selection:C.Selection,SelectionDirection:h.SelectionDirection,MarkerSeverity:h.MarkerSeverity,MarkerTag:h.MarkerTag,Uri:D.URI,Token:u.Token}}e.createMonacoBaseAPI=n}),define(oe[445],se([1,0,141,17,25,11,3,417,437,126,420,426,255,19,57,252]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class o extends C.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(c){return this._lines[c-1]}getWordAtPosition(c,g){const m=(0,u.getWordAtText)(c.column,(0,u.ensureValidWordDefinition)(g),this._lines[c.lineNumber-1],0);return m?new L.Range(c.lineNumber,m.startColumn,c.lineNumber,m.endColumn):null}words(c){const g=this._lines,m=this._wordenize.bind(this);let S=0,p="",v=0,_=[];return{*[Symbol.iterator](){for(;;)if(v<_.length){const w=p.substring(_[v].start,_[v].end);v+=1,yield w}else if(S<g.length)p=g[S],_=m(p,c),v=0,S+=1;else break}}}getLineWords(c,g){const m=this._lines[c-1],S=this._wordenize(m,g),p=[];for(const v of S)p.push({word:m.substring(v.start,v.end),startColumn:v.start+1,endColumn:v.end+1});return p}_wordenize(c,g){const m=[];let S;for(g.lastIndex=0;(S=g.exec(c))&&S[0].length!==0;)m.push({start:S.index,end:S.index+S[0].length});return m}getValueInRange(c){if(c=this._validateRange(c),c.startLineNumber===c.endLineNumber)return this._lines[c.startLineNumber-1].substring(c.startColumn-1,c.endColumn-1);const g=this._eol,m=c.startLineNumber-1,S=c.endLineNumber-1,p=[];p.push(this._lines[m].substring(c.startColumn-1));for(let v=m+1;v<S;v++)p.push(this._lines[v]);return p.push(this._lines[S].substring(0,c.endColumn-1)),p.join(g)}offsetAt(c){return c=this._validatePosition(c),this._ensureLineStarts(),this._lineStarts.getPrefixSum(c.lineNumber-2)+(c.column-1)}positionAt(c){c=Math.floor(c),c=Math.max(0,c),this._ensureLineStarts();const g=this._lineStarts.getIndexOf(c),m=this._lines[g.index].length;return{lineNumber:1+g.index,column:1+Math.min(g.remainder,m)}}_validateRange(c){const g=this._validatePosition({lineNumber:c.startLineNumber,column:c.startColumn}),m=this._validatePosition({lineNumber:c.endLineNumber,column:c.endColumn});return g.lineNumber!==c.startLineNumber||g.column!==c.startColumn||m.lineNumber!==c.endLineNumber||m.column!==c.endColumn?{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:m.lineNumber,endColumn:m.column}:c}_validatePosition(c){if(!D.Position.isIPosition(c))throw new Error("bad position");let{lineNumber:g,column:m}=c,S=!1;if(g<1)g=1,m=1,S=!0;else if(g>this._lines.length)g=this._lines.length,m=this._lines[g-1].length+1,S=!0;else{const p=this._lines[g-1].length+1;m<1?(m=1,S=!0):m>p&&(m=p,S=!0)}return S?{lineNumber:g,column:m}:c}}e.MirrorModel=o;class a{constructor(c,g){this._host=c,this._models=Object.create(null),this._foreignModuleFactory=g,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(c){return this._models[c]}_getModels(){const c=[];return Object.keys(this._models).forEach(g=>c.push(this._models[g])),c}acceptNewModel(c){this._models[c.url]=new o(N.URI.parse(c.url),c.lines,c.EOL,c.versionId)}acceptModelChanged(c,g){if(!this._models[c])return;this._models[c].onEvents(g)}acceptRemovedModel(c){!this._models[c]||delete this._models[c]}computeUnicodeHighlights(c,g,m){return Le(this,void 0,void 0,function*(){const S=this._getModel(c);return S?d.UnicodeTextModelHighlighter.computeUnicodeHighlights(S,g,m):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(c,g,m,S){return Le(this,void 0,void 0,function*(){const p=this._getModel(c),v=this._getModel(g);if(!p||!v)return null;const _=p.getLinesContent(),w=v.getLinesContent(),I=new b.DiffComputer(_,w,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:m,shouldMakePrettyDiff:!0,maxComputationTime:S}).computeDiff(),T=I.changes.length>0?!1:this._modelsAreIdentical(p,v);return{quitEarly:I.quitEarly,identical:T,changes:I.changes}})}_modelsAreIdentical(c,g){const m=c.getLineCount(),S=g.getLineCount();if(m!==S)return!1;for(let p=1;p<=m;p++){const v=c.getLineContent(p),_=g.getLineContent(p);if(v!==_)return!1}return!0}computeMoreMinimalEdits(c,g){return Le(this,void 0,void 0,function*(){const m=this._getModel(c);if(!m)return g;const S=[];let p;g=g.slice(0).sort((v,_)=>{if(v.range&&_.range)return L.Range.compareRangesUsingStarts(v.range,_.range);const w=v.range?0:1,E=_.range?0:1;return w-E});for(let{range:v,text:_,eol:w}of g){if(typeof w=="number"&&(p=w),L.Range.isEmpty(v)&&!_)continue;const E=m.getValueInRange(v);if(_=_.replace(/\r\n|\n|\r/g,m.eol),E===_)continue;if(Math.max(_.length,E.length)>a._diffLimit){S.push({range:v,text:_});continue}const I=(0,y.stringDiff)(E,_,!1),T=m.offsetAt(L.Range.lift(v).getStartPosition());for(const R of I){const B=m.positionAt(T+R.originalStart),O=m.positionAt(T+R.originalStart+R.originalLength),k={text:_.substr(R.modifiedStart,R.modifiedLength),range:{startLineNumber:B.lineNumber,startColumn:B.column,endLineNumber:O.lineNumber,endColumn:O.column}};m.getValueInRange(k.range)!==k.text&&S.push(k)}}return typeof p=="number"&&S.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),S})}computeLinks(c){return Le(this,void 0,void 0,function*(){const g=this._getModel(c);return g?(0,h.computeLinks)(g):null})}textualSuggest(c,g,m,S){return Le(this,void 0,void 0,function*(){const p=new r.StopWatch(!0),v=new RegExp(m,S),_=new Set;e:for(let w of c){const E=this._getModel(w);if(!!E){for(let I of E.words(v))if(!(I===g||!isNaN(Number(I)))&&(_.add(I),_.size>a._suggestionsLimit))break e}}return{words:Array.from(_),duration:p.elapsed()}})}computeWordRanges(c,g,m,S){return Le(this,void 0,void 0,function*(){const p=this._getModel(c);if(!p)return Object.create(null);const v=new RegExp(m,S),_=Object.create(null);for(let w=g.startLineNumber;w<g.endLineNumber;w++){const E=p.getLineWords(w,v);for(const I of E){if(!isNaN(Number(I.word)))continue;let T=_[I.word];T||(T=[],_[I.word]=T),T.push({startLineNumber:w,startColumn:I.startColumn,endLineNumber:w,endColumn:I.endColumn})}}return _})}navigateValueSet(c,g,m,S,p){return Le(this,void 0,void 0,function*(){const v=this._getModel(c);if(!v)return null;const _=new RegExp(S,p);g.startColumn===g.endColumn&&(g={startLineNumber:g.startLineNumber,startColumn:g.startColumn,endLineNumber:g.endLineNumber,endColumn:g.endColumn+1});const w=v.getValueInRange(g),E=v.getWordAtPosition({lineNumber:g.startLineNumber,column:g.startColumn},_);if(!E)return null;const I=v.getValueInRange(E);return i.BasicInplaceReplace.INSTANCE.navigateValueSet(g,w,E,I,m)})}loadForeignModule(c,g,m){const S=(_,w)=>this._host.fhr(_,w),v={host:t.createProxyObject(m,S),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(v,g),Promise.resolve(t.getAllMethodNames(this._foreignModule))):new Promise((_,w)=>{K([c],E=>{this._foreignModule=E.create(v,g),_(t.getAllMethodNames(this._foreignModule))},w)})}fmr(c,g){if(!this._foreignModule||typeof this._foreignModule[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._foreignModule[c].apply(this._foreignModule,g))}catch(m){return Promise.reject(m)}}}e.EditorSimpleWorker=a,a._diffLimit=1e5,a._suggestionsLimit=1e4;function s(l){return new a(l,null)}e.create=s,typeof importScripts=="function"&&(f.globals.monaco=(0,n.createMonacoBaseAPI)())}),define(oe[446],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class y{constructor(N,D){this._startLineNumber=N,this._tokens=D}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(N){return this._tokens[N-this._startLineNumber]}appendLineTokens(N){this._tokens.push(N)}}e.ContiguousMultilineTokens=y}),define(oe[447],se([1,0,446]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class f{constructor(){this._tokens=[]}add(D,L){if(this._tokens.length>0){const b=this._tokens[this._tokens.length-1];if(b.endLineNumber+1===D){b.appendLineTokens(L);return}}this._tokens.push(new y.ContiguousMultilineTokens(D,[L]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=f}),define(oe[79],se([1,0,27]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class f{constructor(L,b,C){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=C}static createEmpty(L,b){const C=f.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=L.length,u[1]=C,new f(u,L,b)}equals(L){return L instanceof f?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,b,C){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const u=b<<1,h=u+(C<<1);for(let i=u;i<h;i++)if(this._tokens[i]!==L._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const b=this._tokens[(L<<1)+1],C=y.TokenMetadata.getLanguageId(b);return this._languageIdCodec.decodeLanguageId(C)}getStandardTokenType(L){const b=this._tokens[(L<<1)+1];return y.TokenMetadata.getTokenType(b)}getForeground(L){const b=this._tokens[(L<<1)+1];return y.TokenMetadata.getForeground(b)}getClassName(L){const b=this._tokens[(L<<1)+1];return y.TokenMetadata.getClassNameFromMetadata(b)}getInlineStyle(L,b){const C=this._tokens[(L<<1)+1];return y.TokenMetadata.getInlineStyleFromMetadata(C,b)}getPresentation(L){const b=this._tokens[(L<<1)+1];return y.TokenMetadata.getPresentationFromMetadata(b)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return f.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,b,C){return new N(this,L,b,C)}static convertToEndOffset(L,b){const u=(L.length>>>1)-1;for(let h=0;h<u;h++)L[h<<1]=L[h+1<<1];L[u<<1]=b}static findIndexInTokensArray(L,b){if(L.length<=2)return 0;let C=0,u=(L.length>>>1)-1;for(;C<u;){const h=C+Math.floor((u-C)/2),i=L[h<<1];if(i===b)return h+1;i<b?C=h+1:i>b&&(u=h)}return C}withInserted(L){if(L.length===0)return this;let b=0,C=0,u="";const h=new Array;let i=0;for(;;){const n=b<this._tokensCount?this._tokens[b<<1]:-1,t=C<L.length?L[C]:null;if(n!==-1&&(t===null||n<=t.offset)){u+=this._text.substring(i,n);const r=this._tokens[(b<<1)+1];h.push(u.length,r),b++,i=n}else if(t){if(t.offset>i){u+=this._text.substring(i,t.offset);const r=this._tokens[(b<<1)+1];h.push(u.length,r),i=t.offset}u+=t.text,h.push(u.length,t.tokenMetadata),C++}else break}return new f(new Uint32Array(h),u,this._languageIdCodec)}}e.LineTokens=f,f.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class N{constructor(L,b,C,u){this._source=L,this._startOffset=b,this._endOffset=C,this._deltaOffset=u,this._firstTokenIndex=L.findTokenIndexAtOffset(b),this._tokensCount=0;for(let h=this._firstTokenIndex,i=L.getCount();h<i&&!(L.getStartOffset(h)>=C);h++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof N?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const b=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,b){return this._source.getInlineStyle(this._firstTokenIndex+L,b)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(oe[256],se([1,0,8,79,27,127]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>D.NullState,tokenizeEncoded:(h,i,n)=>(0,D.nullTokenizeEncoded)(0,n)};function b(h,i,n){return Le(this,void 0,void 0,function*(){if(!n)return u(i,h.languageIdCodec,L);const t=yield N.TokenizationRegistry.getOrCreate(n);return u(i,h.languageIdCodec,t||L)})}e.tokenizeToString=b;function C(h,i,n,t,r,d,o){let a="<div>",s=t,l=0,c=!0;for(let g=0,m=i.getCount();g<m;g++){const S=i.getEndOffset(g);if(S<=t)continue;let p="";for(;s<S&&s<r;s++){const v=h.charCodeAt(s);switch(v){case 9:{let _=d-(s+l)%d;for(l+=_-1;_>0;)o&&c?(p+="&#160;",c=!1):(p+=" ",c=!0),_--;break}case 60:p+="&lt;",c=!1;break;case 62:p+="&gt;",c=!1;break;case 38:p+="&amp;",c=!1;break;case 0:p+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",c=!1;break;case 13:p+="&#8203",c=!1;break;case 32:o&&c?(p+="&#160;",c=!1):(p+=" ",c=!0);break;default:p+=String.fromCharCode(v),c=!1}}if(a+=`<span style="${i.getInlineStyle(g,n)}">${p}</span>`,S>r||s>=r)break}return a+="</div>",a}e.tokenizeLineToHTML=C;function u(h,i,n){let t='<div class="monaco-tokenized-source">';const r=y.splitLines(h);let d=n.getInitialState();for(let o=0,a=r.length;o<a;o++){const s=r[o];o>0&&(t+="<br/>");const l=n.tokenizeEncoded(s,!0,d);f.LineTokens.convertToEndOffset(l.tokens,s.length);const g=new f.LineTokens(l.tokens,s,i).inflate();let m=0;for(let S=0,p=g.getCount();S<p;S++){const v=g.getClassName(S),_=g.getEndOffset(S);t+=`<span class="${v}">${y.escape(s.substring(m,_))}</span>`,m=_}d=l.endState}return t+="</div>",t}e._tokenizeToString=u}),define(oe[448],se([1,0,18,13,79,27,127,2,57,124,447,10,17]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(l){this._default=l,this._store=[]}get(l){return l<this._store.length?this._store[l]:this._default}set(l,c){for(;l>=this._store.length;)this._store[this._store.length]=this._default;this._store[l]=c}delete(l,c){c===0||l>=this._store.length||this._store.splice(l,c)}insert(l,c){if(c===0||l>=this._store.length)return;const g=[];for(let m=0;m<c;m++)g[m]=this._default;this._store=y.arrayInsert(this._store,l,g)}}class r{constructor(l,c){this.tokenizationSupport=l,this.initialState=c,this._lineBeginState=new t(null),this._lineNeedsTokenization=new t(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(l){this._lineNeedsTokenization.set(l,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,l)}getBeginState(l){return this._lineBeginState.get(l)}setEndState(l,c,g){if(this._lineNeedsTokenization.set(c,!1),this._firstLineNeedsTokenization=c+1,c===l-1)return;const m=this._lineBeginState.get(c+1);if(m===null||!g.equals(m)){this._lineBeginState.set(c+1,g),this.markMustBeTokenized(c+1);return}let S=c+1;for(;S<l&&!this._lineNeedsTokenization.get(S);)S++;this._firstLineNeedsTokenization=S}applyEdits(l,c){this.markMustBeTokenized(l.startLineNumber-1),this._lineBeginState.delete(l.startLineNumber,l.endLineNumber-l.startLineNumber),this._lineNeedsTokenization.delete(l.startLineNumber,l.endLineNumber-l.startLineNumber),this._lineBeginState.insert(l.startLineNumber,c),this._lineNeedsTokenization.insert(l.startLineNumber,c)}}e.TokenizationStateStore=r;class d extends b.Disposable{constructor(l,c,g){super();this._textModel=l,this._tokenizationPart=c,this._languageIdCodec=g,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(D.TokenizationRegistry.onDidChange(m=>{const S=this._textModel.getLanguageId();m.changedLanguages.indexOf(S)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(l){if(l.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let c=0,g=l.changes.length;c<g;c++){const m=l.changes[c],[S]=(0,u.countEOL)(m.text);this._tokenizationStateStore.applyEdits(m.range,S)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(l){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[l,c]=o(this._textModel,this._tokenizationPart);l&&c?this._tokenizationStateStore=new r(l,c):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.runWhenIdle)(l=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(l)}))}_backgroundTokenizeWithDeadline(l){const c=Date.now()+l.timeRemaining(),g=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<c?(0,n.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const l=this._textModel.getLineCount(),c=new h.ContiguousMultilineTokensBuilder,g=C.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(c)>=l)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}tokenizeViewport(l,c){const g=new h.ContiguousMultilineTokensBuilder;this._tokenizeViewport(g,l,c),this._tokenizationPart.setTokens(g.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(l){const c=new h.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(c,l),this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(l,c){if(!this._tokenizationStateStore)return 0;this.forceTokenization(l.lineNumber);const g=this._tokenizationStateStore.getBeginState(l.lineNumber-1);if(!g)return 0;const m=this._textModel.getLanguageId(),S=this._textModel.getLineContent(l.lineNumber),p=S.substring(0,l.column-1)+c+S.substring(l.column-1),v=a(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,p,!0,g),_=new N.LineTokens(v.tokens,p,this._languageIdCodec);if(_.getCount()===0)return 0;const w=_.findTokenIndexAtOffset(l.column-1);return _.getStandardTokenType(w)}tokenizeLineWithEdit(l,c,g){const m=l.lineNumber,S=l.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(m);const p=this._tokenizationStateStore.getBeginState(m-1);if(!p)return null;const v=this._textModel.getLineContent(m),_=v.substring(0,S-1)+g+v.substring(S-1+c),w=this._textModel.getLanguageIdAtPosition(m,0),E=a(this._languageIdCodec,w,this._tokenizationStateStore.tokenizationSupport,_,!0,p);return new N.LineTokens(E.tokens,_,this._languageIdCodec)}isCheapToTokenize(l){if(!this._tokenizationStateStore)return!0;const c=this._tokenizationStateStore.invalidLineStartIndex+1;return l>c?!1:l<c||this._textModel.getLineLength(l)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(l){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const c=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(l,c),c}_updateTokensUntilLine(l,c){if(!this._tokenizationStateStore)return;const g=this._textModel.getLanguageId(),m=this._textModel.getLineCount(),S=c-1;for(let p=this._tokenizationStateStore.invalidLineStartIndex;p<=S;p++){const v=this._textModel.getLineContent(p+1),_=this._tokenizationStateStore.getBeginState(p),w=a(this._languageIdCodec,g,this._tokenizationStateStore.tokenizationSupport,v,!0,_);l.add(p+1,w.tokens),this._tokenizationStateStore.setEndState(m,p,w.endState),p=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(l,c,g){if(!this._tokenizationStateStore||g<=this._tokenizationStateStore.invalidLineStartIndex)return;if(c<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(l,g);return}let m=this._textModel.getLineFirstNonWhitespaceColumn(c);const S=[];let p=null;for(let w=c-1;m>1&&w>=1;w--){const E=this._textModel.getLineFirstNonWhitespaceColumn(w);if(E!==0&&E<m){if(p=this._tokenizationStateStore.getBeginState(w-1),p)break;S.push(this._textModel.getLineContent(w)),m=E}}p||(p=this._tokenizationStateStore.initialState);const v=this._textModel.getLanguageId();let _=p;for(let w=S.length-1;w>=0;w--)_=a(this._languageIdCodec,v,this._tokenizationStateStore.tokenizationSupport,S[w],!1,_).endState;for(let w=c;w<=g;w++){const E=this._textModel.getLineContent(w),I=a(this._languageIdCodec,v,this._tokenizationStateStore.tokenizationSupport,E,!0,_);l.add(w,I.tokens),this._tokenizationStateStore.markMustBeTokenized(w-1),_=I.endState}}}e.TextModelTokenization=d;function o(s,l){if(s.isTooLargeForTokenization())return[null,null];const c=D.TokenizationRegistry.get(l.getLanguageId());if(!c)return[null,null];let g;try{g=c.getInitialState()}catch(m){return(0,f.onUnexpectedError)(m),[null,null]}return[c,g]}function a(s,l,c,g,m,S){let p=null;if(c)try{p=c.tokenizeEncoded(g,m,S.clone())}catch(v){(0,f.onUnexpectedError)(v)}return p||(p=(0,L.nullTokenizeEncoded)(s.encodeLanguageId(l),S)),N.LineTokens.convertToEndOffset(p.tokens,g.length),p}}),define(oe[449],se([1,0,79]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class f{static deleteBeginning(L,b){return L===null||L===e.EMPTY_LINE_TOKENS?L:f.delete(L,0,b)}static deleteEnding(L,b){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const C=N(L),u=C[C.length-2];return f.delete(L,b,u)}static delete(L,b,C){if(L===null||L===e.EMPTY_LINE_TOKENS||b===C)return L;const u=N(L),h=u.length>>>1;if(b===0&&u[u.length-2]===C)return e.EMPTY_LINE_TOKENS;const i=y.LineTokens.findIndexInTokensArray(u,b),n=i>0?u[i-1<<1]:0,t=u[i<<1];if(C<t){const s=C-b;for(let l=i;l<h;l++)u[l<<1]-=s;return L}let r,d;n!==b?(u[i<<1]=b,r=i+1<<1,d=b):(r=i<<1,d=n);const o=C-b;for(let s=i+1;s<h;s++){const l=u[s<<1]-o;l>d&&(u[r++]=l,u[r++]=u[(s<<1)+1],d=l)}if(r===u.length)return L;const a=new Uint32Array(r);return a.set(u.subarray(0,r),0),a.buffer}static append(L,b){if(b===e.EMPTY_LINE_TOKENS)return L;if(L===e.EMPTY_LINE_TOKENS)return b;if(L===null)return L;if(b===null)return null;const C=N(L),u=N(b),h=u.length>>>1,i=new Uint32Array(C.length+u.length);i.set(C,0);let n=C.length;const t=C[C.length-2];for(let r=0;r<h;r++)i[n++]=u[r<<1]+t,i[n++]=u[(r<<1)+1];return i.buffer}static insert(L,b,C){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const u=N(L),h=u.length>>>1;let i=y.LineTokens.findIndexInTokensArray(u,b);i>0&&u[i-1<<1]===b&&i--;for(let n=i;n<h;n++)u[n<<1]+=C;return L}}e.ContiguousTokensEditing=f;function N(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=N}),define(oe[450],se([1,0,18,11,449,79,27]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class b{constructor(h){this._lineTokens=[],this._len=0,this._languageIdCodec=h}flush(){this._lineTokens=[],this._len=0}getTokens(h,i,n){let t=null;if(i<this._len&&(t=this._lineTokens[i]),t!==null&&t!==N.EMPTY_LINE_TOKENS)return new D.LineTokens((0,N.toUint32Array)(t),n,this._languageIdCodec);const r=new Uint32Array(2);return r[0]=n.length,r[1]=C(this._languageIdCodec.encodeLanguageId(h)),new D.LineTokens(r,n,this._languageIdCodec)}static _massageTokens(h,i,n){const t=n?(0,N.toUint32Array)(n):null;if(i===0){let r=!1;if(t&&t.length>1&&(r=L.TokenMetadata.getLanguageId(t[1])!==h),!r)return N.EMPTY_LINE_TOKENS}if(!t||t.length===0){const r=new Uint32Array(2);return r[0]=i,r[1]=C(h),r.buffer}return t[t.length-2]=i,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(h){for(;h>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(h,i){i!==0&&(h+i>this._len&&(i=this._len-h),this._lineTokens.splice(h,i),this._len-=i)}_insertLines(h,i){if(i===0)return;const n=[];for(let t=0;t<i;t++)n[t]=null;this._lineTokens=y.arrayInsert(this._lineTokens,h,n),this._len+=i}setTokens(h,i,n,t,r){const d=b._massageTokens(this._languageIdCodec.encodeLanguageId(h),n,t);this._ensureLine(i);const o=this._lineTokens[i];return this._lineTokens[i]=d,r?!b._equals(o,d):!1}static _equals(h,i){if(!h||!i)return!h&&!i;const n=(0,N.toUint32Array)(h),t=(0,N.toUint32Array)(i);if(n.length!==t.length)return!1;for(let r=0,d=n.length;r<d;r++)if(n[r]!==t[r])return!1;return!0}acceptEdit(h,i,n){this._acceptDeleteRange(h),this._acceptInsertText(new f.Position(h.startLineNumber,h.startColumn),i,n)}_acceptDeleteRange(h){const i=h.startLineNumber-1;if(i>=this._len)return;if(h.startLineNumber===h.endLineNumber){if(h.startColumn===h.endColumn)return;this._lineTokens[i]=N.ContiguousTokensEditing.delete(this._lineTokens[i],h.startColumn-1,h.endColumn-1);return}this._lineTokens[i]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],h.startColumn-1);const n=h.endLineNumber-1;let t=null;n<this._len&&(t=N.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],h.endColumn-1)),this._lineTokens[i]=N.ContiguousTokensEditing.append(this._lineTokens[i],t),this._deleteLines(h.startLineNumber,h.endLineNumber-h.startLineNumber)}_acceptInsertText(h,i,n){if(i===0&&n===0)return;const t=h.lineNumber-1;if(!(t>=this._len)){if(i===0){this._lineTokens[t]=N.ContiguousTokensEditing.insert(this._lineTokens[t],h.column-1,n);return}this._lineTokens[t]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],h.column-1),this._lineTokens[t]=N.ContiguousTokensEditing.insert(this._lineTokens[t],h.column-1,n),this._insertLines(h.lineNumber,i)}}}e.ContiguousTokensStore=b;function C(u){return(u<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(oe[451],se([1,0,11,3,124]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{constructor(u,h){this._startLineNumber=u,this._tokens=h,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,h){return new D(u,new L(h))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new f.Range(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(h,u.startColumn-1,i,u.endColumn-1),this._updateEndLineNumber()}split(u){const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber,[n,t,r]=this._tokens.split(h,u.startColumn-1,i,u.endColumn-1);return[new D(this._startLineNumber,n),new D(this._startLineNumber+r,t)]}applyEdit(u,h){const[i,n,t]=(0,N.countEOL)(h);this.acceptEdit(u,i,n,t,h.length>0?h.charCodeAt(0):0)}acceptEdit(u,h,i,n,t){this._acceptDeleteRange(u),this._acceptInsertText(new y.Position(u.startLineNumber,u.startColumn),h,i,n,t),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber;if(i<0){const t=i-h;this._startLineNumber-=t;return}const n=this._tokens.getMaxDeltaLine();if(!(h>=n+1)){if(h<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(h<0){const t=-h;this._startLineNumber-=t,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,i,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,h,u.startColumn-1,i,u.endColumn-1)}}_acceptInsertText(u,h,i,n,t){if(h===0&&i===0)return;const r=u.lineNumber-this._startLineNumber;if(r<0){this._startLineNumber+=h;return}const d=this._tokens.getMaxDeltaLine();r>=d+1||this._tokens.acceptInsertText(r,u.column-1,h,i,n,t)}}e.SparseMultilineTokens=D;class L{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const h=[];for(let i=0;i<this._tokenCount;i++)h.push(`(${this._getDeltaLine(i)+u},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${h.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const h=this._getStartCharacter(0),i=this._getDeltaLine(u-1),n=this._getEndCharacter(u-1);return new f.Range(0,h+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let h=0,i=this._getTokenCount()-1;for(;h<i;){const n=h+Math.floor((i-h)/2),t=this._getDeltaLine(n);if(t<u)h=n+1;else if(t>u)i=n-1;else{let r=n;for(;r>h&&this._getDeltaLine(r-1)===u;)r--;let d=n;for(;d<i&&this._getDeltaLine(d+1)===u;)d++;return new b(this._tokens.subarray(4*r,4*d+4))}}return this._getDeltaLine(h)===u?new b(this._tokens.subarray(4*h,4*h+4)):null}clear(){this._tokenCount=0}removeTokens(u,h,i,n){const t=this._tokens,r=this._tokenCount;let d=0,o=!1,a=0;for(let s=0;s<r;s++){const l=4*s,c=t[l],g=t[l+1],m=t[l+2],S=t[l+3];if((c>u||c===u&&m>=h)&&(c<i||c===i&&g<=n))o=!0;else{if(d===0&&(a=c),o){const p=4*d;t[p]=c-a,t[p+1]=g,t[p+2]=m,t[p+3]=S}d++}}return this._tokenCount=d,a}split(u,h,i,n){const t=this._tokens,r=this._tokenCount,d=[],o=[];let a=d,s=0,l=0;for(let c=0;c<r;c++){const g=4*c,m=t[g],S=t[g+1],p=t[g+2],v=t[g+3];if(m>u||m===u&&p>=h){if(m<i||m===i&&S<=n)continue;a!==o&&(a=o,s=0,l=m)}a[s++]=m-l,a[s++]=S,a[s++]=p,a[s++]=v}return[new L(new Uint32Array(d)),new L(new Uint32Array(o)),l]}acceptDeleteRange(u,h,i,n,t){const r=this._tokens,d=this._tokenCount,o=n-h;let a=0,s=!1;for(let l=0;l<d;l++){const c=4*l;let g=r[c],m=r[c+1],S=r[c+2];const p=r[c+3];if(g<h||g===h&&S<=i){a++;continue}else if(g===h&&m<i)g===n&&S>t?S-=t-i:S=i;else if(g===h&&m===i)if(g===n&&S>t)S-=t-i;else{s=!0;continue}else if(g<n||g===n&&m<t)if(g===n&&S>t)g===h?(m=i,S=m+(S-t)):(m=0,S=m+(S-t));else{s=!0;continue}else if(g>n){if(o===0&&!s){a=d;break}g-=o}else if(g===n&&m>=t)u&&g===0&&(m+=u,S+=u),g-=o,m-=t-i,S-=t-i;else throw new Error("Not possible!");const v=4*a;r[v]=g,r[v+1]=m,r[v+2]=S,r[v+3]=p,a++}this._tokenCount=a}acceptInsertText(u,h,i,n,t,r){const d=i===0&&n===1&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),o=this._tokens,a=this._tokenCount;for(let s=0;s<a;s++){const l=4*s;let c=o[l],g=o[l+1],m=o[l+2];if(!(c<u||c===u&&m<h)){if(c===u&&m===h)if(d)m+=1;else continue;else if(c===u&&g<h&&h<m)i===0?m+=n:m=h;else{if(c===u&&g===h&&d)continue;if(c===u)if(c+=i,i===0)g+=n,m+=n;else{const S=m-g;g=t+(g-h),m=g+S}else c+=i}o[l]=c,o[l+1]=g,o[l+2]=m}}}}class b{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}e.SparseLineTokens=b}),define(oe[452],se([1,0,18,79]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class N{constructor(L){this._pieces=[],this._isComplete=!1,this._languageIdCodec=L}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(L,b){this._pieces=L||[],this._isComplete=b}setPartial(L,b){let C=L;if(b.length>0){const h=b[0].getRange(),i=b[b.length-1].getRange();if(!h||!i)return L;C=L.plusRange(h).plusRange(i)}let u=null;for(let h=0,i=this._pieces.length;h<i;h++){const n=this._pieces[h];if(n.endLineNumber<C.startLineNumber)continue;if(n.startLineNumber>C.endLineNumber){u=u||{index:h};break}if(n.removeTokens(C),n.isEmpty()){this._pieces.splice(h,1),h--,i--;continue}if(n.endLineNumber<C.startLineNumber)continue;if(n.startLineNumber>C.endLineNumber){u=u||{index:h};continue}const[t,r]=n.split(C);if(t.isEmpty()){u=u||{index:h};continue}r.isEmpty()||(this._pieces.splice(h,1,t,r),h++,i++,u=u||{index:h})}return u=u||{index:this._pieces.length},b.length>0&&(this._pieces=y.arrayInsert(this._pieces,u.index,b)),C}isComplete(){return this._isComplete}addSparseTokens(L,b){if(b.getLineContent().length===0)return b;const C=this._pieces;if(C.length===0)return b;const u=N._findFirstPieceWithLine(C,L),h=C[u].getLineTokens(L);if(!h)return b;const i=b.getCount(),n=h.getCount();let t=0;const r=[];let d=0,o=0;const a=(s,l)=>{s!==o&&(o=s,r[d++]=s,r[d++]=l)};for(let s=0;s<n;s++){const l=h.getStartCharacter(s),c=h.getEndCharacter(s),g=h.getMetadata(s),m=((g&1?2048:0)|(g&2?4096:0)|(g&4?8192:0)|(g&8?16384:0)|(g&16?16744448:0)|(g&32?4278190080:0))>>>0,S=~m>>>0;for(;t<i&&b.getEndOffset(t)<=l;)a(b.getEndOffset(t),b.getMetadata(t)),t++;for(t<i&&b.getStartOffset(t)<l&&a(l,b.getMetadata(t));t<i&&b.getEndOffset(t)<c;)a(b.getEndOffset(t),b.getMetadata(t)&S|g&m),t++;if(t<i)a(c,b.getMetadata(t)&S|g&m),b.getEndOffset(t)===c&&t++;else{const p=Math.min(Math.max(0,t-1),i-1);a(c,b.getMetadata(p)&S|g&m)}}for(;t<i;)a(b.getEndOffset(t),b.getMetadata(t)),t++;return new f.LineTokens(new Uint32Array(r),b.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(L,b){let C=0,u=L.length-1;for(;C<u;){let h=C+Math.floor((u-C)/2);if(L[h].endLineNumber<b)C=h+1;else if(L[h].startLineNumber>b)u=h-1;else{for(;h>C&&L[h-1].startLineNumber<=b&&b<=L[h-1].endLineNumber;)h--;return h}}return C}acceptEdit(L,b,C,u,h){for(const i of this._pieces)i.acceptEdit(L,b,C,u,h)}}e.SparseTokensStore=N}),define(oe[453],se([1,0,4,11,126,248,448,450,452]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class u extends D.TextModelPart{constructor(i,n,t,r,d){super();this._languageService=i,this._languageConfigurationService=n,this._textModel=t,this.bracketPairsTextModelPart=r,this._languageId=d,this._onDidChangeLanguage=this._register(new y.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new y.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new y.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new y.Emitter),this._tokens=new b.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new C.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new L.TextModelTokenization(t,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(o=>{o.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(i,n,t,r,d){this._tokens.acceptEdit(i,t,r),this._semanticTokens.acceptEdit(i,t,r,d,n.length>0?n.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(i){this._tokenization.handleDidChangeContent(i)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(i){if(this._backgroundTokenizationState===2)return;const n=i?2:1;this._backgroundTokenizationState!==n&&(this._backgroundTokenizationState=n,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(i,n=!1){if(i.length!==0){const t=[];for(let r=0,d=i.length;r<d;r++){const o=i[r];let a=0,s=0,l=!1;for(let c=o.startLineNumber;c<=o.endLineNumber;c++)l?(this._tokens.setTokens(this._languageId,c-1,this._textModel.getLineLength(c),o.getLineTokens(c),!1),s=c):this._tokens.setTokens(this._languageId,c-1,this._textModel.getLineLength(c),o.getLineTokens(c),!0)&&(l=!0,a=c,s=c);l&&t.push({fromLineNumber:a,toLineNumber:s})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(n)}setSemanticTokens(i,n){this._semanticTokens.set(i,n),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:i!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(i,n){if(this.hasCompleteSemanticTokens())return;const t=this._textModel.validateRange(this._semanticTokens.setPartial(i,n));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:t.startLineNumber,toLineNumber:t.endLineNumber}]})}tokenizeViewport(i,n){i=Math.max(1,i),n=Math.min(this._textModel.getLineCount(),n),this._tokenization.tokenizeViewport(i,n)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(i){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(i),this._onDidChangeTokens.fire(i))}resetTokenization(){this._tokenization.reset()}forceTokenization(i){if(i<1||i>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(i)}isCheapToTokenize(i){return this._tokenization.isCheapToTokenize(i)}tokenizeIfCheap(i){this.isCheapToTokenize(i)&&this.forceTokenization(i)}getLineTokens(i){if(i<1||i>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(i)}_getLineTokens(i){const n=this._textModel.getLineContent(i),t=this._tokens.getTokens(this._languageId,i-1,n);return this._semanticTokens.addSparseTokens(i,t)}getTokenTypeIfInsertingCharacter(i,n,t){const r=this._textModel.validatePosition(new f.Position(i,n));return this._tokenization.getTokenTypeIfInsertingCharacter(r,t)}tokenizeLineWithEdit(i,n,t){const r=this._textModel.validatePosition(i);return this._tokenization.tokenizeLineWithEdit(r,n,t)}getLanguageConfiguration(i){return this._languageConfigurationService.getLanguageConfiguration(i)}getWordAtPosition(i){this.assertNotDisposed();const n=this._textModel.validatePosition(i),t=this._textModel.getLineContent(n.lineNumber),r=this._getLineTokens(n.lineNumber),d=r.findTokenIndexAtOffset(n.column-1),[o,a]=u._findLanguageBoundaries(r,d),s=(0,N.getWordAtText)(n.column,this.getLanguageConfiguration(r.getLanguageId(d)).getWordDefinition(),t.substring(o,a),o);if(s&&s.startColumn<=i.column&&i.column<=s.endColumn)return s;if(d>0&&o===n.column-1){const[l,c]=u._findLanguageBoundaries(r,d-1),g=(0,N.getWordAtText)(n.column,this.getLanguageConfiguration(r.getLanguageId(d-1)).getWordDefinition(),t.substring(l,c),l);if(g&&g.startColumn<=i.column&&i.column<=g.endColumn)return g}return null}static _findLanguageBoundaries(i,n){const t=i.getLanguageId(n);let r=0;for(let o=n;o>=0&&i.getLanguageId(o)===t;o--)r=i.getStartOffset(o);let d=i.getLineContent().length;for(let o=n,a=i.getCount();o<a&&i.getLanguageId(o)===t;o++)d=i.getEndOffset(o);return[r,d]}getWordUntilPosition(i){const n=this.getWordAtPosition(i);return n?{word:n.word.substr(0,i.column-n.startColumn),startColumn:n.startColumn,endColumn:i.column}:{word:"",startColumn:i.column,endColumn:i.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(i,n){const t=this._textModel.validatePosition(new f.Position(i,n)),r=this.getLineTokens(t.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(t.column-1))}setLanguageId(i){if(this._languageId===i)return;const n={oldLanguage:this._languageId,newLanguage:i};this._languageId=i,this.bracketPairsTextModelPart.handleDidChangeLanguage(n),this._tokenization.handleDidChangeLanguage(n),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=u}),define(oe[128],se([1,0,2]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class f extends y.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let L=!1;for(let b=0,C=D.length;b<C;b++){const u=D[b];switch(u.type){case 0:this.onCompositionStart(u)&&(L=!0);break;case 1:this.onCompositionEnd(u)&&(L=!0);break;case 2:this.onConfigurationChanged(u)&&(L=!0);break;case 3:this.onCursorStateChanged(u)&&(L=!0);break;case 4:this.onDecorationsChanged(u)&&(L=!0);break;case 5:this.onFlushed(u)&&(L=!0);break;case 6:this.onFocusChanged(u)&&(L=!0);break;case 7:this.onLanguageConfigurationChanged(u)&&(L=!0);break;case 8:this.onLineMappingChanged(u)&&(L=!0);break;case 9:this.onLinesChanged(u)&&(L=!0);break;case 10:this.onLinesDeleted(u)&&(L=!0);break;case 11:this.onLinesInserted(u)&&(L=!0);break;case 12:this.onRevealRangeRequest(u)&&(L=!0);break;case 13:this.onScrollChanged(u)&&(L=!0);break;case 15:this.onTokensChanged(u)&&(L=!0);break;case 14:this.onThemeChanged(u)&&(L=!0);break;case 16:this.onTokensColorsChanged(u)&&(L=!0);break;case 17:this.onZonesChanged(u)&&(L=!0);break;default:console.info("View received unknown event: "),console.info(u)}}L&&(this._shouldRender=!0)}}e.ViewEventHandler=f}),define(oe[106],se([1,0,128]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class f extends y.ViewEventHandler{}e.DynamicViewOverlay=f}),define(oe[52],se([1,0,128]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class f extends y.ViewEventHandler{constructor(L){super();this._context=L,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=f;class N{static write(L,b){L.setAttribute("data-mprt",String(b))}static read(L){const b=L.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(L,b){const C=[];let u=0;for(;L&&L!==document.body&&L!==b;)L.nodeType===L.ELEMENT_NODE&&(C[u++]=this.read(L)),L=L.parentElement;const h=new Uint8Array(u);for(let i=0;i<u;i++)h[i]=C[u-i-1];return h}}e.PartFingerprints=N}),define(oe[454],se([1,0,7,32,52]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D{constructor(h,i){this._coordinateBrand=void 0,this.top=h,this.left=i}}class L extends N.ViewPart{constructor(h,i){super(h);this._viewDomNode=i,this._widgets={},this.domNode=(0,f.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,f.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onConfigurationChanged(h);return!0}onDecorationsChanged(h){return!0}onFlushed(h){return!0}onLineMappingChanged(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onLineMappingChanged(h);return!0}onLinesChanged(h){return!0}onLinesDeleted(h){return!0}onLinesInserted(h){return!0}onScrollChanged(h){return!0}onZonesChanged(h){return!0}addWidget(h){const i=new b(this._context,this._viewDomNode,h);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(h,i,n,t){this._widgets[h.getId()].setPosition(i,n,t),this.setShouldRender()}removeWidget(h){const i=h.getId();if(this._widgets.hasOwnProperty(i)){const n=this._widgets[i];delete this._widgets[i];const t=n.domNode.domNode;t.parentNode.removeChild(t),t.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(h){return this._widgets.hasOwnProperty(h)?this._widgets[h].suppressMouseDown:!1}onBeforeRender(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onBeforeRender(h)}prepareRender(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].prepareRender(h)}render(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].render(h)}}e.ViewContentWidgets=L;class b{constructor(h,i,n){this._context=h,this._viewDomNode=i,this._actual=n,this.domNode=(0,f.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const t=this._context.configuration.options,r=t.get(131);this._fixedOverflowWidgets=t.get(36),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=t.get(59),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(h){const i=this._context.configuration.options;if(this._lineHeight=i.get(59),h.hasChanged(131)){const n=i.get(131);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(h){this._setPosition(this._range,this._affinity)}_setPosition(h,i){var n;if(this._range=h,this._viewRange=null,this._affinity=i,this._range){const t=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(t,(n=this._affinity)!==null&&n!==void 0?n:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(h,i,n){this._setPosition(h,n),this._preference=i,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(h,i,n,t,r){const d=h.top,o=d,a=i.top+this._lineHeight,s=r.viewportHeight-a,l=d-t,c=o>=t,g=a,m=s>=t;let S=h.left,p=i.left;return S+n>r.scrollLeft+r.viewportWidth&&(S=r.scrollLeft+r.viewportWidth-n),p+n>r.scrollLeft+r.viewportWidth&&(p=r.scrollLeft+r.viewportWidth-n),S<r.scrollLeft&&(S=r.scrollLeft),p<r.scrollLeft&&(p=r.scrollLeft),{fitsAbove:c,aboveTop:l,aboveLeft:S,fitsBelow:m,belowTop:g,belowLeft:p}}_layoutHorizontalSegmentInPage(h,i,n,t){const r=Math.max(0,i.left-t),d=Math.min(i.left+i.width+t,h.width);let o=i.left+n-y.StandardWindow.scrollX;if(o+t>d){const a=o-(d-t);o-=a,n-=a}if(o<r){const a=o-r;o-=a,n-=a}return[n,o]}_layoutBoxInPage(h,i,n,t,r){const d=h.top-t,o=i.top+this._lineHeight,a=y.getDomNodePagePosition(this._viewDomNode.domNode),s=a.top+d-y.StandardWindow.scrollY,l=a.top+o-y.StandardWindow.scrollY,c=y.getClientArea(document.body),[g,m]=this._layoutHorizontalSegmentInPage(c,a,h.left-r.scrollLeft+this._contentLeft,n),[S,p]=this._layoutHorizontalSegmentInPage(c,a,i.left-r.scrollLeft+this._contentLeft,n),v=22,_=22,w=s>=v,E=l+t<=c.height-_;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(s,v),aboveLeft:m,fitsBelow:E,belowTop:l,belowLeft:p}:{fitsAbove:w,aboveTop:d,aboveLeft:g,fitsBelow:E,belowTop:o,belowLeft:S}}_prepareRenderWidgetAtExactPositionOverflowing(h){return new D(h.top,h.left+this._contentLeft)}_getTopAndBottomLeft(h){if(!this._viewRange)return[null,null];const i=h.linesVisibleRangesForRange(this._viewRange,!1);if(!i||i.length===0)return[null,null];let n=i[0],t=i[0];for(const c of i)c.lineNumber<n.lineNumber&&(n=c),c.lineNumber>t.lineNumber&&(t=c);let r=1073741824;for(const c of n.ranges)c.left<r&&(r=c.left);let d=1073741824;for(const c of t.ranges)c.left<d&&(d=c.left);const o=h.getVerticalOffsetForLineNumber(n.lineNumber)-h.scrollTop,a=new D(o,r),s=h.getVerticalOffsetForLineNumber(t.lineNumber)-h.scrollTop,l=new D(s,d);return[a,l]}_prepareRenderWidget(h){if(!this._preference||this._preference.length===0)return null;const[i,n]=this._getTopAndBottomLeft(h);if(!i||!n)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let r=null;if(typeof this._actual.beforeRender=="function"&&(r=C(this._actual.beforeRender,this._actual)),r)this._cachedDomNodeOffsetWidth=r.width,this._cachedDomNodeOffsetHeight=r.height;else{const o=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(o.width),this._cachedDomNodeOffsetHeight=Math.round(o.height)}}let t;this.allowEditorOverflow?t=this._layoutBoxInPage(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,h):t=this._layoutBoxInViewport(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,h);for(let r=1;r<=2;r++)for(const d of this._preference)if(d===1){if(!t)return null;if(r===2||t.fitsAbove)return{coordinate:new D(t.aboveTop,t.aboveLeft),position:1}}else if(d===2){if(!t)return null;if(r===2||t.fitsBelow)return{coordinate:new D(t.belowTop,t.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0}:{coordinate:i,position:0};return null}onBeforeRender(h){!this._viewRange||!this._preference||this._viewRange.endLineNumber<h.startLineNumber||this._viewRange.startLineNumber>h.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(h){this._renderData=this._prepareRenderWidget(h)}render(h){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+h.scrollTop-h.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}function C(u,h,...i){try{return u.call(h,...i)}catch{return null}}}),define(oe[455],se([1,0,106,3,123,364]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends y.DynamicViewOverlay{constructor(b){super();this._context=b;const C=this._context.configuration.options;this._lineHeight=C.get(59),this._typicalHalfwidthCharacterWidth=C.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options;return this._lineHeight=C.get(59),this._typicalHalfwidthCharacterWidth=C.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}prepareRender(b){const C=b.getDecorationsInViewport();let u=[],h=0;for(let r=0,d=C.length;r<d;r++){const o=C[r];o.options.className&&(u[h++]=o)}u=u.sort((r,d)=>{if(r.options.zIndex<d.options.zIndex)return-1;if(r.options.zIndex>d.options.zIndex)return 1;const o=r.options.className,a=d.options.className;return o<a?-1:o>a?1:f.Range.compareRangesUsingStarts(r.range,d.range)});const i=b.visibleRange.startLineNumber,n=b.visibleRange.endLineNumber,t=[];for(let r=i;r<=n;r++){const d=r-i;t[d]=""}this._renderWholeLineDecorations(b,u,t),this._renderNormalDecorations(b,u,t),this._renderResult=t}_renderWholeLineDecorations(b,C,u){const h=String(this._lineHeight),i=b.visibleRange.startLineNumber,n=b.visibleRange.endLineNumber;for(let t=0,r=C.length;t<r;t++){const d=C[t];if(!d.options.isWholeLine)continue;const o='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+h+'px;"></div>',a=Math.max(d.range.startLineNumber,i),s=Math.min(d.range.endLineNumber,n);for(let l=a;l<=s;l++){const c=l-i;u[c]+=o}}}_renderNormalDecorations(b,C,u){const h=String(this._lineHeight),i=b.visibleRange.startLineNumber;let n=null,t=!1,r=null;for(let d=0,o=C.length;d<o;d++){const a=C[d];if(a.options.isWholeLine)continue;const s=a.options.className,l=Boolean(a.options.showIfCollapsed);let c=a.range;if(l&&c.endColumn===1&&c.endLineNumber!==c.startLineNumber&&(c=new f.Range(c.startLineNumber,c.startColumn,c.endLineNumber-1,this._context.viewModel.getLineMaxColumn(c.endLineNumber-1))),n===s&&t===l&&f.Range.areIntersectingOrTouching(r,c)){r=f.Range.plusRange(r,c);continue}n!==null&&this._renderNormalDecoration(b,r,n,t,h,i,u),n=s,t=l,r=c}n!==null&&this._renderNormalDecoration(b,r,n,t,h,i,u)}_renderNormalDecoration(b,C,u,h,i,n,t){const r=b.linesVisibleRangesForRange(C,u==="findMatch");if(!!r)for(let d=0,o=r.length;d<o;d++){const a=r[d];if(a.outsideRenderedLine)continue;const s=a.lineNumber-n;if(h&&a.ranges.length===1){const l=a.ranges[0];if(l.width<this._typicalHalfwidthCharacterWidth){const c=Math.round(l.left+l.width/2),g=Math.max(0,Math.round(c-this._typicalHalfwidthCharacterWidth/2));a.ranges[0]=new N.HorizontalRange(g,this._typicalHalfwidthCharacterWidth)}}for(let l=0,c=a.ranges.length;l<c;l++){const g=a.ranges[l],m='<div class="cdr '+u+'" style="left:'+String(g.left)+"px;width:"+String(g.width)+"px;height:"+i+'px;"></div>';t[s]+=m}}}render(b,C){if(!this._renderResult)return"";const u=C-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.DecorationsOverlay=D}),define(oe[189],se([1,0,106,365]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class f{constructor(b,C,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+b,this.endLineNumber=+C,this.className=String(u)}}e.DecorationToRender=f;class N extends y.DynamicViewOverlay{_render(b,C,u){const h=[];for(let t=b;t<=C;t++){const r=t-b;h[r]=[]}if(u.length===0)return h;u.sort((t,r)=>t.className===r.className?t.startLineNumber===r.startLineNumber?t.endLineNumber-r.endLineNumber:t.startLineNumber-r.startLineNumber:t.className<r.className?-1:1);let i=null,n=0;for(let t=0,r=u.length;t<r;t++){const d=u[t],o=d.className;let a=Math.max(d.startLineNumber,b)-b;const s=Math.min(d.endLineNumber,C)-b;i===o?(a=Math.max(n+1,a),n=Math.max(n,s)):(i=o,n=s);for(let l=a;l<=n;l++)h[l].push(i)}return h}}e.DedupOverlay=N;class D extends N{constructor(b){super();this._context=b;const C=this._context.configuration.options,u=C.get(131);this._lineHeight=C.get(59),this._glyphMargin=C.get(50),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options,u=C.get(131);return this._lineHeight=C.get(59),this._glyphMargin=C.get(50),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}_getDecorations(b){const C=b.getDecorationsInViewport(),u=[];let h=0;for(let i=0,n=C.length;i<n;i++){const t=C[i],r=t.options.glyphMarginClassName;r&&(u[h++]=new f(t.range.startLineNumber,t.range.endLineNumber,r))}return u}prepareRender(b){if(!this._glyphMargin){this._renderResult=null;return}const C=b.visibleRange.startLineNumber,u=b.visibleRange.endLineNumber,h=this._render(C,u,this._getDecorations(b)),i=this._lineHeight.toString(),n=this._glyphMarginLeft.toString(),t=this._glyphMarginWidth.toString(),r='" style="left:'+n+"px;width:"+t+"px;height:"+i+'px;"></div>',d=[];for(let o=C;o<=u;o++){const a=o-C,s=h[a];s.length===0?d[a]="":d[a]='<div class="cgmr codicon '+s.join(" ")+r}this._renderResult=d}render(b,C){if(!this._renderResult)return"";const u=C-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.GlyphMarginOverlay=D}),define(oe[456],se([1,0,189,369]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class f extends y.DedupOverlay{constructor(D){super();this._context=D;const b=this._context.configuration.options.get(131);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const b=this._context.configuration.options.get(131);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const L=D.getDecorationsInViewport(),b=[];let C=0;for(let u=0,h=L.length;u<h;u++){const i=L[u],n=i.options.linesDecorationsClassName;n&&(b[C++]=new y.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,n));const t=i.options.firstLineDecorationClassName;t&&(b[C++]=new y.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,t))}return b}prepareRender(D){const L=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,C=this._render(L,b,this._getDecorations(D)),u=this._decorationsLeft.toString(),h=this._decorationsWidth.toString(),i='" style="left:'+u+"px;width:"+h+'px;"></div>',n=[];for(let t=L;t<=b;t++){const r=t-L,d=C[r];let o="";for(let a=0,s=d.length;a<s;a++)o+='<div class="cldr '+d[a]+i;n[r]=o}this._renderResult=n}render(D,L){return this._renderResult?this._renderResult[L-D]:""}}e.LinesDecorationsOverlay=f}),define(oe[257],se([1,0,32,52]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class N extends f.ViewPart{constructor(L){super(L);const b=this._context.configuration.options,C=b.get(131);this._canUseLayerHinting=!b.get(28),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(N.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(N.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(L){const b=this._context.configuration.options,C=b.get(131);return this._canUseLayerHinting=!b.get(28),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,!0}onScrollChanged(L){return super.onScrollChanged(L)||L.scrollTopChanged}prepareRender(L){}render(L){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const b=L.scrollTop-L.bigNumbersDelta;this._domNode.setTop(-b);const C=Math.min(L.scrollHeight,1e6);this._domNode.setHeight(C),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(C)}}e.Margin=N,N.CLASS_NAME="glyph-margin",N.OUTER_CLASS_NAME="margin"}),define(oe[457],se([1,0,189,370]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class f extends y.DedupOverlay{constructor(D){super();this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const L=D.getDecorationsInViewport(),b=[];let C=0;for(let u=0,h=L.length;u<h;u++){const i=L[u],n=i.options.marginClassName;n&&(b[C++]=new y.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,n))}return b}prepareRender(D){const L=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,C=this._render(L,b,this._getDecorations(D)),u=[];for(let h=L;h<=b;h++){const i=h-L,n=C[i];let t="";for(let r=0,d=n.length;r<d;r++)t+='<div class="cmdr '+n[r]+'" style=""></div>';u[i]=t}this._renderResult=u}render(D,L){return this._renderResult?this._renderResult[L-D]:""}}e.MarginViewLineDecorationsOverlay=f}),define(oe[458],se([1,0,32,52,372]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class N extends f.ViewPart{constructor(L){super(L);const C=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),f.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(L){const C=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(L){const b=(0,y.createFastDomNode)(L.getDomNode());this._widgets[L.getId()]={widget:L,preference:null,domNode:b},b.setPosition("absolute"),b.setAttribute("widgetId",L.getId()),this._domNode.appendChild(b),this.setShouldRender()}setWidgetPosition(L,b){const C=this._widgets[L.getId()];return C.preference===b?!1:(C.preference=b,this.setShouldRender(),!0)}removeWidget(L){const b=L.getId();if(this._widgets.hasOwnProperty(b)){const u=this._widgets[b].domNode.domNode;delete this._widgets[b],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(L){const b=L.domNode;if(L.preference===null){b.setTop("");return}if(L.preference===0)b.setTop(0),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(L.preference===1){const C=b.domNode.clientHeight;b.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else L.preference===2&&(b.setTop(0),b.domNode.style.right="50%")}prepareRender(L){}render(L){this._domNode.setWidth(this._editorWidth);const b=Object.keys(this._widgets);for(let C=0,u=b.length;C<u;C++){const h=b[C];this._renderWidget(this._widgets[h])}}}e.ViewOverlayWidgets=N}),define(oe[459],se([1,0,32,13,52,11]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const L=()=>{throw new Error("Invalid change accessor")};class b extends N.ViewPart{constructor(h){super(h);const i=this._context.configuration.options,n=i.get(131);this._lineHeight=i.get(59),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const h=this._context.viewLayout.getWhitespaces(),i=new Map;for(const t of h)i.set(t.id,t);let n=!1;return this._context.viewModel.changeWhitespace(t=>{const r=Object.keys(this._zones);for(let d=0,o=r.length;d<o;d++){const a=r[d],s=this._zones[a],l=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=l.isInHiddenArea;const c=i.get(a);c&&(c.afterLineNumber!==l.afterViewLineNumber||c.height!==l.heightInPx)&&(t.changeOneWhitespace(a,l.afterViewLineNumber,l.heightInPx),this._safeCallOnComputedHeight(s.delegate,l.heightInPx),n=!0)}}),n}onConfigurationChanged(h){const i=this._context.configuration.options,n=i.get(131);return this._lineHeight=i.get(59),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,h.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(h){return this._recomputeWhitespacesProps()}onLinesDeleted(h){return!0}onScrollChanged(h){return h.scrollTopChanged||h.scrollWidthChanged}onZonesChanged(h){return!0}onLinesInserted(h){return!0}_getZoneOrdinal(h){return typeof h.afterColumn!="undefined"?h.afterColumn:1e4}_computeWhitespaceProps(h){if(h.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(h),minWidthInPx:this._minWidthInPixels(h)};let i;if(typeof h.afterColumn!="undefined")i=this._context.viewModel.model.validatePosition({lineNumber:h.afterLineNumber,column:h.afterColumn});else{const d=this._context.viewModel.model.validatePosition({lineNumber:h.afterLineNumber,column:1}).lineNumber;i=new D.Position(d,this._context.viewModel.model.getLineMaxColumn(d))}let n;i.column===this._context.viewModel.model.getLineMaxColumn(i.lineNumber)?n=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber+1,column:1}):n=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber,column:i.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i,h.afterColumnAffinity),r=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!r,afterViewLineNumber:t.lineNumber,heightInPx:r?this._heightInPixels(h):0,minWidthInPx:this._minWidthInPixels(h)}}changeViewZones(h){let i=!1;return this._context.viewModel.changeWhitespace(n=>{const t={addZone:r=>(i=!0,this._addZone(n,r)),removeZone:r=>{!r||(i=this._removeZone(n,r)||i)},layoutZone:r=>{!r||(i=this._layoutZone(n,r)||i)}};C(h,t),t.addZone=L,t.removeZone=L,t.layoutZone=L}),i}_addZone(h,i){const n=this._computeWhitespaceProps(i),r={whitespaceId:h.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(i),n.heightInPx,n.minWidthInPx),delegate:i,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:(0,y.createFastDomNode)(i.domNode),marginDomNode:i.marginDomNode?(0,y.createFastDomNode)(i.marginDomNode):null};return this._safeCallOnComputedHeight(r.delegate,n.heightInPx),r.domNode.setPosition("absolute"),r.domNode.domNode.style.width="100%",r.domNode.setDisplay("none"),r.domNode.setAttribute("monaco-view-zone",r.whitespaceId),this.domNode.appendChild(r.domNode),r.marginDomNode&&(r.marginDomNode.setPosition("absolute"),r.marginDomNode.domNode.style.width="100%",r.marginDomNode.setDisplay("none"),r.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId),this.marginDomNode.appendChild(r.marginDomNode)),this._zones[r.whitespaceId]=r,this.setShouldRender(),r.whitespaceId}_removeZone(h,i){if(this._zones.hasOwnProperty(i)){const n=this._zones[i];return delete this._zones[i],h.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(h,i){if(this._zones.hasOwnProperty(i)){const n=this._zones[i],t=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=t.isInHiddenArea,h.changeOneWhitespace(n.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(n.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(h){if(this._zones.hasOwnProperty(h)){const i=this._zones[h];return Boolean(i.delegate.suppressMouseDown)}return!1}_heightInPixels(h){return typeof h.heightInPx=="number"?h.heightInPx:typeof h.heightInLines=="number"?this._lineHeight*h.heightInLines:this._lineHeight}_minWidthInPixels(h){return typeof h.minWidthInPx=="number"?h.minWidthInPx:0}_safeCallOnComputedHeight(h,i){if(typeof h.onComputedHeight=="function")try{h.onComputedHeight(i)}catch(n){(0,f.onUnexpectedError)(n)}}_safeCallOnDomNodeTop(h,i){if(typeof h.onDomNodeTop=="function")try{h.onDomNodeTop(i)}catch(n){(0,f.onUnexpectedError)(n)}}prepareRender(h){}render(h){const i=h.viewportData.whitespaceViewportData,n={};let t=!1;for(const d of i)this._zones[d.id].isInHiddenArea||(n[d.id]=d,t=!0);const r=Object.keys(this._zones);for(let d=0,o=r.length;d<o;d++){const a=r[d],s=this._zones[a];let l=0,c=0,g="none";n.hasOwnProperty(a)?(l=n[a].verticalOffset-h.bigNumbersDelta,c=n[a].height,g="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,h.getScrolledTopFromAbsoluteTop(n[a].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,h.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(l),s.domNode.setHeight(c),s.domNode.setDisplay(g),s.marginDomNode&&(s.marginDomNode.setTop(l),s.marginDomNode.setHeight(c),s.marginDomNode.setDisplay(g))}t&&(this.domNode.setWidth(Math.max(h.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=b;function C(u,h){try{return u(h)}catch(i){(0,f.onUnexpectedError)(i)}}}),define(oe[190],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class y{constructor(){this.type=0}}e.ViewCompositionStartEvent=y;class f{constructor(){this.type=1}}e.ViewCompositionEndEvent=f;class N{constructor(g){this.type=2,this._source=g}hasChanged(g){return this._source.hasChanged(g)}}e.ViewConfigurationChangedEvent=N;class D{constructor(g,m){this.type=3,this.selections=g,this.modelSelections=m}}e.ViewCursorStateChangedEvent=D;class L{constructor(g){this.type=4,g?(this.affectsMinimap=g.affectsMinimap,this.affectsOverviewRuler=g.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=L;class b{constructor(){this.type=5}}e.ViewFlushedEvent=b;class C{constructor(g){this.type=6,this.isFocused=g}}e.ViewFocusChangedEvent=C;class u{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=u;class h{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=h;class i{constructor(g,m){this.fromLineNumber=g,this.count=m,this.type=9}}e.ViewLinesChangedEvent=i;class n{constructor(g,m){this.type=10,this.fromLineNumber=g,this.toLineNumber=m}}e.ViewLinesDeletedEvent=n;class t{constructor(g,m){this.type=11,this.fromLineNumber=g,this.toLineNumber=m}}e.ViewLinesInsertedEvent=t;class r{constructor(g,m,S,p,v,_,w){this.source=g,this.minimalReveal=m,this.range=S,this.selections=p,this.verticalType=v,this.revealHorizontal=_,this.scrollType=w,this.type=12}}e.ViewRevealRangeRequestEvent=r;class d{constructor(g){this.type=13,this.scrollWidth=g.scrollWidth,this.scrollLeft=g.scrollLeft,this.scrollHeight=g.scrollHeight,this.scrollTop=g.scrollTop,this.scrollWidthChanged=g.scrollWidthChanged,this.scrollLeftChanged=g.scrollLeftChanged,this.scrollHeightChanged=g.scrollHeightChanged,this.scrollTopChanged=g.scrollTopChanged}}e.ViewScrollChangedEvent=d;class o{constructor(g){this.theme=g,this.type=14}}e.ViewThemeChangedEvent=o;class a{constructor(g){this.type=15,this.ranges=g}}e.ViewTokensChangedEvent=a;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class l{constructor(){this.type=17}}e.ViewZonesChangedEvent=l}),define(oe[155],se([1,0,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class f{constructor(C,u,h,i){this.startColumn=C,this.endColumn=u,this.className=h,this.type=i,this._lineDecorationBrand=void 0}static _equals(C,u){return C.startColumn===u.startColumn&&C.endColumn===u.endColumn&&C.className===u.className&&C.type===u.type}static equalsArr(C,u){const h=C.length,i=u.length;if(h!==i)return!1;for(let n=0;n<h;n++)if(!f._equals(C[n],u[n]))return!1;return!0}static extractWrapped(C,u,h){if(C.length===0)return C;const i=u+1,n=h+1,t=h-u,r=[];let d=0;for(const o of C)o.endColumn<=i||o.startColumn>=n||(r[d++]=new f(Math.max(1,o.startColumn-i+1),Math.min(t+1,o.endColumn-i+1),o.className,o.type));return r}static filter(C,u,h,i){if(C.length===0)return[];const n=[];let t=0;for(let r=0,d=C.length;r<d;r++){const o=C[r],a=o.range;if(a.endLineNumber<u||a.startLineNumber>u||a.isEmpty()&&(o.type===0||o.type===3))continue;const s=a.startLineNumber===u?a.startColumn:h,l=a.endLineNumber===u?a.endColumn:i;n[t++]=new f(s,l,o.inlineClassName,o.type)}return n}static _typeCompare(C,u){const h=[2,0,1,3];return h[C]-h[u]}static compare(C,u){if(C.startColumn!==u.startColumn)return C.startColumn-u.startColumn;if(C.endColumn!==u.endColumn)return C.endColumn-u.endColumn;const h=f._typeCompare(C.type,u.type);return h!==0?h:C.className!==u.className?C.className<u.className?-1:1:0}}e.LineDecoration=f;class N{constructor(C,u,h,i){this.startOffset=C,this.endOffset=u,this.className=h,this.metadata=i}}e.DecorationSegment=N;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let u=0;for(let h=0,i=C.length;h<i;h++)u|=C[h];return u}consumeLowerThan(C,u,h){for(;this.count>0&&this.stopOffsets[0]<C;){let i=0;for(;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;h.push(new N(u,this.stopOffsets[i],this.classNames.join(" "),D._metadata(this.metadata))),u=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.metadata.splice(0,i+1),this.count-=i+1}return this.count>0&&u<C&&(h.push(new N(u,C-1,this.classNames.join(" "),D._metadata(this.metadata))),u=C),u}insert(C,u,h){if(this.count===0||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(u),this.metadata.push(h);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=C){this.stopOffsets.splice(i,0,C),this.classNames.splice(i,0,u),this.metadata.splice(i,0,h);break}this.count++}}class L{static normalize(C,u){if(u.length===0)return[];const h=[],i=new D;let n=0;for(let t=0,r=u.length;t<r;t++){const d=u[t];let o=d.startColumn,a=d.endColumn;const s=d.className,l=d.type===1?2:d.type===2?4:0;if(o>1){const m=C.charCodeAt(o-2);y.isHighSurrogate(m)&&o--}if(a>1){const m=C.charCodeAt(a-2);y.isHighSurrogate(m)&&a--}const c=o-1,g=a-2;n=i.consumeLowerThan(c,n,h),i.count===0&&(n=c),i.insert(g,s,l)}return i.consumeLowerThan(1073741824,n,h),h}}e.LineDecorationsNormalizer=L}),define(oe[460],se([1,0,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class f{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(b){this._hasPending=!0,this._inserts.push(b)}change(b){this._hasPending=!0,this._changes.push(b)}remove(b){this._hasPending=!0,this._removes.push(b)}mustCommit(){return this._hasPending}commit(b){if(!this._hasPending)return;const C=this._inserts,u=this._changes,h=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],b._commitPendingChanges(C,u,h)}}class N{constructor(b,C,u,h,i){this.id=b,this.afterLineNumber=C,this.ordinal=u,this.height=h,this.minWidth=i,this.prefixSum=0}}e.EditorWhitespace=N;class D{constructor(b,C,u,h){this._instanceId=y.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new f,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=b,this._lineHeight=C,this._paddingTop=u,this._paddingBottom=h}static findInsertionIndex(b,C,u){let h=0,i=b.length;for(;h<i;){const n=h+i>>>1;C===b[n].afterLineNumber?u<b[n].ordinal?i=n:h=n+1:C<b[n].afterLineNumber?i=n:h=n+1}return h}setLineHeight(b){this._checkPendingChanges(),this._lineHeight=b}setPadding(b,C){this._paddingTop=b,this._paddingBottom=C}onFlushed(b){this._checkPendingChanges(),this._lineCount=b}changeWhitespace(b){let C=!1;try{b({insertWhitespace:(h,i,n,t)=>{C=!0,h=h|0,i=i|0,n=n|0,t=t|0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new N(r,h,i,n,t)),r},changeOneWhitespace:(h,i,n)=>{C=!0,i=i|0,n=n|0,this._pendingChanges.change({id:h,newAfterLineNumber:i,newHeight:n})},removeWhitespace:h=>{C=!0,this._pendingChanges.remove({id:h})}})}finally{this._pendingChanges.commit(this)}return C}_commitPendingChanges(b,C,u){if((b.length>0||u.length>0)&&(this._minWidth=-1),b.length+C.length+u.length<=1){for(const r of b)this._insertWhitespace(r);for(const r of C)this._changeOneWhitespace(r.id,r.newAfterLineNumber,r.newHeight);for(const r of u){const d=this._findWhitespaceIndex(r.id);d!==-1&&this._removeWhitespace(d)}return}const h=new Set;for(const r of u)h.add(r.id);const i=new Map;for(const r of C)i.set(r.id,r);const n=r=>{const d=[];for(const o of r)if(!h.has(o.id)){if(i.has(o.id)){const a=i.get(o.id);o.afterLineNumber=a.newAfterLineNumber,o.height=a.newHeight}d.push(o)}return d},t=n(this._arr).concat(n(b));t.sort((r,d)=>r.afterLineNumber===d.afterLineNumber?r.ordinal-d.ordinal:r.afterLineNumber-d.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(b){const C=D.findInsertionIndex(this._arr,b.afterLineNumber,b.ordinal);this._arr.splice(C,0,b),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}_findWhitespaceIndex(b){const C=this._arr;for(let u=0,h=C.length;u<h;u++)if(C[u].id===b)return u;return-1}_changeOneWhitespace(b,C,u){const h=this._findWhitespaceIndex(b);if(h!==-1&&(this._arr[h].height!==u&&(this._arr[h].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,h-1)),this._arr[h].afterLineNumber!==C)){const i=this._arr[h];this._removeWhitespace(h),i.afterLineNumber=C,this._insertWhitespace(i)}}_removeWhitespace(b){this._arr.splice(b,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}onLinesDeleted(b,C){this._checkPendingChanges(),b=b|0,C=C|0,this._lineCount-=C-b+1;for(let u=0,h=this._arr.length;u<h;u++){const i=this._arr[u].afterLineNumber;b<=i&&i<=C?this._arr[u].afterLineNumber=b-1:i>C&&(this._arr[u].afterLineNumber-=C-b+1)}}onLinesInserted(b,C){this._checkPendingChanges(),b=b|0,C=C|0,this._lineCount+=C-b+1;for(let u=0,h=this._arr.length;u<h;u++){const i=this._arr[u].afterLineNumber;b<=i&&(this._arr[u].afterLineNumber+=C-b+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(b){this._checkPendingChanges(),b=b|0;let C=Math.max(0,this._prefixSumValidIndex+1);C===0&&(this._arr[0].prefixSum=this._arr[0].height,C++);for(let u=C;u<=b;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,b),this._arr[b].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const b=this._lineHeight*this._lineCount,C=this.getWhitespacesTotalHeight();return b+C+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(b){this._checkPendingChanges(),b=b|0;const C=this._findLastWhitespaceBeforeLineNumber(b);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}_findLastWhitespaceBeforeLineNumber(b){b=b|0;const C=this._arr;let u=0,h=C.length-1;for(;u<=h;){const n=(h-u|0)/2|0,t=u+n|0;if(C[t].afterLineNumber<b){if(t+1>=C.length||C[t+1].afterLineNumber>=b)return t;u=t+1|0}else h=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(b){b=b|0;const u=this._findLastWhitespaceBeforeLineNumber(b)+1;return u<this._arr.length?u:-1}getFirstWhitespaceIndexAfterLineNumber(b){return this._checkPendingChanges(),b=b|0,this._findFirstWhitespaceAfterLineNumber(b)}getVerticalOffsetForLineNumber(b){this._checkPendingChanges(),b=b|0;let C;b>1?C=this._lineHeight*(b-1):C=0;const u=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b);return C+u+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let b=0;for(let C=0,u=this._arr.length;C<u;C++)b=Math.max(b,this._arr[C].minWidth);this._minWidth=b}return this._minWidth}isAfterLines(b){this._checkPendingChanges();const C=this.getLinesTotalHeight();return b>C}isInTopPadding(b){return this._paddingTop===0?!1:(this._checkPendingChanges(),b<this._paddingTop)}isInBottomPadding(b){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const C=this.getLinesTotalHeight();return b>=C-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(b){if(this._checkPendingChanges(),b=b|0,b<0)return 1;const C=this._lineCount|0,u=this._lineHeight;let h=1,i=C;for(;h<i;){const n=(h+i)/2|0,t=this.getVerticalOffsetForLineNumber(n)|0;if(b>=t+u)h=n+1;else{if(b>=t)return n;i=n}}return h>C?C:h}getLinesViewportData(b,C){this._checkPendingChanges(),b=b|0,C=C|0;const u=this._lineHeight,h=this.getLineNumberAtOrAfterVerticalOffset(b)|0,i=this.getVerticalOffsetForLineNumber(h)|0;let n=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(h)|0;const r=this.getWhitespacesCount()|0;let d,o;t===-1?(t=r,o=n+1,d=0):(o=this.getAfterLineNumberForWhitespaceIndex(t)|0,d=this.getHeightForWhitespaceIndex(t)|0);let a=i,s=a;const l=5e5;let c=0;i>=l&&(c=Math.floor(i/l)*l,c=Math.floor(c/u)*u,s-=c);const g=[],m=b+(C-b)/2;let S=-1;for(let w=h;w<=n;w++){if(S===-1){const E=a,I=a+u;(E<=m&&m<I||E>m)&&(S=w)}for(a+=u,g[w-h]=s,s+=u;o===w;)s+=d,a+=d,t++,t>=r?o=n+1:(o=this.getAfterLineNumberForWhitespaceIndex(t)|0,d=this.getHeightForWhitespaceIndex(t)|0);if(a>=C){n=w;break}}S===-1&&(S=n);const p=this.getVerticalOffsetForLineNumber(n)|0;let v=h,_=n;return v<_&&i<b&&v++,v<_&&p+u>C&&_--,{bigNumbersDelta:c,startLineNumber:h,endLineNumber:n,relativeVerticalOffset:g,centeredLineNumber:S,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(b){this._checkPendingChanges(),b=b|0;const C=this.getAfterLineNumberForWhitespaceIndex(b);let u;C>=1?u=this._lineHeight*C:u=0;let h;return b>0?h=this.getWhitespacesAccumulatedHeight(b-1):h=0,u+h+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(b){this._checkPendingChanges(),b=b|0;let C=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;const h=this.getVerticalOffsetForWhitespaceIndex(u),i=this.getHeightForWhitespaceIndex(u);if(b>=h+i)return-1;for(;C<u;){const n=Math.floor((C+u)/2),t=this.getVerticalOffsetForWhitespaceIndex(n),r=this.getHeightForWhitespaceIndex(n);if(b>=t+r)C=n+1;else{if(b>=t)return n;u=n}}return C}getWhitespaceAtVerticalOffset(b){this._checkPendingChanges(),b=b|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(b);if(C<0||C>=this.getWhitespacesCount())return null;const u=this.getVerticalOffsetForWhitespaceIndex(C);if(u>b)return null;const h=this.getHeightForWhitespaceIndex(C),i=this.getIdForWhitespaceIndex(C),n=this.getAfterLineNumberForWhitespaceIndex(C);return{id:i,afterLineNumber:n,verticalOffset:u,height:h}}getWhitespaceViewportData(b,C){this._checkPendingChanges(),b=b|0,C=C|0;const u=this.getWhitespaceIndexAtOrAfterVerticallOffset(b),h=this.getWhitespacesCount()-1;if(u<0)return[];const i=[];for(let n=u;n<=h;n++){const t=this.getVerticalOffsetForWhitespaceIndex(n),r=this.getHeightForWhitespaceIndex(n);if(t>=C)break;i.push({id:this.getIdForWhitespaceIndex(n),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:t,height:r})}return i}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].id}getAfterLineNumberForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].afterLineNumber}getHeightForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(oe[129],se([1,0,8,93,155]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class D{constructor(v,_,w,E){this.endIndex=v,this.type=_,this.metadata=w,this.containsRTL=E,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class L{constructor(v,_){this.startOffset=v,this.endOffset=_}equals(v){return this.startOffset===v.startOffset&&this.endOffset===v.endOffset}}e.LineRange=L;class b{constructor(v,_,w,E,I,T,R,B,O,k,A,F,P,W,M,z,Q,ne,X){this.useMonospaceOptimizations=v,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=w,this.continuesWithWrappedLine=E,this.isBasicASCII=I,this.containsRTL=T,this.fauxIndentLength=R,this.lineTokens=B,this.lineDecorations=O.sort(N.LineDecoration.compare),this.tabSize=k,this.startVisibleColumn=A,this.spaceWidth=F,this.stopRenderingLineAfter=M,this.renderWhitespace=z==="all"?4:z==="boundary"?1:z==="selection"?2:z==="trailing"?3:0,this.renderControlCharacters=Q,this.fontLigatures=ne,this.selectionsOnLine=X&&X.sort((le,G)=>le.startOffset<G.startOffset?-1:1);const J=Math.abs(W-F),ie=Math.abs(P-F);J<ie?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=P,this.renderSpaceCharCode=183)}sameSelection(v){if(this.selectionsOnLine===null)return v===null;if(v===null||v.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(v[_]))return!1;return!0}equals(v){return this.useMonospaceOptimizations===v.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineContent===v.lineContent&&this.continuesWithWrappedLine===v.continuesWithWrappedLine&&this.isBasicASCII===v.isBasicASCII&&this.containsRTL===v.containsRTL&&this.fauxIndentLength===v.fauxIndentLength&&this.tabSize===v.tabSize&&this.startVisibleColumn===v.startVisibleColumn&&this.spaceWidth===v.spaceWidth&&this.renderSpaceWidth===v.renderSpaceWidth&&this.renderSpaceCharCode===v.renderSpaceCharCode&&this.stopRenderingLineAfter===v.stopRenderingLineAfter&&this.renderWhitespace===v.renderWhitespace&&this.renderControlCharacters===v.renderControlCharacters&&this.fontLigatures===v.fontLigatures&&N.LineDecoration.equalsArr(this.lineDecorations,v.lineDecorations)&&this.lineTokens.equals(v.lineTokens)&&this.sameSelection(v.selectionsOnLine)}}e.RenderLineInput=b;class C{constructor(v,_){this.partIndex=v,this.charIndex=_}}e.DomPosition=C;class u{constructor(v,_){this.length=v,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(v){return(v&4294901760)>>>16}static getCharIndex(v){return(v&65535)>>>0}setColumnInfo(v,_,w,E){const I=(_<<16|w<<0)>>>0;this._data[v-1]=I,this._absoluteOffsets[v-1]=E+w}getAbsoluteOffset(v){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[v-1]}charOffsetToPartData(v){return this.length===0?0:v<0?this._data[0]:v>=this.length?this._data[this.length-1]:this._data[v]}getDomPosition(v){const _=this.charOffsetToPartData(v-1),w=u.getPartIndex(_),E=u.getCharIndex(_);return new C(w,E)}getColumn(v,_){return this.partDataToCharOffset(v.partIndex,_,v.charIndex)+1}partDataToCharOffset(v,_,w){if(this.length===0)return 0;const E=(v<<16|w<<0)>>>0;let I=0,T=this.length-1;for(;I+1<T;){const M=I+T>>>1,z=this._data[M];if(z===E)return M;z>E?T=M:I=M}if(I===T)return I;const R=this._data[I],B=this._data[T];if(R===E)return I;if(B===E)return T;const O=u.getPartIndex(R),k=u.getCharIndex(R),A=u.getPartIndex(B);let F;O!==A?F=_:F=u.getCharIndex(B);const P=w-k,W=F-w;return P<=W?I:T}}e.CharacterMapping=u;class h{constructor(v,_,w){this._renderLineOutputBrand=void 0,this.characterMapping=v,this.containsRTL=_,this.containsForeignElements=w}}e.RenderLineOutput=h;function i(p,v){if(p.lineContent.length===0){if(p.lineDecorations.length>0){v.appendASCIIString("<span>");let _=0,w=0,E=0;for(const T of p.lineDecorations)(T.type===1||T.type===2)&&(v.appendASCIIString('<span class="'),v.appendASCIIString(T.className),v.appendASCIIString('"></span>'),T.type===1&&(E|=1,_++),T.type===2&&(E|=2,w++));v.appendASCIIString("</span>");const I=new u(1,_+w);return I.setColumnInfo(1,_,0,0),new h(I,!1,E)}return v.appendASCIIString("<span><span></span></span>"),new h(new u(0,0),!1,0)}return m(d(p),v)}e.renderViewLine=i;class n{constructor(v,_,w,E){this.characterMapping=v,this.html=_,this.containsRTL=w,this.containsForeignElements=E}}e.RenderLineOutput2=n;function t(p){const v=(0,f.createStringBuilder)(1e4),_=i(p,v);return new n(_.characterMapping,v.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=t;class r{constructor(v,_,w,E,I,T,R,B,O,k,A,F,P,W,M){this.fontIsMonospace=v,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=w,this.len=E,this.isOverflowing=I,this.parts=T,this.containsForeignElements=R,this.fauxIndentLength=B,this.tabSize=O,this.startVisibleColumn=k,this.containsRTL=A,this.spaceWidth=F,this.renderSpaceCharCode=P,this.renderWhitespace=W,this.renderControlCharacters=M}}function d(p){const v=p.lineContent;let _,w;p.stopRenderingLineAfter!==-1&&p.stopRenderingLineAfter<v.length?(_=!0,w=p.stopRenderingLineAfter):(_=!1,w=v.length);let E=o(v,p.containsRTL,p.lineTokens,p.fauxIndentLength,w);p.renderControlCharacters&&!p.isBasicASCII&&(E=l(v,E)),(p.renderWhitespace===4||p.renderWhitespace===1||p.renderWhitespace===2&&!!p.selectionsOnLine||p.renderWhitespace===3)&&(E=c(p,v,w,E));let I=0;if(p.lineDecorations.length>0){for(let T=0,R=p.lineDecorations.length;T<R;T++){const B=p.lineDecorations[T];B.type===3||B.type===1?I|=1:B.type===2&&(I|=2)}E=g(v,w,E,p.lineDecorations)}return p.containsRTL||(E=a(v,E,!p.isBasicASCII||p.fontLigatures)),new r(p.useMonospaceOptimizations,p.canUseHalfwidthRightwardsArrow,v,w,_,E,I,p.fauxIndentLength,p.tabSize,p.startVisibleColumn,p.containsRTL,p.spaceWidth,p.renderSpaceCharCode,p.renderWhitespace,p.renderControlCharacters)}function o(p,v,_,w,E){const I=[];let T=0;w>0&&(I[T++]=new D(w,"",0,!1));let R=w;for(let B=0,O=_.getCount();B<O;B++){const k=_.getEndOffset(B);if(k<=w)continue;const A=_.getClassName(B);if(k>=E){const P=v?y.containsRTL(p.substring(R,E)):!1;I[T++]=new D(E,A,0,P);break}const F=v?y.containsRTL(p.substring(R,k)):!1;I[T++]=new D(k,A,0,F),R=k}return I}function a(p,v,_){let w=0;const E=[];let I=0;if(_)for(let T=0,R=v.length;T<R;T++){const B=v[T],O=B.endIndex;if(w+50<O){const k=B.type,A=B.metadata,F=B.containsRTL;let P=-1,W=w;for(let M=w;M<O;M++)p.charCodeAt(M)===32&&(P=M),P!==-1&&M-W>=50&&(E[I++]=new D(P+1,k,A,F),W=P+1,P=-1);W!==O&&(E[I++]=new D(O,k,A,F))}else E[I++]=B;w=O}else for(let T=0,R=v.length;T<R;T++){const B=v[T],O=B.endIndex,k=O-w;if(k>50){const A=B.type,F=B.metadata,P=B.containsRTL,W=Math.ceil(k/50);for(let M=1;M<W;M++){const z=w+M*50;E[I++]=new D(z,A,F,P)}E[I++]=new D(O,A,F,P)}else E[I++]=B;w=O}return E}function s(p){return p<32?p!==9:p===127||p>=8234&&p<=8238||p>=8294&&p<=8297||p>=8206&&p<=8207||p===1564}function l(p,v){const _=[];let w=new D(0,"",0,!1),E=0;for(const I of v){const T=I.endIndex;for(;E<T;E++){const R=p.charCodeAt(E);s(R)&&(E>w.endIndex&&(w=new D(E,I.type,I.metadata,I.containsRTL),_.push(w)),w=new D(E+1,"mtkcontrol",I.metadata,!1),_.push(w))}E>w.endIndex&&(w=new D(T,I.type,I.metadata,I.containsRTL),_.push(w))}return _}function c(p,v,_,w){const E=p.continuesWithWrappedLine,I=p.fauxIndentLength,T=p.tabSize,R=p.startVisibleColumn,B=p.useMonospaceOptimizations,O=p.selectionsOnLine,k=p.renderWhitespace===1,A=p.renderWhitespace===3,F=p.renderSpaceWidth!==p.spaceWidth,P=[];let W=0,M=0,z=w[M].type,Q=w[M].containsRTL,ne=w[M].endIndex;const X=w.length;let J=!1,ie=y.firstNonWhitespaceIndex(v),le;ie===-1?(J=!0,ie=_,le=_):le=y.lastNonWhitespaceIndex(v);let G=!1,x=0,V=O&&O[x],j=R%T;for(let ae=I;ae<_;ae++){const Y=v.charCodeAt(ae);V&&ae>=V.endOffset&&(x++,V=O&&O[x]);let U;if(ae<ie||ae>le)U=!0;else if(Y===9)U=!0;else if(Y===32)if(k)if(G)U=!0;else{const Z=ae+1<_?v.charCodeAt(ae+1):0;U=Z===32||Z===9}else U=!0;else U=!1;if(U&&O&&(U=!!V&&V.startOffset<=ae&&V.endOffset>ae),U&&A&&(U=J||ae>le),U&&Q&&ae>=ie&&ae<=le&&(U=!1),G){if(!U||!B&&j>=T){if(F){const Z=W>0?P[W-1].endIndex:I;for(let q=Z+1;q<=ae;q++)P[W++]=new D(q,"mtkw",1,!1)}else P[W++]=new D(ae,"mtkw",1,!1);j=j%T}}else(ae===ne||U&&ae>I)&&(P[W++]=new D(ae,z,0,Q),j=j%T);for(Y===9?j=T:y.isFullWidthCharacter(Y)?j+=2:j++,G=U;ae===ne&&(M++,M<X);)z=w[M].type,Q=w[M].containsRTL,ne=w[M].endIndex}let re=!1;if(G)if(E&&k){const ae=_>0?v.charCodeAt(_-1):0,Y=_>1?v.charCodeAt(_-2):0;ae===32&&Y!==32&&Y!==9||(re=!0)}else re=!0;if(re)if(F){const ae=W>0?P[W-1].endIndex:I;for(let Y=ae+1;Y<=_;Y++)P[W++]=new D(Y,"mtkw",1,!1)}else P[W++]=new D(_,"mtkw",1,!1);else P[W++]=new D(_,z,0,Q);return P}function g(p,v,_,w){w.sort(N.LineDecoration.compare);const E=N.LineDecorationsNormalizer.normalize(p,w),I=E.length;let T=0;const R=[];let B=0,O=0;for(let A=0,F=_.length;A<F;A++){const P=_[A],W=P.endIndex,M=P.type,z=P.metadata,Q=P.containsRTL;for(;T<I&&E[T].startOffset<W;){const ne=E[T];if(ne.startOffset>O&&(O=ne.startOffset,R[B++]=new D(O,M,z,Q)),ne.endOffset+1<=W)O=ne.endOffset+1,R[B++]=new D(O,M+" "+ne.className,z|ne.metadata,Q),T++;else{O=W,R[B++]=new D(O,M+" "+ne.className,z|ne.metadata,Q);break}}W>O&&(O=W,R[B++]=new D(O,M,z,Q))}const k=_[_.length-1].endIndex;if(T<I&&E[T].startOffset===k)for(;T<I&&E[T].startOffset===k;){const A=E[T];R[B++]=new D(O,A.className,A.metadata,!1),T++}return R}function m(p,v){const _=p.fontIsMonospace,w=p.canUseHalfwidthRightwardsArrow,E=p.containsForeignElements,I=p.lineContent,T=p.len,R=p.isOverflowing,B=p.parts,O=p.fauxIndentLength,k=p.tabSize,A=p.startVisibleColumn,F=p.containsRTL,P=p.spaceWidth,W=p.renderSpaceCharCode,M=p.renderWhitespace,z=p.renderControlCharacters,Q=new u(T+1,B.length);let ne=!1,X=0,J=A,ie=0,le=0,G=0,x=0;F?v.appendASCIIString('<span dir="ltr">'):v.appendASCIIString("<span>");for(let V=0,j=B.length;V<j;V++){x+=G;const re=B[V],ae=re.endIndex,Y=re.type,U=re.containsRTL,Z=M!==0&&re.isWhitespace(),q=Z&&!_&&(Y==="mtkw"||!E),$=X===ae&&re.isPseudoAfter();if(ie=0,v.appendASCIIString("<span "),U&&v.appendASCIIString('style="unicode-bidi:isolate" '),v.appendASCIIString('class="'),v.appendASCIIString(q?"mtkz":Y),v.appendASCII(34),Z){let H=0;{let ee=X,te=J;for(;ee<ae;ee++){const he=(I.charCodeAt(ee)===9?k-te%k:1)|0;H+=he,ee>=O&&(te+=he)}}for(q&&(v.appendASCIIString(' style="width:'),v.appendASCIIString(String(P*H)),v.appendASCIIString('px"')),v.appendASCII(62);X<ae;X++){Q.setColumnInfo(X+1,V-le,ie,x),le=0;const ee=I.charCodeAt(X);let te;if(ee===9){te=k-J%k|0,!w||te>1?v.write1(8594):v.write1(65515);for(let de=2;de<=te;de++)v.write1(160)}else te=1,v.write1(W);ie+=te,X>=O&&(J+=te)}G=H}else{let H=0;for(v.appendASCII(62);X<ae;X++){Q.setColumnInfo(X+1,V-le,ie,x),le=0;const ee=I.charCodeAt(X);let te=1,de=1;switch(ee){case 9:te=k-J%k,de=te;for(let he=1;he<=te;he++)v.write1(160);break;case 32:v.write1(160);break;case 60:v.appendASCIIString("&lt;");break;case 62:v.appendASCIIString("&gt;");break;case 38:v.appendASCIIString("&amp;");break;case 0:z?v.write1(9216):v.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:v.write1(65533);break;default:y.isFullWidthCharacter(ee)&&de++,z&&ee<32?v.write1(9216+ee):z&&ee===127?v.write1(9249):z&&s(ee)?(v.appendASCIIString("[U+"),v.appendASCIIString(S(ee)),v.appendASCIIString("]"),te=8):v.write1(ee)}ie+=te,H+=te,X>=O&&(J+=de)}G=H}$?le++:le=0,X>=T&&!ne&&re.isPseudoAfter()&&(ne=!0,Q.setColumnInfo(X+1,V,ie,x)),v.appendASCIIString("</span>")}return ne||Q.setColumnInfo(T+1,B.length-1,ie,x),R&&v.appendASCIIString("<span>&hellip;</span>"),v.appendASCIIString("</span>"),new h(Q,F,E)}function S(p){return p.toString(16).toUpperCase().padStart(4,"0")}}),define(oe[461],se([1,0,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class f{constructor(D,L,b,C){this.selections=D,this.startLineNumber=L.startLineNumber|0,this.endLineNumber=L.endLineNumber|0,this.relativeVerticalOffset=L.relativeVerticalOffset,this.bigNumbersDelta=L.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=C,this.visibleRange=new y.Range(L.startLineNumber,this._model.getLineMinColumn(L.startLineNumber),L.endLineNumber,this._model.getLineMaxColumn(L.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=f}),define(oe[74],se([1,0,8,3]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class N{constructor(t,r,d,o){this._viewportBrand=void 0,this.top=t|0,this.left=r|0,this.width=d|0,this.height=o|0}}e.Viewport=N;class D{constructor(t,r){this.tabSize=t,this.data=r}}e.MinimapLinesRenderingData=D;class L{constructor(t,r,d,o,a,s,l){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=r,this.minColumn=d,this.maxColumn=o,this.startVisibleColumn=a,this.tokens=s,this.inlineDecorations=l}}e.ViewLineData=L;class b{constructor(t,r,d,o,a,s,l,c,g,m){this.minColumn=t,this.maxColumn=r,this.content=d,this.continuesWithWrappedLine=o,this.isBasicASCII=b.isBasicASCII(d,s),this.containsRTL=b.containsRTL(d,this.isBasicASCII,a),this.tokens=l,this.inlineDecorations=c,this.tabSize=g,this.startVisibleColumn=m}static isBasicASCII(t,r){return r?y.isBasicASCII(t):!0}static containsRTL(t,r,d){return!r&&d?y.containsRTL(t):!1}}e.ViewLineRenderingData=b;class C{constructor(t,r,d){this.range=t,this.inlineClassName=r,this.type=d}}e.InlineDecoration=C;class u{constructor(t,r,d,o){this.startOffset=t,this.endOffset=r,this.inlineClassName=d,this.inlineClassNameAffectsLetterSpacing=o}toInlineDecoration(t){return new C(new f.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class h{constructor(t,r){this._viewModelDecorationBrand=void 0,this.range=t,this.options=r}}e.ViewModelDecoration=h;class i{constructor(t,r,d){this.color=t,this.zIndex=r,this.data=d}static cmp(t,r){return t.zIndex===r.zIndex?t.color<r.color?-1:t.color>r.color?1:0:t.zIndex-r.zIndex}}e.OverviewRulerDecorationsGroup=i}),define(oe[258],se([1,0,4,2,241,27]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class L extends f.Disposable{constructor(){super();this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(C=>{C.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,f.markAsSingleton)(new L)),this._INSTANCE}_updateColorMap(){const C=D.TokenizationRegistry.getColorMap();if(!C){this._colors=[N.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[N.RGBA8.Empty];for(let h=1;h<C.length;h++){const i=C[h].rgba;this._colors[h]=new N.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}const u=C[2].getRelativeLuminance();this._backgroundIsLight=u>=.5,this._onDidChange.fire(void 0)}getColor(C){return(C<1||C>=this._colors.length)&&(C=2),this._colors[C]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=L,L._INSTANCE=null}),define(oe[462],se([1,0,79,11,95,74]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function L(t,r){return t===null?r?C.INSTANCE:u.INSTANCE:new b(t,r)}e.createModelLineProjection=L;class b{constructor(r,d){this._projectionData=r,this._isVisible=d}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(r,d,o){this._assertVisible();const a=o>0?this._projectionData.breakOffsets[o-1]:0,s=this._projectionData.breakOffsets[o];let l;if(this._projectionData.injectionOffsets!==null){const c=this._projectionData.injectionOffsets.map((m,S)=>new N.LineInjectedText(0,0,m+1,this._projectionData.injectionOptions[S],0));l=N.LineInjectedText.applyInjectedText(r.getLineContent(d),c).substring(a,s)}else l=r.getValueInRange({startLineNumber:d,startColumn:a+1,endLineNumber:d,endColumn:s+1});return o>0&&(l=i(this._projectionData.wrappedTextIndentLength)+l),l}getViewLineLength(r,d,o){return this._assertVisible(),this._projectionData.getLineLength(o)}getViewLineMinColumn(r,d,o){return this._assertVisible(),this._projectionData.getMinOutputOffset(o)+1}getViewLineMaxColumn(r,d,o){return this._assertVisible(),this._projectionData.getMaxOutputOffset(o)+1}getViewLineData(r,d,o){const a=new Array;return this.getViewLinesData(r,d,o,1,0,[!0],a),a[0]}getViewLinesData(r,d,o,a,s,l,c){this._assertVisible();const g=this._projectionData,m=g.injectionOffsets,S=g.injectionOptions;let p=null;if(m){p=[];let _=0,w=0;for(let E=0;E<g.getOutputLineCount();E++){const I=new Array;p[E]=I;const T=E>0?g.breakOffsets[E-1]:0,R=g.breakOffsets[E];for(;w<m.length;){const B=S[w].content.length,O=m[w]+_,k=O+B;if(O>R)break;if(T<k){const A=S[w];if(A.inlineClassName){const F=E>0?g.wrappedTextIndentLength:0,P=F+Math.max(O-T,0),W=F+Math.min(k-T,R);P!==W&&I.push(new D.SingleLineInlineDecoration(P,W,A.inlineClassName,A.inlineClassNameAffectsLetterSpacing))}}if(k<=R)_+=B,w++;else break}}}let v;m?v=r.tokenization.getLineTokens(d).withInserted(m.map((_,w)=>({offset:_,text:S[w].content,tokenMetadata:y.LineTokens.defaultTokenMetadata}))):v=r.tokenization.getLineTokens(d);for(let _=o;_<o+a;_++){const w=s+_-o;if(!l[w]){c[w]=null;continue}c[w]=this._getViewLineData(v,p?p[_]:null,_)}}_getViewLineData(r,d,o){this._assertVisible();const a=this._projectionData,s=o>0?a.wrappedTextIndentLength:0,l=o>0?a.breakOffsets[o-1]:0,c=a.breakOffsets[o],g=r.sliceAndInflate(l,c,s);let m=g.getLineContent();o>0&&(m=i(a.wrappedTextIndentLength)+m);const S=this._projectionData.getMinOutputOffset(o)+1,p=m.length+1,v=o+1<this.getViewLineCount(),_=o===0?0:a.breakOffsetsVisibleColumn[o-1];return new D.ViewLineData(m,v,S,p,_,g,d)}getModelColumnOfViewPosition(r,d){return this._assertVisible(),this._projectionData.translateToInputOffset(r,d-1)+1}getViewPositionOfModelPosition(r,d,o=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(d-1,o).toPosition(r)}getViewLineNumberOfModelPosition(r,d){this._assertVisible();const o=this._projectionData.translateToOutputPosition(d-1);return r+o.outputLineIndex}normalizePosition(r,d,o){const a=d.lineNumber-r;return this._projectionData.normalizeOutputPosition(r,d.column-1,o).toPosition(a)}getInjectedTextAt(r,d){return this._projectionData.getInjectedText(r,d-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class C{constructor(){}isVisible(){return!0}setVisible(r){return r?this:u.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(r,d,o){return r.getLineContent(d)}getViewLineLength(r,d,o){return r.getLineLength(d)}getViewLineMinColumn(r,d,o){return r.getLineMinColumn(d)}getViewLineMaxColumn(r,d,o){return r.getLineMaxColumn(d)}getViewLineData(r,d,o){const a=r.tokenization.getLineTokens(d),s=a.getLineContent();return new D.ViewLineData(s,!1,1,s.length+1,0,a.inflate(),null)}getViewLinesData(r,d,o,a,s,l,c){if(!l[s]){c[s]=null;return}c[s]=this.getViewLineData(r,d,0)}getModelColumnOfViewPosition(r,d){return d}getViewPositionOfModelPosition(r,d){return new f.Position(r,d)}getViewLineNumberOfModelPosition(r,d){return r}normalizePosition(r,d,o){return d}getInjectedTextAt(r,d){return null}}C.INSTANCE=new C;class u{constructor(){}isVisible(){return!1}setVisible(r){return r?C.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(r,d,o){throw new Error("Not supported")}getViewLineLength(r,d,o){throw new Error("Not supported")}getViewLineMinColumn(r,d,o){throw new Error("Not supported")}getViewLineMaxColumn(r,d,o){throw new Error("Not supported")}getViewLineData(r,d,o){throw new Error("Not supported")}getViewLinesData(r,d,o,a,s,l,c){throw new Error("Not supported")}getModelColumnOfViewPosition(r,d){throw new Error("Not supported")}getViewPositionOfModelPosition(r,d){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,d){throw new Error("Not supported")}normalizePosition(r,d,o){throw new Error("Not supported")}getInjectedTextAt(r,d){throw new Error("Not supported")}}u.INSTANCE=new u;let h=[""];function i(t){if(t>=h.length)for(let r=1;r<=t;r++)h[r]=n(r);return h[t]}function n(t){return new Array(t+1).join(" ")}}),define(oe[463],se([1,0,8,102,95,251]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class L{constructor(a,s){this.classifier=new b(a,s)}static create(a){return new L(a.get(120),a.get(119))}createLineBreaksComputer(a,s,l,c){const g=[],m=[],S=[];return{addRequest:(p,v,_)=>{g.push(p),m.push(v),S.push(_)},finalize:()=>{const p=a.typicalFullwidthCharacterWidth/a.typicalHalfwidthCharacterWidth,v=[];for(let _=0,w=g.length;_<w;_++){const E=m[_],I=S[_];I&&!I.injectionOptions&&!E?v[_]=h(this.classifier,I,g[_],s,l,p,c):v[_]=i(this.classifier,g[_],E,s,l,p,c)}return C.length=0,u.length=0,v}}}}e.MonospaceLineBreaksComputerFactory=L;class b extends f.CharacterClassifier{constructor(a,s){super(0);for(let l=0;l<a.length;l++)this.set(a.charCodeAt(l),1);for(let l=0;l<s.length;l++)this.set(s.charCodeAt(l),2)}get(a){return a>=0&&a<256?this._asciiMap[a]:a>=12352&&a<=12543||a>=13312&&a<=19903||a>=19968&&a<=40959?3:this._map.get(a)||this._defaultValue}}let C=[],u=[];function h(o,a,s,l,c,g,m){if(c===-1)return null;const S=s.length;if(S<=1)return null;const p=a.breakOffsets,v=a.breakOffsetsVisibleColumn,_=d(s,l,c,g,m),w=c-_,E=C,I=u;let T=0,R=0,B=0,O=c;const k=p.length;let A=0;if(A>=0){let F=Math.abs(v[A]-O);for(;A+1<k;){const P=Math.abs(v[A+1]-O);if(P>=F)break;F=P,A++}}for(;A<k;){let F=A<0?0:p[A],P=A<0?0:v[A];R>F&&(F=R,P=B);let W=0,M=0,z=0,Q=0;if(P<=O){let X=P,J=F===0?0:s.charCodeAt(F-1),ie=F===0?0:o.get(J),le=!0;for(let G=F;G<S;G++){const x=G,V=s.charCodeAt(G);let j,re;if(y.isHighSurrogate(V)?(G++,j=0,re=2):(j=o.get(V),re=n(V,X,l,g)),x>R&&r(J,ie,V,j)&&(W=x,M=X),X+=re,X>O){x>R?(z=x,Q=X-re):(z=G+1,Q=X),X-M>w&&(W=0),le=!1;break}J=V,ie=j}if(le){T>0&&(E[T]=p[p.length-1],I[T]=v[p.length-1],T++);break}}if(W===0){let X=P,J=s.charCodeAt(F),ie=o.get(J),le=!1;for(let G=F-1;G>=R;G--){const x=G+1,V=s.charCodeAt(G);if(V===9){le=!0;break}let j,re;if(y.isLowSurrogate(V)?(G--,j=0,re=2):(j=o.get(V),re=y.isFullWidthCharacter(V)?g:1),X<=O){if(z===0&&(z=x,Q=X),X<=O-w)break;if(r(V,j,J,ie)){W=x,M=X;break}}X-=re,J=V,ie=j}if(W!==0){const G=w-(Q-M);if(G<=l){const x=s.charCodeAt(z);let V;y.isHighSurrogate(x)?V=2:V=n(x,Q,l,g),G-V<0&&(W=0)}}if(le){A--;continue}}if(W===0&&(W=z,M=Q),W<=R){const X=s.charCodeAt(R);y.isHighSurrogate(X)?(W=R+2,M=B+2):(W=R+1,M=B+n(X,B,l,g))}for(R=W,E[T]=W,B=M,I[T]=M,T++,O=M+w;A<0||A<k&&v[A]<M;)A++;let ne=Math.abs(v[A]-O);for(;A+1<k;){const X=Math.abs(v[A+1]-O);if(X>=ne)break;ne=X,A++}}return T===0?null:(E.length=T,I.length=T,C=a.breakOffsets,u=a.breakOffsetsVisibleColumn,a.breakOffsets=E,a.breakOffsetsVisibleColumn=I,a.wrappedTextIndentLength=_,a)}function i(o,a,s,l,c,g,m){const S=N.LineInjectedText.applyInjectedText(a,s);let p,v;if(s&&s.length>0?(p=s.map(M=>M.options),v=s.map(M=>M.column-1)):(p=null,v=null),c===-1)return p?new D.ModelLineProjectionData(v,p,[S.length],[],0):null;const _=S.length;if(_<=1)return p?new D.ModelLineProjectionData(v,p,[S.length],[],0):null;const w=d(S,l,c,g,m),E=c-w,I=[],T=[];let R=0,B=0,O=0,k=c,A=S.charCodeAt(0),F=o.get(A),P=n(A,0,l,g),W=1;y.isHighSurrogate(A)&&(P+=1,A=S.charCodeAt(1),F=o.get(A),W++);for(let M=W;M<_;M++){const z=M,Q=S.charCodeAt(M);let ne,X;y.isHighSurrogate(Q)?(M++,ne=0,X=2):(ne=o.get(Q),X=n(Q,P,l,g)),r(A,F,Q,ne)&&(B=z,O=P),P+=X,P>k&&((B===0||P-O>E)&&(B=z,O=P-X),I[R]=B,T[R]=O,R++,k=O+E,B=0),A=Q,F=ne}return R===0&&(!s||s.length===0)?null:(I[R]=_,T[R]=P,new D.ModelLineProjectionData(v,p,I,T,w))}function n(o,a,s,l){return o===9?s-a%s:y.isFullWidthCharacter(o)||o<32?l:1}function t(o,a){return a-o%a}function r(o,a,s,l){return s!==32&&(a===2||a===3&&l!==2||l===1||l===3&&a!==1)}function d(o,a,s,l,c){let g=0;if(c!==0){const m=y.firstNonWhitespaceIndex(o);if(m!==-1){for(let p=0;p<m;p++)g+=o.charCodeAt(p)===9?t(g,a):1;const S=c===3?2:c===2?1:0;for(let p=0;p<S;p++)g+=t(g,a);g+l>s&&(g=0)}}return g}}),define(oe[259],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class y{constructor(L,b,C){this._colorZoneBrand=void 0,this.from=L|0,this.to=b|0,this.colorId=C|0}static compare(L,b){return L.colorId===b.colorId?L.from===b.from?L.to-b.to:L.from-b.from:L.colorId-b.colorId}}e.ColorZone=y;class f{constructor(L,b,C,u){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=b,this.heightInLines=C,this.color=u,this._colorZone=null}static compare(L,b){return L.color===b.color?L.startLineNumber===b.startLineNumber?L.heightInLines===b.heightInLines?L.endLineNumber-b.endLineNumber:L.heightInLines-b.heightInLines:L.startLineNumber-b.startLineNumber:L.color<b.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}e.OverviewRulerZone=f;class N{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(f.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,b=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),h=C/u,i=Math.floor(4*this._pixelRatio/2),n=[];for(let t=0,r=this._zones.length;t<r;t++){const d=this._zones[t];if(!L){const v=d.getColorZones();if(v){n.push(v);continue}}const o=this._getVerticalOffsetForLine(d.startLineNumber),a=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+b:o+d.heightInLines*b,s=Math.floor(h*o),l=Math.floor(h*a);let c=Math.floor((s+l)/2),g=l-c;g<i&&(g=i),c-g<0&&(c=g),c+g>C&&(c=C-g);const m=d.color;let S=this._color2Id[m];S||(S=++this._lastAssignedId,this._color2Id[m]=S,this._id2Color[S]=m);const p=new y(c-g,c+g,S);d.setColorZone(p),n.push(p)}return this._colorZonesInvalid=!1,n.sort(y.compare),n}}e.OverviewZoneManager=N}),define(oe[464],se([1,0,32,259,128]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends N.ViewEventHandler{constructor(b,C){super();this._context=b;const u=this._context.configuration.options;this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(C),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new f.OverviewZoneManager(h=>this._context.viewLayout.getVerticalOffsetForLineNumber(h)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(u.get(59)),this._zoneManager.setPixelRatio(u.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options;return b.hasChanged(59)&&(this._zoneManager.setLineHeight(C.get(59)),this._render()),b.hasChanged(129)&&(this._zoneManager.setPixelRatio(C.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(b){return this._render(),!0}onScrollChanged(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0}onZonesChanged(b){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);let C=!1;C=this._zoneManager.setDOMWidth(b.width)||C,C=this._zoneManager.setDOMHeight(b.height)||C,C&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(b){this._zoneManager.setZones(b),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const b=this._zoneManager.getCanvasWidth(),C=this._zoneManager.getCanvasHeight(),u=this._zoneManager.resolveColorZones(),h=this._zoneManager.getId2Color(),i=this._domNode.domNode.getContext("2d");return i.clearRect(0,0,b,C),u.length>0&&this._renderOneLane(i,u,h,b),!0}_renderOneLane(b,C,u,h){let i=0,n=0,t=0;for(const r of C){const d=r.colorId,o=r.from,a=r.to;d!==i?(b.fillRect(0,n,h,t-n),i=d,b.fillStyle=u[i],n=o,t=a):t>=o?t=Math.max(t,a):(b.fillRect(0,n,h,t-n),n=o,t=a)}b.fillRect(0,n,h,t-n)}}e.OverviewRuler=D}),define(oe[465],se([1,0,418]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class f{constructor(D,L,b){this.configuration=D,this.theme=new y.EditorTheme(L),this.viewModel=b,this.viewLayout=b.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=f}),define(oe[191],se([1,0,4,2]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class N extends f.Disposable{constructor(){super();this._onEvent=this._register(new y.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(c){this._addOutgoingEvent(c),this._emitOutgoingEvents()}_addOutgoingEvent(c){for(let g=0,m=this._outgoingEvents.length;g<m;g++){const S=this._outgoingEvents[g].kind===c.kind?this._outgoingEvents[g].attemptToMerge(c):null;if(S){this._outgoingEvents[g]=S;return}}this._outgoingEvents.push(c)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const c=this._outgoingEvents.shift();c.isNoOp()||this._onEvent.fire(c)}}addViewEventHandler(c){for(let g=0,m=this._eventHandlers.length;g<m;g++)this._eventHandlers[g]===c&&console.warn("Detected duplicate listener in ViewEventDispatcher",c);this._eventHandlers.push(c)}removeViewEventHandler(c){for(let g=0;g<this._eventHandlers.length;g++)if(this._eventHandlers[g]===c){this._eventHandlers.splice(g,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const c=this._collector.outgoingEvents,g=this._collector.viewEvents;this._collector=null;for(const m of c)this._addOutgoingEvent(m);g.length>0&&this._emitMany(g)}this._emitOutgoingEvents()}emitSingleViewEvent(c){try{this.beginEmitViewEvents().emitViewEvent(c)}finally{this.endEmitViewEvents()}}_emitMany(c){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(c):this._viewEventQueue=c,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const c=this._viewEventQueue;this._viewEventQueue=null;const g=this._eventHandlers.slice(0);for(const m of g)m.handleEvents(c)}}}e.ViewModelEventDispatcher=N;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(c){this.viewEvents.push(c)}emitOutgoingEvent(c){this.outgoingEvents.push(c)}}e.ViewModelEventsCollector=D;class L{constructor(c,g,m,S){this.kind=0,this._oldContentWidth=c,this._oldContentHeight=g,this.contentWidth=m,this.contentHeight=S,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(c){return c.kind!==this.kind?null:new L(this._oldContentWidth,this._oldContentHeight,c.contentWidth,c.contentHeight)}}e.ContentSizeChangedEvent=L;class b{constructor(c,g){this.kind=1,this.oldHasFocus=c,this.hasFocus=g}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(c){return c.kind!==this.kind?null:new b(this.oldHasFocus,c.hasFocus)}}e.FocusChangedEvent=b;class C{constructor(c,g,m,S,p,v,_,w){this.kind=2,this._oldScrollWidth=c,this._oldScrollLeft=g,this._oldScrollHeight=m,this._oldScrollTop=S,this.scrollWidth=p,this.scrollLeft=v,this.scrollHeight=_,this.scrollTop=w,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(c){return c.kind!==this.kind?null:new C(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop)}}e.ScrollChangedEvent=C;class u{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=u;class h{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=h;class i{constructor(c,g,m,S,p,v,_){this.kind=6,this.oldSelections=c,this.selections=g,this.oldModelVersionId=m,this.modelVersionId=S,this.source=p,this.reason=v,this.reachedMaxCursorCount=_}static _selectionsAreEqual(c,g){if(!c&&!g)return!0;if(!c||!g)return!1;const m=c.length,S=g.length;if(m!==S)return!1;for(let p=0;p<m;p++)if(!c[p].equalsSelection(g[p]))return!1;return!0}isNoOp(){return i._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(c){return c.kind!==this.kind?null:new i(this.oldSelections,c.selections,this.oldModelVersionId,c.modelVersionId,c.source,c.reason,this.reachedMaxCursorCount||c.reachedMaxCursorCount)}}e.CursorStateChangedEvent=i;class n{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=n;class t{constructor(c){this.event=c,this.kind=7}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelDecorationsChangedEvent=t;class r{constructor(c){this.event=c,this.kind=8}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelLanguageChangedEvent=r;class d{constructor(c){this.event=c,this.kind=9}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelLanguageConfigurationChangedEvent=d;class o{constructor(c){this.event=c,this.kind=10}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelContentChangedEvent=o;class a{constructor(c){this.event=c,this.kind=11}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelOptionsChangedEvent=a;class s{constructor(c){this.event=c,this.kind=12}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelTokensChangedEvent=s}),define(oe[466],se([1,0,4,2,140,460,74,191]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class u{constructor(t,r,d,o){t=t|0,r=r|0,d=d|0,o=o|0,t<0&&(t=0),r<0&&(r=0),d<0&&(d=0),o<0&&(o=0),this.width=t,this.contentWidth=r,this.scrollWidth=Math.max(t,r),this.height=d,this.contentHeight=o,this.scrollHeight=Math.max(d,o)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class h extends f.Disposable{constructor(t,r){super();this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new N.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:r})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const r=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const d=r.contentWidth!==t.contentWidth,o=r.contentHeight!==t.contentHeight;(d||o)&&this._onDidContentSizeChange.fire(new b.ContentSizeChangedEvent(r.contentWidth,r.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class i extends f.Disposable{constructor(t,r,d){super();this._configuration=t;const o=this._configuration.options,a=o.get(131),s=o.get(75);this._linesLayout=new D.LinesLayout(r,o.get(59),s.top,s.bottom),this._scrollable=this._register(new h(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(a.contentWidth,0,a.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?C:0)}onConfigurationChanged(t){const r=this._configuration.options;if(t.hasChanged(59)&&this._linesLayout.setLineHeight(r.get(59)),t.hasChanged(75)){const d=r.get(75);this._linesLayout.setPadding(d.top,d.bottom)}if(t.hasChanged(131)){const d=r.get(131),o=d.contentWidth,a=d.height,s=this._scrollable.getScrollDimensions(),l=s.contentWidth;this._scrollable.setScrollDimensions(new u(o,s.contentWidth,a,this._getContentHeight(o,a,l)))}else this._updateHeight();t.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,r){this._linesLayout.onLinesDeleted(t,r)}onLinesInserted(t,r){this._linesLayout.onLinesInserted(t,r)}_getHorizontalScrollbarHeight(t,r){const o=this._configuration.options.get(92);return o.horizontal===2||t>=r?0:o.horizontalScrollbarSize}_getContentHeight(t,r,d){const o=this._configuration.options;let a=this._linesLayout.getLinesTotalHeight();return o.get(94)?a+=Math.max(0,r-o.get(59)-o.get(75).bottom):a+=this._getHorizontalScrollbarHeight(t,d),a}_updateHeight(){const t=this._scrollable.getScrollDimensions(),r=t.width,d=t.height,o=t.contentWidth;this._scrollable.setScrollDimensions(new u(r,t.contentWidth,d,this._getContentHeight(r,d,o)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),r=this._scrollable.getCurrentScrollPosition();return new L.Viewport(r.scrollTop,r.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),r=this._scrollable.getFutureScrollPosition();return new L.Viewport(r.scrollTop,r.scrollLeft,t.width,t.height)}_computeContentWidth(t){const r=this._configuration.options,d=r.get(132),o=r.get(44);if(d.isViewportWrapping){const a=r.get(131),s=r.get(65);return t>a.contentWidth+o.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?t+a.verticalScrollbarWidth:t}else{const a=r.get(93)*o.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+a,s)}}setMaxLineWidth(t){const r=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(r.width,this._computeContentWidth(t),r.height,r.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),r=t.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r),o=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:r,scrollTopWithoutViewZones:r-o,scrollLeft:t.scrollLeft}}changeWhitespace(t){const r=this._linesLayout.changeWhitespace(t);return r&&this.onHeightMaybeChanged(),r}getVerticalOffsetForLineNumber(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const r=this._scrollable.getScrollDimensions();return t+r.height>r.scrollHeight&&(t=r.scrollHeight-r.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+r.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,r){r===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,r){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+t,scrollTop:d.scrollTop+r})}}e.ViewLayout=i}),define(oe[467],se([1,0,3,24]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class N{constructor(L,b){this._selection=L,this._isMovingLeft=b}getEditOperations(L,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const C=this._selection.startLineNumber,u=this._selection.startColumn,h=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&h===L.getLineMaxColumn(C)))if(this._isMovingLeft){const i=new y.Range(C,u-1,C,u),n=L.getValueInRange(i);b.addEditOperation(i,null),b.addEditOperation(new y.Range(C,h,C,h),n)}else{const i=new y.Range(C,h,C,h+1),n=L.getValueInRange(i);b.addEditOperation(i,null),b.addEditOperation(new y.Range(C,u,C,u),n)}}computeCursorState(L,b){return this._isMovingLeft?new f.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new f.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=N}),define(oe[156],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class y{constructor(C){this.value=C}equals(C){return this.value===C.value}contains(C){return this.equals(C)||this.value===""||C.value.startsWith(this.value+y.sep)}intersects(C){return this.contains(C)||C.contains(this)}append(C){return new y(this.value+y.sep+C)}}e.CodeActionKind=y,y.sep=".",y.None=new y("@@none@@"),y.Empty=new y(""),y.QuickFix=new y("quickfix"),y.Refactor=new y("refactor"),y.Source=new y("source"),y.SourceOrganizeImports=y.Source.append("organizeImports"),y.SourceFixAll=y.Source.append("fixAll");function f(b,C){return!(b.include&&!b.include.intersects(C)||b.excludes&&b.excludes.some(u=>D(C,u,b.include))||!b.includeSourceActions&&y.Source.contains(C))}e.mayIncludeActionsOfKind=f;function N(b,C){const u=C.kind?new y(C.kind):void 0;return!(b.include&&(!u||!b.include.contains(u))||b.excludes&&u&&b.excludes.some(h=>D(u,h,b.include))||!b.includeSourceActions&&u&&y.Source.contains(u)||b.onlyIncludePreferredActions&&!C.isPreferred)}e.filtersAction=N;function D(b,C,u){return!(!C.contains(b)||u&&C.contains(u))}class L{constructor(C,u,h){this.kind=C,this.apply=u,this.preferred=h}static fromUser(C,u){return!C||typeof C!="object"?new L(u.kind,u.apply,!1):new L(L.getKindFromUser(C,u.kind),L.getApplyFromUser(C,u.apply),L.getPreferredUser(C))}static getApplyFromUser(C,u){switch(typeof C.apply=="string"?C.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return u}}static getKindFromUser(C,u){return typeof C.kind=="string"?new y(C.kind):u}static getPreferredUser(C){return typeof C.preferred=="boolean"?C.preferred:!1}}e.CodeActionCommandArgs=L}),define(oe[468],se([1,0,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class f{constructor(D,L,b){this.presentationIndex=b,this._onColorFlushed=new y.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new y.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new y.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=L}get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,L){for(let b=0;b<this.colorPresentations.length;b++)if(L.toLowerCase()===this.colorPresentations[b].label){this.presentationIndex=b,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=f}),define(oe[260],se([1,0,61,11,3,24]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class L{constructor(C,u,h){this.languageConfigurationService=h,this._selection=C,this._insertSpace=u,this._usedEndToken=null}static _haystackHasNeedleAtOffset(C,u,h){if(h<0)return!1;const i=u.length,n=C.length;if(h+i>n)return!1;for(let t=0;t<i;t++){const r=C.charCodeAt(h+t),d=u.charCodeAt(t);if(r!==d&&!(r>=65&&r<=90&&r+32===d)&&!(d>=65&&d<=90&&d+32===r))return!1}return!0}_createOperationsForBlockComment(C,u,h,i,n,t){const r=C.startLineNumber,d=C.startColumn,o=C.endLineNumber,a=C.endColumn,s=n.getLineContent(r),l=n.getLineContent(o);let c=s.lastIndexOf(u,d-1+u.length),g=l.indexOf(h,a-1-h.length);if(c!==-1&&g!==-1)if(r===o)s.substring(c+u.length,g).indexOf(h)>=0&&(c=-1,g=-1);else{const S=s.substring(c+u.length),p=l.substring(0,g);(S.indexOf(h)>=0||p.indexOf(h)>=0)&&(c=-1,g=-1)}let m;c!==-1&&g!==-1?(i&&c+u.length<s.length&&s.charCodeAt(c+u.length)===32&&(u=u+" "),i&&g>0&&l.charCodeAt(g-1)===32&&(h=" "+h,g-=1),m=L._createRemoveBlockCommentOperations(new N.Range(r,c+u.length+1,o,g+1),u,h)):(m=L._createAddBlockCommentOperations(C,u,h,this._insertSpace),this._usedEndToken=m.length===1?h:null);for(const S of m)t.addTrackedEditOperation(S.range,S.text)}static _createRemoveBlockCommentOperations(C,u,h){let i=[];return N.Range.isEmpty(C)?i.push(y.EditOperation.delete(new N.Range(C.startLineNumber,C.startColumn-u.length,C.endLineNumber,C.endColumn+h.length))):(i.push(y.EditOperation.delete(new N.Range(C.startLineNumber,C.startColumn-u.length,C.startLineNumber,C.startColumn))),i.push(y.EditOperation.delete(new N.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn+h.length)))),i}static _createAddBlockCommentOperations(C,u,h,i){let n=[];return N.Range.isEmpty(C)?n.push(y.EditOperation.replace(new N.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),u+"  "+h)):(n.push(y.EditOperation.insert(new f.Position(C.startLineNumber,C.startColumn),u+(i?" ":""))),n.push(y.EditOperation.insert(new f.Position(C.endLineNumber,C.endColumn),(i?" ":"")+h))),n}getEditOperations(C,u){const h=this._selection.startLineNumber,i=this._selection.startColumn;C.tokenization.tokenizeIfCheap(h);const n=C.getLanguageIdAtPosition(h,i),t=this.languageConfigurationService.getLanguageConfiguration(n).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,C,u)}computeCursorState(C,u){const h=u.getInverseEditOperations();if(h.length===2){const i=h[0],n=h[1];return new D.Selection(i.range.endLineNumber,i.range.endColumn,n.range.startLineNumber,n.range.startColumn)}else{const i=h[0].range,n=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(i.endLineNumber,i.endColumn+n,i.endLineNumber,i.endColumn+n)}}}e.BlockCommentCommand=L}),define(oe[469],se([1,0,8,61,11,3,24,260]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class C{constructor(h,i,n,t,r,d,o){this.languageConfigurationService=h,this._selection=i,this._tabSize=n,this._type=t,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=o||!1}static _gatherPreflightCommentStrings(h,i,n,t){h.tokenization.tokenizeIfCheap(i);const r=h.getLanguageIdAtPosition(i,1),d=t.getLanguageConfiguration(r).comments,o=d?d.lineCommentToken:null;if(!o)return null;let a=[];for(let s=0,l=n-i+1;s<l;s++)a[s]={ignore:!1,commentStr:o,commentStrOffset:0,commentStrLength:o.length};return a}static _analyzeLines(h,i,n,t,r,d,o,a){let s=!0,l;h===0?l=!0:h===1?l=!1:l=!0;for(let c=0,g=t.length;c<g;c++){const m=t[c],S=r+c;if(S===r&&o){m.ignore=!0;continue}const p=n.getLineContent(S),v=y.firstNonWhitespaceIndex(p);if(v===-1){m.ignore=d,m.commentStrOffset=p.length;continue}if(s=!1,m.ignore=!1,m.commentStrOffset=v,l&&!b.BlockCommentCommand._haystackHasNeedleAtOffset(p,m.commentStr,v)&&(h===0?l=!1:h===1||(m.ignore=!0)),l&&i){const _=v+m.commentStrLength;_<p.length&&p.charCodeAt(_)===32&&(m.commentStrLength+=1)}}if(h===0&&s){l=!1;for(let c=0,g=t.length;c<g;c++)t[c].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:t}}static _gatherPreflightData(h,i,n,t,r,d,o,a){const s=C._gatherPreflightCommentStrings(n,t,r,a);return s===null?{supported:!1}:C._analyzeLines(h,i,n,s,t,d,o,a)}_executeLineComments(h,i,n,t){let r;n.shouldRemoveComments?r=C._createRemoveLineCommentsOperations(n.lines,t.startLineNumber):(C._normalizeInsertionPoint(h,n.lines,t.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(n.lines,t.startLineNumber));const d=new N.Position(t.positionLineNumber,t.positionColumn);for(let o=0,a=r.length;o<a;o++)i.addEditOperation(r[o].range,r[o].text),D.Range.isEmpty(r[o].range)&&D.Range.getStartPosition(r[o].range).equals(d)&&h.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(r[o].text||"").length);this._selectionId=i.trackSelection(t)}_attemptRemoveBlockComment(h,i,n,t){let r=i.startLineNumber,d=i.endLineNumber,o=t.length+Math.max(h.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn),a=h.getLineContent(r).lastIndexOf(n,o-1),s=h.getLineContent(d).indexOf(t,i.endColumn-1-n.length);return a!==-1&&s===-1&&(s=h.getLineContent(r).indexOf(t,a+n.length),d=r),a===-1&&s!==-1&&(a=h.getLineContent(d).lastIndexOf(n,s),r=d),i.isEmpty()&&(a===-1||s===-1)&&(a=h.getLineContent(r).indexOf(n),a!==-1&&(s=h.getLineContent(r).indexOf(t,a+n.length))),a!==-1&&h.getLineContent(r).charCodeAt(a+n.length)===32&&(n+=" "),s!==-1&&h.getLineContent(d).charCodeAt(s-1)===32&&(t=" "+t,s-=1),a!==-1&&s!==-1?b.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(r,a+n.length+1,d,s+1),n,t):null}_executeBlockComment(h,i,n){h.tokenization.tokenizeIfCheap(n.startLineNumber);let t=h.getLanguageIdAtPosition(n.startLineNumber,1);const r=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;const d=r.blockCommentStartToken,o=r.blockCommentEndToken;let a=this._attemptRemoveBlockComment(h,n,d,o);if(!a){if(n.isEmpty()){const s=h.getLineContent(n.startLineNumber);let l=y.firstNonWhitespaceIndex(s);l===-1&&(l=s.length),a=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,l+1,n.startLineNumber,s.length+1),d,o,this._insertSpace)}else a=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,h.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,h.getLineMaxColumn(n.endLineNumber)),d,o,this._insertSpace);a.length===1&&(this._deltaColumn=d.length+1)}this._selectionId=i.trackSelection(n);for(const s of a)i.addEditOperation(s.range,s.text)}getEditOperations(h,i){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new D.Range(n.startLineNumber,h.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===h.getLineCount()?"":`
`),this._selectionId=i.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,h.getLineMaxColumn(n.endLineNumber-1)));const t=C._gatherPreflightData(this._type,this._insertSpace,h,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(h,i,t,n):this._executeBlockComment(h,i,n)}computeCursorState(h,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new L.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(h,i){let n=[];for(let t=0,r=h.length;t<r;t++){const d=h[t];d.ignore||n.push(f.EditOperation.delete(new D.Range(i+t,d.commentStrOffset+1,i+t,d.commentStrOffset+d.commentStrLength+1)))}return n}_createAddLineCommentsOperations(h,i){let n=[];const t=this._insertSpace?" ":"";for(let r=0,d=h.length;r<d;r++){const o=h[r];o.ignore||n.push(f.EditOperation.insert(new N.Position(i+r,o.commentStrOffset+1),o.commentStr+t))}return n}static nextVisibleColumn(h,i,n,t){return n?h+(i-h%i):h+t}static _normalizeInsertionPoint(h,i,n,t){let r=1073741824,d,o;for(let a=0,s=i.length;a<s;a++){if(i[a].ignore)continue;const l=h.getLineContent(n+a);let c=0;for(let g=0,m=i[a].commentStrOffset;c<r&&g<m;g++)c=C.nextVisibleColumn(c,t,l.charCodeAt(g)===9,1);c<r&&(r=c)}r=Math.floor(r/t)*t;for(let a=0,s=i.length;a<s;a++){if(i[a].ignore)continue;const l=h.getLineContent(n+a);let c=0;for(d=0,o=i[a].commentStrOffset;c<r&&d<o;d++)c=C.nextVisibleColumn(c,t,l.charCodeAt(d)===9,1);c>r?i[a].commentStrOffset=d-1:i[a].commentStrOffset=d}}}e.LineCommentCommand=C}),define(oe[470],se([1,0,3,24]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class N{constructor(L,b,C){this.selection=L,this.targetPosition=b,this.copy=C,this.targetSelection=null}getEditOperations(L,b){let C=L.getValueInRange(this.selection);if(this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new y.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),C),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new f.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new f.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new f.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new f.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new f.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(L,b){return this.targetSelection}}e.DragAndDropCommand=N}),define(oe[471],se([1,0,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class f{constructor(D,L,b){this._editorSelection=D,this._ranges=L,this._replaceStrings=b,this._trackedEditorSelectionId=null}getEditOperations(D,L){if(this._ranges.length>0){let b=[];for(let h=0;h<this._ranges.length;h++)b.push({range:this._ranges[h],text:this._replaceStrings[h]});b.sort((h,i)=>y.Range.compareRangesUsingStarts(h.range,i.range));let C=[],u=b[0];for(let h=1;h<b.length;h++)u.range.endLineNumber===b[h].range.startLineNumber&&u.range.endColumn===b[h].range.startColumn?(u.range=u.range.plusRange(b[h].range),u.text=u.text+b[h].text):(C.push(u),u=b[h]);C.push(u);for(const h of C)L.addEditOperation(h.range,h.text)}this._trackedEditorSelectionId=L.trackSelection(this._editorSelection)}computeCursorState(D,L){return L.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=f}),define(oe[472],se([1,0,331]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class f{constructor(h){this.staticValue=h,this.kind=0}}class N{constructor(h){this.pieces=h,this.kind=1}}class D{constructor(h){!h||h.length===0?this._state=new f(""):h.length===1&&h[0].staticValue!==null?this._state=new f(h[0].staticValue):this._state=new N(h)}static fromStaticValue(h){return new D([L.staticValue(h)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(h,i){if(this._state.kind===0)return i?(0,y.buildReplaceStringWithCasePreserved)(h,this._state.staticValue):this._state.staticValue;let n="";for(let t=0,r=this._state.pieces.length;t<r;t++){let d=this._state.pieces[t];if(d.staticValue!==null){n+=d.staticValue;continue}let o=D._substitute(d.matchIndex,h);if(d.caseOps!==null&&d.caseOps.length>0){let a=[],s=d.caseOps.length,l=0;for(let c=0,g=o.length;c<g;c++){if(l>=s){a.push(o.slice(c));break}switch(d.caseOps[l]){case"U":a.push(o[c].toUpperCase());break;case"u":a.push(o[c].toUpperCase()),l++;break;case"L":a.push(o[c].toLowerCase());break;case"l":a.push(o[c].toLowerCase()),l++;break;default:a.push(o[c])}}o=a.join("")}n+=o}return n}static _substitute(h,i){if(i===null)return"";if(h===0)return i[0];let n="";for(;h>0;){if(h<i.length)return(i[h]||"")+n;n=String(h%10)+n,h=Math.floor(h/10)}return"$"+n}}e.ReplacePattern=D;class L{constructor(h,i,n){this.staticValue=h,this.matchIndex=i,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}static staticValue(h){return new L(h,-1,null)}static caseOps(h,i){return new L(null,h,i)}}e.ReplacePiece=L;class b{constructor(h){this._source=h,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(h){this._emitStatic(this._source.substring(this._lastCharIndex,h)),this._lastCharIndex=h}emitStatic(h,i){this._emitStatic(h),this._lastCharIndex=i}_emitStatic(h){h.length!==0&&(this._currentStaticPiece+=h)}emitMatchIndex(h,i,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L.caseOps(h,n),this._lastCharIndex=i}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function C(u){if(!u||u.length===0)return new D(null);let h=[],i=new b(u);for(let n=0,t=u.length;n<t;n++){let r=u.charCodeAt(n);if(r===92){if(n++,n>=t)break;let d=u.charCodeAt(n);switch(d){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic(`
`,n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),h.push(String.fromCharCode(d));break}continue}if(r===36){if(n++,n>=t)break;let d=u.charCodeAt(n);if(d===36){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(d===48||d===38){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,h),h.length=0;continue}if(49<=d&&d<=57){let o=d-48;if(n+1<t){let a=u.charCodeAt(n+1);if(48<=a&&a<=57){n++,o=o*10+(a-48),i.emitUnchanged(n-2),i.emitMatchIndex(o,n+1,h),h.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(o,n+1,h),h.length=0;continue}}}return i.finalize()}e.parseReplaceString=C}),define(oe[192],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const y=4278190080;class f{constructor(L,b,C){if(L.length!==b.length||L.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=L,this._endIndexes=b,this._collapseStates=new Uint32Array(Math.ceil(L.length/32)),this._types=C,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let L=[],b=(C,u)=>{let h=L[L.length-1];return this.getStartLineNumber(h)<=C&&this.getEndLineNumber(h)>=u};for(let C=0,u=this._startIndexes.length;C<u;C++){let h=this._startIndexes[C],i=this._endIndexes[C];if(h>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;L.length>0&&!b(h,i);)L.pop();let n=L.length>0?L[L.length-1]:-1;L.push(C),this._startIndexes[C]=h+((n&255)<<24),this._endIndexes[C]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(L){return this._startIndexes[L]&e.MAX_LINE_NUMBER}getEndLineNumber(L){return this._endIndexes[L]&e.MAX_LINE_NUMBER}getType(L){return this._types?this._types[L]:void 0}hasTypes(){return!!this._types}isCollapsed(L){let b=L/32|0,C=L%32;return(this._collapseStates[b]&1<<C)!=0}setCollapsed(L,b){let C=L/32|0,u=L%32,h=this._collapseStates[C];b?this._collapseStates[C]=h|1<<u:this._collapseStates[C]=h&~(1<<u)}setCollapsedAllOfType(L,b){let C=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===L&&(this.setCollapsed(u,b),C=!0);return C}toRegion(L){return new N(this,L)}getParentIndex(L){this.ensureParentIndices();let b=((this._startIndexes[L]&y)>>>24)+((this._endIndexes[L]&y)>>>16);return b===e.MAX_FOLDING_REGIONS?-1:b}contains(L,b){return this.getStartLineNumber(L)<=b&&this.getEndLineNumber(L)>=b}findIndex(L){let b=0,C=this._startIndexes.length;if(C===0)return-1;for(;b<C;){let u=Math.floor((b+C)/2);L<this.getStartLineNumber(u)?C=u:b=u+1}return b-1}findRange(L){let b=this.findIndex(L);if(b>=0){if(this.getEndLineNumber(b)>=L)return b;for(b=this.getParentIndex(b);b!==-1;){if(this.contains(b,L))return b;b=this.getParentIndex(b)}}return-1}toString(){let L=[];for(let b=0;b<this.length;b++)L[b]=`[${this.isCollapsed(b)?"+":"-"}] ${this.getStartLineNumber(b)}/${this.getEndLineNumber(b)}`;return L.join(", ")}}e.FoldingRegions=f;class N{constructor(L,b){this.ranges=L,this.index=b}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(L){return L.startLineNumber<=this.startLineNumber&&L.endLineNumber>=this.endLineNumber}containsLine(L){return this.startLineNumber<=L&&L<=this.endLineNumber}}e.FoldingRegion=N}),define(oe[473],se([1,0,4,192]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class N{constructor(a,s){this._updateEventEmitter=new y.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=a,this._decorationProvider=s,this._regions=new f.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(a){if(!a.length)return;a=a.sort((l,c)=>l.regionIndex-c.regionIndex);const s={};this._decorationProvider.changeDecorations(l=>{let c=0,g=-1,m=-1;const S=p=>{for(;c<p;){const v=this._regions.getEndLineNumber(c),_=this._regions.isCollapsed(c);v<=g&&l.changeDecorationOptions(this._editorDecorationIds[c],this._decorationProvider.getDecorationOption(_,v<=m)),_&&v>m&&(m=v),c++}};for(let p of a){let v=p.regionIndex,_=this._editorDecorationIds[v];if(_&&!s[_]){s[_]=!0,S(v);let w=!this._regions.isCollapsed(v);this._regions.setCollapsed(v,w),g=Math.max(g,this._regions.getEndLineNumber(v))}}S(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:a})}update(a,s=[]){let l=[],c=(w,E)=>{for(let I of s)if(w<I&&I<=E)return!0;return!1},g=-1,m=(w,E)=>{const I=a.getStartLineNumber(w),T=a.getEndLineNumber(w);E||(E=a.isCollapsed(w)),E&&c(I,T)&&(E=!1),a.setCollapsed(w,E);const R=this._textModel.getLineMaxColumn(I),B={startLineNumber:I,startColumn:Math.max(R-1,1),endLineNumber:I,endColumn:R};l.push({range:B,options:this._decorationProvider.getDecorationOption(E,T<=g)}),E&&T>g&&(g=T)},S=0,p=()=>{for(;S<this._regions.length;){let w=this._regions.isCollapsed(S);if(S++,w)return S-1}return-1},v=0,_=p();for(;_!==-1&&v<a.length;){let w=this._textModel.getDecorationRange(this._editorDecorationIds[_]);if(w){let E=w.startLineNumber;if(w.startColumn===Math.max(w.endColumn-1,1)&&this._textModel.getLineMaxColumn(E)===w.endColumn)for(;v<a.length;){let I=a.getStartLineNumber(v);if(E>=I)m(v,E===I),v++;else break}}_=p()}for(;v<a.length;)m(v,!1),v++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,l),this._regions=a,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let a=[];for(let s=0;s<this._regions.length;s++)if(this._regions.isCollapsed(s)){let l=this._textModel.getDecorationRange(this._editorDecorationIds[s]);if(l){let c=l.startLineNumber,g=l.endLineNumber+this._regions.getEndLineNumber(s)-this._regions.getStartLineNumber(s);a.push({startLineNumber:c,endLineNumber:g})}}if(a.length>0)return a}applyMemento(a){if(!Array.isArray(a))return;let s=[];for(let l of a){let c=this.getRegionAtLine(l.startLineNumber);c&&!c.isCollapsed&&s.push(c)}this.toggleCollapseState(s)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(a,s){let l=[];if(this._regions){let c=this._regions.findRange(a),g=1;for(;c>=0;){let m=this._regions.toRegion(c);(!s||s(m,g))&&l.push(m),g++,c=m.parentIndex}}return l}getRegionAtLine(a){if(this._regions){let s=this._regions.findRange(a);if(s>=0)return this._regions.toRegion(s)}return null}getRegionsInside(a,s){let l=[],c=a?a.regionIndex+1:0,g=a?a.endLineNumber:Number.MAX_VALUE;if(s&&s.length===2){const m=[];for(let S=c,p=this._regions.length;S<p;S++){let v=this._regions.toRegion(S);if(this._regions.getStartLineNumber(S)<g){for(;m.length>0&&!v.containedBy(m[m.length-1]);)m.pop();m.push(v),s(v,m.length)&&l.push(v)}else break}}else for(let m=c,S=this._regions.length;m<S;m++){let p=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<g)(!s||s(p))&&l.push(p);else break}return l}}e.FoldingModel=N;function D(o,a,s){let l=[];for(let c of s){let g=o.getRegionAtLine(c);if(g){const m=!g.isCollapsed;if(l.push(g),a>1){let S=o.getRegionsInside(g,(p,v)=>p.isCollapsed!==m&&v<a);l.push(...S)}}}o.toggleCollapseState(l)}e.toggleCollapseState=D;function L(o,a,s=Number.MAX_VALUE,l){let c=[];if(l&&l.length>0)for(let g of l){let m=o.getRegionAtLine(g);if(m&&(m.isCollapsed!==a&&c.push(m),s>1)){let S=o.getRegionsInside(m,(p,v)=>p.isCollapsed!==a&&v<s);c.push(...S)}}else{let g=o.getRegionsInside(null,(m,S)=>m.isCollapsed!==a&&S<s);c.push(...g)}o.toggleCollapseState(c)}e.setCollapseStateLevelsDown=L;function b(o,a,s,l){let c=[];for(let g of l){let m=o.getAllRegionsAtLine(g,(S,p)=>S.isCollapsed!==a&&p<=s);c.push(...m)}o.toggleCollapseState(c)}e.setCollapseStateLevelsUp=b;function C(o,a,s){let l=[];for(let c of s){let g=o.getAllRegionsAtLine(c,m=>m.isCollapsed!==a);g.length>0&&l.push(g[0])}o.toggleCollapseState(l)}e.setCollapseStateUp=C;function u(o,a,s,l){let c=(m,S)=>S===a&&m.isCollapsed!==s&&!l.some(p=>m.containsLine(p)),g=o.getRegionsInside(null,c);o.toggleCollapseState(g)}e.setCollapseStateAtLevel=u;function h(o,a,s){let l=[];for(let m of s){const S=o.getAllRegionsAtLine(m,void 0);S.length>0&&l.push(S[0])}let c=m=>l.every(S=>!S.containedBy(m)&&!m.containedBy(S))&&m.isCollapsed!==a,g=o.getRegionsInside(null,c);o.toggleCollapseState(g)}e.setCollapseStateForRest=h;function i(o,a,s){let l=o.textModel,c=o.regions,g=[];for(let m=c.length-1;m>=0;m--)if(s!==c.isCollapsed(m)){let S=c.getStartLineNumber(m);a.test(l.getLineContent(S))&&g.push(c.toRegion(m))}o.toggleCollapseState(g)}e.setCollapseStateForMatchingLines=i;function n(o,a,s){let l=o.regions,c=[];for(let g=l.length-1;g>=0;g--)s!==l.isCollapsed(g)&&a===l.getType(g)&&c.push(l.toRegion(g));o.toggleCollapseState(c)}e.setCollapseStateForType=n;function t(o,a){let s=null,l=a.getRegionAtLine(o);if(l!==null&&(s=l.startLineNumber,o===s)){let c=l.parentIndex;c!==-1?s=a.regions.getStartLineNumber(c):s=null}return s}e.getParentFoldLine=t;function r(o,a){let s=a.getRegionAtLine(o);if(s!==null&&s.startLineNumber===o){if(o!==s.startLineNumber)return s.startLineNumber;{let l=s.parentIndex,c=0;for(l!==-1&&(c=a.regions.getStartLineNumber(s.parentIndex));s!==null;)if(s.regionIndex>0){if(s=a.regions.toRegion(s.regionIndex-1),s.startLineNumber<=c)return null;if(s.parentIndex===l)return s.startLineNumber}else return null}}else if(a.regions.length>0)for(s=a.regions.toRegion(a.regions.length-1);s!==null;){if(s.startLineNumber<o)return s.startLineNumber;s.regionIndex>0?s=a.regions.toRegion(s.regionIndex-1):s=null}return null}e.getPreviousFoldLine=r;function d(o,a){let s=a.getRegionAtLine(o);if(s!==null&&s.startLineNumber===o){let l=s.parentIndex,c=0;if(l!==-1)c=a.regions.getEndLineNumber(s.parentIndex);else{if(a.regions.length===0)return null;c=a.regions.getEndLineNumber(a.regions.length-1)}for(;s!==null;)if(s.regionIndex<a.regions.length){if(s=a.regions.toRegion(s.regionIndex+1),s.startLineNumber>=c)return null;if(s.parentIndex===l)return s.startLineNumber}else return null}else if(a.regions.length>0)for(s=a.regions.toRegion(0);s!==null;){if(s.startLineNumber>o)return s.startLineNumber;s.regionIndex<a.regions.length?s=a.regions.toRegion(s.regionIndex+1):s=null}return null}e.getNextFoldLine=d}),define(oe[474],se([1,0,18,4,3,124]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(h){this._updateEventEmitter=new f.Emitter,this._hasLineChanges=!1,this._foldingModel=h,this._foldingModelListener=h.onDidChange(i=>this.updateHiddenRanges()),this._hiddenRanges=[],h.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(h){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=h.changes.some(i=>i.range.endLineNumber!==i.range.startLineNumber||(0,D.countEOL)(i.text)[0]!==0))}updateHiddenRanges(){let h=!1,i=[],n=0,t=0,r=Number.MAX_VALUE,d=-1,o=this._foldingModel.regions;for(;n<o.length;n++){if(!o.isCollapsed(n))continue;let a=o.getStartLineNumber(n)+1,s=o.getEndLineNumber(n);r<=a&&s<=d||(!h&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===a&&this._hiddenRanges[t].endLineNumber===s?(i.push(this._hiddenRanges[t]),t++):(h=!0,i.push(new N.Range(a,1,s,1))),r=a,d=s)}(this._hasLineChanges||h||t<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}applyMemento(h){if(!Array.isArray(h)||h.length===0)return!1;let i=[];for(let n of h){if(!n.startLineNumber||!n.endLineNumber)return!1;i.push(new N.Range(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(i),!0}getMemento(){return this._hiddenRanges.map(h=>({startLineNumber:h.startLineNumber-1,endLineNumber:h.endLineNumber}))}applyHiddenRanges(h){this._hiddenRanges=h,this._hasLineChanges=!1,this._updateEventEmitter.fire(h)}hasRanges(){return this._hiddenRanges.length>0}isHidden(h){return C(this._hiddenRanges,h)!==null}adjustSelections(h){let i=!1,n=this._foldingModel.textModel,t=null,r=d=>((!t||!b(d,t))&&(t=C(this._hiddenRanges,d)),t?t.startLineNumber-1:null);for(let d=0,o=h.length;d<o;d++){let a=h[d],s=r(a.startLineNumber);s&&(a=a.setStartPosition(s,n.getLineMaxColumn(s)),i=!0);let l=r(a.endLineNumber);l&&(a=a.setEndPosition(l,n.getLineMaxColumn(l)),i=!0),h[d]=a}return i}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function b(u,h){return u>=h.startLineNumber&&u<=h.endLineNumber}function C(u,h){let i=(0,y.findFirstInSorted)(u,n=>h<n.startLineNumber)-1;return i>=0&&u[i].endLineNumber>=h?u[i]:null}}),define(oe[475],se([1,0,186,192]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const N=5e3;e.ID_INDENT_PROVIDER="indent";class D{constructor(u,h,i){this.editorModel=u,this.languageConfigurationService=h,this.maxFoldingRegions=i,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(u,h){let i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,t=i&&i.markers;return Promise.resolve(b(this.editorModel,n,t,this.maxFoldingRegions,h))}}e.IndentRangeProvider=D;class L{constructor(u,h){this._notifyTooManyRegions=h,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=u}insertFirst(u,h,i){if(u>f.MAX_LINE_NUMBER||h>f.MAX_LINE_NUMBER)return;let n=this._length;this._startIndexes[n]=u,this._endIndexes[n]=h,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(u){if(this._length<=this._foldingRangesLimit){let h=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=this._length-1,t=0;n>=0;n--,t++)h[t]=this._startIndexes[n],i[t]=this._endIndexes[n];return new f.FoldingRegions(h,i)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let h=0,i=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){let o=this._indentOccurrences[d];if(o){if(o+h>this._foldingRangesLimit){i=d;break}h+=o}}const n=u.getOptions().tabSize;let t=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit);for(let d=this._length-1,o=0;d>=0;d--){let a=this._startIndexes[d],s=u.getLineContent(a),l=(0,y.computeIndentLevel)(s,n);(l<i||l===i&&h++<this._foldingRangesLimit)&&(t[o]=a,r[o]=this._endIndexes[d],o++)}return new f.FoldingRegions(t,r)}}}e.RangesCollector=L;function b(C,u,h,i,n){const t=C.getOptions().tabSize;i=i??N;let r=new L(i,n),d;h&&(d=new RegExp(`(${h.start.source})|(?:${h.end.source})`));let o=[],a=C.getLineCount()+1;o.push({indent:-1,endAbove:a,line:a});for(let s=C.getLineCount();s>0;s--){let l=C.getLineContent(s),c=(0,y.computeIndentLevel)(l,t),g=o[o.length-1];if(c===-1){u&&(g.endAbove=s);continue}let m;if(d&&(m=l.match(d)))if(m[1]){let S=o.length-1;for(;S>0&&o[S].indent!==-2;)S--;if(S>0){o.length=S+1,g=o[S],r.insertFirst(s,g.line,c),g.line=s,g.indent=c,g.endAbove=s;continue}}else{o.push({indent:-2,endAbove:s,line:s});continue}if(g.indent>c){do o.pop(),g=o[o.length-1];while(g.indent>c);let S=g.endAbove-1;S-s>=1&&r.insertFirst(s,S,c)}g.indent===c?g.endAbove=s:o.push({indent:c,endAbove:s,line:s})}return r.toIndentRanges(C)}e.computeRanges=b}),define(oe[261],se([1,0,13,2,192]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const D={};e.ID_SYNTAX_PROVIDER="syntax";class L{constructor(i,n,t,r){this.editorModel=i,this.providers=n,this.limit=r,this.id=e.ID_SYNTAX_PROVIDER;for(const d of n)typeof d.onDidChange=="function"&&(this.disposables||(this.disposables=new f.DisposableStore),this.disposables.add(d.onDidChange(t)))}compute(i,n){return b(this.providers,this.editorModel,i).then(t=>t?u(t,this.limit,n):null)}dispose(){var i;(i=this.disposables)===null||i===void 0||i.dispose()}}e.SyntaxRangeProvider=L;function b(h,i,n){let t=null,r=h.map((d,o)=>Promise.resolve(d.provideFoldingRanges(i,D,n)).then(a=>{if(!n.isCancellationRequested&&Array.isArray(a)){Array.isArray(t)||(t=[]);let s=i.getLineCount();for(let l of a)l.start>0&&l.end>l.start&&l.end<=s&&t.push({start:l.start,end:l.end,rank:o,kind:l.kind})}},y.onUnexpectedExternalError));return Promise.all(r).then(d=>t)}class C{constructor(i,n){this._notifyTooManyRegions=n,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,t,r){if(i>N.MAX_LINE_NUMBER||n>N.MAX_LINE_NUMBER)return;let d=this._length;this._startIndexes[d]=i,this._endIndexes[d]=n,this._nestingLevels[d]=r,this._types[d]=t,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let t=0;t<this._length;t++)i[t]=this._startIndexes[t],n[t]=this._endIndexes[t];return new N.FoldingRegions(i,n,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let i=0,n=this._nestingLevelCounts.length;for(let o=0;o<this._nestingLevelCounts.length;o++){let a=this._nestingLevelCounts[o];if(a){if(a+i>this._foldingRangesLimit){n=o;break}i+=a}}let t=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),d=[];for(let o=0,a=0;o<this._length;o++){let s=this._nestingLevels[o];(s<n||s===n&&i++<this._foldingRangesLimit)&&(t[a]=this._startIndexes[o],r[a]=this._endIndexes[o],d[a]=this._types[o],a++)}return new N.FoldingRegions(t,r,d)}}}e.RangesCollector=C;function u(h,i,n){let t=h.sort((a,s)=>{let l=a.start-s.start;return l===0&&(l=a.rank-s.rank),l}),r=new C(i,n),d,o=[];for(let a of t)if(!d)d=a,r.add(a.start,a.end,a.kind&&a.kind.value,o.length);else if(a.start>d.start)if(a.end<=d.end)o.push(d),d=a,r.add(a.start,a.end,a.kind&&a.kind.value,o.length);else{if(a.start>d.end){do d=o.pop();while(d&&a.start>d.end);d&&o.push(d),d=a}r.add(a.start,a.end,a.kind&&a.kind.value,o.length)}return r.toIndentRanges()}e.sanitizeRanges=u}),define(oe[476],se([1,0,261]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class f{constructor(D,L,b,C){if(this.editorModel=D,this.id=e.ID_INIT_PROVIDER,L.length){let u=h=>({range:{startLineNumber:h.startLineNumber,startColumn:0,endLineNumber:h.endLineNumber,endColumn:D.getLineLength(h.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=D.deltaDecorations([],L.map(u)),this.timeout=setTimeout(b,C)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(D){let L=[];if(this.decorationIds)for(let b of this.decorationIds){let C=this.editorModel.getDecorationRange(b);C&&L.push({start:C.startLineNumber,end:C.endLineNumber,rank:1})}return Promise.resolve((0,y.sanitizeRanges)(L,Number.MAX_VALUE))}}e.InitializingRangeProvider=f}),define(oe[262],se([1,0,61,3]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class N{static _handleEolEdits(L,b){let C,u=[];for(let h of b)typeof h.eol=="number"&&(C=h.eol),h.range&&typeof h.text=="string"&&u.push(h);return typeof C=="number"&&L.hasModel()&&L.getModel().pushEOL(C),u}static _isFullModelReplaceEdit(L,b){if(!L.hasModel())return!1;const C=L.getModel(),u=C.validateRange(b.range);return C.getFullModelRange().equalsRange(u)}static execute(L,b,C){C&&L.pushUndoStop();const u=N._handleEolEdits(L,b);u.length===1&&N._isFullModelReplaceEdit(L,u[0])?L.executeEdits("formatEditsCommand",u.map(h=>y.EditOperation.replace(f.Range.lift(h.range),h.text))):L.executeEdits("formatEditsCommand",u.map(h=>y.EditOperation.replaceMove(f.Range.lift(h.range),h.text))),C&&L.pushUndoStop()}}e.FormattingEdit=N}),define(oe[193],se([1,0,4,2,17]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(i,n){return!!i[n]}class L{constructor(n,t){this.target=n.target,this.hasTriggerModifier=D(n.event,t.triggerModifier),this.hasSideBySideModifier=D(n.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1}}e.ClickLinkMouseEvent=L;class b{constructor(n,t){this.keyCodeIsTriggerKey=n.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=D(n,t.triggerModifier)}}e.ClickLinkKeyboardEvent=b;class C{constructor(n,t,r,d){this.triggerKey=n,this.triggerModifier=t,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=d}equals(n){return this.triggerKey===n.triggerKey&&this.triggerModifier===n.triggerModifier&&this.triggerSideBySideKey===n.triggerSideBySideKey&&this.triggerSideBySideModifier===n.triggerSideBySideModifier}}e.ClickLinkOptions=C;function u(i){return i==="altKey"?N.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):N.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class h extends f.Disposable{constructor(n){super();this._onMouseMoveOrRelevantKeyDown=this._register(new y.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new y.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new y.Emitter),this.onCancel=this._onCancel.event,this._editor=n,this._opts=u(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){const r=u(this._editor.getOption(70));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new L(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new L(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new L(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new b(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new b(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(n){n.selection&&n.selection.startColumn!==n.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(n){this._lastMouseMoveEvent=n,this._onMouseMoveOrRelevantKeyDown.fire([n,null])}_onEditorMouseDown(n){this._hasTriggerKeyOnMouseDown=n.hasTriggerModifier,this._lineNumberOnMouseDown=n.target.position?n.target.position.lineNumber:0}_onEditorMouseUp(n){const t=n.target.position?n.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(n)}_onEditorKeyDown(n){this._lastMouseMoveEvent&&(n.keyCodeIsTriggerKey||n.keyCodeIsSideBySideKey&&n.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,n]):n.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(n){n.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=h});var Ct=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],y;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),y={},f("next"),f("throw"),f("return"),y[Symbol.asyncIterator]=function(){return this},y);function f(D){y[D]=K[D]&&function(L){return new Promise(function(b,C){L=K[D](L),N(b,C,L.done,L.value)})}}function N(D,L,b,C){Promise.resolve(C).then(function(u){D({value:u,done:b})},L)}};define(oe[263],se([1,0,10,13,4,2]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class L{constructor(u,h,i){this.value=u,this.isComplete=h,this.hasLoadingMessage=i}}e.HoverResult=L;class b extends D.Disposable{constructor(u,h){super();this._editor=u,this._computer=h,this._onResult=this._register(new N.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(u,h=!0){this._state=u,h&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,y.createCancelableAsyncIterable)(u=>this._computer.computeAsync(u)),(()=>Le(this,void 0,void 0,function*(){var u,h;try{try{for(var i=Ct(this._asyncIterable),n;n=yield i.next(),!n.done;){const t=n.value;t&&(this._result.push(t),this._fireResult())}}catch(t){u={error:t}}finally{try{n&&!n.done&&(h=i.return)&&(yield h.call(i))}finally{if(u)throw u.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(t){(0,f.onUnexpectedError)(t)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const u=this._state===0,h=this._state===4;this._onResult.fire(new L(this._result.slice(0),u,h))}start(u){if(u===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=b}),define(oe[87],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class y{constructor(D,L){this.priority=D,this.range=L,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,L){return D.type===1&&L.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=y;class f{constructor(D,L,b){this.priority=D,this.owner=L,this.range=b,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,L){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=f,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(oe[477],se([1,0,24]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class f{constructor(D,L,b){this._editRange=D,this._originalSelection=L,this._text=b}getEditOperations(D,L){L.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,L){const C=L.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new y.Selection(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new y.Selection(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=f}),define(oe[264],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function y(N,D){let L=0;for(let b=0;b<N.length;b++)N.charAt(b)==="	"?L+=D:L++;return L}e.getSpaceCnt=y;function f(N,D,L){N=N<0?0:N;let b="";if(!L){let C=Math.floor(N/D);N=N%D;for(let u=0;u<C;u++)b+="	"}for(let C=0;C<N;C++)b+=" ";return b}e.generateIndent=f}),define(oe[265],se([1,0,13,2,11,3,51,25]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class C{constructor(t,r){this.range=t,this.direction=r}}e.InlayHintAnchor=C;class u{constructor(t,r,d){this.hint=t,this.anchor=r,this.provider=d,this._isResolved=!1}with(t){const r=new u(this.hint,t.anchor,this.provider);return r._isResolved=this._isResolved,r._currentResolve=this._currentResolve,r}resolve(t){return Le(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var r,d;return Le(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(r=o==null?void 0:o.tooltip)!==null&&r!==void 0?r:this.hint.tooltip,this.hint.label=(d=o==null?void 0:o.label)!==null&&d!==void 0?d:this.hint.label,this._isResolved=!0}catch(o){(0,y.onUnexpectedExternalError)(o),this._isResolved=!1}})}}e.InlayHintItem=u;class h{constructor(t,r,d){this._disposables=new f.DisposableStore,this.ranges=t,this.provider=new Set;const o=[];for(const[a,s]of r){this._disposables.add(a),this.provider.add(s);for(const l of a.hints){let c=d.validatePosition(l.position),g="before";const m=h._getRangeAtPosition(d,c);let S;m.getStartPosition().isBefore(c)?(S=D.Range.fromPositions(m.getStartPosition(),c),g="after"):(S=D.Range.fromPositions(c,m.getEndPosition()),g="before"),o.push(new u(l,new C(S,g),s))}}this.items=o.sort((a,s)=>N.Position.compare(a.hint.position,s.hint.position))}static create(t,r,d,o){return Le(this,void 0,void 0,function*(){const a=[],s=t.ordered(r).reverse().map(l=>d.map(c=>Le(this,void 0,void 0,function*(){try{const g=yield l.provideInlayHints(r,c,o);(g==null?void 0:g.hints.length)&&a.push([g,l])}catch(g){(0,y.onUnexpectedExternalError)(g)}})));if(yield Promise.all(s.flat()),o.isCancellationRequested||r.isDisposed())throw new y.CancellationError;return new h(d,a,r)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,r){const d=r.lineNumber,o=t.getWordAtPosition(r);if(o)return new D.Range(d,o.startColumn,d,o.endColumn);t.tokenization.tokenizeIfCheap(d);const a=t.tokenization.getLineTokens(d),s=r.column-1,l=a.findTokenIndexAtOffset(s);let c=a.getStartOffset(l),g=a.getEndOffset(l);return g-c==1&&(c===s&&l>1?(c=a.getStartOffset(l-1),g=a.getEndOffset(l-1)):g===s&&l<a.getCount()-1&&(c=a.getStartOffset(l+1),g=a.getEndOffset(l+1))),new D.Range(d,c+1,d,g+1)}}e.InlayHintsFragments=h;function i(n){return b.URI.from({scheme:L.Schemas.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}e.asCommandLink=i}),define(oe[194],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(oe[195],se([1,0,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function f(C,u){return{object:C,dispose:()=>u==null?void 0:u.dispose()}}e.createDisposableRef=f;function N(C,u){const h=new D(C),i=u.map(n=>{const t=y.Range.lift(n.range);return{startOffset:h.getOffset(t.getStartPosition()),endOffset:h.getOffset(t.getEndPosition()),text:n.text}});i.sort((n,t)=>t.startOffset-n.startOffset);for(const n of i)C=C.substring(0,n.startOffset)+n.text+C.substring(n.endOffset);return C}e.applyEdits=N;class D{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<u.length;h++)u.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const L=[];function b(){return L}e.getReadonlyEmptyArray=b}),define(oe[157],se([1,0,4,2,195]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class D{constructor(h,i,n=0){this.lineNumber=h,this.parts=i,this.additionalReservedLineCount=n}renderForScreenReader(h){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],n=h.substr(0,i.column-1);return(0,N.applyEdits)(n,this.parts.map(r=>({range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(h=>h.lines.length===0)}}e.GhostText=D;class L{constructor(h,i,n){this.column=h,this.lines=i,this.preview=n}}e.GhostTextPart=L;class b{constructor(h,i,n,t,r=0){this.lineNumber=h,this.columnStart=i,this.length=n,this.newLines=t,this.additionalReservedLineCount=r,this.parts=[new L(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(h){return this.newLines.join(`
`)}}e.GhostTextReplacement=b;class C extends f.Disposable{constructor(h){super();this.editor=h,this._expanded=void 0,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(h.onDidChangeConfiguration(i=>{i.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(h){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=C}),define(oe[196],se([1,0,141,8,3,157]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function L(t,r){if(!r)return r;const d=t.getValueInRange(r.range),o=f.commonPrefixLength(d,r.insertText),a=t.getOffsetAt(r.range.getStartPosition())+o,s=t.getPositionAt(a),l=d.substr(o),c=f.commonSuffixLength(l,r.insertText),g=t.getPositionAt(Math.max(a,t.getOffsetAt(r.range.getEndPosition())-c));return{range:N.Range.fromPositions(s,g),insertText:r.insertText.substr(o,r.insertText.length-o-c),snippetInfo:r.snippetInfo,filterText:r.filterText,additionalTextEdits:r.additionalTextEdits}}e.minimizeInlineCompletion=L;function b(t,r){return t===r?!0:!t||!r?!1:t.range.equalsRange(r.range)&&t.insertText===r.insertText&&t.command===r.command}e.normalizedInlineCompletionsEquals=b;function C(t,r,d,o,a=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const s=r.getLineContent(t.range.startLineNumber),l=f.getLeadingWhitespace(s).length;if(t.range.startColumn-1<=l){const _=f.getLeadingWhitespace(t.insertText).length,w=s.substring(t.range.startColumn-1,l),E=N.Range.fromPositions(t.range.getStartPosition().delta(0,w.length),t.range.getEndPosition()),I=t.insertText.startsWith(w)?t.insertText.substring(w.length):t.insertText.substring(_);t={range:E,insertText:I,command:t.command,snippetInfo:void 0,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}const g=r.getValueInRange(t.range),m=h(g,t.insertText);if(!m)return;const S=t.range.startLineNumber,p=new Array;if(d==="prefix"){const _=m.filter(w=>w.originalLength===0);if(_.length>1||_.length===1&&_[0].originalStart!==g.length)return}const v=t.insertText.length-a;for(const _ of m){const w=t.range.startColumn+_.originalStart+_.originalLength;if(d==="subwordSmart"&&o&&o.lineNumber===t.range.startLineNumber&&w<o.column||_.originalLength>0)return;if(_.modifiedLength===0)continue;const E=_.modifiedStart+_.modifiedLength,I=Math.max(_.modifiedStart,Math.min(E,v)),T=t.insertText.substring(_.modifiedStart,I),R=t.insertText.substring(I,Math.max(_.modifiedStart,E));if(T.length>0){const B=f.splitLines(T);p.push(new D.GhostTextPart(w,B,!1))}if(R.length>0){const B=f.splitLines(R);p.push(new D.GhostTextPart(w,B,!0))}}return new D.GhostText(S,p,0)}e.inlineCompletionToGhostText=C;let u;function h(t,r){if((u==null?void 0:u.originalValue)===t&&(u==null?void 0:u.newValue)===r)return u==null?void 0:u.changes;{let d=n(t,r,!0);if(d){const o=i(d);if(o>0){const a=n(t,r,!1);a&&i(a)<o&&(d=a)}}return u={originalValue:t,newValue:r,changes:d},d}}function i(t){let r=0;for(const d of t)r+=Math.max(d.originalLength-d.modifiedLength,0);return r}function n(t,r,d){if(t.length>5e3||r.length>5e3)return;function o(m){let S=0;for(let p=0,v=m.length;p<v;p++){const _=m.charCodeAt(p);_>S&&(S=_)}return S}const a=Math.max(o(t),o(r));function s(m){if(m<0)throw new Error("unexpected");return a+m+1}function l(m){let S=0,p=0;const v=new Int32Array(m.length);for(let _=0,w=m.length;_<w;_++)if(d&&m[_]==="("){const E=p*100+S;v[_]=s(2*E),S++}else if(d&&m[_]===")"){S=Math.max(S-1,0);const E=p*100+S;v[_]=s(2*E+1),S===0&&p++}else v[_]=m.charCodeAt(_);return v}const c=l(t),g=l(r);return new y.LcsDiff({getElements:()=>c},{getElements:()=>g}).ComputeDiff(!1).changes}}),define(oe[478],se([1,0,3,24]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class N{constructor(L,b,C){this._selection=L,this._isCopyingDown=b,this._noop=C||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(L,b){let C=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._endLineNumberDelta=1,C=C.setEndPosition(C.endLineNumber-1,L.getLineMaxColumn(C.endLineNumber-1)));let u=[];for(let i=C.startLineNumber;i<=C.endLineNumber;i++)u.push(L.getLineContent(i));const h=u.join(`
`);h===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?b.addEditOperation(new y.Range(C.endLineNumber,L.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===L.getLineCount()?"":`
`):this._isCopyingDown?b.addEditOperation(new y.Range(C.startLineNumber,1,C.startLineNumber,1),h+`
`):b.addEditOperation(new y.Range(C.endLineNumber,L.getLineMaxColumn(C.endLineNumber),C.endLineNumber,L.getLineMaxColumn(C.endLineNumber)),`
`+h),this._selectionId=b.trackSelection(C),this._selectionDirection=this._selection.getDirection()}computeCursorState(L,b){let C=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=C.startLineNumber,h=C.startColumn,i=C.endLineNumber,n=C.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,h=1),this._endLineNumberDelta!==0&&(i=i+this._endLineNumberDelta,n=1),C=f.Selection.createWithDirection(u,h,i,n,this._selectionDirection)}return C}}e.CopyLinesCommand=N}),define(oe[479],se([1,0,61,3]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class N{constructor(C,u){this.selection=C,this.descending=u,this.selectionId=null}static getCollator(){return N._COLLATOR||(N._COLLATOR=new Intl.Collator),N._COLLATOR}getEditOperations(C,u){let h=L(C,this.selection,this.descending);h&&u.addEditOperation(h.range,h.text),this.selectionId=u.trackSelection(this.selection)}computeCursorState(C,u){return u.getTrackedSelection(this.selectionId)}static canRun(C,u,h){if(C===null)return!1;let i=D(C,u,h);if(!i)return!1;for(let n=0,t=i.before.length;n<t;n++)if(i.before[n]!==i.after[n])return!0;return!1}}e.SortLinesCommand=N,N._COLLATOR=null;function D(b,C,u){let h=C.startLineNumber,i=C.endLineNumber;if(C.endColumn===1&&i--,h>=i)return null;let n=[];for(let r=h;r<=i;r++)n.push(b.getLineContent(r));let t=n.slice(0);return t.sort(N.getCollator().compare),u===!0&&(t=t.reverse()),{startLineNumber:h,endLineNumber:i,before:n,after:t}}function L(b,C,u){let h=D(b,C,u);return h?y.EditOperation.replace(new f.Range(h.startLineNumber,1,h.endLineNumber,b.getLineMaxColumn(h.endLineNumber)),h.after.join(`
`)):null}}),define(oe[266],se([1,0,84,11,3]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(b,C){return Le(this,void 0,void 0,function*(){const u=[];for(const h of C){const i=[];u.push(i);const n=new Map;yield new Promise(t=>D._bracketsRightYield(t,0,b,h,n)),yield new Promise(t=>D._bracketsLeftYield(t,0,b,h,n,i))}return u})}static _bracketsRightYield(b,C,u,h,i){const n=new Map,t=Date.now();for(;;){if(C>=D._maxRounds){b();break}if(!h){b();break}let r=u.bracketPairs.findNextBracket(h);if(!r){b();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsRightYield(b,C+1,u,h,i));break}if(r.bracketInfo.isOpeningBracket){const o=r.bracketInfo.bracketText;let a=n.has(o)?n.get(o):0;n.set(o,a+1)}else{const o=r.bracketInfo.getClosedBrackets()[0].bracketText;let a=n.has(o)?n.get(o):0;if(a-=1,n.set(o,Math.max(0,a)),a<0){let s=i.get(o);s||(s=new y.LinkedList,i.set(o,s)),s.push(r.range)}}h=r.range.getEndPosition()}}static _bracketsLeftYield(b,C,u,h,i,n){const t=new Map,r=Date.now();for(;;){if(C>=D._maxRounds&&i.size===0){b();break}if(!h){b();break}let d=u.bracketPairs.findPrevBracket(h);if(!d){b();break}if(Date.now()-r>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(b,C+1,u,h,i,n));break}if(d.bracketInfo.isOpeningBracket){const a=d.bracketInfo.bracketText;let s=t.has(a)?t.get(a):0;if(s-=1,t.set(a,Math.max(0,s)),s<0){let l=i.get(a);if(l){let c=l.shift();l.size===0&&i.delete(a);const g=N.Range.fromPositions(d.range.getEndPosition(),c.getStartPosition()),m=N.Range.fromPositions(d.range.getStartPosition(),c.getEndPosition());n.push({range:g}),n.push({range:m}),D._addBracketLeading(u,m,n)}}}else{const a=d.bracketInfo.getClosedBrackets()[0].bracketText;let s=t.has(a)?t.get(a):0;t.set(a,s+1)}h=d.range.getStartPosition()}}static _addBracketLeading(b,C,u){if(C.startLineNumber===C.endLineNumber)return;const h=C.startLineNumber,i=b.getLineFirstNonWhitespaceColumn(h);i!==0&&i!==C.startColumn&&(u.push({range:N.Range.fromPositions(new f.Position(h,i),C.getEndPosition())}),u.push({range:N.Range.fromPositions(new f.Position(h,1),C.getEndPosition())}));const n=h-1;if(n>0){const t=b.getLineFirstNonWhitespaceColumn(n);t===C.startColumn&&t!==b.getLineLastNonWhitespaceColumn(n)&&(u.push({range:N.Range.fromPositions(new f.Position(n,t),C.getEndPosition())}),u.push({range:N.Range.fromPositions(new f.Position(n,1),C.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(oe[480],se([1,0,8,3]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class N{provideSelectionRanges(L,b){const C=[];for(const u of b){const h=[];C.push(h),this._addInWordRanges(h,L,u),this._addWordRanges(h,L,u),this._addWhitespaceLine(h,L,u),h.push({range:L.getFullModelRange()})}return C}_addInWordRanges(L,b,C){const u=b.getWordAtPosition(C);if(!u)return;let{word:h,startColumn:i}=u,n=C.column-i,t=n,r=n,d=0;for(;t>=0;t--){let o=h.charCodeAt(t);if(t!==n&&(o===95||o===45))break;if((0,y.isLowerAsciiLetter)(o)&&(0,y.isUpperAsciiLetter)(d))break;d=o}for(t+=1;r<h.length;r++){let o=h.charCodeAt(r);if((0,y.isUpperAsciiLetter)(o)&&(0,y.isLowerAsciiLetter)(d))break;if(o===95||o===45)break;d=o}t<r&&L.push({range:new f.Range(C.lineNumber,i+t,C.lineNumber,i+r)})}_addWordRanges(L,b,C){const u=b.getWordAtPosition(C);u&&L.push({range:new f.Range(C.lineNumber,u.startColumn,C.lineNumber,u.endColumn)})}_addWhitespaceLine(L,b,C){b.getLineLength(C.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&L.push({range:new f.Range(C.lineNumber,1,C.lineNumber,b.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=N}),define(oe[107],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,o=0,a=this.value.charCodeAt(d),s;if(s=y._table[a],typeof s=="number")return this.pos+=1,{type:s,pos:d,len:1};if(y.isDigitCharacter(a)){s=8;do o+=1,a=this.value.charCodeAt(d+o);while(y.isDigitCharacter(a));return this.pos+=o,{type:s,pos:d,len:o}}if(y.isVariableCharacter(a)){s=9;do a=this.value.charCodeAt(d+ ++o);while(y.isVariableCharacter(a)||y.isDigitCharacter(a));return this.pos+=o,{type:s,pos:d,len:o}}s=10;do o+=1,a=this.value.charCodeAt(d+o);while(!isNaN(a)&&typeof y._table[a]=="undefined"&&!y.isDigitCharacter(a)&&!y.isVariableCharacter(a));return this.pos+=o,{type:s,pos:d,len:o}}}e.Scanner=y,y._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class f{constructor(){this._children=[]}appendChild(d){return d instanceof N&&this._children[this._children.length-1]instanceof N?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,o){const{parent:a}=d,s=a.children.indexOf(d),l=a.children.slice(0);l.splice(s,1,...o),a._children=l,function c(g,m){for(const S of g)S.parent=m,c(S.children,S)}(o,a)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof n)return d;d=d.parent}}toString(){return this.children.reduce((d,o)=>d+o.toString(),"")}len(){return 0}}e.Marker=f;class N extends f{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new N(this.value)}}e.Text=N;class D extends f{}e.TransformableMarker=D;class L extends D{constructor(d){super();this.index=d}static compareByIndex(d,o){return d.index===o.index?0:d.isFinalTabstop?1:o.isFinalTabstop||d.index<o.index?-1:d.index>o.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof b?this._children[0]:void 0}clone(){let d=new L(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(o=>o.clone()),d}}e.Placeholder=L;class b extends f{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof N&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new b;return this.options.forEach(d.appendChild,d),d}}e.Choice=b;class C extends f{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const o=this;let a=!1,s=d.replace(this.regexp,function(){return a=!0,o._replace(Array.prototype.slice.call(arguments,0,-2))});return!a&&this._children.some(l=>l instanceof u&&Boolean(l.elseValue))&&(s=this._replace([])),s}_replace(d){let o="";for(const a of this._children)if(a instanceof u){let s=d[a.index]||"";s=a.resolve(s),o+=s}else o+=a.toString();return o}toString(){return""}clone(){let d=new C;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(o=>o.clone()),d}}e.Transform=C;class u extends f{constructor(d,o,a,s){super();this.index=d,this.shorthandName=o,this.ifValue=a,this.elseValue=s}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":this.shorthandName==="camelcase"?d?this._toCamelCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const o=d.match(/[a-z0-9]+/gi);return o?o.map(a=>a.charAt(0).toUpperCase()+a.substr(1)).join(""):d}_toCamelCase(d){const o=d.match(/[a-z0-9]+/gi);return o?o.map((a,s)=>s===0?a.charAt(0).toLowerCase()+a.substr(1):a.charAt(0).toUpperCase()+a.substr(1)).join(""):d}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=u;class h extends D{constructor(d){super();this.name=d}resolve(d){let o=d.resolve(this);return this.transform&&(o=this.transform.resolve(o||"")),o!==void 0?(this._children=[new N(o)],!0):!1}clone(){const d=new h(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(o=>o.clone()),d}}e.Variable=h;function i(r,d){const o=[...r];for(;o.length>0;){const a=o.shift();if(!d(a))break;o.unshift(...a.children)}}class n extends f{get placeholderInfo(){if(!this._placeholders){let d=[],o;this.walk(function(a){return a instanceof L&&(d.push(a),o=!o||o.index<a.index?a:o),!0}),this._placeholders={all:d,last:o}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let o=0,a=!1;return this.walk(s=>s===d?(a=!0,!1):(o+=s.len(),!0)),a?o:-1}fullLen(d){let o=0;return i([d],a=>(o+=a.len(),!0)),o}enclosingPlaceholders(d){let o=[],{parent:a}=d;for(;a;)a instanceof L&&o.push(a),a=a.parent;return o}resolveVariables(d){return this.walk(o=>(o instanceof h&&o.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,o){return this._placeholders=void 0,super.replace(d,o)}clone(){let d=new n;return this._children=this.children.map(o=>o.clone()),d}walk(d){i(this.children,d)}}e.TextmateSnippet=n;class t{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,o,a){this._scanner.text(d),this._token=this._scanner.next();const s=new n;for(;this._parse(s););const l=new Map,c=[];let g=0;s.walk(m=>(m instanceof L&&(g+=1,m.isFinalTabstop?l.set(0,void 0):!l.has(m.index)&&m.children.length>0?l.set(m.index,m.children):c.push(m)),!0));for(const m of c){const S=l.get(m.index);if(S){const p=new L(m.index);p.transform=m.transform;for(const v of S)p.appendChild(v.clone());s.replace(m,[p])}}return a||(a=g>0&&o),!l.has(0)&&a&&s.appendChild(new L(0)),s}_accept(d,o){if(d===void 0||this._token.type===d){let a=o?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),a}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const o=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const a=this._scanner.value.substring(o.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),a}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let o;return(o=this._accept(5,!0))?(o=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||o,d.appendChild(new N(o)),!0):!1}_parseTabstopOrVariableName(d){let o;const a=this._token;return this._accept(0)&&(o=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(o)?new L(Number(o)):new h(o)),!0):this._backTo(a)}_parseComplexPlaceholder(d){let o;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(o=this._accept(8,!0))))return this._backTo(a);const l=new L(Number(o));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(l),!0;if(!this._parse(l))return d.appendChild(new N("${"+o+":")),l.children.forEach(d.appendChild,d),!0}else if(l.index>0&&this._accept(7)){const c=new b;for(;;){if(this._parseChoiceElement(c)){if(this._accept(2))continue;if(this._accept(7)&&(l.appendChild(c),this._accept(4)))return d.appendChild(l),!0}return this._backTo(a),!1}}else return this._accept(6)?this._parseTransform(l)?(d.appendChild(l),!0):(this._backTo(a),!1):this._accept(4)?(d.appendChild(l),!0):this._backTo(a)}_parseChoiceElement(d){const o=this._token,a=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(o),!1;a.push(s)}return a.length===0?(this._backTo(o),!1):(d.appendChild(new N(a.join(""))),!0)}_parseComplexVariable(d){let o;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(o=this._accept(9,!0))))return this._backTo(a);const l=new h(o);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(l),!0;if(!this._parse(l))return d.appendChild(new N("${"+o+":")),l.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(l)?(d.appendChild(l),!0):(this._backTo(a),!1):this._accept(4)?(d.appendChild(l),!0):this._backTo(a)}_parseTransform(d){let o=new C,a="",s="";for(;!this._accept(6);){let l;if(l=this._accept(5,!0)){l=this._accept(6,!0)||l,a+=l;continue}if(this._token.type!==14){a+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let l;if(l=this._accept(5,!0)){l=this._accept(5,!0)||this._accept(6,!0)||l,o.appendChild(new N(l));continue}if(!(this._parseFormatString(o)||this._parseAnything(o)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{o.regexp=new RegExp(a,s)}catch{return!1}return d.transform=o,!0}_parseFormatString(d){const o=this._token;if(!this._accept(0))return!1;let a=!1;this._accept(3)&&(a=!0);let s=this._accept(8,!0);if(s)if(a){if(this._accept(4))return d.appendChild(new u(Number(s))),!0;if(!this._accept(1))return this._backTo(o),!1}else return d.appendChild(new u(Number(s))),!0;else return this._backTo(o),!1;if(this._accept(6)){let l=this._accept(9,!0);return!l||!this._accept(4)?(this._backTo(o),!1):(d.appendChild(new u(Number(s),l)),!0)}else if(this._accept(11)){let l=this._until(4);if(l)return d.appendChild(new u(Number(s),void 0,l,void 0)),!0}else if(this._accept(12)){let l=this._until(4);if(l)return d.appendChild(new u(Number(s),void 0,void 0,l)),!0}else if(this._accept(13)){let l=this._until(1);if(l){let c=this._until(4);if(c)return d.appendChild(new u(Number(s),void 0,l,c)),!0}}else{let l=this._until(4);if(l)return d.appendChild(new u(Number(s),void 0,void 0,l)),!0}return this._backTo(o),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new N(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(oe[267],se([1,0,18,64,8]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(C,u){this.leadingLineContent=C,this.characterCountDelta=u}}e.LineContext=D;class L{constructor(C,u,h,i,n,t,r=f.FuzzyScoreOptions.default,d=void 0){this.clipboardText=d,this._snippetCompareFn=L._compareCompletionItems,this._items=C,this._column=u,this._wordDistance=i,this._options=n,this._refilterKind=1,this._lineContext=h,this._fuzzyScoreOptions=r,t==="top"?this._snippetCompareFn=L._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=L._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(let[u,h]of this._providerInfo)h&&C.add(u);return C}adopt(C){let u=[];for(let h=0;h<this._items.length;)C.has(this._items[h].provider)?h++:(u.push(this._items[h]),this._items[h]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,u}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:u,characterCountDelta:h}=this._lineContext;let i="",n="";const t=this._refilterKind===1?this._items:this._filteredItems,r=[],d=!this._options.filterGraceful||t.length>2e3?f.fuzzyScore:f.fuzzyScoreGracefulAggressive;for(let o=0;o<t.length;o++){const a=t[o];if(a.isInvalid)continue;this._providerInfo.set(a.provider,Boolean(a.container.incomplete));const s=a.position.column-a.editStart.column,l=s+h-(a.position.column-this._column);if(i.length!==l&&(i=l===0?"":u.slice(-l),n=i.toLowerCase()),a.word=i,l===0)a.score=f.FuzzyScore.Default;else{let c=0;for(;c<s;){const g=i.charCodeAt(c);if(g===32||g===9)c+=1;else break}if(c>=l)a.score=f.FuzzyScore.Default;else if(typeof a.completion.filterText=="string"){let g=d(i,n,c,a.completion.filterText,a.filterTextLow,0,this._fuzzyScoreOptions);if(!g)continue;(0,N.compareIgnoreCase)(a.completion.filterText,a.textLabel)===0?a.score=g:(a.score=(0,f.anyScore)(i,n,c,a.textLabel,a.labelLow,0),a.score[0]=g[0])}else{let g=d(i,n,c,a.textLabel,a.labelLow,0,this._fuzzyScoreOptions);if(!g)continue;a.score=g}}a.idx=o,a.distance=this._wordDistance.distance(a.position,a.completion),r.push(a),C.push(a.textLabel.length)}this._filteredItems=r.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,y.quickSelect)(C.length-.85,C,(o,a)=>o-a):0}}static _compareCompletionItems(C,u){return C.score[0]>u.score[0]?-1:C.score[0]<u.score[0]?1:C.distance<u.distance?-1:C.distance>u.distance?1:C.idx<u.idx?-1:C.idx>u.idx?1:0}static _compareCompletionItemsSnippetsDown(C,u){if(C.completion.kind!==u.completion.kind){if(C.completion.kind===27)return 1;if(u.completion.kind===27)return-1}return L._compareCompletionItems(C,u)}static _compareCompletionItemsSnippetsUp(C,u){if(C.completion.kind!==u.completion.kind){if(C.completion.kind===27)return-1;if(u.completion.kind===27)return 1}return L._compareCompletionItems(C,u)}}e.CompletionModel=L}),define(oe[268],se([1,0,7,121,4,2]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class L{constructor(){this._onDidWillResize=new N.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new N.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new y.Dimension(0,0),this._minSize=new y.Dimension(0,0),this._maxSize=new y.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new f.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new f.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new f.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:f.OrthogonalEdge.North}),this._southSash=new f.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:f.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let C,u=0,h=0;this._sashListener.add(N.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{C===void 0&&(this._onDidWillResize.fire(),C=this._size,u=0,h=0)})),this._sashListener.add(N.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{C!==void 0&&(C=void 0,u=0,h=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(i=>{C&&(h=i.currentX-i.startX,this.layout(C.height+u,C.width+h),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(i=>{C&&(h=-(i.currentX-i.startX),this.layout(C.height+u,C.width+h),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(i=>{C&&(u=-(i.currentY-i.startY),this.layout(C.height+u,C.width+h),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(i=>{C&&(u=i.currentY-i.startY,this.layout(C.height+u,C.width+h),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(N.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(N.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(C,u,h,i){this._northSash.state=C?3:0,this._eastSash.state=u?3:0,this._southSash.state=h?3:0,this._westSash.state=i?3:0}layout(C=this.size.height,u=this.size.width){const{height:h,width:i}=this._minSize,{height:n,width:t}=this._maxSize;C=Math.max(h,Math.min(n,C)),u=Math.max(i,Math.min(t,u));const r=new y.Dimension(u,C);y.Dimension.equals(r,this._size)||(this.domNode.style.height=C+"px",this.domNode.style.width=u+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(C){this._maxSize=C}get maxSize(){return this._maxSize}set minSize(C){this._minSize=C}get minSize(){return this._minSize}set preferredSize(C){this._preferredSize=C}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=L}),define(oe[481],se([1,0,18,2,102]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(b,C,u){this._disposables=new f.DisposableStore,this._disposables.add(C.onDidShow(()=>this._onItem(C.getFocusedItem()))),this._disposables.add(C.onDidFocus(this._onItem,this)),this._disposables.add(C.onDidHide(this.reset,this)),this._disposables.add(b.onWillType(h=>{if(this._active&&!C.isFrozen()){const i=h.charCodeAt(h.length-1);this._active.acceptCharacters.has(i)&&b.getOption(0)&&u(this._active.item)}}))}_onItem(b){if(!b||!(0,y.isNonEmptyArray)(b.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===b.item)return;const C=new N.CharacterSet;for(const u of b.item.completion.commitCharacters)u.length>0&&C.add(u.charCodeAt(0));this._active={acceptCharacters:C,item:b}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(oe[482],se([1,0,2]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class f{constructor(D,L){this._disposables=new y.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(D.onWillType(()=>{if(!this._empty||!D.hasModel())return;const b=D.getSelections(),C=b.length;let u=!1;for(let i=0;i<C;i++)if(!b[i].isEmpty()){u=!0;break}if(!u)return;this._lastOvertyped=[];const h=D.getModel();for(let i=0;i<C;i++){const n=b[i];if(h.getValueLengthInRange(n)>f._maxSelectionLength)return;this._lastOvertyped[i]={value:h.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}this._empty=!1})),this._disposables.add(L.onDidCancel(b=>{!this._empty&&!b.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(D){if(!this._empty&&D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=f,f._maxSelectionLength=51200}),define(oe[269],se([1,0,18,3,266]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(b,C){return Le(this,void 0,void 0,function*(){if(!C.getOption(106).localityBonus||!C.hasModel())return D.None;const u=C.getModel(),h=C.getPosition();if(!b.canComputeWordRanges(u.uri))return D.None;const[i]=yield new N.BracketSelectionRangeProvider().provideSelectionRanges(u,[h]);if(i.length===0)return D.None;const n=yield b.computeWordRanges(u.uri,i[0].range);if(!n)return D.None;const t=u.getWordUntilPosition(h);return delete n[t.word],new class extends D{distance(r,d){if(!h.equals(C.getPosition()))return 0;if(d.kind===17)return 2<<20;let o=typeof d.label=="string"?d.label:d.label.label,a=n[o];if((0,y.isFalsyOrEmpty)(a))return 2<<20;let s=(0,y.binarySearch)(a,f.Range.fromPositions(r),f.Range.compareRangesUsingStarts),l=s>=0?a[s]:a[Math.max(0,~s-1)],c=i.length;for(const g of i){if(!f.Range.containsRange(g.range,l))break;c-=1}return c}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(oe[270],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function y(r){return Array.isArray(r)}e.isFuzzyActionArr=y;function f(r){return!y(r)}e.isFuzzyAction=f;function N(r){return typeof r=="string"}e.isString=N;function D(r){return!N(r)}e.isIAction=D;function L(r){return!r}e.empty=L;function b(r,d){return r.ignoreCase&&d?d.toLowerCase():d}e.fixCase=b;function C(r){return r.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function u(r,d){console.log(`${r.languageId}: ${d}`)}e.log=u;function h(r,d){return new Error(`${r.languageId}: ${d}`)}e.createError=h;function i(r,d,o,a,s){const l=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let c=null;return d.replace(l,function(g,m,S,p,v,_,w,E,I){return L(S)?L(p)?!L(v)&&v<a.length?b(r,a[v]):!L(w)&&r&&typeof r[w]=="string"?r[w]:(c===null&&(c=s.split("."),c.unshift(s)),!L(_)&&_<c.length?b(r,c[_]):""):b(r,o):"$"})}e.substituteMatches=i;function n(r,d){let o=d;for(;o&&o.length>0;){const a=r.tokenizer[o];if(a)return a;const s=o.lastIndexOf(".");s<0?o=null:o=o.substr(0,s)}return null}e.findRules=n;function t(r,d){let o=d;for(;o&&o.length>0;){if(r.stateNames[o])return!0;const s=o.lastIndexOf(".");s<0?o=null:o=o.substr(0,s)}return!1}e.stateExists=t}),define(oe[483],se([1,0,270]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function f(r,d){if(!d||!Array.isArray(d))return!1;for(const o of d)if(!r(o))return!1;return!0}function N(r,d){return typeof r=="boolean"?r:d}function D(r,d){return typeof r=="string"?r:d}function L(r){const d={};for(const o of r)d[o]=!0;return d}function b(r,d=!1){d&&(r=r.map(function(a){return a.toLowerCase()}));const o=L(r);return d?function(a){return o[a.toLowerCase()]!==void 0&&o.hasOwnProperty(a.toLowerCase())}:function(a){return o[a]!==void 0&&o.hasOwnProperty(a)}}function C(r,d){d=d.replace(/@@/g,"");let o=0,a;do a=!1,d=d.replace(/@(\w+)/g,function(l,c){a=!0;let g="";if(typeof r[c]=="string")g=r[c];else if(r[c]&&r[c]instanceof RegExp)g=r[c].source;else throw r[c]===void 0?y.createError(r,"language definition does not contain attribute '"+c+"', used at: "+d):y.createError(r,"attribute reference '"+c+"' must be a string, used at: "+d);return y.empty(g)?"":"(?:"+g+")"}),o++;while(a&&o<5);d=d.replace(/\x01/g,"@");const s=(r.ignoreCase?"i":"")+(r.unicode?"u":"");return new RegExp(d,s)}function u(r,d,o,a){if(a<0)return r;if(a<d.length)return d[a];if(a>=100){a=a-100;const s=o.split(".");if(s.unshift(o),a<s.length)return s[a]}return null}function h(r,d,o,a){let s=-1,l=o,c=o.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);c&&(c[3]&&(s=parseInt(c[3]),c[2]&&(s=s+100)),l=c[4]);let g="~",m=l;!l||l.length===0?(g="!=",m=""):/^\w*$/.test(m)?g="==":(c=l.match(/^(@|!@|~|!~|==|!=)(.*)$/),c&&(g=c[1],m=c[2]));let S;if((g==="~"||g==="!~")&&/^(\w|\|)*$/.test(m)){const p=b(m.split("|"),r.ignoreCase);S=function(v){return g==="~"?p(v):!p(v)}}else if(g==="@"||g==="!@"){const p=r[m];if(!p)throw y.createError(r,"the @ match target '"+m+"' is not defined, in rule: "+d);if(!f(function(_){return typeof _=="string"},p))throw y.createError(r,"the @ match target '"+m+"' must be an array of strings, in rule: "+d);const v=b(p,r.ignoreCase);S=function(_){return g==="@"?v(_):!v(_)}}else if(g==="~"||g==="!~")if(m.indexOf("$")<0){const p=C(r,"^"+m+"$");S=function(v){return g==="~"?p.test(v):!p.test(v)}}else S=function(p,v,_,w){return C(r,"^"+y.substituteMatches(r,m,v,_,w)+"$").test(p)};else if(m.indexOf("$")<0){const p=y.fixCase(r,m);S=function(v){return g==="=="?v===p:v!==p}}else{const p=y.fixCase(r,m);S=function(v,_,w,E,I){const T=y.substituteMatches(r,p,_,w,E);return g==="=="?v===T:v!==T}}return s===-1?{name:o,value:a,test:function(p,v,_,w){return S(p,p,v,_,w)}}:{name:o,value:a,test:function(p,v,_,w){const E=u(p,v,_,s);return S(E||"",p,v,_,w)}}}function i(r,d,o){if(o){if(typeof o=="string")return o;if(o.token||o.token===""){if(typeof o.token!="string")throw y.createError(r,"a 'token' attribute must be of type string, in rule: "+d);{const a={token:o.token};if(o.token.indexOf("$")>=0&&(a.tokenSubst=!0),typeof o.bracket=="string")if(o.bracket==="@open")a.bracket=1;else if(o.bracket==="@close")a.bracket=-1;else throw y.createError(r,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(o.next){if(typeof o.next!="string")throw y.createError(r,"the next state must be a string value in rule: "+d);{let s=o.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!y.stateExists(r,y.substituteMatches(r,s,"",[],""))))throw y.createError(r,"the next state '"+o.next+"' is not defined in rule: "+d);a.next=s}}return typeof o.goBack=="number"&&(a.goBack=o.goBack),typeof o.switchTo=="string"&&(a.switchTo=o.switchTo),typeof o.log=="string"&&(a.log=o.log),typeof o.nextEmbedded=="string"&&(a.nextEmbedded=o.nextEmbedded,r.usesEmbedded=!0),a}}else if(Array.isArray(o)){const a=[];for(let s=0,l=o.length;s<l;s++)a[s]=i(r,d,o[s]);return{group:a}}else if(o.cases){const a=[];for(let l in o.cases)if(o.cases.hasOwnProperty(l)){const c=i(r,d,o.cases[l]);l==="@default"||l==="@"||l===""?a.push({test:void 0,value:c,name:l}):l==="@eos"?a.push({test:function(g,m,S,p){return p},value:c,name:l}):a.push(h(r,d,l,c))}const s=r.defaultToken;return{test:function(l,c,g,m){for(const S of a)if(!S.test||S.test(l,c,g,m))return S.value;return s}}}else throw y.createError(r,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class n{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,o){let a;if(typeof o=="string")a=o;else if(o instanceof RegExp)a=o.source;else throw y.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=a.length>0&&a[0]==="^",this.name=this.name+": "+a,this.regex=C(d,"^(?:"+(this.matchOnlyAtLineStart?a.substr(1):a)+")")}setAction(d,o){this.action=i(d,this.name,o)}}function t(r,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");const o={};o.languageId=r,o.includeLF=N(d.includeLF,!1),o.noThrow=!1,o.maxStack=100,o.start=typeof d.start=="string"?d.start:null,o.ignoreCase=N(d.ignoreCase,!1),o.unicode=N(d.unicode,!1),o.tokenPostfix=D(d.tokenPostfix,"."+o.languageId),o.defaultToken=D(d.defaultToken,"source"),o.usesEmbedded=!1;const a=d;a.languageId=r,a.includeLF=o.includeLF,a.ignoreCase=o.ignoreCase,a.unicode=o.unicode,a.noThrow=o.noThrow,a.usesEmbedded=o.usesEmbedded,a.stateNames=d.tokenizer,a.defaultToken=o.defaultToken;function s(c,g,m){for(const S of m){let p=S.include;if(p){if(typeof p!="string")throw y.createError(o,"an 'include' attribute must be a string at: "+c);if(p[0]==="@"&&(p=p.substr(1)),!d.tokenizer[p])throw y.createError(o,"include target '"+p+"' is not defined at: "+c);s(c+"."+p,g,d.tokenizer[p])}else{const v=new n(c);if(Array.isArray(S)&&S.length>=1&&S.length<=3)if(v.setRegex(a,S[0]),S.length>=3)if(typeof S[1]=="string")v.setAction(a,{token:S[1],next:S[2]});else if(typeof S[1]=="object"){const _=S[1];_.next=S[2],v.setAction(a,_)}else throw y.createError(o,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+c);else v.setAction(a,S[1]);else{if(!S.regex)throw y.createError(o,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+c);S.name&&typeof S.name=="string"&&(v.name=S.name),S.matchOnlyAtStart&&(v.matchOnlyAtLineStart=N(S.matchOnlyAtLineStart,!1)),v.setRegex(a,S.regex),v.setAction(a,S.action)}g.push(v)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw y.createError(o,"a language definition must define the 'tokenizer' attribute as an object");o.tokenizer=[];for(let c in d.tokenizer)if(d.tokenizer.hasOwnProperty(c)){o.start||(o.start=c);const g=d.tokenizer[c];o.tokenizer[c]=new Array,s("tokenizer."+c,o.tokenizer[c],g)}if(o.usesEmbedded=a.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw y.createError(o,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const l=[];for(let c of d.brackets){let g=c;if(g&&Array.isArray(g)&&g.length===3&&(g={token:g[2],open:g[0],close:g[1]}),g.open===g.close)throw y.createError(o,"open and close brackets in a 'brackets' attribute must be different: "+g.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof g.open=="string"&&typeof g.token=="string"&&typeof g.close=="string")l.push({token:g.token+o.tokenPostfix,open:y.fixCase(o,g.open),close:y.fixCase(o,g.close)});else throw y.createError(o,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return o.brackets=l,o.noThrow=!0,o}e.compile=t}),define(oe[271],se([1,0,27,127,270]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const D=5;class L{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,a){return this._INSTANCE.create(o,a)}create(o,a){if(o!==null&&o.depth>=this._maxCacheDepth)return new b(o,a);let s=b.getStackElementId(o);s.length>0&&(s+="|"),s+=a;let l=this._entries[s];return l||(l=new b(o,a),this._entries[s]=l,l)}}L._INSTANCE=new L(D);class b{constructor(o,a){this.parent=o,this.state=a,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(o){let a="";for(;o!==null;)a.length>0&&(a+="|"),a+=o.state,o=o.parent;return a}static _equals(o,a){for(;o!==null&&a!==null;){if(o===a)return!0;if(o.state!==a.state)return!1;o=o.parent,a=a.parent}return o===null&&a===null}equals(o){return b._equals(this,o)}push(o){return L.create(this,o)}pop(){return this.parent}popall(){let o=this;for(;o.parent;)o=o.parent;return o}switchTo(o){return L.create(this.parent,o)}}class C{constructor(o,a){this.languageId=o,this.state=a}equals(o){return this.languageId===o.languageId&&this.state.equals(o.state)}clone(){return this.state.clone()===this.state?this:new C(this.languageId,this.state)}}class u{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,a){return this._INSTANCE.create(o,a)}create(o,a){if(a!==null)return new h(o,a);if(o!==null&&o.depth>=this._maxCacheDepth)return new h(o,a);const s=b.getStackElementId(o);let l=this._entries[s];return l||(l=new h(o,null),this._entries[s]=l,l)}}u._INSTANCE=new u(D);class h{constructor(o,a){this.stack=o,this.embeddedLanguageData=a}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:u.create(this.stack,this.embeddedLanguageData)}equals(o){return!(o instanceof h)||!this.stack.equals(o.stack)?!1:this.embeddedLanguageData===null&&o.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||o.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(o.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(o){this._languageId=o}emit(o,a){this._lastTokenType===a&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=a,this._lastTokenLanguage=this._languageId,this._tokens.push(new y.Token(o,a,this._languageId)))}nestedLanguageTokenize(o,a,s,l){const c=s.languageId,g=s.state,m=y.TokenizationRegistry.get(c);if(!m)return this.enterLanguage(c),this.emit(l,""),g;const S=m.tokenize(o,a,g);if(l!==0)for(const p of S.tokens)this._tokens.push(new y.Token(p.offset+l,p.type,p.language));else this._tokens=this._tokens.concat(S.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,S.endState}finalize(o){return new y.TokenizationResult(this._tokens,o)}}class n{constructor(o,a){this._languageService=o,this._theme=a,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(o){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(o)}emit(o,a){const s=this._theme.match(this._currentLanguageId,a);this._lastTokenMetadata!==s&&(this._lastTokenMetadata=s,this._tokens.push(o),this._tokens.push(s))}static _merge(o,a,s){const l=o!==null?o.length:0,c=a.length,g=s!==null?s.length:0;if(l===0&&c===0&&g===0)return new Uint32Array(0);if(l===0&&c===0)return s;if(c===0&&g===0)return o;const m=new Uint32Array(l+c+g);o!==null&&m.set(o);for(let S=0;S<c;S++)m[l+S]=a[S];return s!==null&&m.set(s,l+c),m}nestedLanguageTokenize(o,a,s,l){const c=s.languageId,g=s.state,m=y.TokenizationRegistry.get(c);if(!m)return this.enterLanguage(c),this.emit(l,""),g;const S=m.tokenizeEncoded(o,a,g);if(l!==0)for(let p=0,v=S.tokens.length;p<v;p+=2)S.tokens[p]+=l;return this._prependTokens=n._merge(this._prependTokens,this._tokens,S.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,S.endState}finalize(o){return new y.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),o)}}class t{constructor(o,a,s,l){this._languageService=o,this._standaloneThemeService=a,this._languageId=s,this._lexer=l,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let c=!1;this._tokenizationRegistryListener=y.TokenizationRegistry.onDidChange(g=>{if(c)return;let m=!1;for(let S=0,p=g.changedLanguages.length;S<p;S++){const v=g.changedLanguages[S];if(this._embeddedLanguages[v]){m=!0;break}}m&&(c=!0,y.TokenizationRegistry.fire([this._languageId]),c=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const o=[];for(let a in this._embeddedLanguages){const s=y.TokenizationRegistry.get(a);if(s){if(s instanceof t){const l=s.getLoadStatus();l.loaded===!1&&o.push(l.promise)}continue}y.TokenizationRegistry.isResolved(a)||o.push(y.TokenizationRegistry.getOrCreate(a))}return o.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(o).then(a=>{})}}getInitialState(){const o=L.create(null,this._lexer.start);return u.create(o,null)}tokenize(o,a,s){const l=new i,c=this._tokenize(o,a,s,l);return l.finalize(c)}tokenizeEncoded(o,a,s){const l=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),c=this._tokenize(o,a,s,l);return l.finalize(c)}_tokenize(o,a,s,l){return s.embeddedLanguageData?this._nestedTokenize(o,a,s,0,l):this._myTokenize(o,a,s,0,l)}_findLeavingNestedLanguageOffset(o,a){let s=this._lexer.tokenizer[a.stack.state];if(!s&&(s=N.findRules(this._lexer,a.stack.state),!s))throw N.createError(this._lexer,"tokenizer state is not defined: "+a.stack.state);let l=-1,c=!1;for(const g of s){if(!N.isIAction(g.action)||g.action.nextEmbedded!=="@pop")continue;c=!0;let m=g.regex;const S=g.regex.source;if(S.substr(0,4)==="^(?:"&&S.substr(S.length-1,1)===")"){const v=(m.ignoreCase?"i":"")+(m.unicode?"u":"");m=new RegExp(S.substr(4,S.length-5),v)}const p=o.search(m);p===-1||p!==0&&g.matchOnlyAtLineStart||(l===-1||p<l)&&(l=p)}if(!c)throw N.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+a.stack.state);return l}_nestedTokenize(o,a,s,l,c){const g=this._findLeavingNestedLanguageOffset(o,s);if(g===-1){const p=c.nestedLanguageTokenize(o,a,s.embeddedLanguageData,l);return u.create(s.stack,new C(s.embeddedLanguageData.languageId,p))}const m=o.substring(0,g);m.length>0&&c.nestedLanguageTokenize(m,!1,s.embeddedLanguageData,l);const S=o.substring(g);return this._myTokenize(S,a,s,l+g,c)}_safeRuleName(o){return o?o.name:"(unknown)"}_myTokenize(o,a,s,l,c){c.enterLanguage(this._languageId);const g=o.length,m=a&&this._lexer.includeLF?o+`
`:o,S=m.length;let p=s.embeddedLanguageData,v=s.stack,_=0,w=null,E=!0;for(;E||_<S;){const I=_,T=v.depth,R=w?w.groups.length:0,B=v.state;let O=null,k=null,A=null,F=null,P=null;if(w){O=w.matches;const z=w.groups.shift();k=z.matched,A=z.action,F=w.rule,w.groups.length===0&&(w=null)}else{if(!E&&_>=S)break;E=!1;let z=this._lexer.tokenizer[B];if(!z&&(z=N.findRules(this._lexer,B),!z))throw N.createError(this._lexer,"tokenizer state is not defined: "+B);let Q=m.substr(_);for(const ne of z)if((_===0||!ne.matchOnlyAtLineStart)&&(O=Q.match(ne.regex),O)){k=O[0],A=ne.action;break}}if(O||(O=[""],k=""),A||(_<S&&(O=[m.charAt(_)],k=O[0]),A=this._lexer.defaultToken),k===null)break;for(_+=k.length;N.isFuzzyAction(A)&&N.isIAction(A)&&A.test;)A=A.test(k,O,B,_===S);let W=null;if(typeof A=="string"||Array.isArray(A))W=A;else if(A.group)W=A.group;else if(A.token!==null&&A.token!==void 0){if(A.tokenSubst?W=N.substituteMatches(this._lexer,A.token,k,O,B):W=A.token,A.nextEmbedded)if(A.nextEmbedded==="@pop"){if(!p)throw N.createError(this._lexer,"cannot pop embedded language if not inside one");p=null}else{if(p)throw N.createError(this._lexer,"cannot enter embedded language from within an embedded language");P=N.substituteMatches(this._lexer,A.nextEmbedded,k,O,B)}if(A.goBack&&(_=Math.max(0,_-A.goBack)),A.switchTo&&typeof A.switchTo=="string"){let z=N.substituteMatches(this._lexer,A.switchTo,k,O,B);if(z[0]==="@"&&(z=z.substr(1)),N.findRules(this._lexer,z))v=v.switchTo(z);else throw N.createError(this._lexer,"trying to switch to a state '"+z+"' that is undefined in rule: "+this._safeRuleName(F))}else{if(A.transform&&typeof A.transform=="function")throw N.createError(this._lexer,"action.transform not supported");if(A.next)if(A.next==="@push"){if(v.depth>=this._lexer.maxStack)throw N.createError(this._lexer,"maximum tokenizer stack size reached: ["+v.state+","+v.parent.state+",...]");v=v.push(B)}else if(A.next==="@pop"){if(v.depth<=1)throw N.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(F));v=v.pop()}else if(A.next==="@popall")v=v.popall();else{let z=N.substituteMatches(this._lexer,A.next,k,O,B);if(z[0]==="@"&&(z=z.substr(1)),N.findRules(this._lexer,z))v=v.push(z);else throw N.createError(this._lexer,"trying to set a next state '"+z+"' that is undefined in rule: "+this._safeRuleName(F))}}A.log&&typeof A.log=="string"&&N.log(this._lexer,this._lexer.languageId+": "+N.substituteMatches(this._lexer,A.log,k,O,B))}if(W===null)throw N.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(F));const M=z=>{const Q=this._languageService.getLanguageIdByLanguageName(z)||this._languageService.getLanguageIdByMimeType(z)||z,ne=this._getNestedEmbeddedLanguageData(Q);if(_<S){const X=o.substr(_);return this._nestedTokenize(X,a,u.create(v,ne),l+_,c)}else return u.create(v,ne)};if(Array.isArray(W)){if(w&&w.groups.length>0)throw N.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(F));if(O.length!==W.length+1)throw N.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(F));let z=0;for(let Q=1;Q<O.length;Q++)z+=O[Q].length;if(z!==k.length)throw N.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(F));w={rule:F,matches:O,groups:[]};for(let Q=0;Q<W.length;Q++)w.groups[Q]={action:W[Q],matched:O[Q+1]};_-=k.length;continue}else{if(W==="@rematch"&&(_-=k.length,k="",O=null,W="",P!==null))return M(P);if(k.length===0){if(S===0||T!==v.depth||B!==v.state||(w?w.groups.length:0)!==R)continue;throw N.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(F))}let z=null;if(N.isString(W)&&W.indexOf("@brackets")===0){const Q=W.substr("@brackets".length),ne=r(this._lexer,k);if(!ne)throw N.createError(this._lexer,"@brackets token returned but no bracket defined as: "+k);z=N.sanitize(ne.token+Q)}else{const Q=W===""?"":W+this._lexer.tokenPostfix;z=N.sanitize(Q)}I<g&&c.emit(I+l,z)}if(P!==null)return M(P)}return u.create(v,p)}_getNestedEmbeddedLanguageData(o){if(!this._languageService.isRegisteredLanguageId(o))return new C(o,f.NullState);o!==this._languageId&&(y.TokenizationRegistry.getOrCreate(o),this._embeddedLanguages[o]=!0);const a=y.TokenizationRegistry.get(o);return a?new C(o,a.getInitialState()):new C(o,f.NullState)}}e.MonarchTokenizer=t;function r(d,o){if(!o)return null;o=N.fixCase(d,o);const a=d.brackets;for(const s of a){if(s.open===o)return{token:s.token,bracketType:1};if(s.close===o)return{token:s.token,bracketType:-1}}return null}}),define(oe[484],se([1,0,8,79,27,129,74,271]),function(K,e,y,f,N,D,L,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const u=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("standaloneColorizer",{createHTML:r=>r});class h{static colorizeElement(d,o,a,s){s=s||{};const l=s.theme||"vs",c=s.mimeType||a.getAttribute("lang")||a.getAttribute("data-lang");if(!c)return console.error("Mode not detected"),Promise.resolve();const g=o.getLanguageIdByMimeType(c)||c;d.setTheme(l);const m=a.firstChild?a.firstChild.nodeValue:"";a.className+=" "+l;const S=p=>{var v;const _=(v=u==null?void 0:u.createHTML(p))!==null&&v!==void 0?v:p;a.innerHTML=_};return this.colorize(o,m||"",g,s).then(S,p=>console.error(p))}static colorize(d,o,a,s){return Le(this,void 0,void 0,function*(){const l=d.languageIdCodec;let c=4;s&&typeof s.tabSize=="number"&&(c=s.tabSize),y.startsWithUTF8BOM(o)&&(o=o.substr(1));const g=y.splitLines(o);if(!d.isRegisteredLanguageId(a))return n(g,c,l);const m=yield N.TokenizationRegistry.getOrCreate(a);return m?i(g,c,m,l):n(g,c,l)})}static colorizeLine(d,o,a,s,l=4){const c=L.ViewLineRenderingData.isBasicASCII(d,o),g=L.ViewLineRenderingData.containsRTL(d,c,a);return(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,d,!1,c,g,0,s,[],l,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(d,o,a=4){const s=d.getLineContent(o);d.tokenization.forceTokenization(o);const c=d.tokenization.getLineTokens(o).inflate();return this.colorizeLine(s,d.mightContainNonBasicASCII(),d.mightContainRTL(),c,a)}}e.Colorizer=h;function i(r,d,o,a){return new Promise((s,l)=>{const c=()=>{const g=t(r,d,o,a);if(o instanceof b.MonarchTokenizer){const m=o.getLoadStatus();if(m.loaded===!1){m.promise.then(c,l);return}}s(g)};c()})}function n(r,d,o){let a=[];const s=(0<<11|1<<15|2<<24)>>>0,l=new Uint32Array(2);l[0]=0,l[1]=s;for(let c=0,g=r.length;c<g;c++){const m=r[c];l[0]=m.length;const S=new f.LineTokens(l,m,o),p=L.ViewLineRenderingData.isBasicASCII(m,!0),v=L.ViewLineRenderingData.containsRTL(m,p,!0),_=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,m,!1,p,v,0,S,[],d,0,0,0,0,-1,"none",!1,!1,null));a=a.concat(_.html),a.push("<br/>")}return a.join("")}function t(r,d,o,a){let s=[],l=o.getInitialState();for(let c=0,g=r.length;c<g;c++){const m=r[c],S=o.tokenizeEncoded(m,!0,l);f.LineTokens.convertToEndOffset(S.tokens,m.length);const p=new f.LineTokens(S.tokens,m,a),v=L.ViewLineRenderingData.isBasicASCII(m,!0),_=L.ViewLineRenderingData.containsRTL(m,v,!0),w=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,m,!1,v,_,0,p.inflate(),[],d,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(w.html),s.push("<br/>"),l=S.endState}return s.join("")}}),define(oe[485],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(oe[486],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/findinput/findInput",e)}),define(oe[487],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(oe[272],se([1,0,177,28,487]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=N.localize(0,null),L=N.localize(1,null),b=N.localize(2,null);class C extends y.Toggle{constructor(n){super({icon:f.Codicon.caseSensitive,title:D+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.CaseSensitiveToggle=C;class u extends y.Toggle{constructor(n){super({icon:f.Codicon.wholeWord,title:L+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.WholeWordsToggle=u;class h extends y.Toggle{constructor(n){super({icon:f.Codicon.regex,title:b+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.RegexToggle=h}),define(oe[488],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(oe[489],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(oe[273],se([1,0,7,10,21,65,101,2,19,489]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function h(t,r){(0,C.isString)(r)?t.title=(0,L.stripIcons)(r):(r==null?void 0:r.markdownNotSupportedFallback)?t.title=r.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=h;class i{constructor(r,d,o){this.hoverDelegate=r,this.target=d,this.fadeInAnimation=o}update(r,d){var o;return Le(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let a;if(r===void 0||(0,C.isString)(r)||r instanceof HTMLElement)a=r;else if(!(0,C.isFunction)(r.markdown))a=(o=r.markdown)!==null&&o!==void 0?o:r.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,u.localize)(0,null),d),this._cancellationTokenSource=new N.CancellationTokenSource;const s=this._cancellationTokenSource.token;if(a=yield r.markdown(s),a===void 0&&(a=r.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(a,d)})}show(r,d){const o=this._hoverWidget;if(this.hasContent(r)){const a={content:r,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!o};this._hoverWidget=this.hoverDelegate.showHover(a,d)}o==null||o.dispose()}hasContent(r){return r?(0,D.isMarkdownString)(r)?!!r.value:!0:!1}get isDisposed(){var r;return(r=this._hoverWidget)===null||r===void 0?void 0:r.isDisposed}dispose(){var r,d;(r=this._hoverWidget)===null||r===void 0||r.dispose(),(d=this._cancellationTokenSource)===null||d===void 0||d.dispose(!0),this._cancellationTokenSource=void 0}}function n(t,r,d){let o,a;const s=(S,p)=>{var v;S&&(a==null||a.dispose(),a=void 0),p&&(o==null||o.dispose(),o=void 0),(v=t.onDidHideHover)===null||v===void 0||v.call(t)},l=(S,p,v)=>new f.TimeoutTimer(()=>Le(this,void 0,void 0,function*(){(!a||a.isDisposed)&&(a=new i(t,v||r,S>0),yield a.update(d,p))}),S),c=()=>{if(o)return;const S=new b.DisposableStore,p=w=>s(!1,w.fromElement===r);S.add(y.addDisposableListener(r,y.EventType.MOUSE_LEAVE,p,!0));const v=()=>s(!0,!0);S.add(y.addDisposableListener(r,y.EventType.MOUSE_DOWN,v,!0));const _={targetElements:[r],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const w=E=>{_.x=E.x+10,E.target instanceof HTMLElement&&E.target.classList.contains("action-label")&&s(!0,!0)};S.add(y.addDisposableListener(r,y.EventType.MOUSE_MOVE,w,!0))}S.add(l(t.delay,!1,_)),o=S},g=y.addDisposableListener(r,y.EventType.MOUSE_OVER,c,!0);return{show:S=>{s(!1,!0),l(0,S)},hide:()=>{s(!0,!0)},update:S=>Le(this,void 0,void 0,function*(){d=S,yield a==null?void 0:a.update(d)}),dispose:()=>{g.dispose(),s(!0,!0)}}}e.setupCustomHover=n}),define(oe[197],se([1,0,7,222,273,2,39,139,348]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class C{constructor(r){this._element=r}get element(){return this._element}set textContent(r){this.disposed||r===this._textContent||(this._textContent=r,this._element.textContent=r)}set className(r){this.disposed||r===this._className||(this._className=r,this._element.className=r)}set empty(r){this.disposed||r===this._empty||(this._empty=r,this._element.style.marginLeft=r?"0":"")}dispose(){this.disposed=!0}}class u extends D.Disposable{constructor(r,d){super();this.customHovers=new Map,this.domNode=this._register(new C(y.append(r,y.$(".monaco-icon-label")))),this.labelContainer=y.append(this.domNode.element,y.$(".monaco-icon-label-container"));const o=y.append(this.labelContainer,y.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new C(y.append(this.labelContainer,y.$("span.monaco-icon-description-container")))),(d==null?void 0:d.supportHighlights)||(d==null?void 0:d.supportIcons)?this.nameNode=new n(o,!!d.supportIcons):this.nameNode=new h(o),(d==null?void 0:d.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new f.HighlightedLabel(y.append(this.descriptionContainer.element,y.$("span.label-description")),{supportIcons:!!d.supportIcons}):this.descriptionNodeFactory=()=>this._register(new C(y.append(this.descriptionContainer.element,y.$("span.label-description")))),this.hoverDelegate=d==null?void 0:d.hoverDelegate}get element(){return this.domNode.element}setLabel(r,d,o){const a=["monaco-icon-label"];o&&(o.extraClasses&&a.push(...o.extraClasses),o.italic&&a.push("italic"),o.strikethrough&&a.push("strikethrough")),this.domNode.className=a.join(" "),this.setupHover((o==null?void 0:o.descriptionTitle)?this.labelContainer:this.element,o==null?void 0:o.title),this.nameNode.setLabel(r,o),(d||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof f.HighlightedLabel?(this.descriptionNode.set(d||"",o?o.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,o==null?void 0:o.descriptionTitle)):(this.descriptionNode.textContent=d||"",this.setupHover(this.descriptionNode.element,(o==null?void 0:o.descriptionTitle)||""),this.descriptionNode.empty=!d))}setupHover(r,d){const o=this.customHovers.get(r);if(o&&(o.dispose(),this.customHovers.delete(r)),!d){r.removeAttribute("title");return}if(!this.hoverDelegate)(0,N.setupNativeHover)(r,d);else{const a=(0,N.setupCustomHover)(this.hoverDelegate,r,d);a&&this.customHovers.set(r,a)}}dispose(){super.dispose();for(const r of this.customHovers.values())r.dispose();this.customHovers.clear()}}e.IconLabel=u;class h{constructor(r){this.container=r,this.label=void 0,this.singleLabel=void 0}setLabel(r,d){if(!(this.label===r&&(0,L.equals)(this.options,d)))if(this.label=r,this.options=d,typeof r=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=y.append(this.container,y.$("a.label-name",{id:d==null?void 0:d.domId}))),this.singleLabel.textContent=r;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let o=0;o<r.length;o++){const a=r[o],s=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${o}`;y.append(this.container,y.$("a.label-name",{id:s,"data-icon-label-count":r.length,"data-icon-label-index":o,role:"treeitem"},a)),o<r.length-1&&y.append(this.container,y.$("span.label-separator",void 0,(d==null?void 0:d.separator)||"/"))}}}}function i(t,r,d){if(!d)return;let o=0;return t.map(a=>{const s={start:o,end:o+a.length},l=d.map(c=>b.Range.intersect(s,c)).filter(c=>!b.Range.isEmpty(c)).map(({start:c,end:g})=>({start:c-o,end:g-o}));return o=s.end+r.length,l})}class n{constructor(r,d){this.container=r,this.supportIcons=d,this.label=void 0,this.singleLabel=void 0}setLabel(r,d){if(!(this.label===r&&(0,L.equals)(this.options,d)))if(this.label=r,this.options=d,typeof r=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new f.HighlightedLabel(y.append(this.container,y.$("a.label-name",{id:d==null?void 0:d.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(r,d==null?void 0:d.matches,void 0,d==null?void 0:d.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const o=(d==null?void 0:d.separator)||"/",a=i(r,o,d==null?void 0:d.matches);for(let s=0;s<r.length;s++){const l=r[s],c=a?a[s]:void 0,g=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${s}`,m=y.$("a.label-name",{id:g,"data-icon-label-count":r.length,"data-icon-label-index":s,role:"treeitem"});new f.HighlightedLabel(y.append(this.container,m),{supportIcons:this.supportIcons}).set(l,c,void 0,d==null?void 0:d.labelEscapeNewLines),s<r.length-1&&y.append(m,y.$("span.label-separator",void 0,o))}}}}}),define(oe[490],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(oe[491],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(oe[492],se([5,6]),function(K,e){return K.create("vs/base/browser/ui/tree/abstractTree",e)}),define(oe[198],se([1,0,169,7,92,44,176,122,172,115,18,10,28,219,4,64,2,117,17,492,361]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class c extends L.ElementsDragAndDropData{constructor(P){super(P.elements.map(W=>W.element));this.data=P}}function g(F){return F instanceof L.ElementsDragAndDropData?new c(F):F}class m{constructor(P,W){this.modelProvider=P,this.dnd=W,this.autoExpandDisposable=o.Disposable.None}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(M=>M.element),W)}onDragStart(P,W){this.dnd.onDragStart&&this.dnd.onDragStart(g(P),W)}onDragOver(P,W,M,z,Q=!0){const ne=this.dnd.onDragOver(g(P),W&&W.element,M,z),X=this.autoExpandNode!==W;if(X&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=W),typeof W=="undefined")return ne;if(X&&typeof ne!="boolean"&&ne.autoExpand&&(this.autoExpandDisposable=(0,i.disposableTimeout)(()=>{const x=this.modelProvider(),V=x.getNodeLocation(W);x.isCollapsed(V)&&x.setCollapsed(V,!1),this.autoExpandNode=void 0},500)),typeof ne=="boolean"||!ne.accept||typeof ne.bubble=="undefined"||ne.feedback){if(!Q){const x=typeof ne=="boolean"?ne:ne.accept,V=typeof ne=="boolean"?void 0:ne.effect;return{accept:x,effect:V,feedback:[M]}}return ne}if(ne.bubble===1){const x=this.modelProvider(),V=x.getNodeLocation(W),j=x.getParentNodeLocation(V),re=x.getNode(j),ae=j&&x.getListIndex(j);return this.onDragOver(P,re,ae,z,!1)}const J=this.modelProvider(),ie=J.getNodeLocation(W),le=J.getListIndex(ie),G=J.getListRenderCount(ie);return Object.assign(Object.assign({},ne),{feedback:(0,h.range)(le,le+G)})}drop(P,W,M,z){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(g(P),W&&W.element,M,z)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function S(F,P){return P&&Object.assign(Object.assign({},P),{identityProvider:P.identityProvider&&{getId(W){return P.identityProvider.getId(W.element)}},dnd:P.dnd&&new m(F,P.dnd),multipleSelectionController:P.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return P.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return P.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:P.accessibilityProvider&&Object.assign(Object.assign({},P.accessibilityProvider),{getSetSize(W){const M=F(),z=M.getNodeLocation(W),Q=M.getParentNodeLocation(z);return M.getNode(Q).visibleChildrenCount},getPosInSet(W){return W.visibleChildIndex+1},isChecked:P.accessibilityProvider&&P.accessibilityProvider.isChecked?W=>P.accessibilityProvider.isChecked(W.element):void 0,getRole:P.accessibilityProvider&&P.accessibilityProvider.getRole?W=>P.accessibilityProvider.getRole(W.element):()=>"treeitem",getAriaLabel(W){return P.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return P.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:P.accessibilityProvider&&P.accessibilityProvider.getWidgetRole?()=>P.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:P.accessibilityProvider&&P.accessibilityProvider.getAriaLevel?W=>P.accessibilityProvider.getAriaLevel(W.element):W=>W.depth,getActiveDescendantId:P.accessibilityProvider.getActiveDescendantId&&(W=>P.accessibilityProvider.getActiveDescendantId(W.element))}),keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return P.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),enableKeyboardNavigation:P.simpleKeyboardNavigation})}class p{constructor(P){this.delegate=P}getHeight(P){return this.delegate.getHeight(P.element)}getTemplateId(P){return this.delegate.getTemplateId(P.element)}hasDynamicHeight(P){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(P.element)}setDynamicHeight(P,W){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(P.element,W)}}e.ComposedTreeDelegate=p;var v;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(v=e.RenderIndentGuides||(e.RenderIndentGuides={}));class _{constructor(P,W=[]){this._elements=W,this.onDidChange=r.Event.forEach(P,M=>this._elements=M)}get elements(){return this._elements}}class w{constructor(P,W,M,z,Q={}){this.renderer=P,this.modelProvider=W,this.activeNodes=z,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=w.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new t.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=o.Disposable.None,this.disposables=new o.DisposableStore,this.templateId=P.templateId,this.updateOptions(Q),r.Event.map(M,ne=>ne.node)(this.onDidChangeNodeTwistieState,this,this.disposables),P.onDidChangeTwistieState&&P.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(P={}){if(typeof P.indent!="undefined"&&(this.indent=(0,a.clamp)(P.indent,0,40)),typeof P.renderIndentGuides!="undefined"){const W=P.renderIndentGuides!==v.None;if(W!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=W,this.indentGuidesDisposable.dispose(),W)){const M=new o.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,M),this.indentGuidesDisposable=M,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof P.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=P.hideTwistiesOfChildlessElements)}renderTemplate(P){const W=(0,f.append)(P,(0,f.$)(".monaco-tl-row")),M=(0,f.append)(W,(0,f.$)(".monaco-tl-indent")),z=(0,f.append)(W,(0,f.$)(".monaco-tl-twistie")),Q=(0,f.append)(W,(0,f.$)(".monaco-tl-contents")),ne=this.renderer.renderTemplate(Q);return{container:P,indent:M,twistie:z,indentGuidesDisposable:o.Disposable.None,templateData:ne}}renderElement(P,W,M,z){typeof z=="number"&&(this.renderedNodes.set(P,{templateData:M,height:z}),this.renderedElements.set(P.element,P));const Q=w.DefaultIndent+(P.depth-1)*this.indent;M.twistie.style.paddingLeft=`${Q}px`,M.indent.style.width=`${Q+this.indent-16}px`,this.renderTwistie(P,M),typeof z=="number"&&this.renderIndentGuides(P,M),this.renderer.renderElement(P,W,M.templateData,z)}disposeElement(P,W,M,z){M.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(P,W,M.templateData,z),typeof z=="number"&&(this.renderedNodes.delete(P),this.renderedElements.delete(P.element))}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}onDidChangeTwistieState(P){const W=this.renderedElements.get(P);!W||this.onDidChangeNodeTwistieState(W)}onDidChangeNodeTwistieState(P){const W=this.renderedNodes.get(P);!W||(this.renderTwistie(P,W.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(P,W.templateData))}renderTwistie(P,W){W.twistie.classList.remove(...n.Codicon.treeItemExpanded.classNamesArray);let M=!1;this.renderer.renderTwistie&&(M=this.renderer.renderTwistie(P.element,W.twistie)),P.collapsible&&(!this.hideTwistiesOfChildlessElements||P.visibleChildrenCount>0)?(M||W.twistie.classList.add(...n.Codicon.treeItemExpanded.classNamesArray),W.twistie.classList.add("collapsible"),W.twistie.classList.toggle("collapsed",P.collapsed)):W.twistie.classList.remove("collapsible","collapsed"),P.collapsible?W.container.setAttribute("aria-expanded",String(!P.collapsed)):W.container.removeAttribute("aria-expanded")}renderIndentGuides(P,W){if((0,f.clearNode)(W.indent),W.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const M=new o.DisposableStore,z=this.modelProvider();let Q=P;for(;;){const ne=z.getNodeLocation(Q),X=z.getParentNodeLocation(ne);if(!X)break;const J=z.getNode(X),ie=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(J)&&ie.classList.add("active"),W.indent.childElementCount===0?W.indent.appendChild(ie):W.indent.insertBefore(ie,W.indent.firstElementChild),this.renderedIndentGuides.add(J,ie),M.add((0,o.toDisposable)(()=>this.renderedIndentGuides.delete(J,ie))),Q=J}W.indentGuidesDisposable=M}_onDidChangeActiveNodes(P){if(!this.shouldRenderIndentGuides)return;const W=new Set,M=this.modelProvider();P.forEach(z=>{const Q=M.getNodeLocation(z);try{const ne=M.getParentNodeLocation(Q);z.collapsible&&z.children.length>0&&!z.collapsed?W.add(z):ne&&W.add(M.getNode(ne))}catch{}}),this.activeIndentNodes.forEach(z=>{W.has(z)||this.renderedIndentGuides.forEach(z,Q=>Q.classList.remove("active"))}),W.forEach(z=>{this.activeIndentNodes.has(z)||this.renderedIndentGuides.forEach(z,Q=>Q.classList.add("active"))}),this.activeIndentNodes=W}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,o.dispose)(this.disposables)}}w.DefaultIndent=8;class E{constructor(P,W,M){this.tree=P,this.keyboardNavigationLabelProvider=W,this._filter=M,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new o.DisposableStore,P.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(P){this._pattern=P,this._lowercasePattern=P.toLowerCase()}filter(P,W){if(this._filter){const Q=this._filter.filter(P,W);if(this.tree.options.simpleKeyboardNavigation)return Q;let ne;if(typeof Q=="boolean"?ne=Q?1:0:(0,C.isFilterResult)(Q)?ne=(0,C.getVisibleState)(Q.visibility):ne=Q,ne===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:d.FuzzyScore.Default,visibility:!0};const M=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P),z=Array.isArray(M)?M:[M];for(const Q of z){const ne=Q&&Q.toString();if(typeof ne=="undefined")return{data:d.FuzzyScore.Default,visibility:!0};const X=(0,d.fuzzyScore)(this._pattern,this._lowercasePattern,0,ne,ne.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(X)return this._matchCount++,z.length===1?{data:X,visibility:!0}:{data:{label:ne,score:X},visibility:!0}}return this.tree.options.filterOnType?2:{data:d.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,o.dispose)(this.disposables)}}class I{constructor(P,W,M,z,Q){this.tree=P,this.view=M,this.filter=z,this.keyboardNavigationDelegate=Q,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new r.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new r.Emitter,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this.domNode=(0,f.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,f.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,f.append)(M.getHTMLElement(),(0,f.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,f.append)(this.domNode,(0,f.$)("span.label"));const ne=(0,f.append)(this.domNode,(0,f.$)(".controls"));this._filterOnType=!!P.options.filterOnType,this.filterOnTypeDomNode=(0,f.append)(ne,(0,f.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,f.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,f.append)(ne,(0,f.$)("button.clear"+n.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,l.localize)(0,null),this.keyboardNavigationEventFilter=P.options.keyboardNavigationEventFilter,W.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(P.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(P){P.simpleKeyboardNavigation?this.disable():this.enable(),typeof P.filterOnType!="undefined"&&(this._filterOnType=!!P.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof P.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=P.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const P=this.enabledDisposables.add(new N.DomEmitter(this.view.getHTMLElement(),"keydown")),W=r.Event.chain(P.event).filter(z=>!(0,b.isInputElement)(z.target)||z.target===this.filterOnTypeDomNode).filter(z=>z.key!=="Dead"&&!/^Media/.test(z.key)).map(z=>new D.StandardKeyboardEvent(z)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(z=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(z)&&!(z.keyCode===18||z.keyCode===16||z.keyCode===15||z.keyCode===17)||(this.pattern.length>0||this.triggered)&&(z.keyCode===9||z.keyCode===1)&&!z.altKey&&!z.ctrlKey&&!z.metaKey||z.keyCode===1&&(s.isMacintosh?z.altKey&&!z.metaKey:z.ctrlKey)&&!z.shiftKey).forEach(z=>{z.stopPropagation(),z.preventDefault()}).event,M=this.enabledDisposables.add(new N.DomEmitter(this.clearDomNode,"click"));r.Event.chain(r.Event.any(W,M.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(P){typeof P=="string"?this.onInput(P):P instanceof MouseEvent||P.keyCode===9||P.keyCode===1&&(s.isMacintosh?P.altKey:P.ctrlKey)?this.onInput(""):P.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+P.browserEvent.key)}onInput(P){const W=this.view.getHTMLElement();P&&!this.domNode.parentElement?W.append(this.domNode):!P&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=P,this._onDidChangePattern.fire(P),this.filter.pattern=P,this.tree.refilter(),P&&this.tree.focusNext(0,!0,void 0,z=>!d.FuzzyScore.isDefault(z.filterData));const M=this.tree.getFocus();if(M.length>0){const z=M[0];this.tree.getRelativeTop(z)===null&&this.tree.reveal(z,.5)}this.render(),P||(this.triggered=!1)}onDragStart(){const P=this.view.getHTMLElement(),{left:W}=(0,f.getDomNodePagePosition)(P),M=P.clientWidth,z=M/2,Q=this.domNode.clientWidth,ne=new o.DisposableStore;let X=this.positionClassName;const J=()=>{switch(X){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${M-Q-6}px`;break}},ie=G=>{G.preventDefault();const x=G.clientX-W;G.dataTransfer&&(G.dataTransfer.dropEffect="none"),x<z?X="nw":X="ne",J()},le=()=>{this.positionClassName=X,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,o.dispose)(ne)};J(),this.domNode.classList.remove(X),this.domNode.classList.add("dragging"),ne.add((0,o.toDisposable)(()=>this.domNode.classList.remove("dragging"))),ne.add((0,f.addDisposableListener)(document,"dragover",G=>ie(G))),ne.add((0,f.addDisposableListener)(this.domNode,"dragend",()=>le())),y.StaticDND.CurrentDragAndDropData=new y.DragAndDropData("vscode-ui"),ne.add((0,o.toDisposable)(()=>y.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...n.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...n.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,l.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...n.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...n.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,l.localize)(2,null))}render(){const P=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&P?(this.messageDomNode.textContent=(0,l.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",P),this.domNode.title=(0,l.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(P){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!d.FuzzyScore.isDefault(P.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,o.dispose)(this.disposables)}}function T(F){let P=u.TreeMouseEventTarget.Unknown;return(0,f.hasParentWithClass)(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?P=u.TreeMouseEventTarget.Twistie:(0,f.hasParentWithClass)(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(P=u.TreeMouseEventTarget.Element),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:P}}function R(F,P){P(F),F.children.forEach(W=>R(W,P))}class B{constructor(P,W){this.getFirstViewElementWithTrait=P,this.identityProvider=W,this.nodes=[],this._onDidChange=new r.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(P,W){!(W==null?void 0:W.__forceEvent)&&(0,h.equals)(this.nodes,P)||this._set(P,!1,W)}_set(P,W,M){if(this.nodes=[...P],this.elements=void 0,this._nodeSet=void 0,!W){const z=this;this._onDidChange.fire({get elements(){return z.get()},browserEvent:M})}}get(){return this.elements||(this.elements=this.nodes.map(P=>P.element)),[...this.elements]}getNodes(){return this.nodes}has(P){return this.nodeSet.has(P)}onDidModelSplice({insertedNodes:P,deletedNodes:W}){if(!this.identityProvider){const J=this.createNodeSet(),ie=le=>J.delete(le);W.forEach(le=>R(le,ie)),this.set([...J.values()]);return}const M=new Set,z=J=>M.add(this.identityProvider.getId(J.element).toString());W.forEach(J=>R(J,z));const Q=new Map,ne=J=>Q.set(this.identityProvider.getId(J.element).toString(),J);P.forEach(J=>R(J,ne));const X=[];for(const J of this.nodes){const ie=this.identityProvider.getId(J.element).toString();if(!M.has(ie))X.push(J);else{const G=Q.get(ie);G&&X.push(G)}}if(this.nodes.length>0&&X.length===0){const J=this.getFirstViewElementWithTrait();J&&X.push(J)}this._set(X,!0)}createNodeSet(){const P=new Set;for(const W of this.nodes)P.add(W);return P}}class O extends b.MouseController{constructor(P,W){super(P);this.tree=W}onViewPointer(P){if((0,b.isInputElement)(P.browserEvent.target)||(0,b.isMonacoEditor)(P.browserEvent.target))return;const W=P.element;if(!W)return super.onViewPointer(P);if(this.isSelectionRangeChangeEvent(P)||this.isSelectionSingleChangeEvent(P))return super.onViewPointer(P);const M=P.browserEvent.target,z=M.classList.contains("monaco-tl-twistie")||M.classList.contains("monaco-icon-label")&&M.classList.contains("folder-icon")&&P.browserEvent.offsetX<16;let Q=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Q=this.tree.expandOnlyOnTwistieClick(W.element):Q=!!this.tree.expandOnlyOnTwistieClick,Q&&!z&&P.browserEvent.detail!==2)return super.onViewPointer(P);if(!this.tree.expandOnDoubleClick&&P.browserEvent.detail===2)return super.onViewPointer(P);if(W.collapsible){const ne=this.tree.model,X=ne.getNodeLocation(W),J=P.browserEvent.altKey;if(this.tree.setFocus([X]),ne.setCollapsed(X,void 0,J),Q&&z)return}super.onViewPointer(P)}onDoubleClick(P){P.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(P)}}class k extends b.List{constructor(P,W,M,z,Q,ne,X,J){super(P,W,M,z,J);this.focusTrait=Q,this.selectionTrait=ne,this.anchorTrait=X}createMouseController(P){return new O(this,P.tree)}splice(P,W,M=[]){if(super.splice(P,W,M),M.length===0)return;const z=[],Q=[];let ne;M.forEach((X,J)=>{this.focusTrait.has(X)&&z.push(P+J),this.selectionTrait.has(X)&&Q.push(P+J),this.anchorTrait.has(X)&&(ne=P+J)}),z.length>0&&super.setFocus((0,h.distinct)([...super.getFocus(),...z])),Q.length>0&&super.setSelection((0,h.distinct)([...super.getSelection(),...Q])),typeof ne=="number"&&super.setAnchor(ne)}setFocus(P,W,M=!1){super.setFocus(P,W),M||this.focusTrait.set(P.map(z=>this.element(z)),W)}setSelection(P,W,M=!1){super.setSelection(P,W),M||this.selectionTrait.set(P.map(z=>this.element(z)),W)}setAnchor(P,W=!1){super.setAnchor(P),W||(typeof P=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(P)]))}}class A{constructor(P,W,M,z,Q={}){this._user=P,this._options=Q,this.eventBufferer=new r.EventBufferer,this.disposables=new o.DisposableStore,this._onWillRefilter=new r.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new r.Emitter;const ne=new p(M),X=new r.Relay,J=new r.Relay,ie=new _(J.event);this.renderers=z.map(x=>new w(x,()=>this.model,X.event,ie,Q));for(let x of this.renderers)this.disposables.add(x);let le;Q.keyboardNavigationLabelProvider&&(le=new E(this,Q.keyboardNavigationLabelProvider,Q.filter),Q=Object.assign(Object.assign({},Q),{filter:le}),this.disposables.add(le)),this.focus=new B(()=>this.view.getFocusedElements()[0],Q.identityProvider),this.selection=new B(()=>this.view.getSelectedElements()[0],Q.identityProvider),this.anchor=new B(()=>this.view.getAnchorElement(),Q.identityProvider),this.view=new k(P,W,ne,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},S(()=>this.model,Q)),{tree:this})),this.model=this.createModel(P,this.view,Q),X.input=this.model.onDidChangeCollapseState;const G=r.Event.forEach(this.model.onDidSplice,x=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(x),this.selection.onDidModelSplice(x)})});if(G(()=>null,null,this.disposables),J.input=r.Event.chain(r.Event.any(G,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const x=new Set;for(const V of this.focus.getNodes())x.add(V);for(const V of this.selection.getNodes())x.add(V);return[...x.values()]}).event,Q.keyboardSupport!==!1){const x=r.Event.chain(this.view.onKeyDown).filter(V=>!(0,b.isInputElement)(V.target)).map(V=>new D.StandardKeyboardEvent(V));x.filter(V=>V.keyCode===15).on(this.onLeftArrow,this,this.disposables),x.filter(V=>V.keyCode===17).on(this.onRightArrow,this,this.disposables),x.filter(V=>V.keyCode===10).on(this.onSpace,this,this.disposables)}if(Q.keyboardNavigationLabelProvider){const x=Q.keyboardNavigationDelegate||b.DefaultKeyboardNavigationDelegate;this.typeFilterController=new I(this,this.model,this.view,le,x),this.focusNavigationFilter=V=>this.typeFilterController.shouldAllowFocus(V),this.disposables.add(this.typeFilterController)}this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===v.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return r.Event.map(this.view.onMouseDblClick,T)}get onPointer(){return r.Event.map(this.view.onPointer,T)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return r.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(P={}){this._options=Object.assign(Object.assign({},this._options),P);for(const W of this.renderers)W.updateOptions(P);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===v.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(P){this.view.scrollTop=P}domFocus(){this.view.domFocus()}layout(P,W){this.view.layout(P,W)}style(P){const W=`.${this.view.domId}`,M=[];P.treeIndentGuidesStroke&&(M.push(`.monaco-list${W}:hover .monaco-tl-indent > .indent-guide, .monaco-list${W}.always .monaco-tl-indent > .indent-guide  { border-color: ${P.treeIndentGuidesStroke.transparent(.4)}; }`),M.push(`.monaco-list${W} .monaco-tl-indent > .indent-guide.active { border-color: ${P.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=M.join(`
`),this.view.style(P)}getParentElement(P){const W=this.model.getParentNodeLocation(P);return this.model.getNode(W).element}getFirstElementChild(P){return this.model.getFirstElementChild(P)}getNode(P){return this.model.getNode(P)}collapse(P,W=!1){return this.model.setCollapsed(P,!0,W)}expand(P,W=!1){return this.model.setCollapsed(P,!1,W)}isCollapsible(P){return this.model.isCollapsible(P)}setCollapsible(P,W){return this.model.setCollapsible(P,W)}isCollapsed(P){return this.model.isCollapsed(P)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(P,W){const M=P.map(Q=>this.model.getNode(Q));this.selection.set(M,W);const z=P.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setSelection(z,W,!0)}getSelection(){return this.selection.get()}setFocus(P,W){const M=P.map(Q=>this.model.getNode(Q));this.focus.set(M,W);const z=P.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setFocus(z,W,!0)}focusNext(P=1,W=!1,M,z=this.focusNavigationFilter){this.view.focusNext(P,W,M,z)}getFocus(){return this.focus.get()}reveal(P,W){this.model.expandTo(P);const M=this.model.getListIndex(P);M!==-1&&this.view.reveal(M,W)}getRelativeTop(P){const W=this.model.getListIndex(P);return W===-1?null:this.view.getRelativeTop(W)}onLeftArrow(P){P.preventDefault(),P.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M);if(!this.model.setCollapsed(z,!0)){const ne=this.model.getParentNodeLocation(z);if(!ne)return;const X=this.model.getListIndex(ne);this.view.reveal(X),this.view.setFocus([X])}}onRightArrow(P){P.preventDefault(),P.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M);if(!this.model.setCollapsed(z,!1)){if(!M.children.some(J=>J.visible))return;const[ne]=this.view.getFocus(),X=ne+1;this.view.reveal(X),this.view.setFocus([X])}}onSpace(P){P.preventDefault(),P.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M),Q=P.browserEvent.altKey;this.model.setCollapsed(z,void 0,Q)}dispose(){(0,o.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=A}),define(oe[493],se([1,0,198,173]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class N extends y.AbstractTree{constructor(L,b,C,u,h,i={}){super(L,b,C,u,i);this.user=L,this.dataSource=h,this.identityProvider=i.identityProvider}createModel(L,b,C){return new f.ObjectTreeModel(L,b,C)}}e.DataTree=N}),define(oe[274],se([1,0,198,328,173,99,56]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class b extends y.AbstractTree{constructor(n,t,r,d,o={}){super(n,t,r,d,o);this.user=n}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(n,t=L.Iterable.empty(),r){this.model.setChildren(n,t,r)}rerender(n){if(n===void 0){this.view.rerender();return}this.model.rerender(n)}hasElement(n){return this.model.has(n)}createModel(n,t,r){return new N.ObjectTreeModel(n,t,r)}}e.ObjectTree=b;class C{constructor(n,t){this._compressedTreeNodeProvider=n,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(n){const t=this.renderer.renderTemplate(n);return{compressedTreeNode:void 0,data:t}}renderElement(n,t,r,d){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(n.element);o.element.elements.length===1?(r.compressedTreeNode=void 0,this.renderer.renderElement(n,t,r.data,d)):(r.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,r.data,d))}disposeElement(n,t,r,d){r.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(r.compressedTreeNode,t,r.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(n,t,r.data,d)}disposeTemplate(n){this.renderer.disposeTemplate(n.data)}renderTwistie(n,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(n,t):!1}}De([D.memoize],C.prototype,"compressedTreeNodeProvider",null);function u(i,n){return n&&Object.assign(Object.assign({},n),{keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let r;try{r=i().getCompressedTreeNode(t)}catch{return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return r.element.elements.length===1?n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(r.element.elements)}}})}class h extends b{constructor(n,t,r,d,o={}){const a=()=>this,s=d.map(l=>new C(a,l));super(n,t,r,s,u(a,o))}setChildren(n,t=L.Iterable.empty(),r){this.model.setChildren(n,t,r)}createModel(n,t,r){return new f.CompressibleObjectTreeModel(n,t,r)}updateOptions(n={}){super.updateOptions(n),typeof n.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(n.compressionEnabled)}getCompressedTreeNode(n=null){return this.model.getCompressedTreeNode(n)}}e.CompressibleObjectTree=h}),define(oe[494],se([1,0,176,198,172,274,115,10,28,13,4,56,2,19]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(B){return Object.assign(Object.assign({},B),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function d(B,O){return O.parent?O.parent===B?!0:d(B,O.parent):!1}function o(B,O){return B===O||d(B,O)||d(O,B)}class a{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new a(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(O,k,A){this.renderer=O,this.nodeMapper=k,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,k,A,F){this.renderer.renderElement(this.nodeMapper.map(O),k,A.templateData,F)}renderTwistie(O,k){return O.slow?(k.classList.add(...C.Codicon.treeItemLoading.classNamesArray),!0):(k.classList.remove(...C.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,k,A,F){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),k,A.templateData,F)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function l(B){return{browserEvent:B.browserEvent,elements:B.elements.map(O=>O.element)}}function c(B){return{browserEvent:B.browserEvent,element:B.element&&B.element.element,target:B.target}}class g extends y.ElementsDragAndDropData{constructor(O){super(O.elements.map(k=>k.element));this.data=O}}function m(B){return B instanceof y.ElementsDragAndDropData?new g(B):B}class S{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,k){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(A=>A.element),k)}onDragStart(O,k){this.dnd.onDragStart&&this.dnd.onDragStart(m(O),k)}onDragOver(O,k,A,F,P=!0){return this.dnd.onDragOver(m(O),k&&k.element,A,F)}drop(O,k,A,F){this.dnd.drop(m(O),k&&k.element,A,F)}onDragEnd(O){this.dnd.onDragEnd&&this.dnd.onDragEnd(O)}}function p(B){return B&&Object.assign(Object.assign({},B),{collapseByDefault:!0,identityProvider:B.identityProvider&&{getId(O){return B.identityProvider.getId(O.element)}},dnd:B.dnd&&new S(B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:B.accessibilityProvider.getRole?O=>B.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:B.accessibilityProvider.isChecked?O=>{var k;return!!((k=B.accessibilityProvider)===null||k===void 0?void 0:k.isChecked(O.element))}:void 0,getAriaLabel(O){return B.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider.getAriaLevel&&(O=>B.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(O=>B.accessibilityProvider.getActiveDescendantId(O.element))}),filter:B.filter&&{filter(O,k){return B.filter.filter(O.element,k)}},keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof B.expandOnlyOnTwistieClick=="undefined"?void 0:typeof B.expandOnlyOnTwistieClick!="function"?B.expandOnlyOnTwistieClick:O=>B.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:B.additionalScrollHeight})}function v(B,O){O(B),B.children.forEach(k=>v(k,O))}class _{constructor(O,k,A,F,P,W={}){this.user=O,this.dataSource=P,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new h.Emitter,this._onDidChangeNodeSlowState=new h.Emitter,this.nodeMapper=new L.WeakMapper(M=>new a(M)),this.disposables=new n.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren=="undefined"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(O,k,A,F,W),this.root=r({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return h.Event.map(this.tree.onDidChangeFocus,l)}get onDidChangeSelection(){return h.Event.map(this.tree.onDidChangeSelection,l)}get onMouseDblClick(){return h.Event.map(this.tree.onMouseDblClick,c)}get onPointer(){return h.Event.map(this.tree.onPointer,c)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(O,k,A,F,P){const W=new f.ComposedTreeDelegate(A),M=F.map(Q=>new s(Q,this.nodeMapper,this._onDidChangeNodeSlowState.event)),z=p(P)||{};return new D.ObjectTree(O,k,W,M,z)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,k){this.tree.layout(O,k)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,k){return Le(this,void 0,void 0,function*(){this.refreshPromises.forEach(F=>F.cancel()),this.refreshPromises.clear(),this.root.element=O;const A=k&&{viewState:k,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,A),A&&(this.tree.setFocus(A.focus),this.tree.setSelection(A.selection)),k&&typeof k.scrollTop=="number"&&(this.scrollTop=k.scrollTop)})}_updateChildren(O=this.root.element,k=!0,A=!1,F,P){return Le(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(O);if(yield this.refreshAndRenderNode(W,k,F,P),A)try{this.tree.rerender(W)}catch{}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const k=this.getDataNode(O);this.tree.rerender(k)}getNode(O=this.root.element){const k=this.getDataNode(O),A=this.tree.getNode(k===this.root?null:k);return this.nodeMapper.map(A)}collapse(O,k=!1){const A=this.getDataNode(O);return this.tree.collapse(A===this.root?null:A,k)}expand(O,k=!1){return Le(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event));const A=this.getDataNode(O);if(this.tree.hasElement(A)&&!this.tree.isCollapsible(A)||(A.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event)),A!==this.root&&!A.refreshPromise&&!this.tree.isCollapsed(A)))return!1;const F=this.tree.expand(A===this.root?null:A,k);return A.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event)),F})}setSelection(O,k){const A=O.map(F=>this.getDataNode(F));this.tree.setSelection(A,k)}getSelection(){return this.tree.getSelection().map(k=>k.element)}setFocus(O,k){const A=O.map(F=>this.getDataNode(F));this.tree.setFocus(A,k)}getFocus(){return this.tree.getFocus().map(k=>k.element)}reveal(O,k){this.tree.reveal(this.getDataNode(O),k)}getParentElement(O){const k=this.tree.getParentElement(this.getDataNode(O));return k&&k.element}getFirstElementChild(O=this.root.element){const k=this.getDataNode(O),A=this.tree.getFirstElementChild(k===this.root?null:k);return A&&A.element}getDataNode(O){const k=this.nodes.get(O===this.root.element?null:O);if(!k)throw new L.TreeError(this.user,`Data tree node not found: ${O}`);return k}refreshAndRenderNode(O,k,A,F){return Le(this,void 0,void 0,function*(){yield this.refreshNode(O,k,A),this.render(O,A,F)})}refreshNode(O,k,A){return Le(this,void 0,void 0,function*(){let F;return this.subTreeRefreshPromises.forEach((P,W)=>{!F&&o(W,O)&&(F=P.then(()=>this.refreshNode(O,k,A)))}),F||this.doRefreshSubTree(O,k,A)})}doRefreshSubTree(O,k,A){return Le(this,void 0,void 0,function*(){let F;O.refreshPromise=new Promise(P=>F=P),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const P=yield this.doRefreshNode(O,k,A);O.stale=!1,yield b.Promises.settled(P.map(W=>this.doRefreshSubTree(W,k,A)))}finally{F()}})}doRefreshNode(O,k,A){return Le(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let F;if(!O.hasChildren)F=Promise.resolve(i.Iterable.empty());else{const P=this.doGetChildren(O);if((0,t.isIterable)(P))F=Promise.resolve(P);else{const W=(0,b.timeout)(800);W.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},M=>null),F=P.finally(()=>W.cancel())}}try{const P=yield F;return this.setChildren(O,P,k,A)}catch(P){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),(0,u.isCancellationError)(P))return[];throw P}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let k=this.refreshPromises.get(O);if(k)return k;const A=this.dataSource.getChildren(O.element);return(0,t.isIterable)(A)?this.processChildren(A):(k=(0,b.createCancelablePromise)(()=>Le(this,void 0,void 0,function*(){return this.processChildren(yield A)})),this.refreshPromises.set(O,k),k.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:k}){O.element!==null&&!O.collapsed&&O.element.stale&&(k?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(u.onUnexpectedError))}setChildren(O,k,A,F){const P=[...k];if(O.children.length===0&&P.length===0)return[];const W=new Map,M=new Map;for(const ne of O.children)if(W.set(ne.element,ne),this.identityProvider){const X=this.tree.isCollapsed(ne);M.set(ne.id,{node:ne,collapsed:X})}const z=[],Q=P.map(ne=>{const X=!!this.dataSource.hasChildren(ne);if(!this.identityProvider){const G=r({element:ne,parent:O,hasChildren:X});return X&&this.collapseByDefault&&!this.collapseByDefault(ne)&&(G.collapsedByDefault=!1,z.push(G)),G}const J=this.identityProvider.getId(ne).toString(),ie=M.get(J);if(ie){const G=ie.node;return W.delete(G.element),this.nodes.delete(G.element),this.nodes.set(ne,G),G.element=ne,G.hasChildren=X,A?ie.collapsed?(G.children.forEach(x=>v(x,V=>this.nodes.delete(V.element))),G.children.splice(0,G.children.length),G.stale=!0):z.push(G):X&&this.collapseByDefault&&!this.collapseByDefault(ne)&&(G.collapsedByDefault=!1,z.push(G)),G}const le=r({element:ne,parent:O,id:J,hasChildren:X});return F&&F.viewState.focus&&F.viewState.focus.indexOf(J)>-1&&F.focus.push(le),F&&F.viewState.selection&&F.viewState.selection.indexOf(J)>-1&&F.selection.push(le),F&&F.viewState.expanded&&F.viewState.expanded.indexOf(J)>-1?z.push(le):X&&this.collapseByDefault&&!this.collapseByDefault(ne)&&(le.collapsedByDefault=!1,z.push(le)),le});for(const ne of W.values())v(ne,X=>this.nodes.delete(X.element));for(const ne of Q)this.nodes.set(ne.element,ne);return O.children.splice(0,O.children.length,...Q),O!==this.root&&this.autoExpandSingleChildren&&Q.length===1&&z.length===0&&(Q[0].collapsedByDefault=!1,z.push(Q[0])),z}render(O,k,A){const F=O.children.map(W=>this.asTreeElement(W,k)),P=A&&Object.assign(Object.assign({},A),{diffIdentityProvider:A.diffIdentityProvider&&{getId(W){return A.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(O===this.root?null:O,F,P),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,k){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let A;return k&&k.viewState.expanded&&O.id&&k.viewState.expanded.indexOf(O.id)>-1?A=!1:A=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?i.Iterable.map(O.children,F=>this.asTreeElement(F,k)):[],collapsible:O.hasChildren,collapsed:A}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=_;class w{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new w(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class E{constructor(O,k,A,F){this.renderer=O,this.nodeMapper=k,this.compressibleNodeMapperProvider=A,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,k,A,F){this.renderer.renderElement(this.nodeMapper.map(O),k,A.templateData,F)}renderCompressedElements(O,k,A,F){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),k,A.templateData,F)}renderTwistie(O,k){return O.slow?(k.classList.add(...C.Codicon.treeItemLoading.classNamesArray),!0):(k.classList.remove(...C.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,k,A,F){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),k,A.templateData,F)}disposeCompressedElements(O,k,A,F){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(O),k,A.templateData,F)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,n.dispose)(this.disposables)}}function I(B){const O=B&&p(B);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(k){return B.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(k.map(A=>A.element))}})})}class T extends _{constructor(O,k,A,F,P,W,M={}){super(O,k,A,P,W,M);this.compressionDelegate=F,this.compressibleNodeMapper=new L.WeakMapper(z=>new w(z)),this.filter=M.filter}createTree(O,k,A,F,P){const W=new f.ComposedTreeDelegate(A),M=F.map(Q=>new E(Q,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),z=I(P)||{};return new D.CompressibleObjectTree(O,k,W,M,z)}asTreeElement(O,k){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,k))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,k){if(!this.identityProvider)return super.render(O,k);const A=J=>this.identityProvider.getId(J).toString(),F=J=>{const ie=new Set;for(const le of J){const G=this.tree.getCompressedTreeNode(le===this.root?null:le);if(!!G.element)for(const x of G.element.elements)ie.add(A(x.element))}return ie},P=F(this.tree.getSelection()),W=F(this.tree.getFocus());super.render(O,k);const M=this.getSelection();let z=!1;const Q=this.getFocus();let ne=!1;const X=J=>{const ie=J.element;if(ie)for(let le=0;le<ie.elements.length;le++){const G=A(ie.elements[le].element),x=ie.elements[ie.elements.length-1].element;P.has(G)&&M.indexOf(x)===-1&&(M.push(x),z=!0),W.has(G)&&Q.indexOf(x)===-1&&(Q.push(x),ne=!0)}J.children.forEach(X)};X(this.tree.getCompressedTreeNode(O===this.root?null:O)),z&&this.setSelection(M),ne&&this.setFocus(Q)}processChildren(O){return this.filter&&(O=i.Iterable.filter(O,k=>{const A=this.filter.filter(k,1),F=R(A);if(F===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return F===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=T;function R(B){return typeof B=="boolean"?B?1:0:(0,N.isFilterResult)(B)?(0,N.getVisibleState)(B.visibility):(0,N.getVisibleState)(B)}}),define(oe[495],se([5,6]),function(K,e){return K.create("vs/base/common/actions",e)}),define(oe[47],se([1,0,4,2,495]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends f.Disposable{constructor(i,n="",t="",r=!0,d){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=n,this._cssClass=t,this._enabled=r,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,n){return Le(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=D;class L extends f.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new y.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new y.Emitter),this.onDidRun=this._onDidRun.event}run(i,n){return Le(this,void 0,void 0,function*(){if(!i.enabled)return;this._onBeforeRun.fire({action:i});let t;try{yield this.runAction(i,n)}catch(r){t=r}this._onDidRun.fire({action:i,error:t})})}runAction(i,n){return Le(this,void 0,void 0,function*(){yield i.run(n)})}}e.ActionRunner=L;class b extends D{constructor(i){super(b.ID,i,i?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=b,b.ID="vs.actions.separator";class C{constructor(i,n,t,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=n,this.class=r,this._actions=t}get actions(){return this._actions}dispose(){}run(){return Le(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class u extends D{constructor(){super(u.ID,N.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=u,u.ID="vs.actions.empty"}),define(oe[130],se([1,0,34,169,7,60,273,47,2,17,19,485,226]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class n extends C.Disposable{constructor(d,o,a={}){super();this.options=a,this._context=d||this,this._action=o,o instanceof b.Action&&this._register(o.onDidChange(s=>{!this.element||this.handleActionChangeEvent(s)}))}get action(){return this._action}handleActionChangeEvent(d){d.enabled!==void 0&&this.updateEnabled(),d.checked!==void 0&&this.updateChecked(),d.class!==void 0&&this.updateClass(),d.label!==void 0&&(this.updateLabel(),this.updateTooltip()),d.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new b.ActionRunner)),this._actionRunner}set actionRunner(d){this._actionRunner=d}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(d){this._context=d}render(d){const o=this.element=d;this._register(D.Gesture.addTarget(d));const a=this.options&&this.options.draggable;a&&(d.draggable=!0,y.isFirefox&&this._register((0,N.addDisposableListener)(d,N.EventType.DRAG_START,s=>{var l;return(l=s.dataTransfer)===null||l===void 0?void 0:l.setData(f.DataTransfers.TEXT,this._action.label)}))),this._register((0,N.addDisposableListener)(o,D.EventType.Tap,s=>this.onClick(s,!0))),this._register((0,N.addDisposableListener)(o,N.EventType.MOUSE_DOWN,s=>{a||N.EventHelper.stop(s,!0),this._action.enabled&&s.button===0&&o.classList.add("active")})),u.isMacintosh&&this._register((0,N.addDisposableListener)(o,N.EventType.CONTEXT_MENU,s=>{s.button===0&&s.ctrlKey===!0&&this.onClick(s)})),this._register((0,N.addDisposableListener)(o,N.EventType.CLICK,s=>{N.EventHelper.stop(s,!0),this.options&&this.options.isMenu||this.onClick(s)})),this._register((0,N.addDisposableListener)(o,N.EventType.DBLCLICK,s=>{N.EventHelper.stop(s,!0)})),[N.EventType.MOUSE_UP,N.EventType.MOUSE_OUT].forEach(s=>{this._register((0,N.addDisposableListener)(o,s,l=>{N.EventHelper.stop(l),o.classList.remove("active")}))})}onClick(d,o=!1){var a;N.EventHelper.stop(d,!0);const s=h.isUndefinedOrNull(this._context)?((a=this.options)===null||a===void 0?void 0:a.useEventAsContext)?d:{preserveFocus:o}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(d){this.element&&(this.element.tabIndex=d?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=n;class t extends n{constructor(d,o,a={}){super(d,o,a);this.options=a,this.options.icon=a.icon!==void 0?a.icon:!1,this.options.label=a.label!==void 0?a.label:!0,this.cssClass=""}render(d){super.render(d),this.element&&(this.label=(0,N.append)(this.element,(0,N.$)("a.action-label"))),this.label&&(this._action.id===b.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,N.append)(this.element,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(d){this.label&&(this.label.tabIndex=d?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let d=null;this.getAction().tooltip?d=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(d=this.getAction().label,this.options.keybinding&&(d=i.localize(0,null,d,this.options.keybinding))),this._applyUpdateTooltip(d)}_applyUpdateTooltip(d){d&&this.label&&(this.label.setAttribute("aria-label",d),this.options.hoverDelegate?(this.label.title="",this.customHover?this.customHover.update(d):(this.customHover=(0,L.setupCustomHover)(this.options.hoverDelegate,this.label,d),this._store.add(this.customHover))):this.label.title=d)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=t}),define(oe[88],se([1,0,7,44,130,47,4,2,19,226]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class u extends b.Disposable{constructor(i,n={}){var t,r,d,o,a,s;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new L.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=n,this._context=(t=n.context)!==null&&t!==void 0?t:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(o=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&o!==void 0?o:!1,keys:(s=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&s!==void 0?s:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._register(this._actionRunner.onBeforeRun(g=>this._onBeforeRun.fire(g))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",n.animated!==!1&&this.domNode.classList.add("animated");let l,c;switch(this._orientation){case 0:l=[15],c=[17];break;case 1:l=[16],c=[18],this.domNode.className+=" vertical";break}this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_DOWN,g=>{const m=new f.StandardKeyboardEvent(g);let S=!0;const p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;l&&(m.equals(l[0])||m.equals(l[1]))?S=this.focusPrevious():c&&(m.equals(c[0])||m.equals(c[1]))?S=this.focusNext():m.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():m.equals(14)?S=this.focusFirst():m.equals(13)?S=this.focusLast():m.equals(2)&&p instanceof N.BaseActionViewItem&&p.trapsArrowNavigation?S=this.focusNext():this.isTriggerKeyEvent(m)?this._triggerKeys.keyDown?this.doTrigger(m):this.triggerKeyDown=!0:S=!1,S&&(m.preventDefault(),m.stopPropagation())})),this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_UP,g=>{const m=new f.StandardKeyboardEvent(g);this.isTriggerKeyEvent(m)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(m)),m.preventDefault(),m.stopPropagation()):(m.equals(2)||m.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(y.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(y.getActiveElement()===this.domNode||!y.isAncestor(y.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),i.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(i){if(this.focusable=i,this.focusable){const n=this.viewItems.find(t=>t instanceof N.BaseActionViewItem&&t.isEnabled());n instanceof N.BaseActionViewItem&&n.setFocusable(!0)}else this.viewItems.forEach(n=>{n instanceof N.BaseActionViewItem&&n.setFocusable(!1)})}isTriggerKeyEvent(i){let n=!1;return this._triggerKeys.keys.forEach(t=>{n=n||i.equals(t)}),n}updateFocusedItem(){for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(y.isAncestor(y.getActiveElement(),n)){this.focusedItem=i;break}}}get context(){return this._context}set context(i){this._context=i,this.viewItems.forEach(n=>n.setActionContext(i))}get actionRunner(){return this._actionRunner}set actionRunner(i){i&&(this._actionRunner=i,this.viewItems.forEach(n=>n.actionRunner=i))}getContainer(){return this.domNode}push(i,n={}){const t=Array.isArray(i)?i:[i];let r=C.isNumber(n.index)?n.index:null;t.forEach(d=>{const o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation");let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(d)),a||(a=new N.ActionViewItem(this.context,d,Object.assign({hoverDelegate:this.options.hoverDelegate},n))),this.options.allowContextMenu||this.viewItemDisposables.set(a,y.addDisposableListener(o,y.EventType.CONTEXT_MENU,s=>{y.EventHelper.stop(s,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(o),this.focusable&&a instanceof N.BaseActionViewItem&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(o),this.viewItems.push(a),this._actionIds.push(d.id)):(this.actionsList.insertBefore(o,this.actionsList.children[r]),this.viewItems.splice(r,0,a),this._actionIds.splice(r,0,d.id),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,b.dispose)(this.viewItems),this.viewItemDisposables.forEach(i=>i.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],y.clearNode(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(i){let n=!1,t;if(i===void 0?n=!0:typeof i=="number"?t=i:typeof i=="boolean"&&(n=i),n&&typeof this.focusedItem=="undefined"){const r=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(i){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let t;do{if(!i&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=n,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(i){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!i&&this.options.preventLoopNavigation)return this.focusedItem=n,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(i,n,t=!1){var r;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());const d=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(d){let o=!0;C.isFunction(d.focus)||(o=!1),this.options.focusOnlyEnabledItems&&C.isFunction(d.isEnabled)&&!d.isEnabled()&&(o=!1),d.action.id===D.Separator.ID&&(o=!1),o?(t||this.previouslyFocusedItem!==this.focusedItem)&&(d.focus(i),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem=void 0)}}doTrigger(i){if(typeof this.focusedItem=="undefined")return;const n=this.viewItems[this.focusedItem];if(n instanceof N.BaseActionViewItem){const t=n._context===null||n._context===void 0?i:n._context;this.run(n._action,t)}}run(i,n){return Le(this,void 0,void 0,function*(){yield this._actionRunner.run(i,n)})}dispose(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=u}),define(oe[496],se([1,0,7,44,60,47,4,229]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class b extends D.ActionRunner{constructor(h,i){super();this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,y.append)(h,(0,y.$)(".monaco-dropdown")),this._label=(0,y.append)(this._element,(0,y.$)(".dropdown-label"));let n=i.labelRenderer;n||(n=r=>(r.textContent=i.label||"",null));for(const r of[y.EventType.CLICK,y.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,y.addDisposableListener)(this.element,r,d=>y.EventHelper.stop(d,!0)));for(const r of[y.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,y.addDisposableListener)(this._label,r,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,y.addDisposableListener)(this._label,y.EventType.KEY_UP,r=>{const d=new f.StandardKeyboardEvent(r);(d.equals(3)||d.equals(10))&&(y.EventHelper.stop(r,!0),this.visible?this.hide():this.show())}));const t=n(this._label);t&&this._register(t),this._register(N.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=b;class C extends b{constructor(h,i){super(h,i);this._actions=[],this._contextMenuProvider=i.contextMenuProvider,this.actions=i.actions||[],this.actionProvider=i.actionProvider,this.menuClassName=i.menuClassName||"",this.menuAsChild=!!i.menuAsChild}set menuOptions(h){this._menuOptions=h}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(h){this._actions=h}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:h=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(h):void 0,getKeyBinding:h=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(h):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(oe[497],se([1,0,7,130,496,4,229]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class L extends f.BaseActionViewItem{constructor(C,u,h,i=Object.create(null)){super(null,C,i);this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.menuActionsOrProvider=u,this.contextMenuProvider=h,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const u=n=>{this.element=(0,y.append)(n,(0,y.$)("a.action-label"));let t=[];return typeof this.options.classNames=="string"?t=this.options.classNames.split(/\s+/g).filter(r=>!!r):this.options.classNames&&(t=this.options.classNames),t.find(r=>r==="icon")||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},h=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:h?this.menuActionsOrProvider:void 0,actionProvider:h?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new N.DropdownMenu(C,i)),this._register(this.dropdownMenu.onDidChangeVisibility(n=>{var t;(t=this.element)===null||t===void 0||t.setAttribute("aria-expanded",`${n}`),this._onDidChangeVisibility.fire(n)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const n=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return n.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}updateEnabled(){var C,u;const h=!this.getAction().enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",h),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",h)}}e.DropdownMenuActionViewItem=L}),define(oe[199],se([1,0,7,92,174,88,45,73,66,30,4,323,39,490,349]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const r=y.$,d={inputBackground:u.Color.fromHex("#3C3C3C"),inputForeground:u.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:u.Color.fromHex("#55AAFF"),inputValidationInfoBackground:u.Color.fromHex("#063B49"),inputValidationWarningBorder:u.Color.fromHex("#B89500"),inputValidationWarningBackground:u.Color.fromHex("#352A05"),inputValidationErrorBorder:u.Color.fromHex("#BE1100"),inputValidationErrorBackground:u.Color.fromHex("#5A1D1D")};class o extends C.Widget{constructor(l,c,g){var m;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new h.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new h.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=c,this.options=g||Object.create(null),(0,n.mixin)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(m=this.options.tooltip)!==null&&m!==void 0?m:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=y.append(l,r(".monaco-inputbox.idle"));let S=this.options.flexibleHeight?"textarea":"input",p=y.append(this.element,r(".ibwrapper"));if(this.input=y.append(p,r(S+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=y.append(p,r("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),y.append(l,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(w=>this.input.scrollTop=w.scrollTop));const v=this._register(new f.DomEmitter(document,"selectionchange")),_=h.Event.filter(v.event,()=>{const w=document.getSelection();return(w==null?void 0:w.anchorNode)===p});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(l){this.placeholder=l,this.input.setAttribute("placeholder",l)}setTooltip(l){this.tooltip=l,this.input.title=l}setAriaLabel(l){this.ariaLabel=l,l?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(l){this.input.value!==l&&(this.input.value=l,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(l=null){this.input.select(),l&&(this.input.setSelectionRange(l.start,l.end),l.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return y.getTotalWidth(this.input)}set width(l){if(this.options.flexibleHeight&&this.options.flexibleWidth){let c=0;if(this.mirror){const g=parseFloat(this.mirror.style.paddingLeft||"")||0,m=parseFloat(this.mirror.style.paddingRight||"")||0;c=g+m}this.input.style.width=l-c+"px"}else this.input.style.width=l+"px";this.mirror&&(this.mirror.style.width=l+"px")}set paddingRight(l){this.input.style.width=`calc(100% - ${l}px)`,this.mirror&&(this.mirror.style.paddingRight=l+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const l=this.cachedContentHeight,c=this.cachedHeight,g=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:l,height:c}),this.scrollableElement.setScrollPosition({scrollTop:g})}showMessage(l,c){this.message=l,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(l.type));const g=this.stylesForType(this.message.type);this.element.style.border=g.border?`1px solid ${g.border}`:"",(this.hasFocus()||c)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let l=null;return this.validation&&(l=this.validation(this.value),l?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(l)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),l==null?void 0:l.type}stylesForType(l){switch(l){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(l){switch(l){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let l,c=()=>l.style.width=y.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:m=>{if(!this.message)return null;l=y.append(m,r(".monaco-inputbox-container")),c();const S={inline:!0,className:"monaco-inputbox-message"},p=this.message.formatContent?(0,N.renderFormattedText)(this.message.content,S):(0,N.renderText)(this.message.content,S);p.classList.add(this.classForType(this.message.type));const v=this.stylesForType(this.message.type);return p.style.backgroundColor=v.background?v.background.toString():"",p.style.color=v.foreground?v.foreground.toString():"",p.style.border=v.border?`1px solid ${v.border}`:"",y.append(l,p),null},onHide:()=>{this.state="closed"},layout:c});let g;this.message.type===3?g=t.localize(0,null,this.message.content):this.message.type===2?g=t.localize(1,null,this.message.content):g=t.localize(2,null,this.message.content),L.alert(g),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const l=this.value,g=l.charCodeAt(l.length-1)===10?" ":"";(l+g).replace(/\u000c/g,"")?this.mirror.textContent=l+g:this.mirror.innerText="\xA0",this.layout()}style(l){this.inputBackground=l.inputBackground,this.inputForeground=l.inputForeground,this.inputBorder=l.inputBorder,this.inputValidationInfoBackground=l.inputValidationInfoBackground,this.inputValidationInfoForeground=l.inputValidationInfoForeground,this.inputValidationInfoBorder=l.inputValidationInfoBorder,this.inputValidationWarningBackground=l.inputValidationWarningBackground,this.inputValidationWarningForeground=l.inputValidationWarningForeground,this.inputValidationWarningBorder=l.inputValidationWarningBorder,this.inputValidationErrorBackground=l.inputValidationErrorBackground,this.inputValidationErrorForeground=l.inputValidationErrorForeground,this.inputValidationErrorBorder=l.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const l=this.inputBackground?this.inputBackground.toString():"",c=this.inputForeground?this.inputForeground.toString():"",g=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=l,this.element.style.color=c,this.input.style.backgroundColor="inherit",this.input.style.color=c,this.element.style.borderWidth=g?"1px":"",this.element.style.borderStyle=g?"solid":"",this.element.style.borderColor=g}layout(){if(!this.mirror)return;const l=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),l!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(l){const c=this.inputElement,g=c.selectionStart,m=c.selectionEnd,S=c.value;g!==null&&m!==null&&(this.value=S.substr(0,g)+l+S.substr(m),c.setSelectionRange(g+1,g+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=o;class a extends o{constructor(l,c,g){const m=t.localize(3,null),S=` or \u21C5 ${m}`,p=` (\u21C5 ${m})`;super(l,c,g);this._onDidFocus=this._register(new h.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new h.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new i.HistoryNavigator(g.history,100);const v=()=>{if(g.showHistoryHint&&g.showHistoryHint()&&!this.placeholder.endsWith(S)&&!this.placeholder.endsWith(p)&&this.history.getHistory().length){const _=this.placeholder.endsWith(")")?S:p,w=this.placeholder+_;g.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=w:this.setPlaceHolder(w)}};this.observer=new MutationObserver((_,w)=>{_.forEach(E=>{E.target.textContent||v()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>v()),this.onblur(this.input,()=>{const _=w=>{if(this.placeholder.endsWith(w)){const E=this.placeholder.slice(0,this.placeholder.length-w.length);return g.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};_(p)||_(S)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let l=this.getNextValue();l&&(l=l===this.value?this.getNextValue():l),l&&(this.value=l,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let l=this.getPreviousValue();l&&(l=l===this.value?this.getPreviousValue():l),l&&(this.value=l,L.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let l=this.history.current();return l||(l=this.history.last(),this.history.next()),l}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=a}),define(oe[498],se([1,0,7,272,199,66,4,486,230]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=b.localize(0,null);class u extends D.Widget{constructor(i,n,t,r){super();this._showOptionButtons=t,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new L.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Emitter),this._onKeyUp=this._register(new L.Emitter),this._onCaseSensitiveKeyDown=this._register(new L.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=n,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||C,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const d=r.appendCaseSensitiveLabel||"",o=r.appendWholeWordsLabel||"",a=r.appendRegexLabel||"",s=r.history||[],l=!!r.flexibleHeight,c=!!r.flexibleWidth,g=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:r.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:g})),this.regex=this._register(new f.RegexToggle({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(S=>{this._onRegexKeyDown.fire(S)})),this.wholeWords=this._register(new f.WholeWordsToggle({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new f.CaseSensitiveToggle({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(S=>{this._onCaseSensitiveKeyDown.fire(S)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,S=>{if(S.equals(15)||S.equals(17)||S.equals(9)){let p=m.indexOf(document.activeElement);if(p>=0){let v=-1;S.equals(17)?v=(p+1)%m.length:S.equals(15)&&(p===0?v=m.length-1:v=p-1),S.equals(9)?(m[p].blur(),this.inputBox.focus()):v>=0&&m[v].focus(),y.EventHelper.stop(S,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),i&&i.appendChild(this.domNode),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionstart",S=>{this.imeSessionInProgress=!0})),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionend",S=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,S=>this._onKeyDown.fire(S)),this.onkeyup(this.inputBox.inputElement,S=>this._onKeyUp.fire(S)),this.oninput(this.inputBox.inputElement,S=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,S=>this._onMouseDown.fire(S))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);const n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=u}),define(oe[499],se([1,0,7,177,199,66,28,4,488,230]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseToggle=void 0;const u=C.localize(0,null),h=C.localize(1,null);class i extends f.Toggle{constructor(r){super({icon:L.Codicon.preserveCase,title:h+r.appendTitle,isChecked:r.isChecked,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionForeground:r.inputActiveOptionForeground,inputActiveOptionBackground:r.inputActiveOptionBackground})}}e.PreserveCaseToggle=i;class n extends D.Widget{constructor(r,d,o,a){super();this._showOptionButtons=o,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onPreserveCaseKeyDown=this._register(new b.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=a.placeholder||"",this.validation=a.validation,this.label=a.label||u,this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground;const s=a.appendPreserveCaseLabel||"",l=a.history||[],c=!!a.flexibleHeight,g=!!a.flexibleWidth,m=a.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,showHistoryHint:a.showHistoryHint,flexibleHeight:c,flexibleWidth:g,flexibleMaxHeight:m})),this.preserveCase=this._register(new i({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(v=>{this._onPreserveCaseKeyDown.fire(v)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let S=[this.preserveCase.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){let _=S.indexOf(document.activeElement);if(_>=0){let w=-1;v.equals(17)?w=(_+1)%S.length:v.equals(15)&&(_===0?w=S.length-1:w=_-1),v.equals(9)?(S[_].blur(),this.inputBox.focus()):w>=0&&S[w].focus(),y.EventHelper.stop(v,!0)}}});let p=document.createElement("div");p.className="controls",p.style.display=this._showOptionButtons?"block":"none",p.appendChild(this.preserveCase.domNode),this.domNode.appendChild(p),r&&r.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,v=>this._onKeyDown.fire(v)),this.onkeyup(this.inputBox.inputElement,v=>this._onKeyUp.fire(v)),this.oninput(this.inputBox.inputElement,v=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,v=>this._onMouseDown.fire(v))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(r){r?this.enable():this.disable()}style(r){this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const r={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(r);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(r){this.preserveCase.checked=r}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(r){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=r,this.domNode.style.width=r+"px"}dispose(){super.dispose()}}e.ReplaceInput=n}),define(oe[500],se([1,0,34,60,7,44,63,88,130,143,227,73,47,10,28,101,2,17,8]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var l;(function(_){_[_.Right=0]="Right",_[_.Left=1]="Left"})(l=e.Direction||(e.Direction={}));class c extends b.ActionBar{constructor(w,E,I={}){w.classList.add("monaco-menu-container"),w.setAttribute("role","presentation");const T=document.createElement("div");T.classList.add("monaco-menu"),T.setAttribute("role","presentation");super(T,{orientation:1,actionViewItemProvider:O=>this.doGetActionViewItem(O,I,R),context:I.context,actionRunner:I.actionRunner,ariaLabel:I.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}});this.menuElement=T,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new o.DisposableStore),this.initializeOrUpdateStyleSheet(w,{}),this._register(f.Gesture.addTarget(T)),(0,N.addDisposableListener)(T,N.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(2)&&O.preventDefault()}),I.enableMnemonics&&this.menuDisposables.add((0,N.addDisposableListener)(T,N.EventType.KEY_DOWN,O=>{const k=O.key.toLocaleLowerCase();if(this.mnemonics.has(k)){N.EventHelper.stop(O,!0);const A=this.mnemonics.get(k);if(A.length===1&&(A[0]instanceof m&&A[0].container&&this.focusItemByElement(A[0].container),A[0].onClick(O)),A.length>1){const F=A.shift();F&&F.container&&(this.focusItemByElement(F.container),A.push(F)),this.mnemonics.set(k,A)}}})),a.isLinux&&this._register((0,N.addDisposableListener)(T,N.EventType.KEY_DOWN,O=>{const k=new D.StandardKeyboardEvent(O);k.equals(14)||k.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),N.EventHelper.stop(O,!0)):(k.equals(13)||k.equals(12))&&(this.focusedItem=0,this.focusPrevious(),N.EventHelper.stop(O,!0))})),this._register((0,N.addDisposableListener)(this.domNode,N.EventType.MOUSE_OUT,O=>{let k=O.relatedTarget;(0,N.isAncestor)(k,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),O.stopPropagation())})),this._register((0,N.addDisposableListener)(this.actionsList,N.EventType.MOUSE_OVER,O=>{let k=O.target;if(!(!k||!(0,N.isAncestor)(k,this.actionsList)||k===this.actionsList)){for(;k.parentElement!==this.actionsList&&k.parentElement!==null;)k=k.parentElement;if(k.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(k),A!==this.focusedItem&&this.updateFocus()}}})),this._register(f.Gesture.addTarget(this.actionsList)),this._register((0,N.addDisposableListener)(this.actionsList,f.EventType.Tap,O=>{let k=O.initialTarget;if(!(!k||!(0,N.isAncestor)(k,this.actionsList)||k===this.actionsList)){for(;k.parentElement!==this.actionsList&&k.parentElement!==null;)k=k.parentElement;if(k.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(k),A!==this.focusedItem&&this.updateFocus()}}}));let R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new i.DomScrollableElement(T,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const B=this.scrollableElement.getDomNode();B.style.position="",this._register((0,N.addDisposableListener)(T,f.EventType.Change,O=>{N.EventHelper.stop(O,!0);const k=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:k-O.translationY})})),this._register((0,N.addDisposableListener)(B,N.EventType.MOUSE_UP,O=>{O.preventDefault()})),T.style.maxHeight=`${Math.max(10,window.innerHeight-w.getBoundingClientRect().top-35)}px`,E=E.filter(O=>{var k;return((k=I.submenuIds)===null||k===void 0?void 0:k.has(O.id))?(console.warn(`Found submenu cycle: ${O.id}`),!1):!0}),this.push(E,{icon:!0,label:!0,isMenu:!0}),w.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(O=>!(O instanceof S)).forEach((O,k,A)=>{O.updatePositionInSet(k+1,A.length)})}initializeOrUpdateStyleSheet(w,E){this.styleSheet||((0,N.isInShadowDOM)(w)?this.styleSheet=(0,N.createStyleSheet)(w):(c.globalStyleSheet||(c.globalStyleSheet=(0,N.createStyleSheet)()),this.styleSheet=c.globalStyleSheet)),this.styleSheet.textContent=v(E,(0,N.isInShadowDOM)(w))}style(w){const E=this.getContainer();this.initializeOrUpdateStyleSheet(E,w);const I=w.foregroundColor?`${w.foregroundColor}`:"",T=w.backgroundColor?`${w.backgroundColor}`:"",R=w.borderColor?`1px solid ${w.borderColor}`:"",B=w.shadowColor?`0 2px 4px ${w.shadowColor}`:"";E.style.border=R,this.domNode.style.color=I,this.domNode.style.backgroundColor=T,E.style.boxShadow=B,this.viewItems&&this.viewItems.forEach(O=>{(O instanceof g||O instanceof S)&&O.style(w)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(w){const E=this.focusedItem;this.setFocusedItem(w),E!==this.focusedItem&&this.updateFocus()}setFocusedItem(w){for(let E=0;E<this.actionsList.children.length;E++){let I=this.actionsList.children[E];if(w===I){this.focusedItem=E;break}}}updateFocus(w){super.updateFocus(w,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(w,E,I){if(w instanceof n.Separator)return new S(E.context,w,{icon:!0});if(w instanceof n.SubmenuAction){const T=new m(w,w.actions,I,Object.assign(Object.assign({},E),{submenuIds:new Set([...E.submenuIds||[],w.id])}));if(E.enableMnemonics){const R=T.getMnemonic();if(R&&T.isEnabled()){let B=[];this.mnemonics.has(R)&&(B=this.mnemonics.get(R)),B.push(T),this.mnemonics.set(R,B)}}return T}else{const T={enableMnemonics:E.enableMnemonics,useEventAsContext:E.useEventAsContext};if(E.getKeyBinding){const B=E.getKeyBinding(w);if(B){const O=B.getLabel();O&&(T.keybinding=O)}}const R=new g(E.context,w,T);if(E.enableMnemonics){const B=R.getMnemonic();if(B&&R.isEnabled()){let O=[];this.mnemonics.has(B)&&(O=this.mnemonics.get(B)),O.push(R),this.mnemonics.set(B,O)}}return R}}}e.Menu=c;class g extends C.BaseActionViewItem{constructor(w,E,I={}){I.isMenu=!0;super(E,E,I);if(this.options=I,this.options.icon=I.icon!==void 0?I.icon:!1,this.options.label=I.label!==void 0?I.label:!0,this.cssClass="",this.options.label&&I.enableMnemonics){let T=this.getAction().label;if(T){let R=e.MENU_MNEMONIC_REGEX.exec(T);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new t.RunOnceScheduler(()=>{!this.element||(this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_UP,T=>{if(N.EventHelper.stop(T,!0),y.isFirefox){if(new L.StandardMouseEvent(T).rightButton)return;this.onClick(T)}else setTimeout(()=>{this.onClick(T)},0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.CONTEXT_MENU,T=>{N.EventHelper.stop(T,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(w){super.render(w),!!this.element&&(this.container=w,this.item=(0,N.append)(this.element,(0,N.$)("a.action-menu-item")),this._action.id===n.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,N.append)(this.item,(0,N.$)("span.menu-item-check"+r.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,N.append)(this.item,(0,N.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,N.append)(this.item,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(w,E){this.item&&(this.item.setAttribute("aria-posinset",`${w}`),this.item.setAttribute("aria-setsize",`${E}`))}updateLabel(){if(!!this.label&&this.options.label){(0,N.clearNode)(this.label);let w=(0,d.stripIcons)(this.getAction().label);if(w){const E=p(w);this.options.enableMnemonics||(w=E),this.label.setAttribute("aria-label",E.replace(/&&/g,"&"));const I=e.MENU_MNEMONIC_REGEX.exec(w);if(I){w=s.escape(w),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let T=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(w);for(;T&&T[1];)T=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(w);const R=B=>B.replace(/&amp;&amp;/g,"&amp;");T?this.label.append(s.ltrim(R(w.substr(0,T.index))," "),(0,N.$)("u",{"aria-hidden":"true"},T[3]),s.rtrim(R(w.substr(T.index+T[0].length))," ")):this.label.innerText=R(w).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(I[1]?I[1]:I[3]).toLocaleLowerCase())}else this.label.innerText=w.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const w=this.getAction().checked;this.item.classList.toggle("checked",!!w),w!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",w?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const w=this.element&&this.element.classList.contains("focused"),E=w&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,I=w&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,T=w&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=E?E.toString():"",this.item.style.backgroundColor=I?I.toString():""),this.check&&(this.check.style.color=E?E.toString():""),this.container&&(this.container.style.border=T)}style(w){this.menuStyle=w,this.applyStyle()}}class m extends g{constructor(w,E,I,T){super(w,w,T);this.submenuActions=E,this.parentData=I,this.submenuOptions=T,this.mysubmenu=null,this.submenuDisposables=this._register(new o.DisposableStore),this.mouseOver=!1,this.expandDirection=T&&T.expandDirection!==void 0?T.expandDirection:l.Right,this.showScheduler=new t.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new t.RunOnceScheduler(()=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(w){super.render(w),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,N.append)(this.item,(0,N.$)("span.submenu-indicator"+r.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_UP,E=>{let I=new D.StandardKeyboardEvent(E);(I.equals(17)||I.equals(3))&&(N.EventHelper.stop(E,!0),this.createSubmenu(!0))})),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_DOWN,E=>{let I=new D.StandardKeyboardEvent(E);(0,N.getActiveElement)()===this.item&&(I.equals(17)||I.equals(3))&&N.EventHelper.stop(E,!0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_OVER,E=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_LEAVE,E=>{this.mouseOver=!1})),this._register((0,N.addDisposableListener)(this.element,N.EventType.FOCUS_OUT,E=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(w){N.EventHelper.stop(w,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(w){if(this.parentData.submenu&&(w||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(w,E,I,T){const R={top:0,left:0};return R.left=(0,h.layout)(w.width,E.width,{position:T===l.Right?0:1,offset:I.left,size:I.width}),R.left>=I.left&&R.left<I.left+I.width&&(I.left+10+E.width<=w.width&&(R.left=I.left+10),I.top+=10,I.height=0),R.top=(0,h.layout)(w.height,E.height,{position:0,offset:I.top,size:0}),R.top+E.height===I.top&&R.top+I.height+E.height<=w.height&&(R.top+=I.height),R}createSubmenu(w=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,N.append)(this.element,(0,N.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const E=getComputedStyle(this.parentData.parent.domNode),I=parseFloat(E.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new c(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new n.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const T=this.element.getBoundingClientRect(),R={top:T.top-I,left:T.left,height:T.height+2*I,width:T.width},B=this.submenuContainer.getBoundingClientRect(),{top:O,left:k}=this.calculateSubmenuMenuLayout(new N.Dimension(window.innerWidth,window.innerHeight),N.Dimension.lift(B),R,this.expandDirection);this.submenuContainer.style.left=`${k-B.left}px`,this.submenuContainer.style.top=`${O-B.top}px`,this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_UP,A=>{new D.StandardKeyboardEvent(A).equals(15)&&(N.EventHelper.stop(A,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_DOWN,A=>{new D.StandardKeyboardEvent(A).equals(15)&&N.EventHelper.stop(A,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(w),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(w){var E;this.item&&((E=this.item)===null||E===void 0||E.setAttribute("aria-expanded",w))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const E=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=E?`${E}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class S extends C.ActionViewItem{style(w){this.label&&(this.label.style.borderBottomColor=w.separatorColor?`${w.separatorColor}`:"")}}function p(_){const w=e.MENU_MNEMONIC_REGEX,E=w.exec(_);if(!E)return _;const I=!E[1];return _.replace(w,I?"$2$3":"").trim()}e.cleanMnemonic=p;function v(_,w){let E=`
.monaco-menu {
	font-size: 13px;

}

${(0,u.formatRule)(r.Codicon.menuSelection)}
${(0,u.formatRule)(r.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(w){E+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const I=_.scrollbarShadow;I&&(E+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${I} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${I} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${I} 6px 6px 6px -6px inset;
				}
			`);const T=_.scrollbarSliderBackground;T&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${T};
				}
			`);const R=_.scrollbarSliderHoverBackground;R&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${R};
				}
			`);const B=_.scrollbarSliderActiveBackground;B&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${B};
				}
			`)}return E}}),define(oe[501],se([1,0,7,44,63,199,2,78,145]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=y.$;class u extends L.Disposable{constructor(i){super();this.parent=i,this.onKeyDown=n=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.KEY_DOWN,t=>{n(new f.StandardKeyboardEvent(t))}),this.onMouseDown=n=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.MOUSE_DOWN,t=>{n(new N.StandardMouseEvent(t))}),this.onDidChange=n=>this.inputBox.onDidChange(n),this.container=y.append(this.parent,C(".quick-input-box")),this.inputBox=this._register(new D.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return this.inputBox.inputElement.type==="password"}set password(i){this.inputBox.inputElement.type=i?"password":"text"}setAttribute(i,n){this.inputBox.inputElement.setAttribute(i,n)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===b.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===b.default.Info?1:i===b.default.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===b.default.Info?1:i===b.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}e.QuickInputBox=u}),define(oe[502],se([5,6]),function(K,e){return K.create("vs/base/common/errorMessage",e)}),define(oe[503],se([1,0,18,19,502]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(u,h){return h&&(u.stack||u.stacktrace)?N.localize(0,null,b(u),L(u.stack)||L(u.stacktrace)):b(u)}function L(u){return Array.isArray(u)?u.join(`
`):u}function b(u){return typeof u.code=="string"&&typeof u.errno=="number"&&typeof u.syscall=="string"?N.localize(1,null,u.message):u.message||N.localize(2,null)}function C(u=null,h=!1){if(!u)return N.localize(3,null);if(Array.isArray(u)){const i=y.coalesce(u),n=C(i[0],h);return i.length>1?N.localize(4,null,n,i.length):n}if(f.isString(u))return u;if(u.detail){const i=u.detail;if(i.error)return D(i.error,h);if(i.exception)return D(i.exception,h)}return u.stack?D(u,h):u.message?u.message:N.localize(5,null)}e.toErrorMessage=C}),define(oe[504],se([5,6]),function(K,e){return K.create("vs/base/common/keybindingLabels",e)}),define(oe[200],se([1,0,504]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class f{constructor(L,b,C=b){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=b,this.modifierLabels[3]=C}toLabel(L,b,C){if(b.length===0)return null;const u=[];for(let h=0,i=b.length;h<i;h++){const n=b[h],t=C(n);if(t===null)return null;u[h]=N(n,t,this.modifierLabels[L])}return u.join(" ")}}e.ModifierLabelProvider=f,e.UILabelProvider=new f({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:y.localize(0,null),shiftKey:y.localize(1,null),altKey:y.localize(2,null),metaKey:y.localize(3,null),separator:"+"},{ctrlKey:y.localize(4,null),shiftKey:y.localize(5,null),altKey:y.localize(6,null),metaKey:y.localize(7,null),separator:"+"}),e.AriaLabelProvider=new f({ctrlKey:y.localize(8,null),shiftKey:y.localize(9,null),altKey:y.localize(10,null),metaKey:y.localize(11,null),separator:"+"},{ctrlKey:y.localize(12,null),shiftKey:y.localize(13,null),altKey:y.localize(14,null),metaKey:y.localize(15,null),separator:"+"},{ctrlKey:y.localize(16,null),shiftKey:y.localize(17,null),altKey:y.localize(18,null),metaKey:y.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new f({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new f({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function N(D,L,b){if(L===null)return"";const C=[];return D.ctrlKey&&C.push(b.ctrlKey),D.shiftKey&&C.push(b.shiftKey),D.altKey&&C.push(b.altKey),D.metaKey&&C.push(b.metaKey),L!==""&&C.push(L),C.join(b.separator)}}),define(oe[505],se([1,0,7,200,39,491,350]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const L=y.$;class b{constructor(u,h,i){this.os=h,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=y.append(u,L(".monaco-keybinding")),this.didEverRender=!1,u.appendChild(this.domNode)}get element(){return this.domNode}set(u,h){this.didEverRender&&this.keybinding===u&&b.areSame(this.matches,h)||(this.keybinding=u,this.matches=h,this.render())}render(){if(this.clear(),this.keybinding){let[u,h]=this.keybinding.getParts();u&&this.renderPart(this.domNode,u,this.matches?this.matches.firstPart:null),h&&(y.append(this.domNode,L("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,h,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){y.clearNode(this.domNode),this.keyElements.clear()}renderPart(u,h,i){const n=f.UILabelProvider.modifierLabels[this.os];h.ctrlKey&&this.renderKey(u,n.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),n.separator),h.shiftKey&&this.renderKey(u,n.shiftKey,Boolean(i==null?void 0:i.shiftKey),n.separator),h.altKey&&this.renderKey(u,n.altKey,Boolean(i==null?void 0:i.altKey),n.separator),h.metaKey&&this.renderKey(u,n.metaKey,Boolean(i==null?void 0:i.metaKey),n.separator);const t=h.keyLabel;t&&this.renderKey(u,t,Boolean(i==null?void 0:i.keyCode),"")}renderKey(u,h,i,n){y.append(u,this.createKeyElement(h,i?".highlight":"")),n&&y.append(u,L("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(u){y.append(u,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(u,h=""){const i=L("span.monaco-keybinding-key"+h,void 0,u);return this.keyElements.add(i),i}style(u){this.labelBackground=u.keybindingLabelBackground,this.labelForeground=u.keybindingLabelForeground,this.labelBorder=u.keybindingLabelBorder,this.labelBottomBorder=u.keybindingLabelBottomBorder,this.labelShadow=u.keybindingLabelShadow,this.applyStyles()}applyStyles(){var u;if(this.element){for(const h of this.keyElements)this.labelBackground&&(h.style.backgroundColor=(u=this.labelBackground)===null||u===void 0?void 0:u.toString()),this.labelBorder&&(h.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(h.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(h.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(u,h){return u===h||!u&&!h?!0:!!u&&!!h&&(0,N.equals)(u.firstPart,h.firstPart)&&(0,N.equals)(u.chordPart,h.chordPart)}}e.KeybindingLabel=b}),define(oe[506],se([5,6]),function(K,e){return K.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(oe[507],se([5,6]),function(K,e){return K.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(oe[508],se([1,0,7,44,88,197,505,47,18,28,327,99,4,101,2,17,19,234,507,145]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const l=y.$;class c{constructor(E){this.hidden=!1,this._onChecked=new n.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,E)}get checked(){return!!this._checked}set checked(E){E!==this._checked&&(this._checked=E,this._onChecked.fire(E))}dispose(){this._onChecked.dispose()}}class g{get templateId(){return g.ID}renderTemplate(E){const I=Object.create(null);I.toDisposeElement=[],I.toDisposeTemplate=[],I.entry=y.append(E,l(".quick-input-list-entry"));const T=y.append(I.entry,l("label.quick-input-list-label"));I.toDisposeTemplate.push(y.addStandardDisposableListener(T,y.EventType.CLICK,F=>{I.checkbox.offsetParent||F.preventDefault()})),I.checkbox=y.append(T,l("input.quick-input-list-checkbox")),I.checkbox.type="checkbox",I.toDisposeTemplate.push(y.addStandardDisposableListener(I.checkbox,y.EventType.CHANGE,F=>{I.element.checked=I.checkbox.checked}));const R=y.append(T,l(".quick-input-list-rows")),B=y.append(R,l(".quick-input-list-row")),O=y.append(R,l(".quick-input-list-row"));I.label=new D.IconLabel(B,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const k=y.append(B,l(".quick-input-list-entry-keybinding"));I.keybinding=new L.KeybindingLabel(k,d.OS);const A=y.append(O,l(".quick-input-list-label-meta"));return I.detail=new D.IconLabel(A,{supportHighlights:!0,supportIcons:!0}),I.separator=y.append(I.entry,l(".quick-input-list-separator")),I.actionBar=new N.ActionBar(I.entry),I.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),I.toDisposeTemplate.push(I.actionBar),I}renderElement(E,I,T){T.toDisposeElement=(0,r.dispose)(T.toDisposeElement),T.element=E,T.checkbox.checked=E.checked,T.toDisposeElement.push(E.onChecked(F=>T.checkbox.checked=F));const{labelHighlights:R,descriptionHighlights:B,detailHighlights:O}=E,k=Object.create(null);k.matches=R||[],k.descriptionTitle=E.saneDescription,k.descriptionMatches=B||[],k.extraClasses=E.item.iconClasses,k.italic=E.item.italic,k.strikethrough=E.item.strikethrough,T.label.setLabel(E.saneLabel,E.saneDescription,k),T.keybinding.set(E.item.keybinding),E.saneDetail&&T.detail.setLabel(E.saneDetail,void 0,{matches:O,title:E.saneDetail}),E.separator&&E.separator.label?(T.separator.textContent=E.separator.label,T.separator.style.display=""):T.separator.style.display="none",T.entry.classList.toggle("quick-input-list-separator-border",!!E.separator),T.actionBar.clear();const A=E.item.buttons;A&&A.length?(T.actionBar.push(A.map((F,P)=>{let W=F.iconClass||(F.iconPath?(0,a.getIconClass)(F.iconPath):void 0);F.alwaysVisible&&(W=W?`${W} always-visible`:"always-visible");const M=new b.Action(`id-${P}`,"",W,!0,()=>Le(this,void 0,void 0,function*(){E.fireButtonTriggered({button:F,item:E.item})}));return M.tooltip=F.tooltip||"",M}),{icon:!0,label:!1}),T.entry.classList.add("has-actions")):T.entry.classList.remove("has-actions")}disposeElement(E,I,T){T.toDisposeElement=(0,r.dispose)(T.toDisposeElement)}disposeTemplate(E){E.toDisposeElement=(0,r.dispose)(E.toDisposeElement),E.toDisposeTemplate=(0,r.dispose)(E.toDisposeTemplate)}}g.ID="listelement";class m{getHeight(E){return E.saneDetail?44:22}getTemplateId(E){return g.ID}}var S;(function(w){w[w.First=1]="First",w[w.Second=2]="Second",w[w.Last=3]="Last",w[w.Next=4]="Next",w[w.Previous=5]="Previous",w[w.NextPage=6]="NextPage",w[w.PreviousPage=7]="PreviousPage"})(S=e.QuickInputListFocus||(e.QuickInputListFocus={}));class p{constructor(E,I,T){this.parent=E,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new n.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new n.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new n.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new n.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new n.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new n.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new n.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=I,this.container=y.append(this.parent,l(".quick-input-list"));const R=new m,B=new _;this.list=T.createList("QuickInput",this.container,R,[new g],{identityProvider:{getId:O=>O.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:B}),this.list.getHTMLElement().id=I,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(O=>{const k=new f.StandardKeyboardEvent(O);switch(k.keyCode){case 10:this.toggleCheckbox();break;case 31:(d.isMacintosh?O.metaKey:O.ctrlKey)&&this.list.setFocus((0,C.range)(this.list.length));break;case 16:{const A=this.list.getFocus();A.length===1&&A[0]===0&&this._onLeave.fire();break}case 18:{const A=this.list.getFocus();A.length===1&&A[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(k)})),this.disposables.push(this.list.onMouseDown(O=>{O.browserEvent.button!==2&&O.browserEvent.preventDefault()})),this.disposables.push(y.addDisposableListener(this.container,y.EventType.CLICK,O=>{(O.x||O.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(O=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(O=>{typeof O.index=="number"&&(O.browserEvent.preventDefault(),this.list.setSelection([O.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return n.Event.map(this.list.onDidChangeFocus,E=>E.elements.map(I=>I.item))}get onDidChangeSelection(){return n.Event.map(this.list.onDidChangeSelection,E=>({items:E.elements.map(I=>I.item),event:E.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(E){this.list.scrollTop=E}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(E,I=!0){for(let T=0,R=E.length;T<R;T++){const B=E[T];if(!B.hidden)if(B.checked)I=!0;else return!1}return I}getCheckedCount(){let E=0;const I=this.elements;for(let T=0,R=I.length;T<R;T++)I[T].checked&&E++;return E}getVisibleCount(){let E=0;const I=this.elements;for(let T=0,R=I.length;T<R;T++)I[T].hidden||E++;return E}setAllVisibleChecked(E){try{this._fireCheckedEvents=!1,this.elements.forEach(I=>{I.hidden||(I.checked=E)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(E){this.elementDisposables=(0,r.dispose)(this.elementDisposables);const I=T=>this.fireButtonTriggered(T);this.inputElements=E,this.elements=E.reduce((T,R,B)=>{var O,k,A;if(R.type!=="separator"){const F=B&&E[B-1],P=R.label&&R.label.replace(/\r?\n/g," "),W=R.meta&&R.meta.replace(/\r?\n/g," "),M=R.description&&R.description.replace(/\r?\n/g," "),z=R.detail&&R.detail.replace(/\r?\n/g," "),Q=R.ariaLabel||[P,M,z].map(X=>(0,u.getCodiconAriaLabel)(X)).filter(X=>!!X).join(", "),ne=this.parent.classList.contains("show-checkboxes");T.push(new c({hasCheckbox:ne,index:B,item:R,saneLabel:P,saneMeta:W,saneAriaLabel:Q,saneDescription:M,saneDetail:z,labelHighlights:(O=R.highlights)===null||O===void 0?void 0:O.label,descriptionHighlights:(k=R.highlights)===null||k===void 0?void 0:k.description,detailHighlights:(A=R.highlights)===null||A===void 0?void 0:A.detail,checked:!1,separator:F&&F.type==="separator"?F:void 0,fireButtonTriggered:I}))}return T},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(T=>T.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((T,R,B)=>(T.set(R.item,B),T),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(E=>E.item)}setFocusedElements(E){if(this.list.setFocus(E.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I))),E.length>0){const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(E){this.list.setSelection(E.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I)))}getCheckedElements(){return this.elements.filter(E=>E.checked).map(E=>E.item)}setCheckedElements(E){try{this._fireCheckedEvents=!1;const I=new Set;for(const T of E)I.add(T);for(const T of this.elements)T.checked=I.has(T.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(E){this.list.getHTMLElement().style.pointerEvents=E?"":"none"}focus(E){if(!this.list.length)return;switch(E===S.Next&&this.list.getFocus()[0]===this.list.length-1&&(E=S.First),E===S.Previous&&this.list.getFocus()[0]===0&&(E=S.Last),E===S.Second&&this.list.length<2&&(E=S.First),E){case S.First:this.list.focusFirst();break;case S.Second:this.list.focusNth(1);break;case S.Last:this.list.focusLast();break;case S.Next:this.list.focusNext();break;case S.Previous:this.list.focusPrevious();break;case S.NextPage:this.list.focusNextPage();break;case S.PreviousPage:this.list.focusPreviousPage();break}const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(E){this.list.getHTMLElement().style.maxHeight=E?`calc(${Math.floor(E/44)*44}px)`:"",this.list.layout()}filter(E){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(E=E.trim(),!E||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(T=>{T.labelHighlights=void 0,T.descriptionHighlights=void 0,T.detailHighlights=void 0,T.hidden=!1;const R=T.index&&this.inputElements[T.index-1];T.separator=R&&R.type==="separator"?R:void 0});else{let T;this.elements.forEach(R=>{const B=this.matchOnLabel?(0,o.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(R.saneLabel))):void 0,O=this.matchOnDescription?(0,o.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(R.saneDescription||""))):void 0,k=this.matchOnDetail?(0,o.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(R.saneDetail||""))):void 0,A=this.matchOnMeta?(0,o.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(E,(0,t.parseLabelWithIcons)(R.saneMeta||""))):void 0;if(B||O||k||A?(R.labelHighlights=B,R.descriptionHighlights=O,R.detailHighlights=k,R.hidden=!1):(R.labelHighlights=void 0,R.descriptionHighlights=void 0,R.detailHighlights=void 0,R.hidden=!R.item.alwaysShow),R.separator=void 0,!this.sortByLabel){const F=R.index&&this.inputElements[R.index-1];T=F&&F.type==="separator"?F:T,T&&!R.hidden&&(R.separator=T,T=void 0)}})}const I=this.elements.filter(T=>!T.hidden);if(this.sortByLabel&&E){const T=E.toLowerCase();I.sort((R,B)=>v(R,B,T))}return this.elementsToIndexes=I.reduce((T,R,B)=>(T.set(R.item,B),T),new Map),this.list.splice(0,this.list.length,I),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(I.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const E=this.list.getFocusedElements(),I=this.allVisibleChecked(E);for(const T of E)T.checked=!I}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(E){this.container.style.display=E?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,r.dispose)(this.elementDisposables),this.disposables=(0,r.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(E){this._onButtonTriggered.fire(E)}style(E){this.list.style(E)}}De([i.memoize],p.prototype,"onDidChangeFocus",null),De([i.memoize],p.prototype,"onDidChangeSelection",null),e.QuickInputList=p;function v(w,E,I){const T=w.labelHighlights||[],R=E.labelHighlights||[];return T.length&&!R.length?-1:!T.length&&R.length?1:T.length===0&&R.length===0?0:(0,h.compareAnything)(w.saneLabel,E.saneLabel,I)}class _{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(E){var I;return((I=E.separator)===null||I===void 0?void 0:I.label)?`${E.saneAriaLabel}, ${E.separator.label}`:E.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(E){return E.hasCheckbox?"checkbox":"option"}isChecked(E){if(!!E.hasCheckbox)return{value:E.checked,onDidChange:E.onChecked}}}}),define(oe[509],se([1,0,7,44,88,342,228,120,353,47,18,10,21,28,4,2,17,78,19,234,225,506,501,508,145]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const p=y.$,v={iconClass:t.Codicon.quickInputBack.classNames,tooltip:(0,g.localize)(0,null),handle:-1};class _ extends d.Disposable{constructor(T){super();this.ui=T,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=a.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new r.Emitter),this.onDidHideEmitter=this._register(new r.Emitter),this.onDisposeEmitter=this._register(new r.Emitter),this.visibleDisposables=this._register(new d.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(T){this._title=T,this.update()}get description(){return this._description}set description(T){this._description=T,this.update()}get step(){return this._steps}set step(T){this._steps=T,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(T){this._totalSteps=T,this.update()}get enabled(){return this._enabled}set enabled(T){this._enabled=T,this.update()}get contextKey(){return this._contextKey}set contextKey(T){this._contextKey=T,this.update()}get busy(){return this._busy}set busy(T){this._busy=T,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(T){const R=this._ignoreFocusOut!==T&&!o.isIOS;this._ignoreFocusOut=T&&!o.isIOS,R&&this.update()}get buttons(){return this._buttons}set buttons(T){this._buttons=T,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(T){this._validationMessage=T,this.update()}get severity(){return this._severity}set severity(T){this._severity=T,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(T=>{this.buttons.indexOf(T)!==-1&&this.onDidTriggerButtonEmitter.fire(T)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(T=c.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:T})}update(){if(!this.visible)return;const T=this.getTitle();T&&this.ui.title.textContent!==T?this.ui.title.textContent=T:!T&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new i.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(A=>A===v);this.ui.leftActionBar.push(O.map((A,F)=>{const P=new u.Action(`id-${F}`,"",A.iconClass||(0,l.getIconClass)(A.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return P.tooltip=A.tooltip||"",P}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const k=this.buttons.filter(A=>A!==v);this.ui.rightActionBar.push(k.map((A,F)=>{const P=new u.Action(`id-${F}`,"",A.iconClass||(0,l.getIconClass)(A.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return P.tooltip=A.tooltip||"",P}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const B=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==B&&(this._lastValidationMessage=B,y.reset(this.ui.message,...(0,b.renderLabelWithIcons)(B))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,g.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(T){if(this.ui.inputBox.showDecoration(T),T!==a.default.Ignore){const R=this.ui.inputBox.stylesForType(T);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,g.localize)(1,null);class w extends _{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new r.Emitter),this.onWillAcceptEmitter=this._register(new r.Emitter),this.onDidAcceptEmitter=this._register(new r.Emitter),this.onDidCustomEmitter=this._register(new r.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?c.ItemActivation.NONE:c.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new r.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new r.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new r.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=T=>T,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(T){this._quickNavigate=T,this.update()}get value(){return this._value}set value(T){this.doSetValue(T)}doSetValue(T,R){this._value!==T&&(this._value=T,R||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(T){this._ariaLabel=T,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(T){this.ui.list.scrollTop=T}set items(T){this._items=T,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(T){this._canSelectMany=T,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(T){this._canAcceptInBackground=T}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(T){this._matchOnDescription=T,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(T){this._matchOnDetail=T,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(T){this._matchOnLabel=T,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(T){this._sortByLabel=T,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(T){this._autoFocusOnList=T,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(T){this._keepScrollPosition=T}get itemActivation(){return this._itemActivation}set itemActivation(T){this._itemActivation=T}get activeItems(){return this._activeItems}set activeItems(T){this._activeItems=T,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(T){this._selectedItems=T,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?c.NO_KEY_MODS:this.ui.keyMods}set valueSelection(T){this._valueSelection=T,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(T){this._customButton=T,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(T){this._customButtonLabel=T,this.update()}get customHover(){return this._customButtonHover}set customHover(T){this._customButtonHover=T,this.update()}get ok(){return this._ok}set ok(T){this._ok=T,this.update()}get hideInput(){return!!this._hideInput}set hideInput(T){this._hideInput=T,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(S.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(T=>{this.doSetValue(T,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(T=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(T=>{switch(T.keyCode){case 18:this.ui.list.focus(S.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(S.QuickInputListFocus.Previous):this.ui.list.focus(S.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 12:this.ui.list.focus(S.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 11:this.ui.list.focus(S.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(T,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(S.QuickInputListFocus.First),y.EventHelper.stop(T,!0));break;case 13:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(S.QuickInputListFocus.Last),y.EventHelper.stop(T,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(T=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,h.equals)(T,this._activeItems,(R,B)=>R===B)||(this._activeItems=T,this.onDidChangeActiveEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:T,event:R})=>{if(this.canSelectMany){T.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,h.equals)(T,this._selectedItems,(B,O)=>B===O)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T),T.length&&this.handleAccept(R instanceof MouseEvent&&R.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(T=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,h.equals)(T,this._selectedItems,(R,B)=>R===B)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(T=>this.onDidTriggerItemButtonEmitter.fire(T))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(T){let R=!1;this.onWillAcceptEmitter.fire({veto:()=>R=!0}),R||this.onDidAcceptEmitter.fire({inBackground:T})}registerQuickNavigation(){return y.addDisposableListener(this.ui.container,y.EventType.KEY_UP,T=>{if(this.canSelectMany||!this._quickNavigate)return;const R=new f.StandardKeyboardEvent(T),B=R.keyCode;this._quickNavigate.keybindings.some(A=>{const[F,P]=A.getParts();return P?!1:F.shiftKey&&B===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(F.altKey&&B===6||F.ctrlKey&&B===5||F.metaKey&&B===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const T=this.keepScrollPosition?this.scrollTop:0,R=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",R&&!this.description);const B={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!R,progressBar:!R,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(B),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const O=this.ariaLabel||this.placeholder||w.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==O&&(this.ui.inputBox.ariaLabel=O),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case c.ItemActivation.NONE:this._itemActivation=c.ItemActivation.FIRST;break;case c.ItemActivation.SECOND:this.ui.list.focus(S.QuickInputListFocus.Second),this._itemActivation=c.ItemActivation.FIRST;break;case c.ItemActivation.LAST:this.ui.list.focus(S.QuickInputListFocus.Last),this._itemActivation=c.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),B.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(S.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=T)}}w.DEFAULT_ARIA_LABEL=(0,g.localize)(3,null);class E extends d.Disposable{constructor(T){super();this.options=T,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new r.Emitter),this.onDidCustomEmitter=this._register(new r.Emitter),this.onDidTriggerButtonEmitter=this._register(new r.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new r.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new r.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=T.idPrefix,this.parentElement=T.container,this.styles=T.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const T=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(y.addDisposableListener(window,y.EventType.KEY_DOWN,T,!0)),this._register(y.addDisposableListener(window,y.EventType.KEY_UP,T,!0)),this._register(y.addDisposableListener(window,y.EventType.MOUSE_DOWN,T,!0))}getUI(){if(this.ui)return this.ui;const T=y.append(this.parentElement,p(".quick-input-widget.show-file-icons"));T.tabIndex=-1,T.style.display="none";const R=y.createStyleSheet(T),B=y.append(T,p(".quick-input-titlebar")),O=this._register(new N.ActionBar(B));O.domNode.classList.add("quick-input-left-action-bar");const k=y.append(B,p(".quick-input-title")),A=this._register(new N.ActionBar(B));A.domNode.classList.add("quick-input-right-action-bar");const F=y.append(T,p(".quick-input-description")),P=y.append(T,p(".quick-input-header")),W=y.append(P,p("input.quick-input-check-all"));W.type="checkbox",this._register(y.addStandardDisposableListener(W,y.EventType.CHANGE,Z=>{const q=W.checked;ae.setAllVisibleChecked(q)})),this._register(y.addDisposableListener(W,y.EventType.CLICK,Z=>{(Z.x||Z.y)&&ne.setFocus()}));const M=y.append(P,p(".quick-input-description")),z=y.append(P,p(".quick-input-and-message")),Q=y.append(z,p(".quick-input-filter")),ne=this._register(new m.QuickInputBox(Q));ne.setAttribute("aria-describedby",`${this.idPrefix}message`);const X=y.append(Q,p(".quick-input-visible-count"));X.setAttribute("aria-live","polite"),X.setAttribute("aria-atomic","true");const J=new L.CountBadge(X,{countFormat:(0,g.localize)(4,null)}),ie=y.append(Q,p(".quick-input-count"));ie.setAttribute("aria-live","polite");const le=new L.CountBadge(ie,{countFormat:(0,g.localize)(5,null)}),G=y.append(P,p(".quick-input-action")),x=new D.Button(G);x.label=(0,g.localize)(6,null),this._register(x.onDidClick(Z=>{this.onDidAcceptEmitter.fire()}));const V=y.append(P,p(".quick-input-action")),j=new D.Button(V);j.label=(0,g.localize)(7,null),this._register(j.onDidClick(Z=>{this.onDidCustomEmitter.fire()}));const re=y.append(z,p(`#${this.idPrefix}message.quick-input-message`)),ae=this._register(new S.QuickInputList(T,this.idPrefix+"list",this.options));this._register(ae.onChangedAllVisibleChecked(Z=>{W.checked=Z})),this._register(ae.onChangedVisibleCount(Z=>{J.setCount(Z)})),this._register(ae.onChangedCheckedCount(Z=>{le.setCount(Z)})),this._register(ae.onLeave(()=>{setTimeout(()=>{ne.setFocus(),this.controller instanceof w&&this.controller.canSelectMany&&ae.clearFocus()},0)})),this._register(ae.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Y=new C.ProgressBar(T);Y.getContainer().classList.add("quick-input-progress");const U=y.trackFocus(T);return this._register(U),this._register(y.addDisposableListener(T,y.EventType.FOCUS,Z=>{this.previousFocusElement=Z.relatedTarget instanceof HTMLElement?Z.relatedTarget:void 0},!0)),this._register(U.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(c.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(y.addDisposableListener(T,y.EventType.FOCUS,Z=>{ne.setFocus()})),this._register(y.addDisposableListener(T,y.EventType.KEY_DOWN,Z=>{const q=new f.StandardKeyboardEvent(Z);switch(q.keyCode){case 3:y.EventHelper.stop(Z,!0),this.onDidAcceptEmitter.fire();break;case 9:y.EventHelper.stop(Z,!0),this.hide(c.QuickInputHideReason.Gesture);break;case 2:if(!q.altKey&&!q.ctrlKey&&!q.metaKey){const $=[".action-label.codicon"];T.classList.contains("show-checkboxes")?$.push("input"):$.push("input[type=text]"),this.getUI().list.isDisplayed()&&$.push(".monaco-list");const H=T.querySelectorAll($.join(", "));q.shiftKey&&q.target===H[0]?(y.EventHelper.stop(Z,!0),H[H.length-1].focus()):!q.shiftKey&&q.target===H[H.length-1]&&(y.EventHelper.stop(Z,!0),H[0].focus())}break}})),this.ui={container:T,styleSheet:R,leftActionBar:O,titleBar:B,title:k,description1:F,description2:M,rightActionBar:A,checkAll:W,filterContainer:Q,inputBox:ne,visibleCountContainer:X,visibleCount:J,countContainer:ie,count:le,okContainer:G,ok:x,message:re,customButtonContainer:V,customButton:j,list:ae,progressBar:Y,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Z=>this.show(Z),hide:()=>this.hide(),setVisibilities:Z=>this.setVisibilities(Z),setComboboxAccessibility:Z=>this.setComboboxAccessibility(Z),setEnabled:Z=>this.setEnabled(Z),setContextKey:Z=>this.options.setContextKey(Z)},this.updateStyles(),this.ui}pick(T,R={},B=n.CancellationToken.None){return new Promise((O,k)=>{let A=M=>{A=O,R.onKeyMods&&R.onKeyMods(F.keyMods),O(M)};if(B.isCancellationRequested){A(void 0);return}const F=this.createQuickPick();let P;const W=[F,F.onDidAccept(()=>{if(F.canSelectMany)A(F.selectedItems.slice()),F.hide();else{const M=F.activeItems[0];M&&(A(M),F.hide())}}),F.onDidChangeActive(M=>{const z=M[0];z&&R.onDidFocus&&R.onDidFocus(z)}),F.onDidChangeSelection(M=>{if(!F.canSelectMany){const z=M[0];z&&(A(z),F.hide())}}),F.onDidTriggerItemButton(M=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},M),{removeItem:()=>{const z=F.items.indexOf(M.item);if(z!==-1){const Q=F.items.slice(),ne=Q.splice(z,1),X=F.activeItems.filter(ie=>ie!==ne[0]),J=F.keepScrollPosition;F.keepScrollPosition=!0,F.items=Q,X&&(F.activeItems=X),F.keepScrollPosition=J}}}))),F.onDidChangeValue(M=>{P&&!M&&(F.activeItems.length!==1||F.activeItems[0]!==P)&&(F.activeItems=[P])}),B.onCancellationRequested(()=>{F.hide()}),F.onDidHide(()=>{(0,d.dispose)(W),A(void 0)})];F.title=R.title,F.canSelectMany=!!R.canPickMany,F.placeholder=R.placeHolder,F.ignoreFocusOut=!!R.ignoreFocusLost,F.matchOnDescription=!!R.matchOnDescription,F.matchOnDetail=!!R.matchOnDetail,F.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,F.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,F.quickNavigate=R.quickNavigate,F.hideInput=!!R.hideInput,F.contextKey=R.contextKey,F.busy=!0,Promise.all([T,R.activeItem]).then(([M,z])=>{P=z,F.busy=!1,F.items=M,F.canSelectMany&&(F.selectedItems=M.filter(Q=>Q.type!=="separator"&&Q.picked)),P&&(F.activeItems=[P])}),F.show(),Promise.resolve(T).then(void 0,M=>{k(M),F.hide()})})}createQuickPick(){const T=this.getUI();return new w(T)}show(T){const R=this.getUI();this.onShowEmitter.fire();const B=this.controller;this.controller=T,B&&B.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(a.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),y.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const O=this.options.backKeybindingLabel();v.tooltip=O?(0,g.localize)(8,null,O):(0,g.localize)(9,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(T){const R=this.getUI();R.title.style.display=T.title?"":"none",R.description1.style.display=T.description&&(T.inputBox||T.checkAll)?"":"none",R.description2.style.display=T.description&&!(T.inputBox||T.checkAll)?"":"none",R.checkAll.style.display=T.checkAll?"":"none",R.filterContainer.style.display=T.inputBox?"":"none",R.visibleCountContainer.style.display=T.visibleCount?"":"none",R.countContainer.style.display=T.count?"":"none",R.okContainer.style.display=T.ok?"":"none",R.customButtonContainer.style.display=T.customButton?"":"none",R.message.style.display=T.message?"":"none",R.progressBar.getContainer().style.display=T.progressBar?"":"none",R.list.display(!!T.list),R.container.classList[T.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(T){if(T!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=T,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(T){if(T!==this.enabled){this.enabled=T;for(const R of this.getUI().leftActionBar.viewItems)R.getAction().enabled=T;for(const R of this.getUI().rightActionBar.viewItems)R.getAction().enabled=T;this.getUI().checkAll.disabled=!T,this.getUI().ok.enabled=T,this.getUI().list.enabled=T}}hide(T){var R;const B=this.controller;if(B){const O=!((R=this.ui)===null||R===void 0?void 0:R.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!O){let k=this.previousFocusElement;for(;k&&!k.offsetParent;)k=(0,s.withNullAsUndefined)(k.parentElement);(k==null?void 0:k.offsetParent)?(k.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}B.didHide(T)}}layout(T,R){this.dimension=T,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const T=this.ui.container.style,R=Math.min(this.dimension.width*.62,E.MAX_WIDTH);T.width=R+"px",T.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(T){this.styles=T,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:T,quickInputBackground:R,quickInputForeground:B,contrastBorder:O,widgetShadow:k}=this.styles.widget;this.ui.titleBar.style.backgroundColor=T?T.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=B?B.toString():"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=k?`0 0 8px 2px ${k}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const A=[];this.styles.list.pickerGroupBorder&&A.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&A.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(A.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&A.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&A.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&A.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&A.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&A.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),A.push("}"));const F=A.join(`
`);F!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=F)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(oe[510],se([5,6]),function(K,e){return K.create("vs/editor/browser/controller/textAreaHandler",e)}),define(oe[511],se([5,6]),function(K,e){return K.create("vs/editor/browser/coreCommands",e)}),define(oe[512],se([5,6]),function(K,e){return K.create("vs/editor/browser/editorExtensions",e)}),define(oe[513],se([5,6]),function(K,e){return K.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(oe[514],se([5,6]),function(K,e){return K.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(oe[515],se([5,6]),function(K,e){return K.create("vs/editor/browser/widget/diffReview",e)}),define(oe[516],se([5,6]),function(K,e){return K.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(oe[517],se([1,0,516,7,47,2,3,28]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends D.Disposable{constructor(h,i,n,t,r,d){super();this._viewZoneId=h,this._marginDomNode=i,this.editor=n,this.diff=t,this._contextMenuService=r,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const o=n.getOption(59),a=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${o}px`,this._diffActions.style.lineHeight=`${o}px`,this._marginDomNode.appendChild(this._diffActions);const s=[],l=t.modifiedEndLineNumber===0;s.push(new N.Action("diff.clipboard.copyDeletedContent",l?t.originalEndLineNumber>t.modifiedStartLineNumber?y.localize(0,null):y.localize(1,null):t.originalEndLineNumber>t.modifiedStartLineNumber?y.localize(2,null):y.localize(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber+1,1),v=t.originalModel.getValueInRange(p);yield this._clipboardService.writeText(v)})));let c=0,g;t.originalEndLineNumber>t.modifiedStartLineNumber&&(g=new N.Action("diff.clipboard.copyDeletedLineContent",l?y.localize(4,null,t.originalStartLineNumber):y.localize(5,null,t.originalStartLineNumber),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=t.originalModel.getLineContent(t.originalStartLineNumber+c);if(p===""){const v=t.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(v===0?`
`:`\r
`)}else yield this._clipboardService.writeText(p)})),s.push(g)),n.getOption(81)||s.push(new N.Action("diff.inline.revertChange",y.localize(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber,t.originalModel.getLineMaxColumn(t.originalEndLineNumber)),v=t.originalModel.getValueInRange(p);if(t.modifiedEndLineNumber===0){const _=n.getModel().getLineMaxColumn(t.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,_,t.modifiedStartLineNumber,_),text:a+v}])}else{const _=n.getModel().getLineMaxColumn(t.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,_),text:v}])}})));const S=(p,v)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:p,y:v}),getActions:()=>(g&&(g.label=l?y.localize(7,null,t.originalStartLineNumber+c):y.localize(8,null,t.originalStartLineNumber+c)),s),autoSelectFirstItem:!0})};this._register(f.addStandardDisposableListener(this._diffActions,"mousedown",p=>{const{top:v,height:_}=f.getDomNodePagePosition(this._diffActions),w=Math.floor(o/3);p.preventDefault(),S(p.posx,v+_+w)})),this._register(n.onMouseMove(p=>{p.target.type===8||p.target.type===5?p.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,c=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,o)):this.visibility=!1:this.visibility=!1})),this._register(n.onMouseDown(p=>{!p.event.rightButton||(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._viewZoneId&&(p.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,o),S(p.event.posx,p.event.posy+o))}))}get visibility(){return this._visibility}set visibility(h){this._visibility!==h&&(this._visibility=h,h?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(h,i,n){const{top:t}=f.getDomNodePagePosition(h),r=i-t,d=Math.floor(r/n),o=d*n;if(this._diffActions.style.top=`${o}px`,this.diff.viewLineCounts){let a=0;for(let s=0;s<this.diff.viewLineCounts.length;s++)if(a+=this.diff.viewLineCounts[s],d<a)return s}return d}}e.InlineDiffMargin=C}),define(oe[518],se([5,6]),function(K,e){return K.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(oe[519],se([5,6]),function(K,e){return K.create("vs/editor/common/config/editorOptions",e)}),define(oe[33],se([1,0,519,17,126,18,39,148]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(ce){this._values=ce}hasChanged(ce){return this._values[ce]}}e.ConfigurationChangedEvent=C;class u{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=u;class h{constructor(ce,ge,we,ye){this.id=ce,this.name=ge,this.defaultValue=we,this.schema=ye}applyUpdate(ce,ge){return n(ce,ge)}compute(ce,ge,we){return we}}class i{constructor(ce,ge){this.newValue=ce,this.didChange=ge}}e.ApplyUpdateResult=i;function n(be,ce){if(typeof be!="object"||typeof ce!="object"||!be||!ce)return new i(ce,be!==ce);if(Array.isArray(be)||Array.isArray(ce)){const we=Array.isArray(be)&&Array.isArray(ce)&&D.equals(be,ce);return new i(ce,we)}let ge=!1;for(const we in ce)if(ce.hasOwnProperty(we)){const ye=n(be[we],ce[we]);ye.didChange&&(be[we]=ye.newValue,ge=!0)}return new i(be,ge)}class t{constructor(ce){this.schema=void 0,this.id=ce,this.name="_never_",this.defaultValue=void 0}applyUpdate(ce,ge){return n(ce,ge)}validate(ce){return this.defaultValue}}class r{constructor(ce,ge,we,ye){this.id=ce,this.name=ge,this.defaultValue=we,this.schema=ye}applyUpdate(ce,ge){return n(ce,ge)}validate(ce){return typeof ce=="undefined"?this.defaultValue:ce}compute(ce,ge,we){return we}}function d(be,ce){return typeof be=="undefined"?ce:be==="false"?!1:Boolean(be)}e.boolean=d;class o extends r{constructor(ce,ge,we,ye=void 0){typeof ye!="undefined"&&(ye.type="boolean",ye.default=we);super(ce,ge,we,ye)}validate(ce){return d(ce,this.defaultValue)}}function a(be,ce,ge,we){if(typeof be=="undefined")return ce;let ye=parseInt(be,10);return isNaN(ye)?ce:(ye=Math.max(ge,ye),ye=Math.min(we,ye),ye|0)}e.clampedInt=a;class s extends r{constructor(ce,ge,we,ye,Te,ke=void 0){typeof ke!="undefined"&&(ke.type="integer",ke.default=we,ke.minimum=ye,ke.maximum=Te);super(ce,ge,we,ke);this.minimum=ye,this.maximum=Te}static clampedInt(ce,ge,we,ye){return a(ce,ge,we,ye)}validate(ce){return s.clampedInt(ce,this.defaultValue,this.minimum,this.maximum)}}class l extends r{constructor(ce,ge,we,ye,Te){typeof Te!="undefined"&&(Te.type="number",Te.default=we);super(ce,ge,we,Te);this.validationFn=ye}static clamp(ce,ge,we){return ce<ge?ge:ce>we?we:ce}static float(ce,ge){if(typeof ce=="number")return ce;if(typeof ce=="undefined")return ge;const we=parseFloat(ce);return isNaN(we)?ge:we}validate(ce){return this.validationFn(l.float(ce,this.defaultValue))}}class c extends r{static string(ce,ge){return typeof ce!="string"?ge:ce}constructor(ce,ge,we,ye=void 0){typeof ye!="undefined"&&(ye.type="string",ye.default=we);super(ce,ge,we,ye)}validate(ce){return c.string(ce,this.defaultValue)}}function g(be,ce,ge){return typeof be!="string"||ge.indexOf(be)===-1?ce:be}e.stringSet=g;class m extends r{constructor(ce,ge,we,ye,Te=void 0){typeof Te!="undefined"&&(Te.type="string",Te.enum=ye,Te.default=we);super(ce,ge,we,Te);this._allowedValues=ye}validate(ce){return g(ce,this.defaultValue,this._allowedValues)}}class S extends h{constructor(ce,ge,we,ye,Te,ke,Me=void 0){typeof Me!="undefined"&&(Me.type="string",Me.enum=Te,Me.default=ye);super(ce,ge,we,Me);this._allowedValues=Te,this._convert=ke}validate(ce){return typeof ce!="string"?this.defaultValue:this._allowedValues.indexOf(ce)===-1?this.defaultValue:this._convert(ce)}}function p(be){switch(be){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class v extends h{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[y.localize(0,null),y.localize(1,null),y.localize(2,null)],default:"auto",description:y.localize(3,null)})}validate(ce){switch(ce){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ce,ge,we){return we===0?ce.accessibilitySupport:we}}class _ extends h{constructor(){const ce={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ce,{"editor.comments.insertSpace":{type:"boolean",default:ce.insertSpace,description:y.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ce.ignoreEmptyLines,description:y.localize(5,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{insertSpace:d(ge.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:d(ge.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function w(be){switch(be){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var E;(function(be){be[be.Line=1]="Line",be[be.Block=2]="Block",be[be.Underline=3]="Underline",be[be.LineThin=4]="LineThin",be[be.BlockOutline=5]="BlockOutline",be[be.UnderlineThin=6]="UnderlineThin"})(E=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function I(be){switch(be){case"line":return E.Line;case"block":return E.Block;case"underline":return E.Underline;case"line-thin":return E.LineThin;case"block-outline":return E.BlockOutline;case"underline-thin":return E.UnderlineThin}}class T extends t{constructor(){super(128)}compute(ce,ge,we){const ye=["monaco-editor"];return ge.get(33)&&ye.push(ge.get(33)),ce.extraEditorClassName&&ye.push(ce.extraEditorClassName),ge.get(66)==="default"?ye.push("mouse-default"):ge.get(66)==="copy"&&ye.push("mouse-copy"),ge.get(100)&&ye.push("showUnused"),ge.get(126)&&ye.push("showDeprecated"),ye.join(" ")}}class R extends o{constructor(){super(32,"emptySelectionClipboard",!0,{description:y.localize(6,null)})}compute(ce,ge,we){return we&&ce.emptySelectionClipboard}}class B extends h{constructor(){const ce={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",ce,{"editor.find.cursorMoveOnType":{type:"boolean",default:ce.cursorMoveOnType,description:y.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ce.seedSearchStringFromSelection,enumDescriptions:[y.localize(8,null),y.localize(9,null),y.localize(10,null)],description:y.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ce.autoFindInSelection,enumDescriptions:[y.localize(12,null),y.localize(13,null),y.localize(14,null)],description:y.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ce.globalFindClipboard,description:y.localize(16,null),included:f.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ce.addExtraSpaceOnTop,description:y.localize(17,null)},"editor.find.loop":{type:"boolean",default:ce.loop,description:y.localize(18,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{cursorMoveOnType:d(ge.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ce.seedSearchStringFromSelection=="boolean"?ce.seedSearchStringFromSelection?"always":"never":g(ge.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ce.autoFindInSelection=="boolean"?ce.autoFindInSelection?"always":"never":g(ge.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:d(ge.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:d(ge.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:d(ge.loop,this.defaultValue.loop)}}}class O extends h{constructor(){super(45,"fontLigatures",O.OFF,{anyOf:[{type:"boolean",description:y.localize(19,null)},{type:"string",description:y.localize(20,null)}],description:y.localize(21,null),default:!1})}validate(ce){return typeof ce=="undefined"?this.defaultValue:typeof ce=="string"?ce==="false"?O.OFF:ce==="true"?O.ON:ce:Boolean(ce)?O.ON:O.OFF}}e.EditorFontLigatures=O,O.OFF='"liga" off, "calt" off',O.ON='"liga" on, "calt" on';class k extends t{constructor(){super(44)}compute(ce,ge,we){return ce.fontInfo}}class A extends r{constructor(){super(46,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:y.localize(22,null)})}validate(ce){const ge=l.float(ce,this.defaultValue);return ge===0?e.EDITOR_FONT_DEFAULTS.fontSize:l.clamp(ge,6,100)}compute(ce,ge,we){return ce.fontInfo.fontSize}}class F extends h{constructor(){super(47,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:F.MINIMUM_VALUE,maximum:F.MAXIMUM_VALUE,errorMessage:y.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:F.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:y.localize(24,null)})}validate(ce){return ce==="normal"||ce==="bold"?ce:String(s.clampedInt(ce,e.EDITOR_FONT_DEFAULTS.fontWeight,F.MINIMUM_VALUE,F.MAXIMUM_VALUE))}}F.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],F.MINIMUM_VALUE=1,F.MAXIMUM_VALUE=1e3;class P extends h{constructor(){const ce={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ge={type:"string",enum:["peek","gotoAndPeek","goto"],default:ce.multiple,enumDescriptions:[y.localize(25,null),y.localize(26,null),y.localize(27,null)]},we=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",ce,{"editor.gotoLocation.multiple":{deprecationMessage:y.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:y.localize(29,null)},ge),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:y.localize(30,null)},ge),"editor.gotoLocation.multipleDeclarations":Object.assign({description:y.localize(31,null)},ge),"editor.gotoLocation.multipleImplementations":Object.assign({description:y.localize(32,null)},ge),"editor.gotoLocation.multipleReferences":Object.assign({description:y.localize(33,null)},ge),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ce.alternativeDefinitionCommand,enum:we,description:y.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ce.alternativeTypeDefinitionCommand,enum:we,description:y.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ce.alternativeDeclarationCommand,enum:we,description:y.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ce.alternativeImplementationCommand,enum:we,description:y.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ce.alternativeReferenceCommand,enum:we,description:y.localize(38,null)}})}validate(ce){var ge,we,ye,Te,ke;if(!ce||typeof ce!="object")return this.defaultValue;const Me=ce;return{multiple:g(Me.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ge=Me.multipleDefinitions)!==null&&ge!==void 0?ge:g(Me.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(we=Me.multipleTypeDefinitions)!==null&&we!==void 0?we:g(Me.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ye=Me.multipleDeclarations)!==null&&ye!==void 0?ye:g(Me.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Te=Me.multipleImplementations)!==null&&Te!==void 0?Te:g(Me.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(ke=Me.multipleReferences)!==null&&ke!==void 0?ke:g(Me.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:c.string(Me.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:c.string(Me.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:c.string(Me.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:c.string(Me.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:c.string(Me.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class W extends h{constructor(){const ce={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",ce,{"editor.hover.enabled":{type:"boolean",default:ce.enabled,description:y.localize(39,null)},"editor.hover.delay":{type:"number",default:ce.delay,minimum:0,maximum:1e4,description:y.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:ce.sticky,description:y.localize(41,null)},"editor.hover.above":{type:"boolean",default:ce.above,description:y.localize(42,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),delay:s.clampedInt(ge.delay,this.defaultValue.delay,0,1e4),sticky:d(ge.sticky,this.defaultValue.sticky),above:d(ge.above,this.defaultValue.above)}}}class M extends t{constructor(){super(131)}compute(ce,ge,we){return M.computeLayout(ge,{memory:ce.memory,outerWidth:ce.outerWidth,outerHeight:ce.outerHeight,isDominatedByLongLines:ce.isDominatedByLongLines,lineHeight:ce.fontInfo.lineHeight,viewLineCount:ce.viewLineCount,lineNumbersDigitCount:ce.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ce.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ce.fontInfo.maxDigitWidth,pixelRatio:ce.pixelRatio})}static computeContainedMinimapLineCount(ce){const ge=ce.height/ce.lineHeight,we=ce.scrollBeyondLastLine?ge-1:0,ye=(ce.viewLineCount+we)/(ce.pixelRatio*ce.height),Te=Math.floor(ce.viewLineCount/ye);return{typicalViewportLineCount:ge,extraLinesBeyondLastLine:we,desiredRatio:ye,minimapLineCount:Te}}static _computeMinimapLayout(ce,ge){const we=ce.outerWidth,ye=ce.outerHeight,Te=ce.pixelRatio;if(!ce.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Te*ye),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ye};const ke=ge.stableMinimapLayoutInput,Me=ke&&ce.outerHeight===ke.outerHeight&&ce.lineHeight===ke.lineHeight&&ce.typicalHalfwidthCharacterWidth===ke.typicalHalfwidthCharacterWidth&&ce.pixelRatio===ke.pixelRatio&&ce.scrollBeyondLastLine===ke.scrollBeyondLastLine&&ce.minimap.enabled===ke.minimap.enabled&&ce.minimap.side===ke.minimap.side&&ce.minimap.size===ke.minimap.size&&ce.minimap.showSlider===ke.minimap.showSlider&&ce.minimap.renderCharacters===ke.minimap.renderCharacters&&ce.minimap.maxColumn===ke.minimap.maxColumn&&ce.minimap.scale===ke.minimap.scale&&ce.verticalScrollbarWidth===ke.verticalScrollbarWidth&&ce.isViewportWrapping===ke.isViewportWrapping,_e=ce.lineHeight,Se=ce.typicalHalfwidthCharacterWidth,Ee=ce.scrollBeyondLastLine,Ae=ce.minimap.renderCharacters;let Pe=Te>=2?Math.round(ce.minimap.scale*2):ce.minimap.scale;const xe=ce.minimap.maxColumn,Ue=ce.minimap.size,He=ce.minimap.side,Ke=ce.verticalScrollbarWidth,et=ce.viewLineCount,tt=ce.remainingWidth,it=ce.isViewportWrapping,je=Ae?2:3;let We=Math.floor(Te*ye);const Ie=We/Te;let Re=!1,Be=!1,Fe=je*Pe,Ge=Pe/Te,Xe=1;if(Ue==="fill"||Ue==="fit"){const{typicalViewportLineCount:Je,extraLinesBeyondLastLine:$e,desiredRatio:Ye,minimapLineCount:nt}=M.computeContainedMinimapLineCount({viewLineCount:et,scrollBeyondLastLine:Ee,height:ye,lineHeight:_e,pixelRatio:Te});if(et/nt>1)Re=!0,Be=!0,Pe=1,Fe=1,Ge=Pe/Te;else{let ut=!1,lt=Pe+1;if(Ue==="fit"){const vt=Math.ceil((et+$e)*Fe);it&&Me&&tt<=ge.stableFitRemainingWidth?(ut=!0,lt=ge.stableFitMaxMinimapScale):ut=vt>We}if(Ue==="fill"||ut){Re=!0;const vt=Pe;Fe=Math.min(_e*Te,Math.max(1,Math.floor(1/Ye))),it&&Me&&tt<=ge.stableFitRemainingWidth&&(lt=ge.stableFitMaxMinimapScale),Pe=Math.min(lt,Math.max(1,Math.floor(Fe/je))),Pe>vt&&(Xe=Math.min(2,Pe/vt)),Ge=Pe/Te/Xe,We=Math.ceil(Math.max(Je,et+$e)*Fe),it?(ge.stableMinimapLayoutInput=ce,ge.stableFitRemainingWidth=tt,ge.stableFitMaxMinimapScale=Pe):(ge.stableMinimapLayoutInput=null,ge.stableFitRemainingWidth=0)}}}const Ze=Math.floor(xe*Ge),ze=Math.min(Ze,Math.max(0,Math.floor((tt-Ke-2)*Ge/(Se+Ge)))+e.MINIMAP_GUTTER_WIDTH);let Ne=Math.floor(Te*ze);const Oe=Ne/Te;Ne=Math.floor(Ne*Xe);const Ve=Ae?1:2,qe=He==="left"?0:we-ze-Ke;return{renderMinimap:Ve,minimapLeft:qe,minimapWidth:ze,minimapHeightIsEditorHeight:Re,minimapIsSampling:Be,minimapScale:Pe,minimapLineHeight:Fe,minimapCanvasInnerWidth:Ne,minimapCanvasInnerHeight:We,minimapCanvasOuterWidth:Oe,minimapCanvasOuterHeight:Ie}}static computeLayout(ce,ge){const we=ge.outerWidth|0,ye=ge.outerHeight|0,Te=ge.lineHeight|0,ke=ge.lineNumbersDigitCount|0,Me=ge.typicalHalfwidthCharacterWidth,_e=ge.maxDigitWidth,Se=ge.pixelRatio,Ee=ge.viewLineCount,Ae=ce.get(123),Pe=Ae==="inherit"?ce.get(122):Ae,xe=Pe==="inherit"?ce.get(118):Pe,Ue=ce.get(121),He=ce.get(2),Ke=ge.isDominatedByLongLines,et=ce.get(50),tt=ce.get(60).renderType!==0,it=ce.get(61),je=ce.get(94),We=ce.get(65),Ie=ce.get(92),Re=Ie.verticalScrollbarSize,Be=Ie.verticalHasArrows,Fe=Ie.arrowSize,Ge=Ie.horizontalScrollbarSize,Xe=ce.get(58),Ze=ce.get(37);let ze;if(typeof Xe=="string"&&/^\d+(\.\d+)?ch$/.test(Xe)){const ft=parseFloat(Xe.substr(0,Xe.length-2));ze=s.clampedInt(ft*Me,0,0,1e3)}else ze=s.clampedInt(Xe,0,0,1e3);Ze&&(ze+=16);let Ne=0;if(tt){const ft=Math.max(ke,it);Ne=Math.round(ft*_e)}let Oe=0;et&&(Oe=Te);let Ve=0,qe=Ve+Oe,Je=qe+Ne,$e=Je+ze;const Ye=we-Oe-Ne-ze;let nt=!1,dt=!1,ut=-1;He!==2&&(Pe==="inherit"&&Ke?(nt=!0,dt=!0):xe==="on"||xe==="bounded"?dt=!0:xe==="wordWrapColumn"&&(ut=Ue));const lt=M._computeMinimapLayout({outerWidth:we,outerHeight:ye,lineHeight:Te,typicalHalfwidthCharacterWidth:Me,pixelRatio:Se,scrollBeyondLastLine:je,minimap:We,verticalScrollbarWidth:Re,viewLineCount:Ee,remainingWidth:Ye,isViewportWrapping:dt},ge.memory||new u);lt.renderMinimap!==0&&lt.minimapLeft===0&&(Ve+=lt.minimapWidth,qe+=lt.minimapWidth,Je+=lt.minimapWidth,$e+=lt.minimapWidth);const vt=Ye-lt.minimapWidth,rt=Math.max(1,Math.floor((vt-Re-2)/Me)),ht=Be?Fe:0;return dt&&(ut=Math.max(1,rt),xe==="bounded"&&(ut=Math.min(ut,Ue))),{width:we,height:ye,glyphMarginLeft:Ve,glyphMarginWidth:Oe,lineNumbersLeft:qe,lineNumbersWidth:Ne,decorationsLeft:Je,decorationsWidth:ze,contentLeft:$e,contentWidth:vt,minimap:lt,viewportColumn:rt,isWordWrapMinified:nt,isViewportWrapping:dt,wrappingColumn:ut,verticalScrollbarWidth:Re,horizontalScrollbarHeight:Ge,overviewRuler:{top:ht,width:Re,height:ye-2*ht,right:0}}}}e.EditorLayoutInfoComputer=M;class z extends h{constructor(){const ce={enabled:!0};super(57,"lightbulb",ce,{"editor.lightbulb.enabled":{type:"boolean",default:ce.enabled,description:y.localize(43,null)}})}validate(ce){return!ce||typeof ce!="object"?this.defaultValue:{enabled:d(ce.enabled,this.defaultValue.enabled)}}}class Q extends h{constructor(){const ce={enabled:"on",fontSize:0,fontFamily:"",displayStyle:"compact"};super(127,"inlayHints",ce,{"editor.inlayHints.enabled":{type:"string",default:ce.enabled,description:y.localize(44,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[y.localize(45,null),y.localize(46,null),y.localize(47,null),y.localize(48,null)]},"editor.inlayHints.fontSize":{type:"number",default:ce.fontSize,markdownDescription:y.localize(49,null)},"editor.inlayHints.fontFamily":{type:"string",default:ce.fontFamily,markdownDescription:y.localize(50,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return typeof ge.enabled=="boolean"&&(ge.enabled=ge.enabled?"on":"off"),{enabled:g(ge.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:s.clampedInt(ge.fontSize,this.defaultValue.fontSize,0,100),fontFamily:c.string(ge.fontFamily,this.defaultValue.fontFamily),displayStyle:g(ge.displayStyle,this.defaultValue.displayStyle,["standard","compact"])}}}class ne extends l{constructor(){super(59,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ce=>l.clamp(ce,0,150),{markdownDescription:y.localize(51,null)})}compute(ce,ge,we){return ce.fontInfo.lineHeight}}class X extends h{constructor(){const ce={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",ce,{"editor.minimap.enabled":{type:"boolean",default:ce.enabled,description:y.localize(52,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[y.localize(53,null),y.localize(54,null),y.localize(55,null)],default:ce.size,description:y.localize(56,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ce.side,description:y.localize(57,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ce.showSlider,description:y.localize(58,null)},"editor.minimap.scale":{type:"number",default:ce.scale,minimum:1,maximum:3,enum:[1,2,3],description:y.localize(59,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ce.renderCharacters,description:y.localize(60,null)},"editor.minimap.maxColumn":{type:"number",default:ce.maxColumn,description:y.localize(61,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),size:g(ge.size,this.defaultValue.size,["proportional","fill","fit"]),side:g(ge.side,this.defaultValue.side,["right","left"]),showSlider:g(ge.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:d(ge.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(ge.scale,1,1,3),maxColumn:s.clampedInt(ge.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function J(be){return be==="ctrlCmd"?f.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ie extends h{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(62,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(63,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{top:s.clampedInt(ge.top,0,0,1e3),bottom:s.clampedInt(ge.bottom,0,0,1e3)}}}class le extends h{constructor(){const ce={enabled:!0,cycle:!1};super(76,"parameterHints",ce,{"editor.parameterHints.enabled":{type:"boolean",default:ce.enabled,description:y.localize(64,null)},"editor.parameterHints.cycle":{type:"boolean",default:ce.cycle,description:y.localize(65,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),cycle:d(ge.cycle,this.defaultValue.cycle)}}}class G extends t{constructor(){super(129)}compute(ce,ge,we){return ce.pixelRatio}}class x extends h{constructor(){const ce={other:"on",comments:"off",strings:"off"},ge=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[y.localize(66,null),y.localize(67,null),y.localize(68,null)]}];super(79,"quickSuggestions",ce,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:ge,default:ce.strings,description:y.localize(69,null)},comments:{anyOf:ge,default:ce.comments,description:y.localize(70,null)},other:{anyOf:ge,default:ce.other,description:y.localize(71,null)}},default:ce,markdownDescription:y.localize(72,null)});this.defaultValue=ce}validate(ce){if(typeof ce=="boolean"){const Se=ce?"on":"off";return{comments:Se,strings:Se,other:Se}}if(!ce||typeof ce!="object")return this.defaultValue;const{other:ge,comments:we,strings:ye}=ce,Te=["on","inline","off"];let ke,Me,_e;return typeof ge=="boolean"?ke=ge?"on":"off":ke=g(ge,this.defaultValue.other,Te),typeof we=="boolean"?Me=we?"on":"off":Me=g(we,this.defaultValue.comments,Te),typeof ye=="boolean"?_e=ye?"on":"off":_e=g(ye,this.defaultValue.strings,Te),{other:ke,comments:Me,strings:_e}}}class V extends h{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[y.localize(73,null),y.localize(74,null),y.localize(75,null),y.localize(76,null)],default:"on",description:y.localize(77,null)})}validate(ce){let ge=this.defaultValue.renderType,we=this.defaultValue.renderFn;return typeof ce!="undefined"&&(typeof ce=="function"?(ge=4,we=ce):ce==="interval"?ge=3:ce==="relative"?ge=2:ce==="on"?ge=1:ge=0),{renderType:ge,renderFn:we}}}function j(be){const ce=be.get(87);return ce==="editable"?be.get(81):ce!=="on"}e.filterValidationDecorations=j;class re extends h{constructor(){const ce=[],ge={type:"number",description:y.localize(78,null)};super(91,"rulers",ce,{type:"array",items:{anyOf:[ge,{type:["object"],properties:{column:ge,color:{type:"string",description:y.localize(79,null),format:"color-hex"}}}]},default:ce,description:y.localize(80,null)})}validate(ce){if(Array.isArray(ce)){const ge=[];for(let we of ce)if(typeof we=="number")ge.push({column:s.clampedInt(we,0,0,1e4),color:null});else if(we&&typeof we=="object"){const ye=we;ge.push({column:s.clampedInt(ye.column,0,0,1e4),color:ye.color})}return ge.sort((we,ye)=>we.column-ye.column),ge}return this.defaultValue}}function ae(be,ce){if(typeof be!="string")return ce;switch(be){case"hidden":return 2;case"visible":return 3;default:return 1}}class Y extends h{constructor(){const ce={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",ce,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(81,null),y.localize(82,null),y.localize(83,null)],default:"auto",description:y.localize(84,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(85,null),y.localize(86,null),y.localize(87,null)],default:"auto",description:y.localize(88,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ce.verticalScrollbarSize,description:y.localize(89,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ce.horizontalScrollbarSize,description:y.localize(90,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ce.scrollByPage,description:y.localize(91,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce,we=s.clampedInt(ge.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ye=s.clampedInt(ge.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(ge.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ae(ge.vertical,this.defaultValue.vertical),horizontal:ae(ge.horizontal,this.defaultValue.horizontal),useShadows:d(ge.useShadows,this.defaultValue.useShadows),verticalHasArrows:d(ge.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:d(ge.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:d(ge.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:d(ge.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:we,horizontalSliderSize:s.clampedInt(ge.horizontalSliderSize,we,0,1e3),verticalScrollbarSize:ye,verticalSliderSize:s.clampedInt(ge.verticalSliderSize,ye,0,1e3),scrollByPage:d(ge.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class U extends h{constructor(){const ce={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",ce,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.nonBasicASCII,description:y.localize(92,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ce.invisibleCharacters,description:y.localize(93,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ce.ambiguousCharacters,description:y.localize(94,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.includeComments,description:y.localize(95,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.includeStrings,description:y.localize(96,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ce.allowedCharacters,description:y.localize(97,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ce.allowedLocales,description:y.localize(98,null)}})}applyUpdate(ce,ge){let we=!1;ge.allowedCharacters&&(L.equals(ce.allowedCharacters,ge.allowedCharacters)||(ce=Object.assign(Object.assign({},ce),{allowedCharacters:ge.allowedCharacters}),we=!0)),ge.allowedLocales&&(L.equals(ce.allowedLocales,ge.allowedLocales)||(ce=Object.assign(Object.assign({},ce),{allowedLocales:ge.allowedLocales}),we=!0));const ye=super.applyUpdate(ce,ge);return we?new i(ye.newValue,!0):ye}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{nonBasicASCII:H(ge.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:d(ge.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:d(ge.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:H(ge.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:H(ge.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(ce.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ce.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ce,ge){if(typeof ce!="object"||!ce)return ge;const we={};for(const[ye,Te]of Object.entries(ce))Te===!0&&(we[ye]=!0);return we}}class Z extends h{constructor(){const ce={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",ce,{"editor.inlineSuggest.enabled":{type:"boolean",default:ce.enabled,description:y.localize(99,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),mode:g(ge.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class q extends h{constructor(){const ce={enabled:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",ce,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ce.enabled,markdownDescription:y.localize(100,null)},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ce.independentColorPoolPerBracketType,description:y.localize(101,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:d(ge.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class $ extends h{constructor(){const ce={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ce,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(102,null),y.localize(103,null),y.localize(104,null)],default:ce.bracketPairs,description:y.localize(105,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(106,null),y.localize(107,null),y.localize(108,null)],default:ce.bracketPairsHorizontal,description:y.localize(109,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ce.highlightActiveBracketPair,description:y.localize(110,null)},"editor.guides.indentation":{type:"boolean",default:ce.indentation,description:y.localize(111,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[y.localize(112,null),y.localize(113,null),y.localize(114,null)],default:ce.highlightActiveIndentation,description:y.localize(115,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{bracketPairs:H(ge.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:H(ge.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:d(ge.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:d(ge.indentation,this.defaultValue.indentation),highlightActiveIndentation:H(ge.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function H(be,ce,ge){const we=ge.indexOf(be);return we===-1?ce:ge[we]}class ee extends h{constructor(){const ce={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",ce,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[y.localize(116,null),y.localize(117,null)],default:ce.insertMode,description:y.localize(118,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ce.filterGraceful,description:y.localize(119,null)},"editor.suggest.localityBonus":{type:"boolean",default:ce.localityBonus,description:y.localize(120,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ce.shareSuggestSelections,markdownDescription:y.localize(121,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ce.snippetsPreventQuickSuggestions,description:y.localize(122,null)},"editor.suggest.showIcons":{type:"boolean",default:ce.showIcons,description:y.localize(123,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ce.showStatusBar,description:y.localize(124,null)},"editor.suggest.preview":{type:"boolean",default:ce.preview,description:y.localize(125,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ce.showInlineDetails,description:y.localize(126,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:y.localize(127,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:y.localize(128,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:y.localize(129,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:y.localize(130,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:y.localize(131,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:y.localize(132,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:y.localize(133,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:y.localize(134,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:y.localize(135,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:y.localize(136,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:y.localize(137,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:y.localize(138,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:y.localize(139,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:y.localize(140,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:y.localize(141,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:y.localize(142,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:y.localize(143,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:y.localize(144,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:y.localize(145,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:y.localize(146,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:y.localize(147,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:y.localize(148,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:y.localize(149,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:y.localize(150,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:y.localize(151,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:y.localize(152,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:y.localize(153,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:y.localize(154,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:y.localize(155,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:y.localize(156,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:y.localize(157,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{insertMode:g(ge.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:d(ge.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:d(ge.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:d(ge.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:d(ge.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:d(ge.showIcons,this.defaultValue.showIcons),showStatusBar:d(ge.showStatusBar,this.defaultValue.showStatusBar),preview:d(ge.preview,this.defaultValue.preview),previewMode:g(ge.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:d(ge.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:d(ge.showMethods,this.defaultValue.showMethods),showFunctions:d(ge.showFunctions,this.defaultValue.showFunctions),showConstructors:d(ge.showConstructors,this.defaultValue.showConstructors),showDeprecated:d(ge.showDeprecated,this.defaultValue.showDeprecated),showFields:d(ge.showFields,this.defaultValue.showFields),showVariables:d(ge.showVariables,this.defaultValue.showVariables),showClasses:d(ge.showClasses,this.defaultValue.showClasses),showStructs:d(ge.showStructs,this.defaultValue.showStructs),showInterfaces:d(ge.showInterfaces,this.defaultValue.showInterfaces),showModules:d(ge.showModules,this.defaultValue.showModules),showProperties:d(ge.showProperties,this.defaultValue.showProperties),showEvents:d(ge.showEvents,this.defaultValue.showEvents),showOperators:d(ge.showOperators,this.defaultValue.showOperators),showUnits:d(ge.showUnits,this.defaultValue.showUnits),showValues:d(ge.showValues,this.defaultValue.showValues),showConstants:d(ge.showConstants,this.defaultValue.showConstants),showEnums:d(ge.showEnums,this.defaultValue.showEnums),showEnumMembers:d(ge.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:d(ge.showKeywords,this.defaultValue.showKeywords),showWords:d(ge.showWords,this.defaultValue.showWords),showColors:d(ge.showColors,this.defaultValue.showColors),showFiles:d(ge.showFiles,this.defaultValue.showFiles),showReferences:d(ge.showReferences,this.defaultValue.showReferences),showFolders:d(ge.showFolders,this.defaultValue.showFolders),showTypeParameters:d(ge.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:d(ge.showSnippets,this.defaultValue.showSnippets),showUsers:d(ge.showUsers,this.defaultValue.showUsers),showIssues:d(ge.showIssues,this.defaultValue.showIssues)}}}class te extends h{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:y.localize(158,null),default:!0,type:"boolean"}})}validate(ce){return!ce||typeof ce!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:d(ce.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class de extends t{constructor(){super(130)}compute(ce,ge,we){return ge.get(81)?!0:ce.tabFocusMode}}function he(be){switch(be){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class pe extends t{constructor(){super(132)}compute(ce,ge,we){const ye=ge.get(131);return{isDominatedByLongLines:ce.isDominatedByLongLines,isWordWrapMinified:ye.isWordWrapMinified,isViewportWrapping:ye.isViewportWrapping,wrappingColumn:ye.wrappingColumn}}}const ve="Consolas, 'Courier New', monospace",ue="Menlo, Monaco, 'Courier New', monospace",Ce="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:f.isMacintosh?ue:f.isLinux?Ce:ve,fontWeight:"normal",fontSize:f.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function me(be){return e.editorOptionsRegistry[be.id]=be,be}e.EditorOptions={acceptSuggestionOnCommitCharacter:me(new o(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:y.localize(159,null)})),acceptSuggestionOnEnter:me(new m(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",y.localize(160,null),""],markdownDescription:y.localize(161,null)})),accessibilitySupport:me(new v),accessibilityPageSize:me(new s(3,"accessibilityPageSize",10,1,1073741824,{description:y.localize(162,null)})),ariaLabel:me(new c(4,"ariaLabel",y.localize(163,null))),autoClosingBrackets:me(new m(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(164,null),y.localize(165,null),""],description:y.localize(166,null)})),autoClosingDelete:me(new m(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",y.localize(167,null),""],description:y.localize(168,null)})),autoClosingOvertype:me(new m(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",y.localize(169,null),""],description:y.localize(170,null)})),autoClosingQuotes:me(new m(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(171,null),y.localize(172,null),""],description:y.localize(173,null)})),autoIndent:me(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[y.localize(174,null),y.localize(175,null),y.localize(176,null),y.localize(177,null),y.localize(178,null)],description:y.localize(179,null)})),automaticLayout:me(new o(10,"automaticLayout",!1)),autoSurround:me(new m(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[y.localize(180,null),y.localize(181,null),y.localize(182,null),""],description:y.localize(183,null)})),bracketPairColorization:me(new q),bracketPairGuides:me(new $),stickyTabStops:me(new o(104,"stickyTabStops",!1,{description:y.localize(184,null)})),codeLens:me(new o(14,"codeLens",!0,{description:y.localize(185,null)})),codeLensFontFamily:me(new c(15,"codeLensFontFamily","",{description:y.localize(186,null)})),codeLensFontSize:me(new s(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:y.localize(187,null)})),colorDecorators:me(new o(17,"colorDecorators",!0,{description:y.localize(188,null)})),columnSelection:me(new o(18,"columnSelection",!1,{description:y.localize(189,null)})),comments:me(new _),contextmenu:me(new o(20,"contextmenu",!0)),copyWithSyntaxHighlighting:me(new o(21,"copyWithSyntaxHighlighting",!0,{description:y.localize(190,null)})),cursorBlinking:me(new S(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],w,{description:y.localize(191,null)})),cursorSmoothCaretAnimation:me(new o(23,"cursorSmoothCaretAnimation",!1,{description:y.localize(192,null)})),cursorStyle:me(new S(24,"cursorStyle",E.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],I,{description:y.localize(193,null)})),cursorSurroundingLines:me(new s(25,"cursorSurroundingLines",0,0,1073741824,{description:y.localize(194,null)})),cursorSurroundingLinesStyle:me(new m(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[y.localize(195,null),y.localize(196,null)],description:y.localize(197,null)})),cursorWidth:me(new s(27,"cursorWidth",0,0,1073741824,{markdownDescription:y.localize(198,null)})),disableLayerHinting:me(new o(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:me(new o(29,"disableMonospaceOptimizations",!1)),domReadOnly:me(new o(30,"domReadOnly",!1)),dragAndDrop:me(new o(31,"dragAndDrop",!0,{description:y.localize(199,null)})),emptySelectionClipboard:me(new R),extraEditorClassName:me(new c(33,"extraEditorClassName","")),fastScrollSensitivity:me(new l(34,"fastScrollSensitivity",5,be=>be<=0?5:be,{markdownDescription:y.localize(200,null)})),find:me(new B),fixedOverflowWidgets:me(new o(36,"fixedOverflowWidgets",!1)),folding:me(new o(37,"folding",!0,{description:y.localize(201,null)})),foldingStrategy:me(new m(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[y.localize(202,null),y.localize(203,null)],description:y.localize(204,null)})),foldingHighlight:me(new o(39,"foldingHighlight",!0,{description:y.localize(205,null)})),foldingImportsByDefault:me(new o(40,"foldingImportsByDefault",!1,{description:y.localize(206,null)})),foldingMaximumRegions:me(new s(41,"foldingMaximumRegions",5e3,10,65e3,{description:y.localize(207,null)})),unfoldOnClickAfterEndOfLine:me(new o(42,"unfoldOnClickAfterEndOfLine",!1,{description:y.localize(208,null)})),fontFamily:me(new c(43,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:y.localize(209,null)})),fontInfo:me(new k),fontLigatures2:me(new O),fontSize:me(new A),fontWeight:me(new F),formatOnPaste:me(new o(48,"formatOnPaste",!1,{description:y.localize(210,null)})),formatOnType:me(new o(49,"formatOnType",!1,{description:y.localize(211,null)})),glyphMargin:me(new o(50,"glyphMargin",!0,{description:y.localize(212,null)})),gotoLocation:me(new P),hideCursorInOverviewRuler:me(new o(52,"hideCursorInOverviewRuler",!1,{description:y.localize(213,null)})),hover:me(new W),inDiffEditor:me(new o(54,"inDiffEditor",!1)),letterSpacing:me(new l(56,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,be=>l.clamp(be,-5,20),{description:y.localize(214,null)})),lightbulb:me(new z),lineDecorationsWidth:me(new r(58,"lineDecorationsWidth",10)),lineHeight:me(new ne),lineNumbers:me(new V),lineNumbersMinChars:me(new s(61,"lineNumbersMinChars",5,1,300)),linkedEditing:me(new o(62,"linkedEditing",!1,{description:y.localize(215,null)})),links:me(new o(63,"links",!0,{description:y.localize(216,null)})),matchBrackets:me(new m(64,"matchBrackets","always",["always","near","never"],{description:y.localize(217,null)})),minimap:me(new X),mouseStyle:me(new m(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:me(new l(67,"mouseWheelScrollSensitivity",1,be=>be===0?1:be,{markdownDescription:y.localize(218,null)})),mouseWheelZoom:me(new o(68,"mouseWheelZoom",!1,{markdownDescription:y.localize(219,null)})),multiCursorMergeOverlapping:me(new o(69,"multiCursorMergeOverlapping",!0,{description:y.localize(220,null)})),multiCursorModifier:me(new S(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],J,{markdownEnumDescriptions:[y.localize(221,null),y.localize(222,null)],markdownDescription:y.localize(223,null)})),multiCursorPaste:me(new m(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[y.localize(224,null),y.localize(225,null)],markdownDescription:y.localize(226,null)})),occurrencesHighlight:me(new o(72,"occurrencesHighlight",!0,{description:y.localize(227,null)})),overviewRulerBorder:me(new o(73,"overviewRulerBorder",!0,{description:y.localize(228,null)})),overviewRulerLanes:me(new s(74,"overviewRulerLanes",3,0,3)),padding:me(new ie),parameterHints:me(new le),peekWidgetDefaultFocus:me(new m(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[y.localize(229,null),y.localize(230,null)],description:y.localize(231,null)})),definitionLinkOpensInPeek:me(new o(78,"definitionLinkOpensInPeek",!1,{description:y.localize(232,null)})),quickSuggestions:me(new x),quickSuggestionsDelay:me(new s(80,"quickSuggestionsDelay",10,0,1073741824,{description:y.localize(233,null)})),readOnly:me(new o(81,"readOnly",!1)),renameOnType:me(new o(82,"renameOnType",!1,{description:y.localize(234,null),markdownDeprecationMessage:y.localize(235,null)})),renderControlCharacters:me(new o(83,"renderControlCharacters",!0,{description:y.localize(236,null),restricted:!0})),renderFinalNewline:me(new o(84,"renderFinalNewline",!0,{description:y.localize(237,null)})),renderLineHighlight:me(new m(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",y.localize(238,null)],description:y.localize(239,null)})),renderLineHighlightOnlyWhenFocus:me(new o(86,"renderLineHighlightOnlyWhenFocus",!1,{description:y.localize(240,null)})),renderValidationDecorations:me(new m(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:me(new m(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",y.localize(241,null),y.localize(242,null),y.localize(243,null),""],description:y.localize(244,null)})),revealHorizontalRightPadding:me(new s(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:me(new o(90,"roundedSelection",!0,{description:y.localize(245,null)})),rulers:me(new re),scrollbar:me(new Y),scrollBeyondLastColumn:me(new s(93,"scrollBeyondLastColumn",5,0,1073741824,{description:y.localize(246,null)})),scrollBeyondLastLine:me(new o(94,"scrollBeyondLastLine",!0,{description:y.localize(247,null)})),scrollPredominantAxis:me(new o(95,"scrollPredominantAxis",!0,{description:y.localize(248,null)})),selectionClipboard:me(new o(96,"selectionClipboard",!0,{description:y.localize(249,null),included:f.isLinux})),selectionHighlight:me(new o(97,"selectionHighlight",!0,{description:y.localize(250,null)})),selectOnLineNumbers:me(new o(98,"selectOnLineNumbers",!0)),showFoldingControls:me(new m(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[y.localize(251,null),y.localize(252,null)],description:y.localize(253,null)})),showUnused:me(new o(100,"showUnused",!0,{description:y.localize(254,null)})),showDeprecated:me(new o(126,"showDeprecated",!0,{description:y.localize(255,null)})),inlayHints:me(new Q),snippetSuggestions:me(new m(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[y.localize(256,null),y.localize(257,null),y.localize(258,null),y.localize(259,null)],description:y.localize(260,null)})),smartSelect:me(new te),smoothScrolling:me(new o(103,"smoothScrolling",!1,{description:y.localize(261,null)})),stopRenderingLineAfter:me(new s(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:me(new ee),inlineSuggest:me(new Z),suggestFontSize:me(new s(107,"suggestFontSize",0,0,1e3,{markdownDescription:y.localize(262,null)})),suggestLineHeight:me(new s(108,"suggestLineHeight",0,0,1e3,{markdownDescription:y.localize(263,null)})),suggestOnTriggerCharacters:me(new o(109,"suggestOnTriggerCharacters",!0,{description:y.localize(264,null)})),suggestSelection:me(new m(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[y.localize(265,null),y.localize(266,null),y.localize(267,null)],description:y.localize(268,null)})),tabCompletion:me(new m(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[y.localize(269,null),y.localize(270,null),y.localize(271,null)],description:y.localize(272,null)})),tabIndex:me(new s(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:me(new U),unusualLineTerminators:me(new m(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[y.localize(273,null),y.localize(274,null),y.localize(275,null)],description:y.localize(276,null)})),useShadowDOM:me(new o(115,"useShadowDOM",!0)),useTabStops:me(new o(116,"useTabStops",!0,{description:y.localize(277,null)})),wordSeparators:me(new c(117,"wordSeparators",N.USUAL_WORD_SEPARATORS,{description:y.localize(278,null)})),wordWrap:me(new m(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[y.localize(279,null),y.localize(280,null),y.localize(281,null),y.localize(282,null)],description:y.localize(283,null)})),wordWrapBreakAfterCharacters:me(new c(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:me(new c(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:me(new s(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:y.localize(284,null)})),wordWrapOverride1:me(new m(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:me(new m(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:me(new S(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],he,{enumDescriptions:[y.localize(285,null),y.localize(286,null),y.localize(287,null),y.localize(288,null)],description:y.localize(289,null)})),wrappingStrategy:me(new m(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[y.localize(290,null),y.localize(291,null)],description:y.localize(292,null)})),editorClassName:me(new T),pixelRatio:me(new G),tabFocusMode:me(new de),layoutInfo:me(new M),wrappingInfo:me(new pe)}}),define(oe[68],se([1,0,34,32,33]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function D(L,b){L instanceof f.FastDomNode?(L.setFontFamily(b.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null)),L.setFontWeight(b.fontWeight),L.setFontSize(b.fontSize),L.setFontFeatureSettings(b.fontFeatureSettings),L.setLineHeight(b.lineHeight),L.setLetterSpacing(b.letterSpacing)):(L.style.fontFamily=b.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),L.style.fontWeight=b.fontWeight,L.style.fontSize=b.fontSize+"px",L.style.fontFeatureSettings=b.fontFeatureSettings,L.style.lineHeight=b.lineHeight+"px",L.style.letterSpacing=b.letterSpacing+"px")}e.applyFontInfo=D}),define(oe[520],se([1,0,68]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class f{constructor(b,C){this.chr=b,this.type=C,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=f;class N{constructor(b,C){this._bareFontInfo=b,this._requests=C,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const C=document.createElement("div");(0,y.applyFontInfo)(C,this._bareFontInfo),b.appendChild(C);const u=document.createElement("div");(0,y.applyFontInfo)(u,this._bareFontInfo),u.style.fontWeight="bold",b.appendChild(u);const h=document.createElement("div");(0,y.applyFontInfo)(h,this._bareFontInfo),h.style.fontStyle="italic",b.appendChild(h);const i=[];for(const n of this._requests){let t;n.type===0&&(t=C),n.type===2&&(t=u),n.type===1&&(t=h),t.appendChild(document.createElement("br"));const r=document.createElement("span");N._render(r,n),t.appendChild(r),i.push(r)}this._container=b,this._testElements=i}static _render(b,C){if(C.chr===" "){let u="\xA0";for(let h=0;h<8;h++)u+=u;b.innerText=u}else{let u=C.chr;for(let h=0;h<8;h++)u+=u;b.textContent=u}}_readFromDomElements(){for(let b=0,C=this._requests.length;b<C;b++){const u=this._requests[b],h=this._testElements[b];u.fulfill(h.offsetWidth/256)}}}function D(L,b){new N(L,b).read()}e.readCharWidths=D}),define(oe[275],se([1,0,34,4,2,520,33,178]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class C extends N.Disposable{constructor(){super();this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(i,n){this._cache.put(i,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let n=!1;for(const t of i)t.isTrusted||(n=!0,this._cache.remove(t));n&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let n=this._actualReadFontInfo(i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new b.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(i,n)}return this._cache.get(i)}_createRequest(i,n,t,r){const d=new D.CharWidthRequest(i,n);return t.push(d),r&&r.push(d),d}_actualReadFontInfo(i){const n=[],t=[],r=this._createRequest("n",0,n,t),d=this._createRequest("\uFF4D",0,n,null),o=this._createRequest(" ",0,n,t),a=this._createRequest("0",0,n,t),s=this._createRequest("1",0,n,t),l=this._createRequest("2",0,n,t),c=this._createRequest("3",0,n,t),g=this._createRequest("4",0,n,t),m=this._createRequest("5",0,n,t),S=this._createRequest("6",0,n,t),p=this._createRequest("7",0,n,t),v=this._createRequest("8",0,n,t),_=this._createRequest("9",0,n,t),w=this._createRequest("\u2192",0,n,t),E=this._createRequest("\uFFEB",0,n,null),I=this._createRequest("\xB7",0,n,t),T=this._createRequest(String.fromCharCode(11825),0,n,null),R="|/-_ilm%";for(let F=0,P=R.length;F<P;F++)this._createRequest(R.charAt(F),0,n,t),this._createRequest(R.charAt(F),1,n,t),this._createRequest(R.charAt(F),2,n,t);(0,D.readCharWidths)(i,n);const B=Math.max(a.width,s.width,l.width,c.width,g.width,m.width,S.width,p.width,v.width,_.width);let O=i.fontFeatureSettings===L.EditorFontLigatures.OFF;const k=t[0].width;for(let F=1,P=t.length;O&&F<P;F++){const W=k-t[F].width;if(W<-.001||W>.001){O=!1;break}}let A=!0;return O&&E.width!==k&&(A=!1),E.width>w.width&&(A=!1),new b.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:d.width,canUseHalfwidthRightwardsArrow:A,spaceWidth:o.width,middotWidth:I.width,wsmiddotWidth:T.width,maxDigitWidth:B},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const n=i.getId();return!!this._values[n]}get(i){const n=i.getId();return this._values[n]}put(i,n){const t=i.getId();this._keys[t]=i,this._values[t]=n}remove(i){const n=i.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}e.FontMeasurements=new C}),define(oe[521],se([1,0,93,8,68,95,251]),function(K,e,y,f,N,D,L){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const C=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("domLineBreaksComputer",{createHTML:d=>d});class u{static create(){return new u}constructor(){}createLineBreaksComputer(o,a,s,l){const c=[],g=[];return{addRequest:(m,S,p)=>{c.push(m),g.push(S)},finalize:()=>h(c,o,a,s,l,g)}}}e.DOMLineBreaksComputerFactory=u;function h(d,o,a,s,l,c){var g;function m(M){const z=c[M];if(z){const Q=D.LineInjectedText.applyInjectedText(d[M],z),ne=z.map(J=>J.options),X=z.map(J=>J.column-1);return new L.ModelLineProjectionData(X,ne,[Q.length],[],0)}else return null}if(s===-1){const M=[];for(let z=0,Q=d.length;z<Q;z++)M[z]=m(z);return M}const S=Math.round(s*o.typicalHalfwidthCharacterWidth),v=Math.round(a*(l===3?2:l===2?1:0)),_=Math.ceil(o.spaceWidth*v),w=document.createElement("div");(0,N.applyFontInfo)(w,o);const E=(0,y.createStringBuilder)(1e4),I=[],T=[],R=[],B=[],O=[];for(let M=0;M<d.length;M++){const z=D.LineInjectedText.applyInjectedText(d[M],c[M]);let Q=0,ne=0,X=S;if(l!==0)if(Q=f.firstNonWhitespaceIndex(z),Q===-1)Q=0;else{for(let G=0;G<Q;G++)ne+=z.charCodeAt(G)===9?a-ne%a:1;const le=Math.ceil(o.spaceWidth*ne);le+o.typicalFullwidthCharacterWidth>S?(Q=0,ne=0):X=S-le}const J=z.substr(Q),ie=i(J,ne,a,X,E,_);I[M]=Q,T[M]=ne,R[M]=J,B[M]=ie[0],O[M]=ie[1]}const k=E.build(),A=(g=C==null?void 0:C.createHTML(k))!==null&&g!==void 0?g:k;w.innerHTML=A,w.style.position="absolute",w.style.top="10000",w.style.wordWrap="break-word",document.body.appendChild(w);const F=document.createRange(),P=Array.prototype.slice.call(w.children,0),W=[];for(let M=0;M<d.length;M++){const z=P[M],Q=n(F,z,R[M],B[M]);if(Q===null){W[M]=m(M);continue}const ne=I[M],X=T[M]+v,J=O[M],ie=[];for(let V=0,j=Q.length;V<j;V++)ie[V]=J[Q[V]];if(ne!==0)for(let V=0,j=Q.length;V<j;V++)Q[V]+=ne;let le,G;const x=c[M];x?(le=x.map(V=>V.options),G=x.map(V=>V.column-1)):(le=null,G=null),W[M]=new L.ModelLineProjectionData(G,le,Q,ie,X)}return document.body.removeChild(w),W}function i(d,o,a,s,l,c){if(c!==0){const w=String(c);l.appendASCIIString('<div style="text-indent: -'),l.appendASCIIString(w),l.appendASCIIString("px; padding-left: "),l.appendASCIIString(w),l.appendASCIIString("px; box-sizing: border-box; width:")}else l.appendASCIIString('<div style="width:');l.appendASCIIString(String(s)),l.appendASCIIString('px;">');const g=d.length;let m=o,S=0;const p=[],v=[];let _=0<g?d.charCodeAt(0):0;l.appendASCIIString("<span>");for(let w=0;w<g;w++){w!==0&&w%16384==0&&l.appendASCIIString("</span><span>"),p[w]=S,v[w]=m;const E=_;_=w+1<g?d.charCodeAt(w+1):0;let I=1,T=1;switch(E){case 9:I=a-m%a,T=I;for(let R=1;R<=I;R++)R<I?l.write1(160):l.appendASCII(32);break;case 32:_===32?l.write1(160):l.appendASCII(32);break;case 60:l.appendASCIIString("&lt;");break;case 62:l.appendASCIIString("&gt;");break;case 38:l.appendASCIIString("&amp;");break;case 0:l.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:l.write1(65533);break;default:f.isFullWidthCharacter(E)&&T++,E<32?l.write1(9216+E):l.write1(E)}S+=I,m+=T}return l.appendASCIIString("</span>"),p[d.length]=S,v[d.length]=m,l.appendASCIIString("</div>"),[p,v]}function n(d,o,a,s){if(a.length<=1)return null;const l=Array.prototype.slice.call(o.children,0),c=[];try{t(d,l,s,0,null,a.length-1,null,c)}catch(g){return console.log(g),null}return c.length===0?null:(c.push(a.length),c)}function t(d,o,a,s,l,c,g,m){if(s===c||(l=l||r(d,o,a[s],a[s+1]),g=g||r(d,o,a[c],a[c+1]),Math.abs(l[0].top-g[0].top)<=.1))return;if(s+1===c){m.push(c);return}const S=s+(c-s)/2|0,p=r(d,o,a[S],a[S+1]);t(d,o,a,s,l,S,p,m),t(d,o,a,S,p,c,g,m)}function r(d,o,a,s){return d.setStart(o[a/16384|0].firstChild,a%16384),d.setEnd(o[s/16384|0].firstChild,s%16384),d.getClientRects()}}),define(oe[522],se([1,0,32,68,181,52]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class L extends D.ViewPart{constructor(i){super(i);this._visibleLines=new N.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,n=this._dynamicOverlays.length;i<n;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,n=this._dynamicOverlays.length;i<n;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let r=n;r<=t;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const n=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,r=n.length;t<r;t++){const d=n[t];d.prepareRender(i),d.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}e.ViewOverlays=L;class b{constructor(i,n){this._configuration=i,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,y.createFastDomNode)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(59)}renderLine(i,n,t,r){let d="";for(let o=0,a=this._dynamicOverlays.length;o<a;o++)d+=this._dynamicOverlays[o].render(t.startLineNumber,i);return this._renderedContent===d?!1:(this._renderedContent=d,r.appendASCIIString('<div style="position:absolute;top:'),r.appendASCIIString(String(n)),r.appendASCIIString("px;width:100%;height:"),r.appendASCIIString(String(this._lineHeight)),r.appendASCIIString('px;">'),r.appendASCIIString(d),r.appendASCIIString("</div>"),!0)}layoutLine(i,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=b;class C extends L{constructor(i){super(i);const t=this._context.configuration.options.get(131);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const t=this._context.configuration.options.get(131);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=C;class u extends L{constructor(i){super(i);const n=this._context.configuration.options,t=n.get(131);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,f.applyFontInfo)(this.domNode,n.get(44))}onConfigurationChanged(i){const n=this._context.configuration.options;(0,f.applyFontInfo)(this.domNode,n.get(44));const t=n.get(131);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const n=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=u}),define(oe[523],se([1,0,7,32,8,68,33,11,3,144]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class h{constructor(t,r,d,o,a,s){this.top=t,this.left=r,this.width=d,this.height=o,this.textContent=a,this.textContentClassName=s}}class i{constructor(t){this._context=t;const r=this._context.configuration.options,d=r.get(44);this._cursorStyle=r.get(24),this._lineHeight=r.get(59),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,d),this._domNode.setDisplay("none"),this._position=new b.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const r=this._context.configuration.options,d=r.get(44);return this._cursorStyle=r.get(24),this._lineHeight=r.get(59),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,d),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:r}=this._position,d=this._context.viewModel.getLineContent(t),[o,a]=N.getCharContainingOffset(d,r-1);return[new b.Position(t,o+1),d.substring(o,a)]}_prepareRender(t){let r="";const[d,o]=this._getGraphemeAwarePosition();if(this._cursorStyle===L.TextEditorCursorStyle.Line||this._cursorStyle===L.TextEditorCursorStyle.LineThin){const p=t.visibleRangeForPosition(d);if(!p||p.outsideRenderedLine)return null;let v;this._cursorStyle===L.TextEditorCursorStyle.Line?(v=y.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),v>2&&(r=o)):v=y.computeScreenAwareSize(1);let _=p.left;v>=2&&_>=1&&(_-=1);const w=t.getVerticalOffsetForLineNumber(d.lineNumber)-t.bigNumbersDelta;return new h(w,_,v,this._lineHeight,r,"")}const a=t.linesVisibleRangesForRange(new C.Range(d.lineNumber,d.column,d.lineNumber,d.column+o.length),!1);if(!a||a.length===0)return null;const s=a[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;const l=s.ranges[0],c=l.width<1?this._typicalHalfwidthCharacterWidth:l.width;let g="";if(this._cursorStyle===L.TextEditorCursorStyle.Block){const p=this._context.viewModel.getViewLineData(d.lineNumber);r=o;const v=p.tokens.findTokenIndexAtOffset(d.column-1);g=p.tokens.getClassName(v)}let m=t.getVerticalOffsetForLineNumber(d.lineNumber)-t.bigNumbersDelta,S=this._lineHeight;return(this._cursorStyle===L.TextEditorCursorStyle.Underline||this._cursorStyle===L.TextEditorCursorStyle.UnderlineThin)&&(m+=this._lineHeight-2,S=2),new h(m,l.left,c,S,r,g)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=i}),define(oe[276],se([1,0,11,3,74,33]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class L{constructor(n,t,r,d,o){this.editorId=n,this.model=t,this.configuration=r,this._linesCollection=d,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(n){const t=n.id;let r=this._decorationsCache[t];if(!r){const d=n.range,o=n.options;let a;if(o.isWholeLine){const s=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(d.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(d.endLineNumber,this.model.getLineMaxColumn(d.endLineNumber)),1);a=new f.Range(s.lineNumber,s.column,l.lineNumber,l.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(d,1);r=new N.ViewModelDecoration(a,o),this._decorationsCache[t]=r}return r}getDecorationsViewportData(n){let t=this._cachedModelDecorationsResolver!==null;return t=t&&n.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(n),this._cachedModelDecorationsResolverViewRange=n),this._cachedModelDecorationsResolver}_getDecorationsViewportData(n){const t=this._linesCollection.getDecorationsInRange(n,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options)),r=n.startLineNumber,d=n.endLineNumber,o=[];let a=0;const s=[];for(let l=r;l<=d;l++)s[l-r]=[];for(let l=0,c=t.length;l<c;l++){const g=t[l],m=g.options;if(!b(this.model,g))continue;const S=this._getOrCreateViewModelDecoration(g),p=S.range;if(o[a++]=S,m.inlineClassName){const v=new N.InlineDecoration(p,m.inlineClassName,m.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(r,p.startLineNumber),w=Math.min(d,p.endLineNumber);for(let E=_;E<=w;E++)s[E-r].push(v)}if(m.beforeContentClassName&&r<=p.startLineNumber&&p.startLineNumber<=d){const v=new N.InlineDecoration(new f.Range(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),m.beforeContentClassName,1);s[p.startLineNumber-r].push(v)}if(m.afterContentClassName&&r<=p.endLineNumber&&p.endLineNumber<=d){const v=new N.InlineDecoration(new f.Range(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),m.afterContentClassName,2);s[p.endLineNumber-r].push(v)}}return{decorations:o,inlineDecorations:s}}}e.ViewModelDecorations=L;function b(i,n){return!(n.options.hideInCommentTokens&&C(i,n)||n.options.hideInStringTokens&&u(i,n))}e.isModelDecorationVisible=b;function C(i,n){return h(i,n.range,t=>t===1)}e.isModelDecorationInComment=C;function u(i,n){return h(i,n.range,t=>t===2)}e.isModelDecorationInString=u;function h(i,n,t){for(let r=n.startLineNumber;r<=n.endLineNumber;r++){const d=i.tokenization.getLineTokens(r),o=r===n.startLineNumber,a=r===n.endLineNumber;let s=o?d.findTokenIndexAtOffset(n.startColumn-1):0;for(;s<d.getCount()&&!(a&&d.getStartOffset(s)>n.endColumn-1);){if(!t(d.getStandardTokenType(s)))return!1;s++}}return!0}}),define(oe[524],se([5,6]),function(K,e){return K.create("vs/editor/common/core/editorColorRegistry",e)}),define(oe[525],se([5,6]),function(K,e){return K.create("vs/editor/common/editorContextKeys",e)}),define(oe[526],se([5,6]),function(K,e){return K.create("vs/editor/common/languages/modesRegistry",e)}),define(oe[527],se([5,6]),function(K,e){return K.create("vs/editor/common/model/editStack",e)}),define(oe[277],se([1,0,527,13,24,25,242,116,42]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function u(o){return o.toString()}class h{constructor(a,s,l,c,g,m,S){this.beforeVersionId=a,this.afterVersionId=s,this.beforeEOL=l,this.afterEOL=c,this.beforeCursorState=g,this.afterCursorState=m,this.changes=S}static create(a,s){const l=a.getAlternativeVersionId(),c=t(a);return new h(l,l,c,c,s,s,[])}append(a,s,l,c,g){s.length>0&&(this.changes=(0,L.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=l,this.afterVersionId=c,this.afterCursorState=g}static _writeSelectionsSize(a){return 4+4*4*(a?a.length:0)}static _writeSelections(a,s,l){if(b.writeUInt32BE(a,s?s.length:0,l),l+=4,s)for(const c of s)b.writeUInt32BE(a,c.selectionStartLineNumber,l),l+=4,b.writeUInt32BE(a,c.selectionStartColumn,l),l+=4,b.writeUInt32BE(a,c.positionLineNumber,l),l+=4,b.writeUInt32BE(a,c.positionColumn,l),l+=4;return l}static _readSelections(a,s,l){const c=b.readUInt32BE(a,s);s+=4;for(let g=0;g<c;g++){const m=b.readUInt32BE(a,s);s+=4;const S=b.readUInt32BE(a,s);s+=4;const p=b.readUInt32BE(a,s);s+=4;const v=b.readUInt32BE(a,s);s+=4,l.push(new N.Selection(m,S,p,v))}return s}serialize(){let a=4+4+1+1+h._writeSelectionsSize(this.beforeCursorState)+h._writeSelectionsSize(this.afterCursorState)+4;for(const c of this.changes)a+=c.writeSize();const s=new Uint8Array(a);let l=0;b.writeUInt32BE(s,this.beforeVersionId,l),l+=4,b.writeUInt32BE(s,this.afterVersionId,l),l+=4,b.writeUInt8(s,this.beforeEOL,l),l+=1,b.writeUInt8(s,this.afterEOL,l),l+=1,l=h._writeSelections(s,this.beforeCursorState,l),l=h._writeSelections(s,this.afterCursorState,l),b.writeUInt32BE(s,this.changes.length,l),l+=4;for(const c of this.changes)l=c.write(s,l);return s.buffer}static deserialize(a){const s=new Uint8Array(a);let l=0;const c=b.readUInt32BE(s,l);l+=4;const g=b.readUInt32BE(s,l);l+=4;const m=b.readUInt8(s,l);l+=1;const S=b.readUInt8(s,l);l+=1;const p=[];l=h._readSelections(s,l,p);const v=[];l=h._readSelections(s,l,v);const _=b.readUInt32BE(s,l);l+=4;const w=[];for(let E=0;E<_;E++)l=L.TextChange.read(s,l,w);return new h(c,g,m,S,p,v,w)}}e.SingleModelEditStackData=h;class i{constructor(a,s,l,c){this.label=a,this.code=s,this.model=l,this._data=h.create(l,c)}get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof h?this._data:h.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(a){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===a.toString()}setModel(a){this.model=a}canAppend(a){return this.model===a&&this._data instanceof h}append(a,s,l,c,g){this._data instanceof h&&this._data.append(a,s,l,c,g)}close(){this._data instanceof h&&(this._data=this._data.serialize())}open(){this._data instanceof h||(this._data=h.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const a=h.deserialize(this._data);this.model._applyUndo(a.changes,a.beforeEOL,a.beforeVersionId,a.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const a=h.deserialize(this._data);this.model._applyRedo(a.changes,a.afterEOL,a.afterVersionId,a.afterCursorState)}heapSize(){return this._data instanceof h&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=i;class n{constructor(a,s,l){this.label=a,this.code=s,this.type=1,this._isOpen=!0,this._editStackElementsArr=l.slice(0),this._editStackElementsMap=new Map;for(const c of this._editStackElementsArr){const g=u(c.resource);this._editStackElementsMap.set(g,c)}this._delegate=null}get resources(){return this._editStackElementsArr.map(a=>a.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(a){const s=u(a);return this._editStackElementsMap.has(s)}setModel(a){const s=u(D.URI.isUri(a)?a:a.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(a)}canAppend(a){if(!this._isOpen)return!1;const s=u(a.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(a):!1}append(a,s,l,c,g){const m=u(a.uri);this._editStackElementsMap.get(m).append(a,s,l,c,g)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const a of this._editStackElementsArr)a.undo()}redo(){for(const a of this._editStackElementsArr)a.redo()}heapSize(a){const s=u(a);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){let a=[];for(const s of this._editStackElementsArr)a.push(`${(0,C.basename)(s.resource)}: ${s}`);return`{${a.join(", ")}}`}}e.MultiModelEditStackElement=n;function t(o){return o.getEOL()===`
`?0:1}function r(o){return o?o instanceof i||o instanceof n:!1}e.isEditStackElement=r;class d{constructor(a,s){this._model=a,this._undoRedoService=s}pushStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);r(a)&&a.close()}popStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);r(a)&&a.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(a){const s=this._undoRedoService.getLastElement(this._model.uri);if(r(s)&&s.canAppend(this._model))return s;const l=new i(y.localize(0,null),"undoredo.textBufferEdit",this._model,a);return this._undoRedoService.pushElement(l),l}pushEOL(a){const s=this._getOrCreateEditStackElement(null);this._model.setEOL(a),s.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(a,s,l){const c=this._getOrCreateEditStackElement(a),g=this._model.applyEdits(s,!0),m=d._computeCursorState(l,g),S=g.map((p,v)=>({index:v,textChange:p.textChange}));return S.sort((p,v)=>p.textChange.oldPosition===v.textChange.oldPosition?p.index-v.index:p.textChange.oldPosition-v.textChange.oldPosition),c.append(this._model,S.map(p=>p.textChange),t(this._model),this._model.getAlternativeVersionId(),m),m}static _computeCursorState(a,s){try{return a?a(s):null}catch(l){return(0,f.onUnexpectedError)(l),null}}}e.EditStack=d}),define(oe[528],se([5,6]),function(K,e){return K.create("vs/editor/common/standaloneStrings",e)}),define(oe[75],se([1,0,528]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var f;(function(n){n.noSelection=y.localize(0,null),n.singleSelectionRange=y.localize(1,null),n.singleSelection=y.localize(2,null),n.multiSelectionRange=y.localize(3,null),n.multiSelection=y.localize(4,null),n.emergencyConfOn=y.localize(5,null),n.openingDocs=y.localize(6,null),n.readonlyDiffEditor=y.localize(7,null),n.editableDiffEditor=y.localize(8,null),n.readonlyEditor=y.localize(9,null),n.editableEditor=y.localize(10,null),n.changeConfigToOnMac=y.localize(11,null),n.changeConfigToOnWinLinux=y.localize(12,null),n.auto_on=y.localize(13,null),n.auto_off=y.localize(14,null),n.tabFocusModeOnMsg=y.localize(15,null),n.tabFocusModeOnMsgNoKb=y.localize(16,null),n.tabFocusModeOffMsg=y.localize(17,null),n.tabFocusModeOffMsgNoKb=y.localize(18,null),n.openDocMac=y.localize(19,null),n.openDocWinLinux=y.localize(20,null),n.outroMsg=y.localize(21,null),n.showAccessibilityHelpAction=y.localize(22,null)})(f=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var N;(function(n){n.inspectTokensAction=y.localize(23,null)})(N=e.InspectTokensNLS||(e.InspectTokensNLS={}));var D;(function(n){n.gotoLineActionLabel=y.localize(24,null)})(D=e.GoToLineNLS||(e.GoToLineNLS={}));var L;(function(n){n.helpQuickAccessActionLabel=y.localize(25,null)})(L=e.QuickHelpNLS||(e.QuickHelpNLS={}));var b;(function(n){n.quickCommandActionLabel=y.localize(26,null),n.quickCommandHelp=y.localize(27,null)})(b=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(n){n.quickOutlineActionLabel=y.localize(28,null),n.quickOutlineByCategoryActionLabel=y.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var u;(function(n){n.editorViewAccessibleLabel=y.localize(30,null),n.accessibilityHelpMessage=y.localize(31,null)})(u=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var h;(function(n){n.toggleHighContrast=y.localize(32,null)})(h=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var i;(function(n){n.bulkEditServiceSummary=y.localize(33,null)})(i=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(oe[529],se([5,6]),function(K,e){return K.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(oe[530],se([5,6]),function(K,e){return K.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(oe[531],se([5,6]),function(K,e){return K.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(oe[532],se([5,6]),function(K,e){return K.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(oe[533],se([5,6]),function(K,e){return K.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(oe[534],se([5,6]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(oe[535],se([5,6]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(oe[536],se([5,6]),function(K,e){return K.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(oe[537],se([5,6]),function(K,e){return K.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(oe[538],se([5,6]),function(K,e){return K.create("vs/editor/contrib/comment/browser/comment",e)}),define(oe[539],se([5,6]),function(K,e){return K.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(oe[540],se([5,6]),function(K,e){return K.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(oe[541],se([5,6]),function(K,e){return K.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(oe[542],se([5,6]),function(K,e){return K.create("vs/editor/contrib/find/browser/findController",e)}),define(oe[543],se([5,6]),function(K,e){return K.create("vs/editor/contrib/find/browser/findWidget",e)}),define(oe[544],se([5,6]),function(K,e){return K.create("vs/editor/contrib/folding/browser/folding",e)}),define(oe[545],se([5,6]),function(K,e){return K.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(oe[546],se([5,6]),function(K,e){return K.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(oe[547],se([5,6]),function(K,e){return K.create("vs/editor/contrib/format/browser/format",e)}),define(oe[548],se([5,6]),function(K,e){return K.create("vs/editor/contrib/format/browser/formatActions",e)}),define(oe[549],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(oe[550],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(oe[551],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(oe[552],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(oe[553],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(oe[554],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(oe[555],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(oe[556],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(oe[131],se([1,0,13,4,136,2,50,42,8,3,556]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class i{constructor(o,a,s,l){this.isProviderFirst=o,this.parent=a,this.link=s,this._rangeCallback=l,this.id=N.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var o,a;return(a=(o=this._range)!==null&&o!==void 0?o:this.link.targetSelectionRange)!==null&&a!==void 0?a:this.link.range}set range(o){this._range=o,this._rangeCallback(this)}get ariaMessage(){var o;const a=(o=this.parent.getPreview(this))===null||o===void 0?void 0:o.preview(this.range);return a?(0,h.localize)(1,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,a.value):(0,h.localize)(0,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=i;class n{constructor(o){this._modelReference=o}dispose(){this._modelReference.dispose()}preview(o,a=8){const s=this._modelReference.object.textEditorModel;if(!s)return;const{startLineNumber:l,startColumn:c,endLineNumber:g,endColumn:m}=o,S=s.getWordUntilPosition({lineNumber:l,column:c-a}),p=new u.Range(l,S.startColumn,l,c),v=new u.Range(g,m,g,1073741824),_=s.getValueInRange(p).replace(/^\s+/,""),w=s.getValueInRange(o),E=s.getValueInRange(v).replace(/\s+$/,"");return{value:_+w+E,highlight:{start:_.length,end:_.length+w.length}}}}e.FilePreview=n;class t{constructor(o,a){this.parent=o,this.uri=a,this.children=[],this._previews=new L.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(o){return this._previews.get(o.uri)}get ariaMessage(){const o=this.children.length;return o===1?(0,h.localize)(2,null,(0,b.basename)(this.uri),this.uri.fsPath):(0,h.localize)(3,null,o,(0,b.basename)(this.uri),this.uri.fsPath)}resolve(o){return Le(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let a of this.children)if(!this._previews.has(a.uri))try{const s=yield o.createModelReference(a.uri);this._previews.set(a.uri,new n(s))}catch(s){(0,y.onUnexpectedError)(s)}return this})}}e.FileReferences=t;class r{constructor(o,a){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new f.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=o,this._title=a;const[s]=o;o.sort(r._compareReferences);let l;for(let c of o)if((!l||!b.extUri.isEqual(l.uri,c.uri,!0))&&(l=new t(this,c.uri),this.groups.push(l)),l.children.length===0||r._compareReferences(c,l.children[l.children.length-1])!==0){const g=new i(s===c,l,c,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(g),l.children.push(g)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new r(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,h.localize)(4,null):this.references.length===1?(0,h.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,h.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,h.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(o,a){let{parent:s}=o,l=s.children.indexOf(o),c=s.children.length,g=s.parent.groups.length;return g===1||a&&l+1<c||!a&&l>0?(a?l=(l+1)%c:l=(l+c-1)%c,s.children[l]):(l=s.parent.groups.indexOf(s),a?(l=(l+1)%g,s.parent.groups[l].children[0]):(l=(l+g-1)%g,s.parent.groups[l].children[s.parent.groups[l].children.length-1]))}nearestReference(o,a){const s=this.references.map((l,c)=>({idx:c,prefixLen:C.commonPrefixLength(l.uri.toString(),o.toString()),offsetDist:Math.abs(l.range.startLineNumber-a.lineNumber)*100+Math.abs(l.range.startColumn-a.column)})).sort((l,c)=>l.prefixLen>c.prefixLen?-1:l.prefixLen<c.prefixLen?1:l.offsetDist<c.offsetDist?-1:l.offsetDist>c.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(o,a){for(const s of this.references)if(s.uri.toString()===o.toString()&&u.Range.containsPosition(s.range,a))return s}firstReference(){for(const o of this.references)if(o.isProviderFirst)return o;return this.references[0]}static _compareReferences(o,a){return b.extUri.compare(o.uri,a.uri)||u.Range.compareRangesUsingStarts(o.range,a.range)}}e.ReferencesModel=r}),define(oe[557],se([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(oe[558],se([5,6]),function(K,e){return K.create("vs/editor/contrib/hover/browser/hover",e)}),define(oe[559],se([5,6]),function(K,e){return K.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(oe[560],se([5,6]),function(K,e){return K.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(oe[561],se([5,6]),function(K,e){return K.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(oe[562],se([5,6]),function(K,e){return K.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(oe[563],se([5,6]),function(K,e){return K.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(oe[564],se([5,6]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(oe[565],se([5,6]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(oe[566],se([5,6]),function(K,e){return K.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(oe[567],se([5,6]),function(K,e){return K.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(oe[568],se([5,6]),function(K,e){return K.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(oe[569],se([5,6]),function(K,e){return K.create("vs/editor/contrib/links/browser/links",e)}),define(oe[570],se([5,6]),function(K,e){return K.create("vs/editor/contrib/message/browser/messageController",e)}),define(oe[571],se([5,6]),function(K,e){return K.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(oe[572],se([5,6]),function(K,e){return K.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(oe[573],se([5,6]),function(K,e){return K.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(oe[574],se([5,6]),function(K,e){return K.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(oe[575],se([5,6]),function(K,e){return K.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(oe[576],se([5,6]),function(K,e){return K.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(oe[577],se([5,6]),function(K,e){return K.create("vs/editor/contrib/rename/browser/rename",e)}),define(oe[578],se([5,6]),function(K,e){return K.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(oe[579],se([5,6]),function(K,e){return K.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(oe[580],se([5,6]),function(K,e){return K.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(oe[581],se([5,6]),function(K,e){return K.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(oe[582],se([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(oe[583],se([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(oe[584],se([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(oe[585],se([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(oe[586],se([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(oe[587],se([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(oe[588],se([5,6]),function(K,e){return K.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(oe[589],se([5,6]),function(K,e){return K.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(oe[590],se([5,6]),function(K,e){return K.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(oe[591],se([5,6]),function(K,e){return K.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(oe[592],se([5,6]),function(K,e){return K.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(oe[593],se([5,6]),function(K,e){return K.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(oe[594],se([5,6]),function(K,e){return K.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(oe[595],se([5,6]),function(K,e){return K.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(oe[596],se([5,6]),function(K,e){return K.create("vs/platform/configuration/common/configurationRegistry",e)}),define(oe[597],se([5,6]),function(K,e){return K.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(oe[598],se([5,6]),function(K,e){return K.create("vs/platform/contextkey/common/contextkeys",e)}),define(oe[599],se([5,6]),function(K,e){return K.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(oe[600],se([5,6]),function(K,e){return K.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(oe[601],se([5,6]),function(K,e){return K.create("vs/platform/list/browser/listService",e)}),define(oe[602],se([5,6]),function(K,e){return K.create("vs/platform/markers/common/markers",e)}),define(oe[603],se([5,6]),function(K,e){return K.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(oe[604],se([5,6]),function(K,e){return K.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(oe[605],se([5,6]),function(K,e){return K.create("vs/platform/theme/common/colorRegistry",e)}),define(oe[606],se([5,6]),function(K,e){return K.create("vs/platform/theme/common/iconRegistry",e)}),define(oe[607],se([5,6]),function(K,e){return K.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(oe[608],se([5,6]),function(K,e){return K.create("vs/platform/workspace/common/workspace",e)}),define(oe[609],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var y;(function(f){f[f.API=0]="API",f[f.USER=1]="USER"})(y=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(oe[610],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class y{constructor(N){this.value=N,this._lower=N.toLowerCase()}static toKey(N){return typeof N=="string"?N.toLowerCase():N._lower}}e.ExtensionIdentifier=y}),define(oe[278],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var y;(function(f){f[f.FILE=0]="FILE",f[f.FOLDER=1]="FOLDER",f[f.ROOT_FOLDER=2]="ROOT_FOLDER"})(y=e.FileKind||(e.FileKind={}))}),define(oe[611],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function y(f){var N,D;return((N=f.lookupKeybinding("history.showPrevious"))===null||N===void 0?void 0:N.getElectronAccelerator())==="Up"&&((D=f.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=y}),define(oe[201],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class y{constructor(N,D=[],L=!1){this.ctor=N,this.staticArguments=D,this.supportsDelayedInstantiation=L}}e.SyncDescriptor=y}),define(oe[53],se([1,0,201]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const f=[];function N(L,b,C){b instanceof y.SyncDescriptor||(b=new y.SyncDescriptor(b,[],C)),f.push([L,b])}e.registerSingleton=N;function D(){return f}e.getSingletonServiceDescriptors=D}),define(oe[612],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class y{constructor(D){this.incoming=new Map,this.outgoing=new Map,this.data=D}}e.Node=y;class f{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(let L of this._nodes.values())L.outgoing.size===0&&D.push(L);return D}insertEdge(D,L){const b=this.lookupOrInsertNode(D),C=this.lookupOrInsertNode(L);b.outgoing.set(this._hashFn(L),C),C.incoming.set(this._hashFn(D),b)}removeNode(D){const L=this._hashFn(D);this._nodes.delete(L);for(let b of this._nodes.values())b.outgoing.delete(L),b.incoming.delete(L)}lookupOrInsertNode(D){const L=this._hashFn(D);let b=this._nodes.get(L);return b||(b=new y(D),this._nodes.set(L,b)),b}isEmpty(){return this._nodes.size===0}toString(){let D=[];for(let[L,b]of this._nodes)D.push(`${L}, (incoming)[${[...b.incoming.keys()].join(", ")}], (outgoing)[${[...b.outgoing.keys()].join(",")}]`);return D.join(`
`)}findCycleSlow(){for(let[D,L]of this._nodes){const b=new Set([D]),C=this._findCycle(L,b);if(C)return C}}_findCycle(D,L){for(let[b,C]of D.outgoing){if(L.has(b))return[...L,b].join(" -> ");L.add(b);const u=this._findCycle(C,L);if(u)return u;L.delete(b)}}}e.Graph=f}),define(oe[9],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function L(b){return b[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=L})(y=e._util||(e._util={})),e.IInstantiationService=N("instantiationService");function f(D,L,b){L[y.DI_TARGET]===L?L[y.DI_DEPENDENCIES].push({id:D,index:b}):(L[y.DI_DEPENDENCIES]=[{id:D,index:b}],L[y.DI_TARGET]=L)}function N(D){if(y.serviceIds.has(D))return y.serviceIds.get(D);const L=function(b,C,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");f(L,b,u)};return L.toString=()=>D,y.serviceIds.set(D,L),L}e.createDecorator=N}),define(oe[202],se([1,0,9,25,19]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,y.createDecorator)("IWorkspaceEditService");function D(h){return(0,N.isObject)(h)&&(Boolean(h.newUri)||Boolean(h.oldUri))}function L(h){return(0,N.isObject)(h)&&f.URI.isUri(h.resource)&&(0,N.isObject)(h.edit)}class b{constructor(i){this.metadata=i}static convert(i){return i.edits.map(n=>{if(L(n))return new C(n.resource,n.edit,n.modelVersionId,n.metadata);if(D(n))return new u(n.oldUri,n.newUri,n.options,n.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=b;class C extends b{constructor(i,n,t,r){super(r);this.resource=i,this.textEdit=n,this.versionId=t}}e.ResourceTextEdit=C;class u extends b{constructor(i,n,t,r){super(r);this.oldResource=i,this.newResource=n,this.options=t}}e.ResourceFileEdit=u}),define(oe[29],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,y.createDecorator)("codeEditorService")}),define(oe[36],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,y.createDecorator)("languageService")}),define(oe[89],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,y.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(oe[20],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,y.createDecorator)("ILanguageFeaturesService")}),define(oe[613],se([1,0,431,20,53]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new y.LanguageFeatureRegistry(this._score.bind(this))}_score(b){var C;return(C=this._notebookTypeResolver)===null||C===void 0?void 0:C.call(this,b)}}e.LanguageFeaturesService=D,(0,N.registerSingleton)(f.ILanguageFeaturesService,D,!0)}),define(oe[203],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,y.createDecorator)("markerDecorationsService")}),define(oe[48],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,y.createDecorator)("modelService")}),define(oe[58],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,y.createDecorator)("textModelService")}),define(oe[158],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,y.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,y.createDecorator)("textResourcePropertiesService")}),define(oe[108],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,y.createDecorator)("themeService")}),define(oe[96],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,y.createDecorator)("clipboardService")}),define(oe[26],se([1,0,4,56,2,84,19,9]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,b.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,u){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!u)throw new Error("invalid command");return this.registerCommand({id:C,handler:u})}if(C.description){const r=[];for(let o of C.description.args)r.push(o.constraint);const d=C.handler;C.handler=function(o,...a){return(0,L.validateConstraints)(a,r),d(o,...a)}}const{id:h}=C;let i=this._commands.get(h);i||(i=new D.LinkedList,this._commands.set(h,i));let n=i.unshift(C),t=(0,N.toDisposable)(()=>{n();const r=this._commands.get(h);(r==null?void 0:r.isEmpty())&&this._commands.delete(h)});return this._onDidRegisterCommand.fire(h),t}registerCommandAlias(C,u){return e.CommandsRegistry.registerCommand(C,(h,...i)=>h.get(e.ICommandService).executeCommand(u,...i))}getCommand(C){const u=this._commands.get(C);if(!(!u||u.isEmpty()))return f.Iterable.first(u)}getCommands(){const C=new Map;for(const u of this._commands.keys()){const h=this.getCommand(u);h&&C.set(u,h)}return C}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>N.Disposable.None,onDidExecuteCommand:()=>N.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(oe[279],se([1,0,21,13,25,48,26,19,439,3,20]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function i(m){return m&&!!m.data}e.isSemanticTokens=i;function n(m){return m&&Array.isArray(m.edits)}e.isSemanticTokensEdits=n;class t{constructor(S,p,v){this.provider=S,this.tokens=p,this.error=v}}e.DocumentSemanticTokensResult=t;function r(m,S){return m.has(S)}e.hasDocumentSemanticTokensProvider=r;function d(m,S){const p=m.orderedGroups(S);return p.length>0?p[0]:[]}function o(m,S,p,v,_){return Le(this,void 0,void 0,function*(){const w=d(m,S),E=yield Promise.all(w.map(I=>Le(this,void 0,void 0,function*(){let T,R=null;try{T=yield I.provideDocumentSemanticTokens(S,I===p?v:null,_)}catch(B){R=B,T=null}return(!T||!i(T)&&!n(T))&&(T=null),new t(I,T,R)})));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=o;function a(m,S){const p=m.orderedGroups(S);return p.length>0?p[0]:null}class s{constructor(S,p){this.provider=S,this.tokens=p}}function l(m,S){return m.has(S)}e.hasDocumentRangeSemanticTokensProvider=l;function c(m,S){const p=m.orderedGroups(S);return p.length>0?p[0]:[]}function g(m,S,p,v){return Le(this,void 0,void 0,function*(){const _=c(m,S),w=yield Promise.all(_.map(E=>Le(this,void 0,void 0,function*(){let I;try{I=yield E.provideDocumentRangeSemanticTokens(S,p,v)}catch(T){(0,f.onUnexpectedExternalError)(T),I=null}return(!I||!i(I))&&(I=null),new s(E,I)})));for(const E of w)if(E.tokens)return E;return w.length>0?w[0]:null})}e.getDocumentRangeSemanticTokens=g,L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p]=S;(0,b.assertType)(p instanceof N.URI);const v=m.get(D.IModelService).getModel(p);if(!v)return;const{documentSemanticTokensProvider:_}=m.get(h.ILanguageFeaturesService),w=a(_,v);return w?w[0].getLegend():m.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",p)})),L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p]=S;(0,b.assertType)(p instanceof N.URI);const v=m.get(D.IModelService).getModel(p);if(!v)return;const{documentSemanticTokensProvider:_}=m.get(h.ILanguageFeaturesService);if(!r(_,v))return m.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",p,v.getFullModelRange());const w=yield o(_,v,null,null,y.CancellationToken.None);if(!w)return;const{provider:E,tokens:I}=w;if(!I||!i(I))return;const T=(0,C.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),T})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p,v]=S;(0,b.assertType)(p instanceof N.URI);const _=m.get(D.IModelService).getModel(p);if(!_)return;const{documentRangeSemanticTokensProvider:w}=m.get(h.ILanguageFeaturesService),E=c(w,_);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!v||!u.Range.isIRange(v))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=yield g(w,_,u.Range.lift(v),y.CancellationToken.None);if(!!I)return I.provider.getLegend()})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(m,...S)=>Le(void 0,void 0,void 0,function*(){const[p,v]=S;(0,b.assertType)(p instanceof N.URI),(0,b.assertType)(u.Range.isIRange(v));const _=m.get(D.IModelService).getModel(p);if(!_)return;const{documentRangeSemanticTokensProvider:w}=m.get(h.ILanguageFeaturesService),E=yield g(w,_,u.Range.lift(v),y.CancellationToken.None);if(!(!E||!E.tokens))return(0,C.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(oe[280],se([1,0,21,13,2,19,25,48,26,20]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class h{constructor(){this.lenses=[],this._disposables=new N.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,r){this._disposables.add(t);for(const d of t.lenses)this.lenses.push({symbol:d,provider:r})}}e.CodeLensModel=h;function i(n,t,r){return Le(this,void 0,void 0,function*(){const d=n.ordered(t),o=new Map,a=new h,s=d.map((l,c)=>Le(this,void 0,void 0,function*(){o.set(l,c);try{const g=yield Promise.resolve(l.provideCodeLenses(t,r));g&&a.add(g,l)}catch(g){(0,f.onUnexpectedExternalError)(g)}}));return yield Promise.all(s),a.lenses=a.lenses.sort((l,c)=>l.symbol.range.startLineNumber<c.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>c.symbol.range.startLineNumber?1:o.get(l.provider)<o.get(c.provider)?-1:o.get(l.provider)>o.get(c.provider)?1:l.symbol.range.startColumn<c.symbol.range.startColumn?-1:l.symbol.range.startColumn>c.symbol.range.startColumn?1:0),a})}e.getCodeLensModel=i,C.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(n,...t){let[r,d]=t;(0,D.assertType)(L.URI.isUri(r)),(0,D.assertType)(typeof d=="number"||!d);const{codeLensProvider:o}=n.get(u.ILanguageFeaturesService),a=n.get(b.IModelService).getModel(r);if(!a)throw(0,f.illegalArgument)();const s=[],l=new N.DisposableStore;return i(o,a,y.CancellationToken.None).then(c=>{l.add(c);let g=[];for(const m of c.lenses)d==null||Boolean(m.symbol.command)?s.push(m.symbol):d-- >0&&m.provider.resolveCodeLens&&g.push(Promise.resolve(m.provider.resolveCodeLens(a,m.symbol,y.CancellationToken.None)).then(S=>s.push(S||m.symbol)));return Promise.all(g)}).then(()=>s).finally(()=>{setTimeout(()=>l.dispose(),100)})})}),define(oe[281],se([1,0,21,13,25,3,48,26,20]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function u(i,n,t){const r=[],o=i.ordered(n).reverse().map(a=>Promise.resolve(a.provideDocumentColors(n,t)).then(s=>{if(Array.isArray(s))for(let l of s)r.push({colorInfo:l,provider:a})}));return Promise.all(o).then(()=>r)}e.getColors=u;function h(i,n,t,r){return Promise.resolve(t.provideColorPresentations(i,n,r))}e.getColorPresentations=h,b.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(i,...n){const[t]=n;if(!(t instanceof N.URI))throw(0,f.illegalArgument)();const{colorProvider:r}=i.get(C.ILanguageFeaturesService),d=i.get(L.IModelService).getModel(t);if(!d)throw(0,f.illegalArgument)();const o=[],s=r.ordered(d).reverse().map(l=>Promise.resolve(l.provideDocumentColors(d,y.CancellationToken.None)).then(c=>{if(Array.isArray(c))for(let g of c)o.push({range:g.range,color:[g.color.red,g.color.green,g.color.blue,g.color.alpha]})}));return Promise.all(s).then(()=>o)}),b.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(i,...n){const[t,r]=n,{uri:d,range:o}=r;if(!(d instanceof N.URI)||!Array.isArray(t)||t.length!==4||!D.Range.isIRange(o))throw(0,f.illegalArgument)();const[a,s,l,c]=t,{colorProvider:g}=i.get(C.ILanguageFeaturesService),m=i.get(L.IModelService).getModel(d);if(!m)throw(0,f.illegalArgument)();const S={range:o,color:{red:a,green:s,blue:l,alpha:c}},p=[],_=g.ordered(m).reverse().map(w=>Promise.resolve(w.provideColorPresentations(m,S,y.CancellationToken.None)).then(E=>{Array.isArray(E)&&p.push(...E)}));return Promise.all(_).then(()=>p)})}),define(oe[614],se([1,0,18,21,13,2,19,25,3,48,26,20]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class n{constructor(o,a){this._link=o,this._provider=a}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(o){return Le(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,o)).then(a=>(this._link=a||this._link,this._link.url?this.resolve(o):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=n;class t{constructor(o){this._disposables=new D.DisposableStore;let a=[];for(const[s,l]of o){const c=s.links.map(g=>new n(g,l));a=t._union(a,c),(0,D.isDisposable)(s)&&this._disposables.add(s)}this.links=a}dispose(){this._disposables.dispose(),this.links.length=0}static _union(o,a){let s=[],l,c,g,m;for(l=0,g=0,c=o.length,m=a.length;l<c&&g<m;){const S=o[l],p=a[g];if(C.Range.areIntersectingOrTouching(S.range,p.range)){l++;continue}C.Range.compareRangesUsingStarts(S.range,p.range)<0?(s.push(S),l++):(s.push(p),g++)}for(;l<c;l++)s.push(o[l]);for(;g<m;g++)s.push(a[g]);return s}}e.LinksList=t;function r(d,o,a){const s=[],l=d.ordered(o).reverse().map((c,g)=>Promise.resolve(c.provideLinks(o,a)).then(m=>{m&&(s[g]=[m,c])},N.onUnexpectedExternalError));return Promise.all(l).then(()=>{const c=new t((0,y.coalesce)(s));return a.isCancellationRequested?(c.dispose(),new t([])):c})}e.getLinks=r,h.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...o)=>Le(void 0,void 0,void 0,function*(){let[a,s]=o;(0,L.assertType)(a instanceof b.URI),typeof s!="number"&&(s=0);const{linkProvider:l}=d.get(i.ILanguageFeaturesService),c=d.get(u.IModelService).getModel(a);if(!c)return[];const g=yield r(l,c,f.CancellationToken.None);if(!g)return[];for(let S=0;S<Math.min(s,g.links.length);S++)yield g.links[S].resolve(f.CancellationToken.None);const m=g.links.slice(0);return g.dispose(),m}))}),define(oe[37],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,y.createDecorator)("configurationService");function f(u,h){const i=Object.create(null);for(let n in u)N(i,n,u[n],h);return i}e.toValuesTree=f;function N(u,h,i,n){const t=h.split("."),r=t.pop();let d=u;for(let o=0;o<t.length;o++){let a=t[o],s=d[a];switch(typeof s){case"undefined":s=d[a]=Object.create(null);break;case"object":break;default:n(`Ignoring ${h} as ${t.slice(0,o+1).join(".")} is ${JSON.stringify(s)}`);return}d=s}if(typeof d=="object"&&d!==null)try{d[r]=i}catch{n(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(d)}`)}else n(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(d)}`)}e.addToValueTree=N;function D(u,h){const i=h.split(".");L(u,i)}e.removeFromValueTree=D;function L(u,h){const i=h.shift();if(h.length===0){delete u[i];return}if(Object.keys(u).indexOf(i)!==-1){const n=u[i];typeof n=="object"&&!Array.isArray(n)&&(L(n,h),Object.keys(n).length===0&&delete u[i])}}function b(u,h,i){function n(d,o){let a=d;for(const s of o){if(typeof a!="object"||a===null)return;a=a[s]}return a}const t=h.split("."),r=n(u,t);return typeof r=="undefined"?i:r}e.getConfigurationValue=b;function C(u){return u.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=C}),define(oe[16],se([1,0,17,8,9]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const D=new Map;D.set("false",!1),D.set("true",!0),D.set("isMac",y.isMacintosh),D.set("isLinux",y.isLinux),D.set("isWindows",y.isWindows),D.set("isWeb",y.isWeb),D.set("isMacNative",y.isMacintosh&&!y.isWeb),D.set("isEdge",y.isEdge),D.set("isFirefox",y.isFirefox),D.set("isChrome",y.isChrome),D.set("isSafari",y.isSafari);const L=Object.prototype.hasOwnProperty;class b{static has(k){return n.create(k)}static equals(k,A){return t.create(k,A)}static regex(k,A){return S.create(k,A)}static not(k){return a.create(k)}static and(...k){return _.create(k,null)}static or(...k){return w.create(k,null,!0)}static deserialize(k,A=!1){if(!!k)return this._deserializeOrExpression(k,A)}static _deserializeOrExpression(k,A){let F=k.split("||");return w.create(F.map(P=>this._deserializeAndExpression(P,A)),null,!0)}static _deserializeAndExpression(k,A){let F=k.split("&&");return _.create(F.map(P=>this._deserializeOne(P,A)),null)}static _deserializeOne(k,A){if(k=k.trim(),k.indexOf("!=")>=0){let F=k.split("!=");return o.create(F[0].trim(),this._deserializeValue(F[1],A))}if(k.indexOf("==")>=0){let F=k.split("==");return t.create(F[0].trim(),this._deserializeValue(F[1],A))}if(k.indexOf("=~")>=0){let F=k.split("=~");return S.create(F[0].trim(),this._deserializeRegexValue(F[1],A))}if(k.indexOf(" in ")>=0){let F=k.split(" in ");return r.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(k)){const F=k.split(">=");return c.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(k)){const F=k.split(">");return l.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(k)){const F=k.split("<=");return m.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(k)){const F=k.split("<");return g.create(F[0].trim(),F[1].trim())}return/^\!\s*/.test(k)?a.create(k.substr(1).trim()):n.create(k)}static _deserializeValue(k,A){if(k=k.trim(),k==="true")return!0;if(k==="false")return!1;let F=/^'([^']*)'$/.exec(k);return F?F[1].trim():k}static _deserializeRegexValue(k,A){if((0,f.isFalsyOrWhitespace)(k)){if(A)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let F=k.indexOf("/"),P=k.lastIndexOf("/");if(F===P||F<0){if(A)throw new Error(`bad regexp-value '${k}', missing /-enclosure`);return console.warn(`bad regexp-value '${k}', missing /-enclosure`),null}let W=k.slice(F+1,P),M=k[P+1]==="i"?"i":"";try{return new RegExp(W,M)}catch(z){if(A)throw new Error(`bad regexp-value '${k}', parse error: ${z}`);return console.warn(`bad regexp-value '${k}', parse error: ${z}`),null}}}e.ContextKeyExpr=b;function C(O,k){const A=O?O.substituteConstants():void 0,F=k?k.substituteConstants():void 0;return!A&&!F?!0:!A||!F?!1:A.equals(F)}e.expressionsAreEqualWithConstantSubstitution=C;function u(O,k){return O.cmp(k)}class h{constructor(){this.type=0}cmp(k){return this.type-k.type}equals(k){return k.type===this.type}substituteConstants(){return this}evaluate(k){return!1}serialize(){return"false"}keys(){return[]}negate(){return i.INSTANCE}}e.ContextKeyFalseExpr=h,h.INSTANCE=new h;class i{constructor(){this.type=1}cmp(k){return this.type-k.type}equals(k){return k.type===this.type}substituteConstants(){return this}evaluate(k){return!0}serialize(){return"true"}keys(){return[]}negate(){return h.INSTANCE}}e.ContextKeyTrueExpr=i,i.INSTANCE=new i;class n{constructor(k,A){this.key=k,this.negated=A,this.type=2}static create(k,A=null){const F=D.get(k);return typeof F=="boolean"?F?i.INSTANCE:h.INSTANCE:new n(k,A)}cmp(k){return k.type!==this.type?this.type-k.type:I(this.key,k.key)}equals(k){return k.type===this.type?this.key===k.key:!1}substituteConstants(){const k=D.get(this.key);return typeof k=="boolean"?k?i.INSTANCE:h.INSTANCE:this}evaluate(k){return!!k.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=n;class t{constructor(k,A,F){this.key=k,this.value=A,this.negated=F,this.type=4}static create(k,A,F=null){if(typeof A=="boolean")return A?n.create(k,F):a.create(k,F);const P=D.get(k);return typeof P=="boolean"?A===(P?"true":"false")?i.INSTANCE:h.INSTANCE:new t(k,A,F)}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){const k=D.get(this.key);if(typeof k=="boolean"){const A=k?"true":"false";return this.value===A?i.INSTANCE:h.INSTANCE}return this}evaluate(k){return k.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=o.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=t;class r{constructor(k,A){this.key=k,this.valueKey=A,this.type=10,this.negated=null}static create(k,A){return new r(k,A)}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.valueKey,k.key,k.valueKey)}equals(k){return k.type===this.type?this.key===k.key&&this.valueKey===k.valueKey:!1}substituteConstants(){return this}evaluate(k){const A=k.getValue(this.valueKey),F=k.getValue(this.key);return Array.isArray(A)?A.includes(F):typeof F=="string"&&typeof A=="object"&&A!==null?L.call(A,F):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyInExpr=r;class d{constructor(k){this._actual=k,this.type=11}static create(k){return new d(k)}cmp(k){return k.type!==this.type?this.type-k.type:this._actual.cmp(k._actual)}equals(k){return k.type===this.type?this._actual.equals(k._actual):!1}substituteConstants(){return this}evaluate(k){return!this._actual.evaluate(k)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class o{constructor(k,A,F){this.key=k,this.value=A,this.negated=F,this.type=5}static create(k,A,F=null){if(typeof A=="boolean")return A?a.create(k,F):n.create(k,F);const P=D.get(k);return typeof P=="boolean"?A===(P?"true":"false")?h.INSTANCE:i.INSTANCE:new o(k,A,F)}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){const k=D.get(this.key);if(typeof k=="boolean"){const A=k?"true":"false";return this.value===A?h.INSTANCE:i.INSTANCE}return this}evaluate(k){return k.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=o;class a{constructor(k,A){this.key=k,this.negated=A,this.type=3}static create(k,A=null){const F=D.get(k);return typeof F=="boolean"?F?h.INSTANCE:i.INSTANCE:new a(k,A)}cmp(k){return k.type!==this.type?this.type-k.type:I(this.key,k.key)}equals(k){return k.type===this.type?this.key===k.key:!1}substituteConstants(){const k=D.get(this.key);return typeof k=="boolean"?k?h.INSTANCE:i.INSTANCE:this}evaluate(k){return!k.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=a;function s(O,k){if(typeof O=="string"){const A=parseFloat(O);isNaN(A)||(O=A)}return typeof O=="string"||typeof O=="number"?k(O):h.INSTANCE}class l{constructor(k,A,F){this.key=k,this.value=A,this.negated=F,this.type=12}static create(k,A,F=null){return s(A,P=>new l(k,P,F))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=l;class c{constructor(k,A,F){this.key=k,this.value=A,this.negated=F,this.type=13}static create(k,A,F=null){return s(A,P=>new c(k,P,F))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=c;class g{constructor(k,A,F){this.key=k,this.value=A,this.negated=F,this.type=14}static create(k,A,F=null){return s(A,P=>new g(k,P,F))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=g;class m{constructor(k,A,F){this.key=k,this.value=A,this.negated=F,this.type=15}static create(k,A,F=null){return s(A,P=>new m(k,P,F))}cmp(k){return k.type!==this.type?this.type-k.type:T(this.key,this.value,k.key,k.value)}equals(k){return k.type===this.type?this.key===k.key&&this.value===k.value:!1}substituteConstants(){return this}evaluate(k){return typeof this.value=="string"?!1:parseFloat(k.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=m;class S{constructor(k,A){this.key=k,this.regexp=A,this.type=7,this.negated=null}static create(k,A){return new S(k,A)}cmp(k){if(k.type!==this.type)return this.type-k.type;if(this.key<k.key)return-1;if(this.key>k.key)return 1;const A=this.regexp?this.regexp.source:"",F=k.regexp?k.regexp.source:"";return A<F?-1:A>F?1:0}equals(k){if(k.type===this.type){const A=this.regexp?this.regexp.source:"",F=k.regexp?k.regexp.source:"";return this.key===k.key&&A===F}return!1}substituteConstants(){return this}evaluate(k){let A=k.getValue(this.key);return this.regexp?this.regexp.test(A):!1}serialize(){const k=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${k}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this)),this.negated}}e.ContextKeyRegexExpr=S;class p{constructor(k){this._actual=k,this.type=8}static create(k){return new p(k)}cmp(k){return k.type!==this.type?this.type-k.type:this._actual.cmp(k._actual)}equals(k){return k.type===this.type?this._actual.equals(k._actual):!1}substituteConstants(){return this}evaluate(k){return!this._actual.evaluate(k)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=p;function v(O){let k=null;for(let A=0,F=O.length;A<F;A++){const P=O[A].substituteConstants();if(O[A]!==P&&k===null){k=[];for(let W=0;W<A;W++)k[W]=O[W]}k!==null&&(k[A]=P)}return k===null?O:k}class _{constructor(k,A){this.expr=k,this.negated=A,this.type=6}static create(k,A){return _._normalizeArr(k,A)}cmp(k){if(k.type!==this.type)return this.type-k.type;if(this.expr.length<k.expr.length)return-1;if(this.expr.length>k.expr.length)return 1;for(let A=0,F=this.expr.length;A<F;A++){const P=u(this.expr[A],k.expr[A]);if(P!==0)return P}return 0}equals(k){if(k.type===this.type){if(this.expr.length!==k.expr.length)return!1;for(let A=0,F=this.expr.length;A<F;A++)if(!this.expr[A].equals(k.expr[A]))return!1;return!0}return!1}substituteConstants(){const k=v(this.expr);return k===this.expr?this:_.create(k,this.negated)}evaluate(k){for(let A=0,F=this.expr.length;A<F;A++)if(!this.expr[A].evaluate(k))return!1;return!0}static _normalizeArr(k,A){const F=[];let P=!1;for(const W of k)if(!!W){if(W.type===1){P=!0;continue}if(W.type===0)return h.INSTANCE;if(W.type===6){F.push(...W.expr);continue}F.push(W)}if(F.length===0&&P)return i.INSTANCE;if(F.length!==0){if(F.length===1)return F[0];F.sort(u);for(let W=1;W<F.length;W++)F[W-1].equals(F[W])&&(F.splice(W,1),W--);if(F.length===1)return F[0];for(;F.length>1;){const W=F[F.length-1];if(W.type!==9)break;F.pop();const M=F.pop(),z=F.length===0,Q=w.create(W.expr.map(ne=>_.create([ne,M],null)),null,z);Q&&(F.push(Q),F.sort(u))}return F.length===1?F[0]:new _(F,A)}}serialize(){return this.expr.map(k=>k.serialize()).join(" && ")}keys(){const k=[];for(let A of this.expr)k.push(...A.keys());return k}negate(){if(!this.negated){const k=[];for(let A of this.expr)k.push(A.negate());this.negated=w.create(k,this,!0)}return this.negated}}class w{constructor(k,A){this.expr=k,this.negated=A,this.type=9}static create(k,A,F){return w._normalizeArr(k,A,F)}cmp(k){if(k.type!==this.type)return this.type-k.type;if(this.expr.length<k.expr.length)return-1;if(this.expr.length>k.expr.length)return 1;for(let A=0,F=this.expr.length;A<F;A++){const P=u(this.expr[A],k.expr[A]);if(P!==0)return P}return 0}equals(k){if(k.type===this.type){if(this.expr.length!==k.expr.length)return!1;for(let A=0,F=this.expr.length;A<F;A++)if(!this.expr[A].equals(k.expr[A]))return!1;return!0}return!1}substituteConstants(){const k=v(this.expr);return k===this.expr?this:w.create(k,this.negated,!1)}evaluate(k){for(let A=0,F=this.expr.length;A<F;A++)if(this.expr[A].evaluate(k))return!0;return!1}static _normalizeArr(k,A,F){let P=[],W=!1;if(k){for(let M=0,z=k.length;M<z;M++){const Q=k[M];if(!!Q){if(Q.type===0){W=!0;continue}if(Q.type===1)return i.INSTANCE;if(Q.type===9){P=P.concat(Q.expr);continue}P.push(Q)}}if(P.length===0&&W)return h.INSTANCE;P.sort(u)}if(P.length!==0){if(P.length===1)return P[0];for(let M=1;M<P.length;M++)P[M-1].equals(P[M])&&(P.splice(M,1),M--);if(P.length===1)return P[0];if(F){for(let M=0;M<P.length;M++)for(let z=M+1;z<P.length;z++)R(P[M],P[z])&&(P.splice(z,1),z--);if(P.length===1)return P[0]}return new w(P,A)}}serialize(){return this.expr.map(k=>k.serialize()).join(" || ")}keys(){const k=[];for(let A of this.expr)k.push(...A.keys());return k}negate(){if(!this.negated){let k=[];for(let A of this.expr)k.push(A.negate());for(;k.length>1;){const A=k.shift(),F=k.shift(),P=[];for(const M of B(A))for(const z of B(F))P.push(_.create([M,z],null));const W=k.length===0;k.unshift(w.create(P,null,W))}this.negated=k[0]}return this.negated}}class E extends n{constructor(k,A,F){super(k,null);this._defaultValue=A,typeof F=="object"?E._info.push(Object.assign(Object.assign({},F),{key:k})):F!==!0&&E._info.push({key:k,description:F,type:A!=null?typeof A:void 0})}static all(){return E._info.values()}bindTo(k){return k.createKey(this.key,this._defaultValue)}getValue(k){return k.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(k){return t.create(this.key,k)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,N.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function I(O,k){return O<k?-1:O>k?1:0}function T(O,k,A,F){return O<A?-1:O>A?1:k<F?-1:k>F?1:0}function R(O,k){if(k.type===6&&O.type!==9&&O.type!==6){for(const P of k.expr)if(O.equals(P))return!0}const A=O.negate(),F=B(A).concat(B(k));F.sort(u);for(let P=0;P<F.length;P++){const M=F[P].negate();for(let z=P+1;z<F.length;z++){const Q=F[z];if(M.equals(Q))return!0}}return!1}e.implies=R;function B(O){return O.type===9?O.expr:[O]}}),define(oe[22],se([1,0,525,16]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var N;(function(D){D.editorSimpleInput=new f.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new f.RawContextKey("editorTextFocus",!1,y.localize(0,null)),D.focus=new f.RawContextKey("editorFocus",!1,y.localize(1,null)),D.textInputFocus=new f.RawContextKey("textInputFocus",!1,y.localize(2,null)),D.readOnly=new f.RawContextKey("editorReadonly",!1,y.localize(3,null)),D.inDiffEditor=new f.RawContextKey("inDiffEditor",!1,y.localize(4,null)),D.columnSelection=new f.RawContextKey("editorColumnSelection",!1,y.localize(5,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new f.RawContextKey("editorHasSelection",!1,y.localize(6,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new f.RawContextKey("editorHasMultipleSelections",!1,y.localize(7,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new f.RawContextKey("editorTabMovesFocus",!1,y.localize(8,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new f.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new f.RawContextKey("canUndo",!1,!0),D.canRedo=new f.RawContextKey("canRedo",!1,!0),D.hoverVisible=new f.RawContextKey("editorHoverVisible",!1,y.localize(9,null)),D.inCompositeEditor=new f.RawContextKey("inCompositeEditor",void 0,y.localize(10,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new f.RawContextKey("editorLangId","",y.localize(11,null)),D.hasCompletionItemProvider=new f.RawContextKey("editorHasCompletionItemProvider",!1,y.localize(12,null)),D.hasCodeActionsProvider=new f.RawContextKey("editorHasCodeActionsProvider",!1,y.localize(13,null)),D.hasCodeLensProvider=new f.RawContextKey("editorHasCodeLensProvider",!1,y.localize(14,null)),D.hasDefinitionProvider=new f.RawContextKey("editorHasDefinitionProvider",!1,y.localize(15,null)),D.hasDeclarationProvider=new f.RawContextKey("editorHasDeclarationProvider",!1,y.localize(16,null)),D.hasImplementationProvider=new f.RawContextKey("editorHasImplementationProvider",!1,y.localize(17,null)),D.hasTypeDefinitionProvider=new f.RawContextKey("editorHasTypeDefinitionProvider",!1,y.localize(18,null)),D.hasHoverProvider=new f.RawContextKey("editorHasHoverProvider",!1,y.localize(19,null)),D.hasDocumentHighlightProvider=new f.RawContextKey("editorHasDocumentHighlightProvider",!1,y.localize(20,null)),D.hasDocumentSymbolProvider=new f.RawContextKey("editorHasDocumentSymbolProvider",!1,y.localize(21,null)),D.hasReferenceProvider=new f.RawContextKey("editorHasReferenceProvider",!1,y.localize(22,null)),D.hasRenameProvider=new f.RawContextKey("editorHasRenameProvider",!1,y.localize(23,null)),D.hasSignatureHelpProvider=new f.RawContextKey("editorHasSignatureHelpProvider",!1,y.localize(24,null)),D.hasInlayHintsProvider=new f.RawContextKey("editorHasInlayHintsProvider",!1,y.localize(25,null)),D.hasDocumentFormattingProvider=new f.RawContextKey("editorHasDocumentFormattingProvider",!1,y.localize(26,null)),D.hasDocumentSelectionFormattingProvider=new f.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,y.localize(27,null)),D.hasMultipleDocumentFormattingProvider=new f.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,y.localize(28,null)),D.hasMultipleDocumentSelectionFormattingProvider=new f.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,y.localize(29,null))})(N=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(oe[204],se([1,0,21,13,19,25,11,27,20,58,26,16]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new i.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new i.RawContextKey("parameterHintsMultipleSignatures",!1)};function n(t,r,d,o,a){return Le(this,void 0,void 0,function*(){const s=t.ordered(r);for(const l of s)try{const c=yield l.provideSignatureHelp(r,d,a,o);if(c)return c}catch(c){(0,f.onUnexpectedExternalError)(c)}})}e.provideSignatureHelp=n,h.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...r)=>Le(void 0,void 0,void 0,function*(){const[d,o,a]=r;(0,N.assertType)(D.URI.isUri(d)),(0,N.assertType)(L.Position.isIPosition(o)),(0,N.assertType)(typeof a=="string"||!a);const s=t.get(C.ILanguageFeaturesService),l=yield t.get(u.ITextModelService).createModelReference(d);try{const c=yield n(s.signatureHelpProvider,l.object.textEditorModel,L.Position.lift(o),{triggerKind:b.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:a},y.CancellationToken.None);return c?(setTimeout(()=>c.dispose(),0),c.value):void 0}finally{l.dispose()}}))}),define(oe[615],se([1,0,10,13,4,2,102,27,204]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var u;(function(n){n.Default={type:0};class t{constructor(o,a){this.request=o,this.previouslyActiveHints=a,this.type=2}}n.Pending=t;class r{constructor(o){this.hints=o,this.type=1}}n.Active=r})(u||(u={}));class h extends D.Disposable{constructor(t,r,d=h.DEFAULT_DELAY){super();this._onChangedHints=this._register(new N.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=u.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet,this.triggerId=0,this.editor=t,this.providers=r,this.throttledDelayer=new y.Delayer(d),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(o=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(o=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(o=>this.onCursorChange(o))),this._register(this.editor.onDidChangeModelContent(o=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(o=>this.onDidType(o))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=u.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,r){const d=this.editor.getModel();if(!d||!this.providers.has(d))return;const o=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(o),r).catch(f.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,d=r%t==t-1,o=this.editor.getOption(76).cycle;if((t<2||d)&&!o){this.cancel();return}this.updateActiveSignature(d&&o?0:r+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,d=r===0,o=this.editor.getOption(76).cycle;if((t<2||d)&&!o){this.cancel();return}this.updateActiveSignature(d&&o?t-1:r-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new u.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return Le(this,void 0,void 0,function*(){const r=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const o=this._pendingTriggers.reduce(i);this._pendingTriggers=[];const a={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:r,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),l=this.editor.getPosition();this.state=new u.Pending((0,y.createCancelablePromise)(c=>(0,C.provideSignatureHelp)(this.providers,s,l,a,c)),d);try{const c=yield this.state.request;return t!==this.triggerId?(c==null||c.dispose(),!1):!c||!c.value.signatures||c.value.signatures.length===0?(c==null||c.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new u.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),!0)}catch(c){return t===this.triggerId&&(this.state=u.Default),(0,f.onUnexpectedError)(c),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet;const t=this.editor.getModel();if(!!t)for(const r of this.providers.ordered(t)){for(const d of r.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of r.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const r=t.length-1,d=t.charCodeAt(r);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(r)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=h,h.DEFAULT_DELAY=120;function i(n,t){switch(t.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return t;case b.SignatureHelpTriggerKind.ContentChange:return n;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}});var fe=this&&this.__param||function(K,e){return function(y,f){e(y,f,K)}};define(oe[616],se([1,0,16]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let f=class Wt{constructor(D,L){this._editor=D,this._index=0,this._ckOtherSuggestions=Wt.OtherSuggestions.bindTo(L)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:L},b){if(D.items.length===0){this.reset();return}if(Wt._moveIndex(!0,D,L)===L){this.reset();return}this._acceptNext=b,this._model=D,this._index=L,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,L,b){let C=b;for(;C=(C+L.items.length+(D?1:-1))%L.items.length,!(C===b||!L.items[C].completion.additionalTextEdits););return C}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(!!this._model)try{this._ignore=!0,this._index=Wt._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};f.OtherSuggestions=new y.RawContextKey("hasOtherSuggestions",!1),f=De([fe(1,y.IContextKeyService)],f),e.SuggestAlternatives=f}),define(oe[617],se([1,0,16]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let f=class yi{constructor(D,L){this._editor=D,this._enabled=!1,this._ckAtEnd=yi.AtEnd.bindTo(L),this._configListener=this._editor.onDidChangeConfiguration(b=>b.hasChanged(111)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(111)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const L=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const b=this._editor.getModel(),C=this._editor.getSelection(),u=b.getWordAtPosition(C.getStartPosition());if(!u){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(u.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(L),L()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};f.AtEnd=new y.RawContextKey("atEndOfWord",!1),f=De([fe(1,y.IContextKeyService)],f),e.WordContextKey=f}),define(oe[69],se([1,0,16,9]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,f.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new y.RawContextKey("accessibilityModeEnabled",!1)}),define(oe[618],se([1,0,34,18,4,2,39,17,235,275,409,236,33,147,178,69]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let o=class extends D.Disposable{constructor(p,v,_,w){super();this._accessibilityService=w,this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new n.ComputeOptionsMemory,this.isSimpleWidget=p,this._containerObserver=this._register(new C.ElementSizeObserver(_,v.dimension)),this._rawOptions=m(v),this._validatedOptions=g.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(i.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(y.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const p=this._computeOptions(),v=g.checkEquals(this.options,p);v!==null&&(this.options=p,this._onDidChangeFast.fire(v),this._onDidChange.fire(v))}_computeOptions(){const p=this._readEnvConfiguration(),v=r.BareFontInfo.createFromValidatedSettings(this._validatedOptions,p.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(v),w={memory:this._computeOptionsMemory,outerWidth:p.outerWidth,outerHeight:p.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:p.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:p.emptySelectionClipboard,pixelRatio:p.pixelRatio,tabFocusMode:i.TabFocus.getTabFocusMode(),accessibilitySupport:p.accessibilitySupport};return g.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:s(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(p){return u.FontMeasurements.readFontInfo(p)}getRawOptions(){return this._rawOptions}updateOptions(p){const v=m(p);!g.applyUpdate(this._rawOptions,v)||(this._validatedOptions=g.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(p){this._containerObserver.observe(p)}setIsDominatedByLongLines(p){this._isDominatedByLongLines!==p&&(this._isDominatedByLongLines=p,this._recomputeOptions())}setModelLineCount(p){const v=a(p);this._lineNumbersDigitCount!==v&&(this._lineNumbersDigitCount=v,this._recomputeOptions())}setViewLineCount(p){this._viewLineCount!==p&&(this._viewLineCount=p,this._recomputeOptions())}setReservedHeight(p){this._reservedHeight!==p&&(this._reservedHeight=p,this._recomputeOptions())}};o=De([fe(3,d.IAccessibilityService)],o),e.EditorConfiguration=o;function a(S){let p=0;for(;S;)S=Math.floor(S/10),p++;return p||1}function s(){let S="";return!y.isSafari&&!y.isWebkitWebView&&(S+="no-user-select "),y.isSafari&&(S+="no-minimap-shadow ",S+="enable-user-select "),b.isMacintosh&&(S+="mac "),S}class l{constructor(){this._values=[]}_read(p){return this._values[p]}get(p){return this._values[p]}_write(p,v){this._values[p]=v}}class c{constructor(){this._values=[]}_read(p){if(p>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[p]}get(p){return this._read(p)}_write(p,v){this._values[p]=v}}e.ComputedEditorOptions=c;class g{static validateOptions(p){const v=new l;for(const _ of n.editorOptionsRegistry){const w=_.name==="_never_"?void 0:p[_.name];v._write(_.id,_.validate(w))}return v}static computeOptions(p,v){const _=new c;for(const w of n.editorOptionsRegistry)_._write(w.id,w.compute(v,_,p._read(w.id)));return _}static _deepEquals(p,v){if(typeof p!="object"||typeof v!="object"||!p||!v)return p===v;if(Array.isArray(p)||Array.isArray(v))return Array.isArray(p)&&Array.isArray(v)?f.equals(p,v):!1;if(Object.keys(p).length!==Object.keys(v).length)return!1;for(const _ in p)if(!g._deepEquals(p[_],v[_]))return!1;return!0}static checkEquals(p,v){const _=[];let w=!1;for(const E of n.editorOptionsRegistry){const I=!g._deepEquals(p._read(E.id),v._read(E.id));_[E.id]=I,I&&(w=!0)}return w?new n.ConfigurationChangedEvent(_):null}static applyUpdate(p,v){let _=!1;for(const w of n.editorOptionsRegistry)if(v.hasOwnProperty(w.name)){const E=w.applyUpdate(p[w.name],v[w.name]);p[w.name]=E.newValue,_=_||E.didChange}return _}}function m(S){const p=L.deepClone(S);return(0,h.migrateOptions)(p),p}}),define(oe[619],se([1,0,4,56,2,50,39,25,597,26,37,16]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const n="data-keybinding-context";class t{constructor(w,E){this._id=w,this._parent=E,this._value=Object.create(null),this._value._contextId=w}setValue(w,E){return this._value[w]!==E?(this._value[w]=E,!0):!1}removeValue(w){return w in this._value?(delete this._value[w],!0):!1}getValue(w){const E=this._value[w];return typeof E=="undefined"&&this._parent?this._parent.getValue(w):E}}e.Context=t;class r extends t{constructor(){super(-1,null)}setValue(w,E){return!1}removeValue(w){return!1}getValue(w){}}r.INSTANCE=new r;class d extends t{constructor(w,E,I){super(w,null);this._configurationService=E,this._values=D.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(T=>{if(T.source===6){const R=Array.from(f.Iterable.map(this._values,([B])=>B));this._values.clear(),I.fire(new s(R))}else{const R=[];for(const B of T.affectedKeys){const O=`config.${B}`,k=this._values.findSuperstr(O);k!==void 0&&(R.push(...f.Iterable.map(k,([A])=>A)),this._values.deleteSuperstr(O)),this._values.has(O)&&(R.push(O),this._values.delete(O))}I.fire(new s(R))}})}dispose(){this._listener.dispose()}getValue(w){if(w.indexOf(d._keyPrefix)!==0)return super.getValue(w);if(this._values.has(w))return this._values.get(w);const E=w.substr(d._keyPrefix.length),I=this._configurationService.getValue(E);let T;switch(typeof I){case"number":case"boolean":case"string":T=I;break;default:Array.isArray(I)?T=JSON.stringify(I):T=I}return this._values.set(w,T),T}setValue(w,E){return super.setValue(w,E)}removeValue(w){return super.removeValue(w)}}d._keyPrefix="config.";class o{constructor(w,E,I){this._service=w,this._key=E,this._defaultValue=I,this.reset()}set(w){this._service.setContext(this._key,w)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class a{constructor(w){this.key=w}affectsSome(w){return w.has(this.key)}}class s{constructor(w){this.keys=w}affectsSome(w){for(const E of this.keys)if(w.has(E))return!0;return!1}}class l{constructor(w){this.events=w}affectsSome(w){for(const E of this.events)if(E.affectsSome(w))return!0;return!1}}class c{constructor(w){this._onDidChangeContext=new y.PauseableEmitter({merge:E=>new l(E)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=w}createKey(w,E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new o(this,w,E)}bufferChangeEvents(w){this._onDidChangeContext.pause();try{w()}finally{this._onDidChangeContext.resume()}}createScoped(w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new m(this,w)}contextMatchesRules(w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const E=this.getContextValuesContainer(this._myContextId);return w?w.evaluate(E):!0}getContextKeyValue(w){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(w)}setContext(w,E){if(this._isDisposed)return;const I=this.getContextValuesContainer(this._myContextId);!I||I.setValue(w,E)&&this._onDidChangeContext.fire(new a(w))}removeContext(w){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(w)&&this._onDidChangeContext.fire(new a(w))}getContext(w){return this._isDisposed?r.INSTANCE:this.getContextValuesContainer(S(w))}}e.AbstractContextKeyService=c;let g=class extends c{constructor(w){super(0);this._contexts=new Map,this._toDispose=new N.DisposableStore,this._lastContextId=0;const E=new d(this._myContextId,w,this._onDidChangeContext);this._contexts.set(this._myContextId,E),this._toDispose.add(E)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(w){return this._isDisposed?r.INSTANCE:this._contexts.get(w)||r.INSTANCE}createChildContext(w=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let E=++this._lastContextId;return this._contexts.set(E,new t(E,this.getContextValuesContainer(w))),E}disposeContext(w){this._isDisposed||this._contexts.delete(w)}};g=De([fe(0,h.IConfigurationService)],g),e.ContextKeyService=g;class m extends c{constructor(w,E){super(w.createChildContext());if(this._parentChangeListener=new N.MutableDisposable,this._parent=w,this._updateParentChangeListener(),this._domNode=E,this._domNode.hasAttribute(n)){let I="";this._domNode.classList&&(I=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${I?": "+I:""}`)}this._domNode.setAttribute(n,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(n),this._isDisposed=!0)}getContextValuesContainer(w){return this._isDisposed?r.INSTANCE:this._parent.getContextValuesContainer(w)}createChildContext(w=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(w)}disposeContext(w){this._isDisposed||this._parent.disposeContext(w)}}function S(_){for(;_;){if(_.hasAttribute(n)){const w=_.getAttribute(n);return w?parseInt(w,10):NaN}_=_.parentElement}return 0}function p(_,w,E){_.get(i.IContextKeyService).createKey(String(w),v(E))}e.setContext=p;function v(_){return(0,L.cloneAndChange)(_,w=>{if(typeof w=="object"&&w.$mid===1)return b.URI.revive(w).toString();if(w instanceof b.URI)return w.toString()})}u.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,p),u.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((_,w)=>_.key.localeCompare(w.key))},description:{description:(0,C.localize)(0,null),args:[]}}),u.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const _=[],w=new Set;for(let E of i.RawContextKey.all())w.has(E.key)||(w.add(E.key),_.push(E));_.sort((E,I)=>E.key.localeCompare(I.key)),console.log(JSON.stringify(_,void 0,2))})}),define(oe[282],se([1,0,17,598,16]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new N.RawContextKey("isMac",y.isMacintosh,(0,f.localize)(0,null)),e.IsLinuxContext=new N.RawContextKey("isLinux",y.isLinux,(0,f.localize)(1,null)),e.IsWindowsContext=new N.RawContextKey("isWindows",y.isWindows,(0,f.localize)(2,null)),e.IsWebContext=new N.RawContextKey("isWeb",y.isWeb,(0,f.localize)(3,null)),e.IsMacNativeContext=new N.RawContextKey("isMacNative",y.isMacintosh&&!y.isWeb,(0,f.localize)(4,null)),e.IsIOSContext=new N.RawContextKey("isIOS",y.isIOS,(0,f.localize)(5,null)),e.IsDevelopmentContext=new N.RawContextKey("isDevelopment",!1,!0),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new N.RawContextKey(e.InputFocusedContextKey,!1,(0,f.localize)(6,null))}),define(oe[80],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,y.createDecorator)("contextViewService"),e.IContextMenuService=(0,y.createDecorator)("contextMenuService")}),define(oe[132],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,y.createDecorator)("dialogService")}),define(oe[159],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class y{constructor(...N){this._entries=new Map;for(let[D,L]of N)this.set(D,L)}set(N,D){const L=this._entries.get(N);return this._entries.set(N,D),L}get(N){return this._entries.get(N)}}e.ServiceCollection=y}),define(oe[620],se([1,0,10,13,201,612,9,159]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class u extends Error{constructor(t){var r;super("cyclic dependency between services");this.message=(r=t.findCycleSlow())!==null&&r!==void 0?r:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class h{constructor(t=new b.ServiceCollection,r=!1,d){this._activeInstantiations=new Set,this._services=t,this._strict=r,this._parent=d,this._services.set(L.IInstantiationService,this)}createChild(t){return new h(t,this._strict,this)}invokeFunction(t,...r){let d=i.traceInvocation(t),o=!1;try{return t({get:s=>{if(o)throw(0,f.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(s,d);if(!l)throw new Error(`[invokeFunction] unknown service '${s}'`);return l}},...r)}finally{o=!0,d.stop()}}createInstance(t,...r){let d,o;return t instanceof N.SyncDescriptor?(d=i.traceCreation(t.ctor),o=this._createInstance(t.ctor,t.staticArguments.concat(r),d)):(d=i.traceCreation(t),o=this._createInstance(t,r,d)),d.stop(),o}_createInstance(t,r=[],d){let o=L._util.getServiceDependencies(t).sort((l,c)=>l.index-c.index),a=[];for(const l of o){let c=this._getOrCreateServiceInstance(l.id,d);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),a.push(c)}let s=o.length>0?o[0].index:r.length;if(r.length!==s){console.trace(`[createInstance] First service dependency of ${t.name} at position ${s+1} conflicts with ${r.length} static arguments`);let l=s-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,s)}return new t(...[...r,...a])}_setServiceInstance(t,r){if(this._services.get(t)instanceof N.SyncDescriptor)this._services.set(t,r);else if(this._parent)this._parent._setServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){let d=this._getServiceInstanceOrDescriptor(t);return d instanceof N.SyncDescriptor?this._safeCreateAndCacheServiceInstance(t,d,r.branch(t,!0)):(r.branch(t,!1),d)}_safeCreateAndCacheServiceInstance(t,r,d){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,d)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,d){const o=new D.Graph(l=>l.id.toString());let a=0;const s=[{id:t,desc:r,_trace:d}];for(;s.length;){const l=s.pop();if(o.lookupOrInsertNode(l),a++>1e3)throw new u(o);for(let c of L._util.getServiceDependencies(l.desc.ctor)){let g=this._getServiceInstanceOrDescriptor(c.id);if(g||this._throwIfStrict(`[createInstance] ${t} depends on ${c.id} which is NOT registered.`,!0),g instanceof N.SyncDescriptor){const m={id:c.id,desc:g,_trace:l._trace.branch(c.id,!0)};o.insertEdge(l,m),s.push(m)}}}for(;;){const l=o.roots();if(l.length===0){if(!o.isEmpty())throw new u(o);break}for(const{data:c}of l){if(this._getServiceInstanceOrDescriptor(c.id)instanceof N.SyncDescriptor){const m=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,m)}o.removeNode(c)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,d=[],o,a){if(this._services.get(t)instanceof N.SyncDescriptor)return this._createServiceInstance(r,d,o,a);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,d,o,a);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r=[],d,o){if(d){const a=new y.IdleValue(()=>this._createInstance(t,r,o));return new Proxy(Object.create(null),{get(s,l){if(l in s)return s[l];let c=a.value,g=c[l];return typeof g!="function"||(g=g.bind(c),s[l]=g),g},set(s,l,c){return a.value[l]=c,!0}})}else return this._createInstance(t,r,o)}_throwIfStrict(t,r){if(r&&console.warn(r),this._strict)throw new Error(t)}}e.InstantiationService=h;class i{constructor(t,r){this.type=t,this.name=r,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return C?new i(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):i._None}static traceCreation(t){return C?new i(0,t.name):i._None}branch(t,r){let d=new i(2,t.toString());return this._dep.push([t,r,d]),d}stop(){let t=Date.now()-this._start;i._totals+=t;let r=!1;function d(a,s){let l=[],c=new Array(a+1).join("	");for(const[g,m,S]of s._dep)if(m&&S){r=!0,l.push(`${c}CREATES -> ${g}`);let p=d(a+1,S);p&&l.push(p)}else l.push(`${c}uses -> ${g}`);return l.join(`
`)}let o=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(t>2||r)&&console.log(o.join(`
`))}}e.Trace=i,i._None=new class extends i{constructor(){super(-1,null)}stop(){}branch(){return this}},i._totals=0}),define(oe[621],se([1,0,10,4,2,600]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const L=/^(cursor|delete)/;class b extends N.Disposable{constructor(h,i,n,t,r){super();this._contextKeyService=h,this._commandService=i,this._telemetryService=n,this._notificationService=t,this._logService=r,this._onDidUpdateKeybindings=this._register(new f.Emitter),this._currentChord=null,this._currentChordChecker=new y.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new y.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:f.Event.None}dispose(){super.dispose()}_log(h){this._logging&&this._logService.info(`[KeybindingService]: ${h}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(h,i){const n=this._getResolver().lookupPrimaryKeybinding(h,i||this._contextKeyService);if(!!n)return n.resolvedKeybinding}dispatchEvent(h,i){return this._dispatch(h,i)}softDispatch(h,i){const n=this.resolveKeyboardEvent(h);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[t]=n.getDispatchParts();if(t===null)return null;const r=this._contextKeyService.getContext(i),d=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,d,t)}_enterChordMode(h,i){this._currentChord={keypress:h,label:i},this._currentChordStatusMessage=this._notificationService.status(D.localize(0,null,i));const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(h,i){return this._doDispatch(this.resolveKeyboardEvent(h),i,!1)}_singleModifierDispatch(h,i){const n=this.resolveKeyboardEvent(h),[t]=n.getSingleModifierDispatchParts();if(t)return this._ignoreSingleModifiers.has(t)?(this._log(`+ Ignoring single modifier ${t} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${t}.`),this._currentSingleModifier=t,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):t===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${t} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[r]=n.getParts();return this._ignoreSingleModifiers=new C(r),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(h,i,n=!1){let t=!1;if(h.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let r=null,d=null;if(n){const[l]=h.getSingleModifierDispatchParts();r=l,d=l}else[r]=h.getDispatchParts(),d=this._currentChord?this._currentChord.keypress:null;if(r===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),t;const o=this._contextKeyService.getContext(i),a=h.getLabel(),s=this._getResolver().resolve(o,d,r);return this._logService.trace("KeybindingService#dispatch",a,s==null?void 0:s.commandId),s&&s.enterChord?(t=!0,this._enterChordMode(r,a),t):(this._currentChord&&(!s||!s.commandId)&&(this._notificationService.status(D.localize(1,null,this._currentChord.label,a),{hideAfter:10*1e3}),t=!0),this._leaveChordMode(),s&&s.commandId&&(s.bubble||(t=!0),typeof s.commandArgs=="undefined"?this._commandService.executeCommand(s.commandId).then(void 0,l=>this._notificationService.warn(l)):this._commandService.executeCommand(s.commandId,s.commandArgs).then(void 0,l=>this._notificationService.warn(l)),L.test(s.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:s.commandId,from:"keybinding"})),t)}mightProducePrintableCharacter(h){return h.ctrlKey||h.metaKey?!1:h.keyCode>=31&&h.keyCode<=56||h.keyCode>=21&&h.keyCode<=30}}e.AbstractKeybindingService=b;class C{constructor(h){this._ctrlKey=h?h.ctrlKey:!1,this._shiftKey=h?h.shiftKey:!1,this._altKey=h?h.altKey:!1,this._metaKey=h?h.metaKey:!1}has(h){switch(h){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}C.EMPTY=new C(null)}),define(oe[622],se([1,0,13,200,100]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends N.ResolvedKeybinding{constructor(b,C){super();if(C.length===0)throw(0,y.illegalArgument)("parts");this._os=b,this._parts=C}getLabel(){return f.UILabelProvider.toLabel(this._os,this._parts,b=>this._getLabel(b))}getAriaLabel(){return f.AriaLabelProvider.toLabel(this._os,this._parts,b=>this._getAriaLabel(b))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:f.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,b=>this._getElectronAccelerator(b))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(b=>this._getPart(b))}_getPart(b){return new N.ResolvedKeybindingPart(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))}getDispatchParts(){return this._parts.map(b=>this._getDispatchPart(b))}getSingleModifierDispatchParts(){return this._parts.map(b=>this._getSingleModifierDispatchPart(b))}}e.BaseResolvedKeybinding=D}),define(oe[43],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,y.createDecorator)("keybindingService")}),define(oe[623],se([1,0,16]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class f{constructor(b,C,u){this._log=u,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const h of b){const i=h.command;i&&i.charAt(0)!=="-"&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=f.handleRemovals([].concat(b).concat(C));for(let h=0,i=this._keybindings.length;h<i;h++){let n=this._keybindings[h];n.keypressParts.length!==0&&(n.when&&n.when.type===0||this._addKeyPress(n.keypressParts[0],n))}}static _isTargetedForRemoval(b,C,u,h){return!(C&&b.keypressParts[0]!==C||u&&b.keypressParts[1]!==u||h&&(!b.when||!(0,y.expressionsAreEqualWithConstantSubstitution)(h,b.when)))}static handleRemovals(b){const C=new Map;for(let h=0,i=b.length;h<i;h++){const n=b[h];if(n.command&&n.command.charAt(0)==="-"){const t=n.command.substring(1);C.has(t)?C.get(t).push(n):C.set(t,[n])}}if(C.size===0)return b;const u=[];for(let h=0,i=b.length;h<i;h++){const n=b[h];if(!n.command||n.command.length===0){u.push(n);continue}if(n.command.charAt(0)==="-")continue;const t=C.get(n.command);if(!t||!n.isDefault){u.push(n);continue}let r=!1;for(const d of t){const o=d.keypressParts[0],a=d.keypressParts[1],s=d.when;if(this._isTargetedForRemoval(n,o,a,s)){r=!0;break}}if(!r){u.push(n);continue}}return u}_addKeyPress(b,C){const u=this._map.get(b);if(typeof u=="undefined"){this._map.set(b,[C]),this._addToLookupMap(C);return}for(let h=u.length-1;h>=0;h--){let i=u[h];if(i.command===C.command)continue;const n=i.keypressParts.length>1,t=C.keypressParts.length>1;n&&t&&i.keypressParts[1]!==C.keypressParts[1]||f.whenIsEntirelyIncluded(i.when,C.when)&&this._removeFromLookupMap(i)}u.push(C),this._addToLookupMap(C)}_addToLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);typeof C=="undefined"?(C=[b],this._lookupMap.set(b.command,C)):C.push(b)}_removeFromLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);if(typeof C!="undefined"){for(let u=0,h=C.length;u<h;u++)if(C[u]===b){C.splice(u,1);return}}}static whenIsEntirelyIncluded(b,C){return!C||C.type===1?!0:!b||b.type===1?!1:(0,y.implies)(b,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,C){const u=this._lookupMap.get(b);if(typeof u=="undefined"||u.length===0)return null;if(u.length===1)return u[0];for(let h=u.length-1;h>=0;h--){const i=u[h];if(C.contextMatchesRules(i.when))return i}return u[u.length-1]}resolve(b,C,u){this._log(`| Resolving ${u}${C?` chorded from ${C}`:""}`);let h=null;if(C!==null){const n=this._map.get(C);if(typeof n=="undefined")return this._log("\\ No keybinding entries."),null;h=[];for(let t=0,r=n.length;t<r;t++){let d=n[t];d.keypressParts[1]===u&&h.push(d)}}else{const n=this._map.get(u);if(typeof n=="undefined")return this._log("\\ No keybinding entries."),null;h=n}let i=this._findCommand(b,h);return i?C===null&&i.keypressParts.length>1&&i.keypressParts[1]!==null?(this._log(`\\ From ${h.length} keybinding entries, matched chord, when: ${N(i.when)}, source: ${D(i)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${h.length} keybinding entries, matched ${i.command}, when: ${N(i.when)}, source: ${D(i)}.`),{enterChord:!1,leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${h.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(b,C){for(let u=C.length-1;u>=0;u--){let h=C[u];if(!!f._contextMatchesRules(b,h.when))return h}return null}static _contextMatchesRules(b,C){return C?C.evaluate(b):!0}}e.KeybindingResolver=f;function N(L){return L?`${L.serialize()}`:"no when condition"}function D(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(oe[283],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class y{constructor(D,L,b,C,u,h,i){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.keypressParts=D?f(D.getDispatchParts()):[],D&&this.keypressParts.length===0&&(this.keypressParts=f(D.getSingleModifierDispatchParts())),this.bubble=L?L.charCodeAt(0)===94:!1,this.command=this.bubble?L.substr(1):L,this.commandArgs=b,this.when=C,this.isDefault=u,this.extensionId=h,this.isBuiltinExtension=i}}e.ResolvedKeybindingItem=y;function f(N){let D=[];for(let L=0,b=N.length;L<b;L++){const C=N[L];if(!C)return D;D.push(C)}return D}e.removeElementsAfterNulls=f}),define(oe[624],se([1,0,59,100,622,283]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class L extends N.BaseResolvedKeybinding{constructor(C,u){super(u,C.parts)}_keyCodeToUILabel(C){if(this._os===2)switch(C){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return y.KeyCodeUtils.toString(C)}_getLabel(C){return C.isDuplicateModifierCase()?"":this._keyCodeToUILabel(C.keyCode)}_getAriaLabel(C){return C.isDuplicateModifierCase()?"":y.KeyCodeUtils.toString(C.keyCode)}_getElectronAccelerator(C){return y.KeyCodeUtils.toElectronAccelerator(C.keyCode)}_getDispatchPart(C){return L.getDispatchStr(C)}static getDispatchStr(C){if(C.isModifierKey())return null;let u="";return C.ctrlKey&&(u+="ctrl+"),C.shiftKey&&(u+="shift+"),C.altKey&&(u+="alt+"),C.metaKey&&(u+="meta+"),u+=y.KeyCodeUtils.toString(C.keyCode),u}_getSingleModifierDispatchPart(C){return C.keyCode===5&&!C.shiftKey&&!C.altKey&&!C.metaKey?"ctrl":C.keyCode===4&&!C.ctrlKey&&!C.altKey&&!C.metaKey?"shift":C.keyCode===6&&!C.ctrlKey&&!C.shiftKey&&!C.metaKey?"alt":C.keyCode===57&&!C.ctrlKey&&!C.shiftKey&&!C.altKey?"meta":null}static _scanCodeToKeyCode(C){const u=y.IMMUTABLE_CODE_TO_KEY_CODE[C];if(u!==-1)return u;switch(C){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(C){if(!C)return null;if(C instanceof f.SimpleKeybinding)return C;const u=this._scanCodeToKeyCode(C.scanCode);return u===0?null:new f.SimpleKeybinding(C.ctrlKey,C.shiftKey,C.altKey,C.metaKey,u)}static resolveUserBinding(C,u){const h=(0,D.removeElementsAfterNulls)(C.map(i=>this._resolveSimpleUserBinding(i)));return h.length>0?[new L(new f.ChordKeybinding(h),u)]:[]}}e.USLayoutResolvedKeybinding=L}),define(oe[133],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,y.createDecorator)("labelService")}),define(oe[109],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,y.createDecorator)("layoutService")}),define(oe[284],se([1,0,7,4,109,29,53]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{constructor(h){this._codeEditorService=h,this.onDidLayout=f.Event.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=y.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var h;(h=this._codeEditorService.getFocusedCodeEditor())===null||h===void 0||h.focus()}};b=De([fe(0,D.ICodeEditorService)],b);let C=class extends b{constructor(h,i){super(i);this._container=h}get hasContainer(){return!1}get container(){return this._container}};C=De([fe(1,D.ICodeEditorService)],C),e.EditorScopedLayoutService=C,(0,L.registerSingleton)(N.ILayoutService,b)}),define(oe[625],se([1,0,7,4,2,69,37,16,109]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let u=class extends N.Disposable{constructor(i,n,t){super();this._contextKeyService=i,this._layoutService=n,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new f.Emitter,this._onDidChangeReducedMotion=new f.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire()),o.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),r(),this._register(this.onDidChangeScreenReaderOptimized(()=>r()));const d=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=d.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(d)}initReducedMotionListeners(i){if(!this._layoutService.hasContainer)return;this._register((0,y.addDisposableListener)(i,"change",()=>{this._systemMotionReduced=i.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const n=()=>{const t=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",t),this._layoutService.container.classList.toggle("enable-motion",!t)};n(),this._register(this.onDidChangeReducedMotion(()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const i=this._configMotionReduced;return i==="on"||i==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};u=De([fe(0,b.IContextKeyService),fe(1,C.ILayoutService),fe(2,L.IConfigurationService)],u),e.AccessibilityService=u}),define(oe[626],se([1,0,227,2,109]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends f.Disposable{constructor(b){super();this.layoutService=b,this.currentViewDisposable=f.Disposable.None,this.container=b.hasContainer?b.container:null,this.contextView=this._register(new y.ContextView(this.container,1)),this.layout(),this._register(b.onDidLayout(()=>this.layout()))}setContainer(b,C){this.contextView.setContainer(b,C||1)}showContextView(b,C,u){C?C!==this.container&&(this.container=C,this.setContainer(C,u?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(b);const h=(0,f.toDisposable)(()=>{this.currentViewDisposable===h&&this.hideContextView()});return this.currentViewDisposable=h,h}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b)}};D=De([fe(0,N.ILayoutService)],D),e.ContextViewService=D}),define(oe[70],se([1,0,4,2,9]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,N.createDecorator)("logService");var D;(function(u){u[u.Trace=0]="Trace",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warning=3]="Warning",u[u.Error=4]="Error",u[u.Critical=5]="Critical",u[u.Off=6]="Off"})(D=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=D.Info;class L extends f.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new y.Emitter)}setLevel(h){this.level!==h&&(this.level=h,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=L;class b extends L{constructor(h=e.DEFAULT_LOG_LEVEL){super();this.setLevel(h)}trace(h,...i){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",h,...i)}debug(h,...i){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",h,...i)}info(h,...i){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",h,...i)}error(h,...i){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",h,...i)}dispose(){}}e.ConsoleLogger=b;class C extends f.Disposable{constructor(h){super();this.logger=h,this._register(h)}getLevel(){return this.logger.getLevel()}trace(h,...i){this.logger.trace(h,...i)}debug(h,...i){this.logger.debug(h,...i)}info(h,...i){this.logger.info(h,...i)}error(h,...i){this.logger.error(h,...i)}}e.LogService=C}),define(oe[627],se([1,0,34,7,10,2,109,70]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let C=class extends D.Disposable{constructor(h,i){super();this.layoutService=h,this.logService=i,this.mapTextToType=new Map,this.findText="",(y.isSafari||y.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const h=()=>{const i=new N.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=i,navigator.clipboard.write([new ClipboardItem({"text/plain":i.p})]).catch(n=>Le(this,void 0,void 0,function*(){(!(n instanceof Error)||n.name!=="NotAllowedError"||!i.isRejected)&&this.logService.error(n)}))};this.layoutService.hasContainer&&(this._register((0,f.addDisposableListener)(this.layoutService.container,"click",h)),this._register((0,f.addDisposableListener)(this.layoutService.container,"keydown",h)))}writeText(h,i){return Le(this,void 0,void 0,function*(){if(i){this.mapTextToType.set(i,h);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(h);try{return yield navigator.clipboard.writeText(h)}catch(r){console.error(r)}const n=document.activeElement,t=document.body.appendChild((0,f.$)("textarea",{"aria-hidden":!0}));t.style.height="1px",t.style.width="1px",t.style.position="absolute",t.value=h,t.focus(),t.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(t)})}readText(h){return Le(this,void 0,void 0,function*(){if(h)return this.mapTextToType.get(h)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return Le(this,void 0,void 0,function*(){return this.findText})}writeFindText(h){return Le(this,void 0,void 0,function*(){this.findText=h})}};C=De([fe(0,L.ILayoutService),fe(1,b.ILogService)],C),e.BrowserClipboardService=C}),define(oe[81],se([1,0,78,602,9]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(b){b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error"})(D=e.MarkerSeverity||(e.MarkerSeverity={})),function(b){function C(t,r){return r-t}b.compare=C;const u=Object.create(null);u[b.Error]=(0,f.localize)(0,null),u[b.Warning]=(0,f.localize)(1,null),u[b.Info]=(0,f.localize)(2,null);function h(t){return u[t]||""}b.toString=h;function i(t){switch(t){case y.default.Error:return b.Error;case y.default.Warning:return b.Warning;case y.default.Info:return b.Info;case y.default.Ignore:return b.Hint}}b.fromSeverity=i;function n(t){switch(t){case b.Error:return y.default.Error;case b.Warning:return y.default.Warning;case b.Info:return y.default.Info;case b.Hint:return y.default.Ignore}}b.toSeverity=n}(D=e.MarkerSeverity||(e.MarkerSeverity={}));var L;(function(b){const C="";function u(i){return h(i,!0)}b.makeKey=u;function h(i,n){let t=[C];return i.source?t.push(i.source.replace("\xA6","\\\xA6")):t.push(C),i.code?typeof i.code=="string"?t.push(i.code.replace("\xA6","\\\xA6")):t.push(i.code.value.replace("\xA6","\\\xA6")):t.push(C),i.severity!==void 0&&i.severity!==null?t.push(D.toString(i.severity)):t.push(C),i.message&&n?t.push(i.message.replace("\xA6","\\\xA6")):t.push(C),i.startLineNumber!==void 0&&i.startLineNumber!==null?t.push(i.startLineNumber.toString()):t.push(C),i.startColumn!==void 0&&i.startColumn!==null?t.push(i.startColumn.toString()):t.push(C),i.endLineNumber!==void 0&&i.endLineNumber!==null?t.push(i.endLineNumber.toString()):t.push(C),i.endColumn!==void 0&&i.endColumn!==null?t.push(i.endColumn.toString()):t.push(C),t.push(C),t.join("\xA6")}b.makeKeyOptionalMessage=h})(L=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,N.createDecorator)("markerService")}),define(oe[628],se([1,0,18,4,2,84,8,25,3,53,9,81,37]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(a,s,l){this.marker=a,this.index=s,this.total=l}}e.MarkerCoordinate=t;let r=class{constructor(a,s,l){this._markerService=s,this._configService=l,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new N.DisposableStore,this._markers=[],this._nextIdx=-1,b.URI.isUri(a)?this._resourceFilter=S=>S.toString()===a.toString():a&&(this._resourceFilter=a);const c=this._configService.getValue("problems.sortOrder"),g=(S,p)=>{let v=(0,L.compare)(S.resource.toString(),p.resource.toString());return v===0&&(c==="position"?v=C.Range.compareRangesUsingStarts(S,p)||i.MarkerSeverity.compare(S.severity,p.severity):v=i.MarkerSeverity.compare(S.severity,p.severity)||C.Range.compareRangesUsingStarts(S,p)),v},m=()=>{this._markers=this._markerService.read({resource:b.URI.isUri(a)?a:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),typeof a=="function"&&(this._markers=this._markers.filter(S=>this._resourceFilter(S.resource))),this._markers.sort(g)};m(),this._dispoables.add(s.onMarkerChanged(S=>{(!this._resourceFilter||S.some(p=>this._resourceFilter(p)))&&(m(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(a){return!this._resourceFilter&&!a?!0:!this._resourceFilter||!a?!1:this._resourceFilter(a)}get selected(){const a=this._markers[this._nextIdx];return a&&new t(a,this._nextIdx+1,this._markers.length)}_initIdx(a,s,l){let c=!1,g=this._markers.findIndex(m=>m.resource.toString()===a.uri.toString());g<0&&(g=(0,y.binarySearch)(this._markers,{resource:a.uri},(m,S)=>(0,L.compare)(m.resource.toString(),S.resource.toString())),g<0&&(g=~g));for(let m=g;m<this._markers.length;m++){let S=C.Range.lift(this._markers[m]);if(S.isEmpty()){const p=a.getWordAtPosition(S.getStartPosition());p&&(S=new C.Range(S.startLineNumber,p.startColumn,S.startLineNumber,p.endColumn))}if(s&&(S.containsPosition(s)||s.isBeforeOrEqual(S.getStartPosition()))){this._nextIdx=m,c=!0;break}if(this._markers[m].resource.toString()!==a.uri.toString())break}c||(this._nextIdx=l?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(a,s,l){if(this._markers.length===0)return!1;let c=this._nextIdx;return this._nextIdx===-1?this._initIdx(s,l,a):a?this._nextIdx=(this._nextIdx+1)%this._markers.length:a||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),c!==this._nextIdx}find(a,s){let l=this._markers.findIndex(c=>c.resource.toString()===a.toString());if(!(l<0)){for(;l<this._markers.length;l++)if(C.Range.containsPosition(this._markers[l],s))return new t(this._markers[l],l+1,this._markers.length)}}};r=De([fe(1,i.IMarkerService),fe(2,n.IConfigurationService)],r),e.MarkerList=r,e.IMarkerNavigationService=(0,h.createDecorator)("IMarkerNavigationService");let d=class{constructor(a,s){this._markerService=a,this._configService=s,this._provider=new D.LinkedList}getMarkerList(a){for(let s of this._provider){const l=s.getMarkerList(a);if(l)return l}return new r(a,this._markerService,this._configService)}};d=De([fe(0,i.IMarkerService),fe(1,n.IConfigurationService)],d),(0,u.registerSingleton)(e.IMarkerNavigationService,d,!0)}),define(oe[629],se([1,0,18,4,56,50,51,25,81]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class u{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(t,r,d){let o=this._byResource.get(t);o||(o=new Map,this._byResource.set(t,o)),o.set(r,d);let a=this._byOwner.get(r);a||(a=new D.ResourceMap,this._byOwner.set(r,a)),a.set(t,d)}get(t,r){let d=this._byResource.get(t);return d==null?void 0:d.get(r)}delete(t,r){let d=!1,o=!1,a=this._byResource.get(t);a&&(d=a.delete(r));let s=this._byOwner.get(r);if(s&&(o=s.delete(t)),d!==o)throw new Error("illegal state");return d&&o}values(t){var r,d,o,a;return typeof t=="string"?(d=(r=this._byOwner.get(t))===null||r===void 0?void 0:r.values())!==null&&d!==void 0?d:N.Iterable.empty():b.URI.isUri(t)?(a=(o=this._byResource.get(t))===null||o===void 0?void 0:o.values())!==null&&a!==void 0?a:N.Iterable.empty():N.Iterable.map(N.Iterable.concat(...this._byOwner.values()),s=>s[1])}}class h{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const r of t){const d=this._data.get(r);d&&this._substract(d);const o=this._resourceStats(r);this._add(o),this._data.set(r,o)}}_resourceStats(t){const r={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===L.Schemas.inMemory||t.scheme===L.Schemas.walkThrough||t.scheme===L.Schemas.walkThroughSnippet)return r;for(const{severity:d}of this._service.read({resource:t}))d===C.MarkerSeverity.Error?r.errors+=1:d===C.MarkerSeverity.Warning?r.warnings+=1:d===C.MarkerSeverity.Info?r.infos+=1:r.unknowns+=1;return r}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class i{constructor(){this._onMarkerChanged=new f.DebounceEmitter({delay:0,merge:i._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new u,this._stats=new h(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,r){for(const d of r||[])this.changeOne(t,d,[])}changeOne(t,r,d){if((0,y.isFalsyOrEmpty)(d))this._data.delete(r,t)&&this._onMarkerChanged.fire([r]);else{const o=[];for(const a of d){const s=i._toMarker(t,r,a);s&&o.push(s)}this._data.set(r,t,o),this._onMarkerChanged.fire([r])}}static _toMarker(t,r,d){let{code:o,severity:a,message:s,source:l,startLineNumber:c,startColumn:g,endLineNumber:m,endColumn:S,relatedInformation:p,tags:v}=d;if(!!s)return c=c>0?c:1,g=g>0?g:1,m=m>=c?m:c,S=S>0?S:g,{resource:r,owner:t,code:o,severity:a,message:s,source:l,startLineNumber:c,startColumn:g,endLineNumber:m,endColumn:S,relatedInformation:p,tags:v}}read(t=Object.create(null)){let{owner:r,resource:d,severities:o,take:a}=t;if((!a||a<0)&&(a=-1),r&&d){const s=this._data.get(d,r);if(s){const l=[];for(const c of s)if(i._accept(c,o)){const g=l.push(c);if(a>0&&g===a)break}return l}else return[]}else if(!r&&!d){const s=[];for(let l of this._data.values())for(let c of l)if(i._accept(c,o)){const g=s.push(c);if(a>0&&g===a)return s}return s}else{const s=this._data.values(d??r),l=[];for(const c of s)for(const g of c)if(i._accept(g,o)){const m=l.push(g);if(a>0&&m===a)return l}return l}}static _accept(t,r){return r===void 0||(r&t.severity)===t.severity}static _merge(t){const r=new D.ResourceMap;for(let d of t)for(let o of d)r.set(o,!0);return Array.from(r.keys())}}e.MarkerService=i}),define(oe[40],se([1,0,78,9]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=y.default,e.INotificationService=(0,f.createDecorator)("notificationService");class N{}e.NoOpNotification=N}),define(oe[49],se([1,0,2,8,25,9]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,D.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return y.Disposable.None},registerValidator(){return y.Disposable.None},registerExternalUriResolver(){return y.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return y.Disposable.None},open(){return Le(this,void 0,void 0,function*(){return!1})},resolveExternalUri(u){return Le(this,void 0,void 0,function*(){return{resolved:u,dispose(){}}})}});function L(u,h){return N.URI.isUri(u)?(0,f.equalsIgnoreCase)(u.scheme,h):(0,f.startsWithIgnoreCase)(u,h+":")}e.matchesScheme=L;function b(u,...h){return h.some(i=>L(u,i))}e.matchesSomeScheme=b;function C(u){let h;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(u.fragment);return i&&(h={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1,endLineNumber:i[4]?parseInt(i[4]):void 0,endColumn:i[4]?i[5]?parseInt(i[5]):1:void 0},u=u.with({fragment:""})),{selection:h,uri:u}}e.extractSelection=C}),define(oe[630],se([1,0,7,21,84,50,221,51,42,25,29,26,609,49]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let r=class{constructor(s){this._commandService=s}open(s,l){return Le(this,void 0,void 0,function*(){if(!(0,t.matchesScheme)(s,b.Schemas.command))return!1;if(!(l==null?void 0:l.allowCommands))return!0;typeof s=="string"&&(s=u.URI.parse(s));let c=[];try{c=(0,L.parse)(decodeURIComponent(s.query))}catch{try{c=(0,L.parse)(s.query)}catch{}}return Array.isArray(c)||(c=[c]),yield this._commandService.executeCommand(s.path,...c),!0})}};r=De([fe(0,i.ICommandService)],r);let d=class{constructor(s){this._editorService=s}open(s,l){return Le(this,void 0,void 0,function*(){typeof s=="string"&&(s=u.URI.parse(s));const{selection:c,uri:g}=(0,t.extractSelection)(s);return s=g,s.scheme===b.Schemas.file&&(s=(0,C.normalizePath)(s)),yield this._editorService.openCodeEditor({resource:s,options:Object.assign({selection:c,source:(l==null?void 0:l.fromUserGesture)?n.EditorOpenSource.USER:n.EditorOpenSource.API},l==null?void 0:l.editorOptions)},this._editorService.getFocusedCodeEditor(),l==null?void 0:l.openToSide),!0})}};d=De([fe(0,h.ICodeEditorService)],d);let o=class{constructor(s,l){this._openers=new N.LinkedList,this._validators=new N.LinkedList,this._resolvers=new N.LinkedList,this._resolvedUriTargets=new D.ResourceMap(c=>c.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new N.LinkedList,this._defaultExternalOpener={openExternal:c=>Le(this,void 0,void 0,function*(){return(0,t.matchesSomeScheme)(c,b.Schemas.http,b.Schemas.https)?y.windowOpenNoOpener(c):window.location.href=c,!0})},this._openers.push({open:(c,g)=>Le(this,void 0,void 0,function*(){return(g==null?void 0:g.openExternal)||(0,t.matchesSomeScheme)(c,b.Schemas.mailto,b.Schemas.http,b.Schemas.https,b.Schemas.vsls)?(yield this._doOpenExternal(c,g),!0):!1})}),this._openers.push(new r(l)),this._openers.push(new d(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}registerValidator(s){return{dispose:this._validators.push(s)}}registerExternalUriResolver(s){return{dispose:this._resolvers.push(s)}}setDefaultExternalOpener(s){this._defaultExternalOpener=s}registerExternalOpener(s){return{dispose:this._externalOpeners.push(s)}}open(s,l){var c;return Le(this,void 0,void 0,function*(){const g=typeof s=="string"?u.URI.parse(s):s,m=(c=this._resolvedUriTargets.get(g))!==null&&c!==void 0?c:s;for(const S of this._validators)if(!(yield S.shouldOpen(m)))return!1;for(const S of this._openers)if(yield S.open(s,l))return!0;return!1})}resolveExternalUri(s,l){return Le(this,void 0,void 0,function*(){for(const c of this._resolvers)try{const g=yield c.resolveExternalUri(s,l);if(g)return this._resolvedUriTargets.has(g.resolved)||this._resolvedUriTargets.set(g.resolved,s),g}catch{}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,l){return Le(this,void 0,void 0,function*(){const c=typeof s=="string"?u.URI.parse(s):s;let g;try{g=(yield this.resolveExternalUri(c,l)).resolved}catch{g=c}let m;if(typeof s=="string"&&c.toString()===g.toString()?m=s:m=encodeURI(g.toString(!0)),l==null?void 0:l.allowContributedOpeners){const S=typeof(l==null?void 0:l.allowContributedOpeners)=="string"?l==null?void 0:l.allowContributedOpeners:void 0;for(const p of this._externalOpeners)if(yield p.openExternal(m,{sourceUri:c,preferredOpenerId:S},f.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(m,{sourceUri:c},f.CancellationToken.None)})}dispose(){this._validators.clear()}};o=De([fe(0,h.ICodeEditorService),fe(1,i.ICommandService)],o),e.OpenerService=o}),define(oe[71],se([1,0,118,50,117,53,9,70,49]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,L.createDecorator)("ILanguageFeatureDebounceService");var u;(function(n){const t=new WeakMap;let r=0;function d(o){let a=t.get(o);return a===void 0&&(a=++r,t.set(o,a)),a}n.of=d})(u||(u={}));class h{constructor(t,r,d,o,a,s){this._logService=t,this._name=r,this._registry=d,this._default=o,this._min=a,this._max=s,this._cache=new f.LRUCache(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((r,d)=>(0,y.doHash)(u.of(d),r),0)}get(t){const r=this._key(t),d=this._cache.get(r);return d?(0,N.clamp)(d.value,this._min,this._max):this.default()}update(t,r){const d=this._key(t);let o=this._cache.get(d);o||(o=new N.SlidingWindowAverage(6),this._cache.set(d,o));const a=(0,N.clamp)(o.update(r),this._min,this._max);return(0,C.matchesScheme)(t.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${a}ms`),a}_overall(){const t=new N.MovingAverage;for(const[,r]of this._cache)t.update(r.value);return t.value}default(){const t=this._overall()|0||this._default;return(0,N.clamp)(t,this._min,this._max)}}let i=class{constructor(t){this._logService=t,this._data=new Map}for(t,r,d){var o,a,s;const l=(o=d==null?void 0:d.min)!==null&&o!==void 0?o:50,c=(a=d==null?void 0:d.max)!==null&&a!==void 0?a:Math.pow(l,2),g=(s=d==null?void 0:d.key)!==null&&s!==void 0?s:void 0,m=`${u.of(t)},${l}${g?","+g:""}`;let S=this._data.get(m);return S||(S=new h(this._logService,r,t,this._overallAverage()|0||l*1.5,l,c),this._data.set(m,S)),S}_overallAverage(){let t=new N.MovingAverage;for(let r of this._data.values())t.update(r.default());return t.value}};i=De([fe(0,b.ILogService)],i),e.LanguageFeatureDebounceService=i,(0,D.registerSingleton)(e.ILanguageFeatureDebounceService,i,!0)}),define(oe[205],se([1,0,18,21,13,56,50,11,3,71,9,53,48,2,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class d{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(g,m){let S;typeof g=="string"?S=`${m.id}/${g}`:(S=`${m.id}/${g.name}`,m.children.get(S)!==void 0&&(S=`${m.id}/${g.name}_${g.range.startLineNumber}_${g.range.startColumn}`));let p=S;for(let v=0;m.children.get(p)!==void 0;v++)p=`${S}_${v}`;return p}static empty(g){return g.children.size===0}}e.TreeElement=d;class o extends d{constructor(g,m,S){super();this.id=g,this.parent=m,this.symbol=S,this.children=new Map}}e.OutlineElement=o;class a extends d{constructor(g,m,S,p){super();this.id=g,this.parent=m,this.label=S,this.order=p,this.children=new Map}}e.OutlineGroup=a;class s extends d{constructor(g){super();this.uri=g,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(g,m,S){const p=new f.CancellationTokenSource(S),v=new s(m.uri),_=g.ordered(m),w=_.map((I,T)=>{var R;let B=d.findId(`provider_${T}`,v),O=new a(B,v,(R=I.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(m,p.token)).then(k=>{for(const A of k||[])s._makeOutlineElement(A,O);return O},k=>((0,N.onUnexpectedExternalError)(k),O)).then(k=>{d.empty(k)?k.remove():v._groups.set(B,k)})}),E=g.onDidChange(()=>{const I=g.ordered(m);(0,y.equals)(I,_)||p.cancel()});return Promise.all(w).then(()=>p.token.isCancellationRequested&&!S.isCancellationRequested?s.create(g,m,S):v._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(g,m){let S=d.findId(g,m),p=new o(S,m,g);if(g.children)for(const v of g.children)s._makeOutlineElement(v,p);m.children.set(p.id,p)}_compact(){let g=0;for(const[m,S]of this._groups)S.children.size===0?this._groups.delete(m):g+=1;if(g!==1)this.children=this._groups;else{let m=D.Iterable.first(this._groups.values());for(let[,S]of m.children)S.parent=this,this.children.set(S.id,S)}return this}getTopLevelSymbols(){const g=[];for(const m of this.children.values())m instanceof o?g.push(m.symbol):g.push(...D.Iterable.map(m.children.values(),S=>S.symbol));return g.sort((m,S)=>C.Range.compareRangesUsingStarts(m.range,S.range))}asListOfDocumentSymbols(){const g=this.getTopLevelSymbols(),m=[];return s._flattenDocumentSymbols(m,g,""),m.sort((S,p)=>b.Position.compare(C.Range.getStartPosition(S.range),C.Range.getStartPosition(p.range))||b.Position.compare(C.Range.getEndPosition(p.range),C.Range.getEndPosition(S.range)))}static _flattenDocumentSymbols(g,m,S){for(const p of m)g.push({kind:p.kind,tags:p.tags,name:p.name,detail:p.detail,containerName:p.containerName||S,range:p.range,selectionRange:p.selectionRange,children:void 0}),p.children&&s._flattenDocumentSymbols(g,p.children,p.name)}}e.OutlineModel=s,e.IOutlineModelService=(0,h.createDecorator)("IOutlineModelService");let l=class{constructor(g,m,S){this._languageFeaturesService=g,this._disposables=new t.DisposableStore,this._cache=new L.LRUCache(10,.7),this._debounceInformation=m.for(g.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(S.onModelRemoved(p=>{this._cache.delete(p.id)}))}dispose(){this._disposables.dispose()}getOrCreate(g,m){return Le(this,void 0,void 0,function*(){const S=this._languageFeaturesService.documentSymbolProvider,p=S.ordered(g);let v=this._cache.get(g.id);if(!v||v.versionId!==g.getVersionId()||!(0,y.equals)(v.provider,p)){let w=new f.CancellationTokenSource;v={versionId:g.getVersionId(),provider:p,promiseCnt:0,source:w,promise:s.create(S,g,w.token),model:void 0},this._cache.set(g.id,v);const E=Date.now();v.promise.then(I=>{v.model=I,this._debounceInformation.update(g,Date.now()-E)}).catch(I=>{this._cache.delete(g.id)})}if(v.model)return v.model;v.promiseCnt+=1;const _=m.onCancellationRequested(()=>{--v.promiseCnt==0&&(v.source.cancel(),this._cache.delete(g.id))});try{return yield v.promise}finally{_.dispose()}})}};l=De([fe(0,r.ILanguageFeaturesService),fe(1,u.ILanguageFeatureDebounceService),fe(2,n.IModelService)],l),e.OutlineModelService=l,(0,i.registerSingleton)(e.IOutlineModelService,l,!0)}),define(oe[631],se([1,0,21,19,25,58,205,26]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(C,...u){return Le(this,void 0,void 0,function*(){const[h]=u;(0,f.assertType)(N.URI.isUri(h));const i=C.get(L.IOutlineModelService),t=yield C.get(D.ITextModelService).createModelReference(h);try{return(yield i.getOrCreate(t.object.textEditorModel,y.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})})}),define(oe[76],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=void 0,e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class f{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=f,f.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,y.createDecorator)("editorProgressService")}),define(oe[632],se([1,0,10,21,2]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var D;(function(u){u[u.NO_ACTION=0]="NO_ACTION",u[u.CLOSE_PICKER=1]="CLOSE_PICKER",u[u.REFRESH_PICKER=2]="REFRESH_PICKER",u[u.REMOVE_ITEM=3]="REMOVE_ITEM"})(D=e.TriggerAction||(e.TriggerAction={}));function L(u){const h=u;return Array.isArray(h.items)}function b(u){const h=u;return!!h.picks&&h.additionalPicks instanceof Promise}class C extends N.Disposable{constructor(h,i){super();this.prefix=h,this.options=i}provide(h,i){var n;const t=new N.DisposableStore;h.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),h.matchOnLabel=h.matchOnDescription=h.matchOnDetail=h.sortByLabel=!1;let r;const d=t.add(new N.MutableDisposable),o=()=>Le(this,void 0,void 0,function*(){const a=d.value=new N.DisposableStore;r==null||r.dispose(!0),h.busy=!1,r=new f.CancellationTokenSource(i);const s=r.token,l=h.value.substr(this.prefix.length).trim(),c=this._getPicks(l,a,s),g=(m,S)=>{var p;let v,_;if(L(m)?(v=m.items,_=m.active):v=m,v.length===0){if(S)return!1;l.length>0&&((p=this.options)===null||p===void 0?void 0:p.noResultsPick)&&(v=[this.options.noResultsPick])}return h.items=v,_&&(h.activeItems=[_]),!0};if(c!==null)if(b(c)){let m=!1,S=!1;yield Promise.all([(()=>Le(this,void 0,void 0,function*(){yield(0,y.timeout)(C.FAST_PICKS_RACE_DELAY),!s.isCancellationRequested&&(S||(m=g(c.picks,!0)))}))(),(()=>Le(this,void 0,void 0,function*(){h.busy=!0;try{const p=yield c.additionalPicks;if(s.isCancellationRequested)return;let v,_;L(c.picks)?(v=c.picks.items,_=c.picks.active):v=c.picks;let w,E;if(L(p)?(w=p.items,E=p.active):w=p,w.length>0||!m){let I;if(!_&&!E){const T=h.activeItems[0];T&&v.indexOf(T)!==-1&&(I=T)}g({items:[...v,...w],active:_||E||I})}}finally{s.isCancellationRequested||(h.busy=!1),S=!0}}))()])}else if(!(c instanceof Promise))g(c);else{h.busy=!0;try{const m=yield c;if(s.isCancellationRequested)return;g(m)}finally{s.isCancellationRequested||(h.busy=!1)}}});return t.add(h.onDidChangeValue(()=>o())),o(),t.add(h.onDidAccept(a=>{const[s]=h.selectedItems;typeof(s==null?void 0:s.accept)=="function"&&(a.inBackground||h.hide(),s.accept(h.keyMods,a))})),t.add(h.onDidTriggerItemButton(({button:a,item:s})=>Le(this,void 0,void 0,function*(){var l,c;if(typeof s.trigger=="function"){const g=(c=(l=s.buttons)===null||l===void 0?void 0:l.indexOf(a))!==null&&c!==void 0?c:-1;if(g>=0){const m=s.trigger(g,h.keyMods),S=typeof m=="number"?m:yield m;if(i.isCancellationRequested)return;switch(S){case D.NO_ACTION:break;case D.CLOSE_PICKER:h.hide();break;case D.REFRESH_PICKER:o();break;case D.REMOVE_ITEM:{const p=h.items.indexOf(s);if(p!==-1){const v=h.items.slice(),_=v.splice(p,1),w=h.activeItems.filter(I=>I!==_[0]),E=h.keepScrollPosition;h.keepScrollPosition=!0,h.items=v,w&&(h.activeItems=w),h.keepScrollPosition=E}break}}}}}))),t}}e.PickerQuickAccessProvider=C,C.FAST_PICKS_RACE_DELAY=200});var Xt=this&&this.__createBinding||(Object.create?function(K,e,y,f){f===void 0&&(f=y);var N=Object.getOwnPropertyDescriptor(e,y);(!N||("get"in N?!e.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(K,f,N)}:function(K,e,y,f){f===void 0&&(f=y),K[f]=e[y]}),Jt=this&&this.__exportStar||function(K,e){for(var y in K)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&Xt(e,K,y)};define(oe[82],se([1,0,9,225]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Jt(f,e),e.IQuickInputService=(0,y.createDecorator)("quickInputService")}),define(oe[38],se([1,0,217,19]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class N{constructor(){this.data=new Map}add(L,b){y.ok(f.isString(L)),y.ok(f.isObject(b)),y.ok(!this.data.has(L),"There is already an extension with this id"),this.data.set(L,b)}as(L){return this.data.get(L)||null}}e.Registry=new N}),define(oe[206],se([1,0,4,38]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function N(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class D{constructor(){this._onDidChangeSchema=new y.Emitter,this.schemasById={}}registerSchema(C,u){this.schemasById[N(C)]=u,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}}const L=new D;f.Registry.add(e.Extensions.JSONContribution,L)}),define(oe[110],se([1,0,18,4,19,596,37,206,38]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const u=C.Registry.as(b.Extensions.JSONContribution);class h{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new f.Emitter,this._onDidUpdateConfiguration=new f.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,l=!0){this.registerConfigurations([s],l)}registerConfigurations(s,l=!0){const c=this.doRegisterConfigurations(s,l);u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c})}registerDefaultConfigurations(s){var l;const c=[],g=[];for(const{overrides:m,source:S}of s)for(const p in m)if(c.push(p),e.OVERRIDE_PROPERTY_REGEX.test(p)){const v=this.configurationDefaultsOverrides.get(p),_=(l=v==null?void 0:v.valuesSources)!==null&&l!==void 0?l:new Map;if(S)for(const T of Object.keys(m[p]))_.set(T,S);const w=Object.assign(Object.assign({},(v==null?void 0:v.value)||{}),m[p]);this.configurationDefaultsOverrides.set(p,{source:S,value:w,valuesSources:_});const E=(0,L.getLanguageTagSettingPlainKey)(p),I={type:"object",default:w,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:w,source:N.isString(S)?void 0:S,defaultValueSource:S};g.push(...t(p)),this.configurationProperties[p]=I,this.defaultLanguageConfigurationOverridesNode.properties[p]=I}else{this.configurationDefaultsOverrides.set(p,{value:m[p],source:S});const v=this.configurationProperties[p];v&&(this.updatePropertyDefaultValue(p,v),this.updateSchema(p,v))}this.registerOverrideIdentifiers(g),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c,defaultsOverrides:!0})}registerOverrideIdentifiers(s){for(const l of s)this.overrideIdentifiers.add(l);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,l){const c=[];return s.forEach(g=>{c.push(...this.validateAndRegisterProperties(g,l,g.extensionInfo,g.restrictedProperties)),this.configurationContributors.push(g),this.registerJSONConfiguration(g)}),c}validateAndRegisterProperties(s,l=!0,c,g,m=3){m=N.isUndefinedOrNull(s.scope)?m:s.scope;let S=[],p=s.properties;if(p)for(let _ in p){if(l&&o(_)){delete p[_];continue}const w=p[_];if(w.source=c,w.defaultDefaultValue=p[_].default,this.updatePropertyDefaultValue(_,w),e.OVERRIDE_PROPERTY_REGEX.test(_)?w.scope=void 0:(w.scope=N.isUndefinedOrNull(w.scope)?m:w.scope,w.restricted=N.isUndefinedOrNull(w.restricted)?!!(g==null?void 0:g.includes(_)):w.restricted),p[_].hasOwnProperty("included")&&!p[_].included){this.excludedConfigurationProperties[_]=p[_],delete p[_];continue}else this.configurationProperties[_]=p[_];!p[_].deprecationMessage&&p[_].markdownDeprecationMessage&&(p[_].deprecationMessage=p[_].markdownDeprecationMessage),S.push(_)}let v=s.allOf;if(v)for(let _ of v)S.push(...this.validateAndRegisterProperties(_,l,c,g,m));return S}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(s){const l=c=>{let g=c.properties;if(g)for(const S in g)this.updateSchema(S,g[S]);let m=c.allOf;m&&m.forEach(l)};l(s)}updateSchema(s,l){switch(e.allSettings.properties[s]=l,l.scope){case 1:e.applicationSettings.properties[s]=l;break;case 2:e.machineSettings.properties[s]=l;break;case 6:e.machineOverridableSettings.properties[s]=l;break;case 3:e.windowSettings.properties[s]=l;break;case 4:e.resourceSettings.properties[s]=l;break;case 5:e.resourceSettings.properties[s]=l,this.resourceLanguageSettingsSchema.properties[s]=l;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const l=`[${s}]`,c={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(l,c),e.allSettings.properties[l]=c,e.applicationSettings.properties[l]=c,e.machineSettings.properties[l]=c,e.machineOverridableSettings.properties[l]=c,e.windowSettings.properties[l]=c,e.resourceSettings.properties[l]=c}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,l){const c=this.configurationDefaultsOverrides.get(s);let g=c==null?void 0:c.value,m=c==null?void 0:c.source;N.isUndefined(g)&&(g=l.defaultDefaultValue,m=void 0),N.isUndefined(g)&&(g=r(l.type)),l.default=g,l.defaultValueSource=m}}const i="\\[([^\\]]+)\\]",n=new RegExp(i,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${i})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(a){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(a)){let l=n.exec(a);for(;l==null?void 0:l.length;){const c=l[1].trim();c&&s.push(c),l=n.exec(a)}}return(0,y.distinct)(s)}e.overrideIdentifiersFromKey=t;function r(a){switch(Array.isArray(a)?a[0]:a){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=r;const d=new h;C.Registry.add(e.Extensions.Configuration,d);function o(a){return a.trim()?e.OVERRIDE_PROPERTY_REGEX.test(a)?D.localize(7,null,a):d.getConfigurationProperties()[a]!==void 0?D.localize(8,null,a):null:D.localize(6,null)}e.validateProperty=o}),define(oe[633],se([1,0,33,148,518,110,38]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:N.localize(0,null),scope:5});const b=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:f.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:N.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:N.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:N.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:N.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:f.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:N.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:N.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[N.localize(7,null),N.localize(8,null),N.localize(9,null)],description:N.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[N.localize(11,null),N.localize(12,null),N.localize(13,null)],default:"configuredByTheme",description:N.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:N.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:N.localize(16,null)},"editor.language.brackets":{type:["array","null"],default:null,description:N.localize(17,null),items:{type:"array",items:[{type:"string",description:N.localize(18,null)},{type:"string",description:N.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:N.localize(20,null),items:{type:"array",items:[{type:"string",description:N.localize(21,null)},{type:"string",description:N.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:N.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:N.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:N.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:N.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:N.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:N.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[N.localize(29,null),N.localize(30,null),N.localize(31,null)]}}});function C(r){return typeof r.type!="undefined"||typeof r.anyOf!="undefined"}for(const r of y.editorOptionsRegistry){const d=r.schema;if(typeof d!="undefined")if(C(d))b.properties[`editor.${r.name}`]=d;else for(const o in d)Object.hasOwnProperty.call(d,o)&&(b.properties[o]=d[o])}let u=null;function h(){return u===null&&(u=Object.create(null),Object.keys(b.properties).forEach(r=>{u[r]=!0})),u}function i(r){return h()[`editor.${r}`]||!1}e.isEditorConfigurationKey=i;function n(r){return h()[`diffEditor.${r}`]||!1}e.isDiffEditorConfigurationKey=n,L.Registry.as(D.Extensions.Configuration).registerConfiguration(b)}),define(oe[72],se([1,0,526,4,38,138,110]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new f.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let h=0,i=this._languages.length;h<i;h++)if(this._languages[h]===u){this._languages.splice(h,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=b,e.ModesRegistry=new b,N.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[y.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),N.Registry.as(L.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(oe[31],se([1,0,4,2,8,126,94,104,424,429,425,428,185,9,37,36,53,72,427]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class l{constructor(k){this.languageId=k}affects(k){return this.languageId?this.languageId===k:!0}}e.LanguageConfigurationServiceChangeEvent=l,e.ILanguageConfigurationService=(0,t.createDecorator)("languageConfigurationService");let c=class extends f.Disposable{constructor(k,A){super();this.configurationService=k,this.languageService=A,this._registry=this._register(new R),this.onDidChangeEmitter=this._register(new y.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(m));this._register(this.configurationService.onDidChangeConfiguration(P=>{const W=P.change.keys.some(z=>F.has(z)),M=P.change.overrides.filter(([z,Q])=>Q.some(ne=>F.has(ne))).map(([z])=>z);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new l(void 0));else for(const z of M)this.languageService.isRegisteredLanguageId(z)&&(this.configurations.delete(z),this.onDidChangeEmitter.fire(new l(z)))})),this._register(this._registry.onDidChange(P=>{this.configurations.delete(P.languageId),this.onDidChangeEmitter.fire(new l(P.languageId))}))}register(k,A,F){return this._registry.register(k,A,F)}getLanguageConfiguration(k){let A=this.configurations.get(k);return A||(A=g(k,this._registry,this.configurationService,this.languageService),this.configurations.set(k,A)),A}};c=De([fe(0,r.IConfigurationService),fe(1,d.ILanguageService)],c),e.LanguageConfigurationService=c;function g(O,k,A,F){let P=k.getLanguageConfiguration(O);if(!P){if(!F.isRegisteredLanguageId(O))throw new Error(`Language id "${O}" is not configured nor known`);P=new B(O,{})}const W=S(P.languageId,A),M=E([P.underlyingConfig,W]);return new B(P.languageId,M)}const m={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function S(O,k){const A=k.getValue(m.brackets,{overrideIdentifier:O}),F=k.getValue(m.colorizedBracketPairs,{overrideIdentifier:O});return{brackets:p(A),colorizedBracketPairs:p(F)}}function p(O){if(!!Array.isArray(O))return O.map(k=>{if(!(!Array.isArray(k)||k.length!==2))return[k[0],k[1]]}).filter(k=>!!k)}function v(O,k,A){const F=O.getLineContent(k);let P=N.getLeadingWhitespace(F);return P.length>A-1&&(P=P.substring(0,A-1)),P}e.getIndentationAtPosition=v;function _(O,k,A){O.tokenization.forceTokenization(k);const F=O.tokenization.getLineTokens(k),P=typeof A=="undefined"?O.getLineMaxColumn(k)-1:A-1;return(0,b.createScopedLineTokens)(F,P)}e.getScopedLineTokens=_;class w{constructor(k){this.languageId=k,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(k,A){const F=new I(k,A,++this._order);return this._entries.push(F),this._resolved=null,(0,f.toDisposable)(()=>{for(let P=0;P<this._entries.length;P++)if(this._entries[P]===F){this._entries.splice(P,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const k=this._resolve();k&&(this._resolved=new B(this.languageId,k))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(k=>k.configuration)))}}function E(O){let k={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const A of O)k={comments:A.comments||k.comments,brackets:A.brackets||k.brackets,wordPattern:A.wordPattern||k.wordPattern,indentationRules:A.indentationRules||k.indentationRules,onEnterRules:A.onEnterRules||k.onEnterRules,autoClosingPairs:A.autoClosingPairs||k.autoClosingPairs,surroundingPairs:A.surroundingPairs||k.surroundingPairs,autoCloseBefore:A.autoCloseBefore||k.autoCloseBefore,folding:A.folding||k.folding,colorizedBracketPairs:A.colorizedBracketPairs||k.colorizedBracketPairs,__electricCharacterSupport:A.__electricCharacterSupport||k.__electricCharacterSupport};return k}class I{constructor(k,A,F){this.configuration=k,this.priority=A,this.order=F}static cmp(k,A){return k.priority===A.priority?k.order-A.order:k.priority-A.priority}}class T{constructor(k){this.languageId=k}}e.LanguageConfigurationChangeEvent=T;class R extends f.Disposable{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(a.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(k,A,F=0){let P=this._entries.get(k);P||(P=new w(k),this._entries.set(k,P));const W=P.register(A,F);return this._onDidChange.fire(new T(k)),(0,f.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new T(k))})}getLanguageConfiguration(k){const A=this._entries.get(k);return(A==null?void 0:A.getResolvedConfiguration())||null}}e.LanguageConfigurationRegistry=R;class B{constructor(k,A){this.languageId=k,this.underlyingConfig=A,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i.OnEnterSupport(this.underlyingConfig):null,this.comments=B._handleComments(this.underlyingConfig),this.characterPair=new C.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new h.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new s.LanguageBracketsConfiguration(k,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new n.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(k,A,F,P){return this._onEnterSupport?this._onEnterSupport.onEnter(k,A,F,P):null}getAutoClosingPairs(){return new L.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(k){const A=k.comments;if(!A)return null;const F={};if(A.lineComment&&(F.lineCommentToken=A.lineComment),A.blockComment){const[P,W]=A.blockComment;F.blockCommentStartToken=P,F.blockCommentEndToken=W}return F}}e.ResolvedLanguageConfiguration=B,(0,o.registerSingleton)(e.ILanguageConfigurationService,c)}),define(oe[285],se([1,0,10,2,224,338,3,31,445,48,158,8,18,70,57,13,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const a=60*1e3,s=5*60*1e3;function l(w,E){const I=w.getModel(E);return!(!I||I.isTooLargeForSyncing())}let c=class extends f.Disposable{constructor(E,I,T,R,B){super();this._modelService=E,this._workerManager=this._register(new m(this._modelService,R)),this._logService=T,this._register(B.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,k)=>l(this._modelService,O.uri)?this._workerManager.withWorker().then(A=>A.computeLinks(O.uri)).then(A=>A&&{links:A}):Promise.resolve({links:[]})})),this._register(B.completionProvider.register("*",new g(this._workerManager,I,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return l(this._modelService,E)}computedUnicodeHighlights(E,I,T){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(E,I,T))}computeDiff(E,I,T,R){return this._workerManager.withWorker().then(B=>B.computeDiff(E,I,T,R))}computeMoreMinimalEdits(E,I){if((0,n.isNonEmptyArray)(I)){if(!l(this._modelService,E))return Promise.resolve(I);const T=r.StopWatch.create(!0),R=this._workerManager.withWorker().then(B=>B.computeMoreMinimalEdits(E,I));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),T.elapsed())),Promise.race([R,(0,y.timeout)(1e3).then(()=>I)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return l(this._modelService,E)}navigateValueSet(E,I,T){return this._workerManager.withWorker().then(R=>R.navigateValueSet(E,I,T))}canComputeWordRanges(E){return l(this._modelService,E)}computeWordRanges(E,I){return this._workerManager.withWorker().then(T=>T.computeWordRanges(E,I))}};c=De([fe(0,u.IModelService),fe(1,h.ITextResourceConfigurationService),fe(2,t.ILogService),fe(3,b.ILanguageConfigurationService),fe(4,o.ILanguageFeaturesService)],c),e.EditorWorkerService=c;class g{constructor(E,I,T,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=I,this._modelService=T}provideCompletionItems(E,I){return Le(this,void 0,void 0,function*(){const T=this._configurationService.getValue(E.uri,I,"editor");if(!T.wordBasedSuggestions)return;const R=[];if(T.wordBasedSuggestionsMode==="currentDocument")l(this._modelService,E.uri)&&R.push(E.uri);else for(const W of this._modelService.getModels())!l(this._modelService,W.uri)||(W===E?R.unshift(W.uri):(T.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageId()===E.getLanguageId())&&R.push(W.uri));if(R.length===0)return;const B=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),O=E.getWordAtPosition(I),k=O?new L.Range(I.lineNumber,O.startColumn,I.lineNumber,O.endColumn):L.Range.fromPositions(I),A=k.setEndPosition(I.lineNumber,I.column),P=yield(yield this._workerManager.withWorker()).textualSuggest(R,O==null?void 0:O.word,B);if(!!P)return{duration:P.duration,suggestions:P.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:A,replace:k}}))}})}}class m extends f.Disposable{constructor(E,I){super();this.languageConfigurationService=I,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new y.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(s/2)),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>s&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends f.Disposable{constructor(E,I,T){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=I,!T){const R=new y.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(a/2)),this._register(R)}}dispose(){for(let E in this._syncedModels)(0,f.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,I){for(const T of E){const R=T.toString();this._syncedModels[R]||this._beginModelSync(T,I),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),I=[];for(let T in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[T]>a&&I.push(T);for(const T of I)this._stopModelSync(T)}_beginModelSync(E,I){const T=this._modelService.getModel(E);if(!T||!I&&T.isTooLargeForSyncing())return;const R=E.toString();this._proxy.acceptNewModel({url:T.uri.toString(),lines:T.getLinesContent(),EOL:T.getEOL(),versionId:T.getVersionId()});const B=new f.DisposableStore;B.add(T.onDidChangeContent(O=>{this._proxy.acceptModelChanged(R.toString(),O)})),B.add(T.onWillDispose(()=>{this._stopModelSync(R)})),B.add((0,f.toDisposable)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=B}_stopModelSync(E){const I=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,f.dispose)(I)}}class p{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class v{constructor(E){this._workerClient=E}fhr(E,I){return this._workerClient.fhr(E,I)}}e.EditorWorkerHost=v;class _ extends f.Disposable{constructor(E,I,T,R){super();this.languageConfigurationService=R,this._disposed=!1,this._modelService=E,this._keepIdleModels=I,this._workerFactory=new D.DefaultWorkerFactory(T),this._worker=null,this._modelManager=null}fhr(E,I){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new N.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new v(this)))}catch(E){(0,N.logOnceWebWorkerWarning)(E),this._worker=new p(new C.EditorSimpleWorker(new v(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,N.logOnceWebWorkerWarning)(E),this._worker=new p(new C.EditorSimpleWorker(new v(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new S(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,I=!1){return Le(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,d.canceled)()):this._getProxy().then(T=>(this._getOrCreateModelManager(T).ensureSyncedResources(E,I),T))})}computedUnicodeHighlights(E,I,T){return this._withSyncedResources([E]).then(R=>R.computeUnicodeHighlights(E.toString(),I,T))}computeDiff(E,I,T,R){return this._withSyncedResources([E,I],!0).then(B=>B.computeDiff(E.toString(),I.toString(),T,R))}computeMoreMinimalEdits(E,I){return this._withSyncedResources([E]).then(T=>T.computeMoreMinimalEdits(E.toString(),I))}computeLinks(E){return this._withSyncedResources([E]).then(I=>I.computeLinks(E.toString()))}textualSuggest(E,I,T){return Le(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(E),B=T.source,O=(0,i.regExpFlags)(T);return R.textualSuggest(E.map(k=>k.toString()),I,B,O)})}computeWordRanges(E,I){return this._withSyncedResources([E]).then(T=>{const R=this._modelService.getModel(E);if(!R)return Promise.resolve(null);const B=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),O=B.source,k=(0,i.regExpFlags)(B);return T.computeWordRanges(E.toString(),I,O,k)})}navigateValueSet(E,I,T){return this._withSyncedResources([E]).then(R=>{const B=this._modelService.getModel(E);if(!B)return null;const O=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition(),k=O.source,A=(0,i.regExpFlags)(O);return R.navigateValueSet(E.toString(),I,T,k,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=_}),define(oe[634],se([1,0,285,19]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function N(L,b,C){return new D(L,b,C)}e.createWebWorker=N;class D extends y.EditorWorkerClient{constructor(b,C,u){super(b,u.keepIdleModels||!1,u.label,C);this._foreignModuleId=u.moduleId,this._foreignModuleCreateData=u.createData||null,this._foreignModuleHost=u.host||null,this._foreignProxy=null}fhr(b,C){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,C))}catch(u){return Promise.reject(u)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(b=>{const C=this._foreignModuleHost?f.getAllMethodNames(this._foreignModuleHost):[];return b.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,C).then(u=>{this._foreignModuleCreateData=null;const h=(t,r)=>b.fmr(t,r),i=(t,r)=>function(){const d=Array.prototype.slice.call(arguments,0);return r(t,d)},n={};for(const t of u)n[t]=i(t,h);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(b){return this._withSyncedResources(b).then(C=>this.getProxy())}}}),define(oe[207],se([1,0,8,94,104,31]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function L(n,t,r){const d=n.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let o,a=-1;for(o=t-1;o>=1;o--){if(n.tokenization.getLanguageIdAtPosition(o,0)!==d)return a;const s=n.getLineContent(o);if(r.shouldIgnore(s)||/^\s+$/.test(s)||s===""){a=o;continue}return o}}return-1}function b(n,t,r,d=!0,o){if(n<4)return null;const a=o.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!a)return null;if(r<=1)return{indentation:"",action:null};const s=L(t,r,a);if(s<0)return null;if(s<1)return{indentation:"",action:null};const l=t.getLineContent(s);if(a.shouldIncrease(l)||a.shouldIndentNextLine(l))return{indentation:y.getLeadingWhitespace(l),action:f.IndentAction.Indent,line:s};if(a.shouldDecrease(l))return{indentation:y.getLeadingWhitespace(l),action:null,line:s};{if(s===1)return{indentation:y.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};const c=s-1,g=a.getIndentMetadata(t.getLineContent(c));if(!(g&(1|2))&&g&4){let m=0;for(let S=c-1;S>0;S--)if(!a.shouldIndentNextLine(t.getLineContent(S))){m=S;break}return{indentation:y.getLeadingWhitespace(t.getLineContent(m+1)),action:null,line:m+1}}if(d)return{indentation:y.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};for(let m=s;m>0;m--){const S=t.getLineContent(m);if(a.shouldIncrease(S))return{indentation:y.getLeadingWhitespace(S),action:f.IndentAction.Indent,line:m};if(a.shouldIndentNextLine(S)){let p=0;for(let v=m-1;v>0;v--)if(!a.shouldIndentNextLine(t.getLineContent(m))){p=v;break}return{indentation:y.getLeadingWhitespace(t.getLineContent(p+1)),action:null,line:p+1}}else if(a.shouldDecrease(S))return{indentation:y.getLeadingWhitespace(S),action:null,line:m}}return{indentation:y.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=b;function C(n,t,r,d,o,a){if(n<4)return null;const s=a.getLanguageConfiguration(r);if(!s)return null;const l=a.getLanguageConfiguration(r).indentRulesSupport;if(!l)return null;const c=b(n,t,d,void 0,a),g=t.getLineContent(d);if(c){const m=c.line;if(m!==void 0){const S=s.onEnter(n,"",t.getLineContent(m),"");if(S){let p=y.getLeadingWhitespace(t.getLineContent(m));return S.removeText&&(p=p.substring(0,p.length-S.removeText)),S.indentAction===f.IndentAction.Indent||S.indentAction===f.IndentAction.IndentOutdent?p=o.shiftIndent(p):S.indentAction===f.IndentAction.Outdent&&(p=o.unshiftIndent(p)),l.shouldDecrease(g)&&(p=o.unshiftIndent(p)),S.appendText&&(p+=S.appendText),y.getLeadingWhitespace(p)}}return l.shouldDecrease(g)?c.action===f.IndentAction.Indent?c.indentation:o.unshiftIndent(c.indentation):c.action===f.IndentAction.Indent?o.shiftIndent(c.indentation):c.indentation}return null}e.getGoodIndentForLine=C;function u(n,t,r,d,o){if(n<4)return null;t.tokenization.forceTokenization(r.startLineNumber);const a=t.tokenization.getLineTokens(r.startLineNumber),s=(0,N.createScopedLineTokens)(a,r.startColumn-1),l=s.getLineContent();let c=!1,g;s.firstCharOffset>0&&a.getLanguageId(0)!==s.languageId?(c=!0,g=l.substr(0,r.startColumn-1-s.firstCharOffset)):g=a.getLineContent().substring(0,r.startColumn-1);let m;r.isEmpty()?m=l.substr(r.startColumn-1-s.firstCharOffset):m=(0,D.getScopedLineTokens)(t,r.endLineNumber,r.endColumn).getLineContent().substr(r.endColumn-1-s.firstCharOffset);const S=o.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!S)return null;const p=g,v=y.getLeadingWhitespace(g),_={tokenization:{getLineTokens:T=>t.tokenization.getLineTokens(T),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(T,R)=>t.getLanguageIdAtPosition(T,R)},getLineContent:T=>T===r.startLineNumber?p:t.getLineContent(T)},w=y.getLeadingWhitespace(a.getLineContent()),E=b(n,_,r.startLineNumber+1,void 0,o);if(!E){const T=c?w:v;return{beforeEnter:T,afterEnter:T}}let I=c?w:E.indentation;return E.action===f.IndentAction.Indent&&(I=d.shiftIndent(I)),S.shouldDecrease(m)&&(I=d.unshiftIndent(I)),{beforeEnter:c?w:v,afterEnter:I}}e.getIndentForEnter=u;function h(n,t,r,d,o,a){if(n<4)return null;const s=(0,D.getScopedLineTokens)(t,r.startLineNumber,r.startColumn);if(s.firstCharOffset)return null;const l=a.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!l)return null;const c=s.getLineContent(),g=c.substr(0,r.startColumn-1-s.firstCharOffset);let m;if(r.isEmpty()?m=c.substr(r.startColumn-1-s.firstCharOffset):m=(0,D.getScopedLineTokens)(t,r.endLineNumber,r.endColumn).getLineContent().substr(r.endColumn-1-s.firstCharOffset),!l.shouldDecrease(g+m)&&l.shouldDecrease(g+d+m)){const S=b(n,t,r.startLineNumber,!1,a);if(!S)return null;let p=S.indentation;return S.action!==f.IndentAction.Indent&&(p=o.unshiftIndent(p)),p}return null}e.getIndentActionForType=h;function i(n,t,r){const d=r.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!d||t<1||t>n.getLineCount()?null:d.getIndentMetadata(n.getLineContent(t))}e.getIndentMetadata=i}),define(oe[208],se([1,0,94,31]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function N(D,L,b,C){const u=(0,f.getScopedLineTokens)(L,b.startLineNumber,b.startColumn),h=C.getLanguageConfiguration(u.languageId);if(!h)return null;const i=u.getLineContent(),n=i.substr(0,b.startColumn-1-u.firstCharOffset);let t;b.isEmpty()?t=i.substr(b.startColumn-1-u.firstCharOffset):t=(0,f.getScopedLineTokens)(L,b.endLineNumber,b.endColumn).getLineContent().substr(b.endColumn-1-u.firstCharOffset);let r="";if(b.startLineNumber>1&&u.firstCharOffset===0){const c=(0,f.getScopedLineTokens)(L,b.startLineNumber-1);c.languageId===u.languageId&&(r=c.getLineContent())}const d=h.onEnter(D,r,n,t);if(!d)return null;const o=d.indentAction;let a=d.appendText;const s=d.removeText||0;a?o===y.IndentAction.Indent&&(a="	"+a):o===y.IndentAction.Indent||o===y.IndentAction.IndentOutdent?a="	":a="";let l=(0,f.getIndentationAtPosition)(L,b.startLineNumber,b.startColumn);return s&&(l=l.substring(0,l.length-s)),{indentAction:o,appendText:a,removeText:s,indentation:l}}e.getEnterAction=N}),define(oe[209],se([1,0,8,67,3,24,208,31]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const C=Object.create(null);function u(i,n){if(n<=0)return"";C[i]||(C[i]=["",i]);const t=C[i];for(let r=t.length;r<=n;r++)t[r]=t[r-1]+i;return t[n]}e.cachedStringRepeat=u;let h=class ti{constructor(n,t,r){this._languageConfigurationService=r,this._opts=t,this._selection=n,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(n,t,r,d,o){const a=f.CursorColumns.visibleColumnFromColumn(n,t,r);if(o){const s=u(" ",d),c=f.CursorColumns.prevIndentTabStop(a,d)/d;return u(s,c)}else{const s="	",c=f.CursorColumns.prevRenderTabStop(a,r)/r;return u(s,c)}}static shiftIndent(n,t,r,d,o){const a=f.CursorColumns.visibleColumnFromColumn(n,t,r);if(o){const s=u(" ",d),c=f.CursorColumns.nextIndentTabStop(a,d)/d;return u(s,c)}else{const s="	",c=f.CursorColumns.nextRenderTabStop(a,r)/r;return u(s,c)}}_addEditOperation(n,t,r){this._useLastEditRangeForCursorEndPosition?n.addTrackedEditOperation(t,r):n.addEditOperation(t,r)}getEditOperations(n,t){const r=this._selection.startLineNumber;let d=this._selection.endLineNumber;this._selection.endColumn===1&&r!==d&&(d=d-1);const{tabSize:o,indentSize:a,insertSpaces:s}=this._opts,l=r===d;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(n.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,g=0;for(let m=r;m<=d;m++,c=g){g=0;const S=n.getLineContent(m);let p=y.firstNonWhitespaceIndex(S);if(this._opts.isUnshift&&(S.length===0||p===0)||!l&&!this._opts.isUnshift&&S.length===0)continue;if(p===-1&&(p=S.length),m>1&&f.CursorColumns.visibleColumnFromColumn(S,p+1,o)%a!=0&&n.tokenization.isCheapToTokenize(m-1)){const w=(0,L.getEnterAction)(this._opts.autoIndent,n,new N.Range(m-1,n.getLineMaxColumn(m-1),m-1,n.getLineMaxColumn(m-1)),this._languageConfigurationService);if(w){if(g=c,w.appendText)for(let E=0,I=w.appendText.length;E<I&&g<a&&w.appendText.charCodeAt(E)===32;E++)g++;w.removeText&&(g=Math.max(0,g-w.removeText));for(let E=0;E<g&&!(p===0||S.charCodeAt(p-1)!==32);E++)p--}}if(this._opts.isUnshift&&p===0)continue;let v;this._opts.isUnshift?v=ti.unshiftIndent(S,p+1,o,a,s):v=ti.shiftIndent(S,p+1,o,a,s),this._addEditOperation(t,new N.Range(m,1,m,p+1),v),m===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=p+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&n.getLineLength(r)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=s?u(" ",a):"	";for(let g=r;g<=d;g++){const m=n.getLineContent(g);let S=y.firstNonWhitespaceIndex(m);if(!(this._opts.isUnshift&&(m.length===0||S===0))&&!(!l&&!this._opts.isUnshift&&m.length===0)&&(S===-1&&(S=m.length),!(this._opts.isUnshift&&S===0)))if(this._opts.isUnshift){S=Math.min(S,a);for(let p=0;p<S;p++)if(m.charCodeAt(p)===9){S=p+1;break}this._addEditOperation(t,new N.Range(g,1,g,S+1),"")}else this._addEditOperation(t,new N.Range(g,1,g,1),c),g===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(n,t){if(this._useLastEditRangeForCursorEndPosition){const d=t.getInverseEditOperations()[0];return new D.Selection(d.range.endLineNumber,d.range.endColumn,d.range.endLineNumber,d.range.endColumn)}const r=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const d=this._selection.startColumn;return r.startColumn<=d?r:r.getDirection()===0?new D.Selection(r.startLineNumber,d,r.endLineNumber,r.endColumn):new D.Selection(r.endLineNumber,r.endColumn,r.startLineNumber,d)}return r}};h=De([fe(2,b.ILanguageConfigurationService)],h),e.ShiftCommand=h}),define(oe[210],se([1,0,13,8,103,209,415,62,125,3,11,94,31,104,207,208]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class o{static indent(p,v,_){if(v===null||_===null)return[];const w=[];for(let E=0,I=_.length;E<I;E++)w[E]=new D.ShiftCommand(_[E],{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return w}static outdent(p,v,_){const w=[];for(let E=0,I=_.length;E<I;E++)w[E]=new D.ShiftCommand(_[E],{isUnshift:!0,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return w}static shiftIndent(p,v,_){return _=_||1,D.ShiftCommand.shiftIndent(v,v.length+_,p.tabSize,p.indentSize,p.insertSpaces)}static unshiftIndent(p,v,_){return _=_||1,D.ShiftCommand.unshiftIndent(v,v.length+_,p.tabSize,p.indentSize,p.insertSpaces)}static _distributedPaste(p,v,_,w){const E=[];for(let I=0,T=_.length;I<T;I++)E[I]=new N.ReplaceCommand(_[I],w[I]);return new b.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(p,v,_,w,E){const I=[];for(let T=0,R=_.length;T<R;T++){const B=_[T],O=B.getPosition();if(E&&!B.isEmpty()&&(E=!1),E&&w.indexOf(`
`)!==w.length-1&&(E=!1),E){const k=new u.Range(O.lineNumber,1,O.lineNumber,1);I[T]=new N.ReplaceCommandThatPreservesSelection(k,w,B,!0)}else I[T]=new N.ReplaceCommand(B,w)}return new b.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(p,v,_,w,E){if(w||v.length===1)return null;if(E&&E.length===v.length)return E;if(p.multiCursorPaste==="spread"){_.charCodeAt(_.length-1)===10&&(_=_.substr(0,_.length-1)),_.charCodeAt(_.length-1)===13&&(_=_.substr(0,_.length-1));const I=f.splitLines(_);if(I.length===v.length)return I}return null}static paste(p,v,_,w,E,I){const T=this._distributePasteToCursors(p,_,w,E,I);return T?(_=_.sort(u.Range.compareRangesUsingStarts),this._distributedPaste(p,v,_,T)):this._simplePaste(p,v,_,w,E)}static _goodIndentForLine(p,v,_){let w=null,E="";const I=(0,r.getInheritIndentForLine)(p.autoIndent,v,_,!1,p.languageConfigurationService);if(I)w=I.action,E=I.indentation;else if(_>1){let T;for(T=_-1;T>=1;T--){const O=v.getLineContent(T);if(f.lastNonWhitespaceIndex(O)>=0)break}if(T<1)return null;const R=v.getLineMaxColumn(T),B=(0,d.getEnterAction)(p.autoIndent,v,new u.Range(T,R,T,R),p.languageConfigurationService);B&&(E=B.indentation+B.appendText)}return w&&(w===i.IndentAction.Indent&&(E=o.shiftIndent(p,E)),w===i.IndentAction.Outdent&&(E=o.unshiftIndent(p,E)),E=p.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(p,v,_,w){let E="";const I=_.getStartPosition();if(p.insertSpaces){const T=p.visibleColumnFromColumn(v,I),R=p.indentSize,B=R-T%R;for(let O=0;O<B;O++)E+=" "}else E="	";return new N.ReplaceCommand(_,E,w)}static tab(p,v,_){const w=[];for(let E=0,I=_.length;E<I;E++){const T=_[E];if(T.isEmpty()){const R=v.getLineContent(T.startLineNumber);if(/^\s*$/.test(R)&&v.tokenization.isCheapToTokenize(T.startLineNumber)){let B=this._goodIndentForLine(p,v,T.startLineNumber);B=B||"	";const O=p.normalizeIndentation(B);if(!R.startsWith(O)){w[E]=new N.ReplaceCommand(new u.Range(T.startLineNumber,1,T.startLineNumber,R.length+1),O,!0);continue}}w[E]=this._replaceJumpToNextIndent(p,v,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const R=v.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==R){w[E]=this._replaceJumpToNextIndent(p,v,T,!1);continue}}w[E]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService)}}return w}static compositionType(p,v,_,w,E,I,T,R){const B=w.map(O=>this._compositionType(_,O,E,I,T,R));return new b.EditOperationResult(4,B,{shouldPushStackElementBefore:c(p,4),shouldPushStackElementAfter:!1})}static _compositionType(p,v,_,w,E,I){if(!v.isEmpty())return null;const T=v.getPosition(),R=Math.max(1,T.column-w),B=Math.min(p.getLineMaxColumn(T.lineNumber),T.column+E),O=new u.Range(T.lineNumber,R,T.lineNumber,B);return p.getValueInRange(O)===_&&I===0?null:new N.ReplaceCommandWithOffsetCursorState(O,_,0,I)}static _typeCommand(p,v,_){return _?new N.ReplaceCommandWithoutChangingPosition(p,v,!0):new N.ReplaceCommand(p,v,!0)}static _enter(p,v,_,w){if(p.autoIndent===0)return o._typeCommand(w,`
`,_);if(!v.tokenization.isCheapToTokenize(w.getStartPosition().lineNumber)||p.autoIndent===1){const R=v.getLineContent(w.startLineNumber),B=f.getLeadingWhitespace(R).substring(0,w.startColumn-1);return o._typeCommand(w,`
`+p.normalizeIndentation(B),_)}const E=(0,d.getEnterAction)(p.autoIndent,v,w,p.languageConfigurationService);if(E){if(E.indentAction===i.IndentAction.None)return o._typeCommand(w,`
`+p.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===i.IndentAction.Indent)return o._typeCommand(w,`
`+p.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===i.IndentAction.IndentOutdent){const R=p.normalizeIndentation(E.indentation),B=p.normalizeIndentation(E.indentation+E.appendText),O=`
`+B+`
`+R;return _?new N.ReplaceCommandWithoutChangingPosition(w,O,!0):new N.ReplaceCommandWithOffsetCursorState(w,O,-1,B.length-R.length,!0)}else if(E.indentAction===i.IndentAction.Outdent){const R=o.unshiftIndent(p,E.indentation);return o._typeCommand(w,`
`+p.normalizeIndentation(R+E.appendText),_)}}const I=v.getLineContent(w.startLineNumber),T=f.getLeadingWhitespace(I).substring(0,w.startColumn-1);if(p.autoIndent>=4){const R=(0,r.getIndentForEnter)(p.autoIndent,v,w,{unshiftIndent:B=>o.unshiftIndent(p,B),shiftIndent:B=>o.shiftIndent(p,B),normalizeIndentation:B=>p.normalizeIndentation(B)},p.languageConfigurationService);if(R){let B=p.visibleColumnFromColumn(v,w.getEndPosition());const O=w.endColumn,k=v.getLineContent(w.endLineNumber),A=f.firstNonWhitespaceIndex(k);if(A>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,A+1)):w=w.setEndPosition(w.endLineNumber,v.getLineMaxColumn(w.endLineNumber)),_)return new N.ReplaceCommandWithoutChangingPosition(w,`
`+p.normalizeIndentation(R.afterEnter),!0);{let F=0;return O<=A+1&&(p.insertSpaces||(B=Math.ceil(B/p.indentSize)),F=Math.min(B+1-p.normalizeIndentation(R.afterEnter).length-1,0)),new N.ReplaceCommandWithOffsetCursorState(w,`
`+p.normalizeIndentation(R.afterEnter),0,F,!0)}}}return o._typeCommand(w,`
`+p.normalizeIndentation(T),_)}static _isAutoIndentType(p,v,_){if(p.autoIndent<4)return!1;for(let w=0,E=_.length;w<E;w++)if(!v.tokenization.isCheapToTokenize(_[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(p,v,_,w){const E=(0,n.getIndentationAtPosition)(v,_.startLineNumber,_.startColumn),I=(0,r.getIndentActionForType)(p.autoIndent,v,_,w,{shiftIndent:T=>o.shiftIndent(p,T),unshiftIndent:T=>o.unshiftIndent(p,T)},p.languageConfigurationService);if(I===null)return null;if(I!==p.normalizeIndentation(E)){const T=v.getLineFirstNonWhitespaceColumn(_.startLineNumber);return T===0?o._typeCommand(new u.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),p.normalizeIndentation(I)+w,!1):o._typeCommand(new u.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),p.normalizeIndentation(I)+v.getLineContent(_.startLineNumber).substring(T-1,_.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(p,v,_,w,E){if(p.autoClosingOvertype==="never"||!p.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,T=_.length;I<T;I++){const R=_[I];if(!R.isEmpty())return!1;const B=R.getPosition(),O=v.getLineContent(B.lineNumber);if(O.charAt(B.column-1)!==E)return!1;const A=(0,b.isQuote)(E);if((B.column>2?O.charCodeAt(B.column-2):0)===92&&A)return!1;if(p.autoClosingOvertype==="auto"){let P=!1;for(let W=0,M=w.length;W<M;W++){const z=w[W];if(B.lineNumber===z.startLineNumber&&B.column===z.startColumn){P=!0;break}}if(!P)return!1}}return!0}static _runAutoClosingOvertype(p,v,_,w,E){const I=[];for(let T=0,R=w.length;T<R;T++){const O=w[T].getPosition(),k=new u.Range(O.lineNumber,O.column,O.lineNumber,O.column+1);I[T]=new N.ReplaceCommand(k,E)}return new b.EditOperationResult(4,I,{shouldPushStackElementBefore:c(p,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(p,v){const _=v.charAt(0),w=p.autoClosingPairs.autoClosingPairsOpenByStart.get(_)||[],E=p.autoClosingPairs.autoClosingPairsCloseByStart.get(_)||[],I=w.some(R=>v.startsWith(R.open)),T=E.some(R=>v.startsWith(R.close));return!I&&T}static _findAutoClosingPairOpen(p,v,_,w){const E=p.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!E)return null;let I=null;for(const T of E)if(I===null||T.open.length>I.open.length){let R=!0;for(const B of _)if(v.getValueInRange(new u.Range(B.lineNumber,B.column-T.open.length+1,B.lineNumber,B.column))+w!==T.open){R=!1;break}R&&(I=T)}return I}static _findContainedAutoClosingPair(p,v){if(v.open.length<=1)return null;const _=v.close.charAt(v.close.length-1),w=p.autoClosingPairs.autoClosingPairsCloseByEnd.get(_)||[];let E=null;for(const I of w)I.open!==v.open&&v.open.includes(I.open)&&v.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(p,v,_,w,E){const I=(0,b.isQuote)(w),T=I?p.autoClosingQuotes:p.autoClosingBrackets,R=I?p.shouldAutoCloseBefore.quote:p.shouldAutoCloseBefore.bracket;if(T==="never")return null;for(const P of _)if(!P.isEmpty())return null;const B=_.map(P=>{const W=P.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-w.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),O=this._findAutoClosingPairOpen(p,v,B.map(P=>new h.Position(P.lineNumber,P.beforeColumn)),w);if(!O)return null;const k=this._findContainedAutoClosingPair(p,O),A=k?k.close:"";let F=!0;for(const P of B){const{lineNumber:W,beforeColumn:M,afterColumn:z}=P,Q=v.getLineContent(W),ne=Q.substring(0,M-1),X=Q.substring(z-1);if(X.startsWith(A)||(F=!1),X.length>0){const G=X.charAt(0);if(!o._isBeforeClosingBrace(p,X)&&!R(G))return null}if(O.open.length===1&&(w==="'"||w==='"')&&T!=="always"){const G=(0,C.getMapForWordSeparators)(p.wordSeparators);if(ne.length>0){const x=ne.charCodeAt(ne.length-1);if(G.get(x)===0)return null}}if(!v.tokenization.isCheapToTokenize(W))return null;v.tokenization.forceTokenization(W);const J=v.tokenization.getLineTokens(W),ie=(0,t.createScopedLineTokens)(J,M-1);if(!O.shouldAutoClose(ie,M-ie.firstCharOffset))return null;const le=O.findNeutralCharacter();if(le){const G=v.tokenization.getTokenTypeIfInsertingCharacter(W,M,le);if(!O.isOK(G))return null}}return F?O.close.substring(0,O.close.length-A.length):O.close}static _runAutoClosingOpenCharType(p,v,_,w,E,I,T){const R=[];for(let B=0,O=w.length;B<O;B++){const k=w[B];R[B]=new a(k,E,!I,T)}return new b.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(p,v){return(0,b.isQuote)(v)?p.autoSurround==="quotes"||p.autoSurround==="languageDefined":p.autoSurround==="brackets"||p.autoSurround==="languageDefined"}static _isSurroundSelectionType(p,v,_,w){if(!o._shouldSurroundChar(p,w)||!p.surroundingPairs.hasOwnProperty(w))return!1;const E=(0,b.isQuote)(w);for(const I of _){if(I.isEmpty())return!1;let T=!0;for(let R=I.startLineNumber;R<=I.endLineNumber;R++){const B=v.getLineContent(R),O=R===I.startLineNumber?I.startColumn-1:0,k=R===I.endLineNumber?I.endColumn-1:B.length,A=B.substring(O,k);if(/[^ \t]/.test(A)){T=!1;break}}if(T)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const R=v.getValueInRange(I);if((0,b.isQuote)(R))return!1}}return!0}static _runSurroundSelectionType(p,v,_,w,E){const I=[];for(let T=0,R=w.length;T<R;T++){const B=w[T],O=v.surroundingPairs[E];I[T]=new L.SurroundSelectionCommand(B,E,O)}return new b.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(p,v,_){return!!(_.length===1&&v.tokenization.isCheapToTokenize(_[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(p,v,_,w,E){if(!v.electricChars.hasOwnProperty(E)||!w.isEmpty())return null;const I=w.getPosition();_.tokenization.forceTokenization(I.lineNumber);const T=_.tokenization.getLineTokens(I.lineNumber);let R;try{R=v.onElectricCharacter(E,T,I.column)}catch(B){return(0,y.onUnexpectedError)(B),null}if(!R)return null;if(R.matchOpenBracket){const B=(T.getLineContent()+E).lastIndexOf(R.matchOpenBracket)+1,O=_.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:I.lineNumber,column:B},500);if(O){if(O.startLineNumber===I.lineNumber)return null;const k=_.getLineContent(O.startLineNumber),A=f.getLeadingWhitespace(k),F=v.normalizeIndentation(A),P=_.getLineContent(I.lineNumber),W=_.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,M=P.substring(W-1,I.column-1),z=F+M+E,Q=new u.Range(I.lineNumber,1,I.lineNumber,I.column),ne=new N.ReplaceCommand(Q,z);return new b.EditOperationResult(l(z,p),[ne],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(p,v,_,w,E,I){if(!w)return null;let T=null;for(const k of w)if(T===null)T=k.insertedText;else if(T!==k.insertedText)return null;if(!T||T.length!==1)return null;const R=T;let B=!1;for(const k of w)if(k.deletedText.length!==0){B=!0;break}if(B){if(!o._shouldSurroundChar(v,R)||!v.surroundingPairs.hasOwnProperty(R))return null;const k=(0,b.isQuote)(R);for(const P of w)if(P.deletedSelectionStart!==0||P.deletedSelectionEnd!==P.deletedText.length||/^[ \t]+$/.test(P.deletedText)||k&&(0,b.isQuote)(P.deletedText))return null;const A=[];for(const P of E){if(!P.isEmpty())return null;A.push(P.getPosition())}if(A.length!==w.length)return null;const F=[];for(let P=0,W=A.length;P<W;P++)F.push(new L.CompositionSurroundSelectionCommand(A[P],w[P].deletedText,R));return new b.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(v,_,E,I,R)){const k=E.map(A=>new N.ReplaceCommand(new u.Range(A.positionLineNumber,A.positionColumn,A.positionLineNumber,A.positionColumn+1),"",!1));return new b.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const O=this._getAutoClosingPairClose(v,_,E,R,!0);return O!==null?this._runAutoClosingOpenCharType(p,v,_,E,R,!0,O):null}static typeWithInterceptors(p,v,_,w,E,I,T){if(!p&&T===`
`){const O=[];for(let k=0,A=E.length;k<A;k++)O[k]=o._enter(_,w,!1,E[k]);return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!p&&this._isAutoIndentType(_,w,E)){const O=[];let k=!1;for(let A=0,F=E.length;A<F;A++)if(O[A]=this._runAutoIndentType(_,w,E[A],T),!O[A]){k=!0;break}if(!k)return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(_,w,E,I,T))return this._runAutoClosingOvertype(v,_,w,E,T);if(!p){const O=this._getAutoClosingPairClose(_,w,E,T,!1);if(O)return this._runAutoClosingOpenCharType(v,_,w,E,T,!1,O)}if(!p&&this._isSurroundSelectionType(_,w,E,T))return this._runSurroundSelectionType(v,_,w,E,T);if(!p&&this._isTypeInterceptorElectricChar(_,w,E)){const O=this._typeInterceptorElectricChar(v,_,w,E[0],T);if(O)return O}const R=[];for(let O=0,k=E.length;O<k;O++)R[O]=new N.ReplaceCommand(E[O],T);const B=l(T,v);return new b.EditOperationResult(B,R,{shouldPushStackElementBefore:c(v,B),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(p,v,_,w,E){const I=[];for(let R=0,B=w.length;R<B;R++)I[R]=new N.ReplaceCommand(w[R],E);const T=l(E,p);return new b.EditOperationResult(T,I,{shouldPushStackElementBefore:c(p,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(p,v,_){if(v===null||_===null)return[];const w=[];for(let E=0,I=_.length;E<I;E++){let T=_[E].positionLineNumber;if(T===1)w[E]=new N.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),`
`);else{T--;const R=v.getLineMaxColumn(T);w[E]=this._enter(p,v,!1,new u.Range(T,R,T,R))}}return w}static lineInsertAfter(p,v,_){if(v===null||_===null)return[];const w=[];for(let E=0,I=_.length;E<I;E++){const T=_[E].positionLineNumber,R=v.getLineMaxColumn(T);w[E]=this._enter(p,v,!1,new u.Range(T,R,T,R))}return w}static lineBreakInsert(p,v,_){const w=[];for(let E=0,I=_.length;E<I;E++)w[E]=this._enter(p,v,!0,_[E]);return w}}e.TypeOperations=o;class a extends N.ReplaceCommandWithOffsetCursorState{constructor(p,v,_,w){super(p,(_?v:"")+w,0,-w.length);this._openCharacter=v,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(p,v){const w=v.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new u.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(p,v)}}e.TypeWithAutoClosingCommand=a;class s{constructor(p,v,_,w,E,I){this.deletedText=p,this.deletedSelectionStart=v,this.deletedSelectionEnd=_,this.insertedText=w,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=s;function l(S,p){return S===" "?p===5||p===6?6:5:4}function c(S,p){return m(S)&&!m(p)?!0:S===5?!1:g(S)!==g(p)}function g(S){return S===6||S===5?"space":S}function m(S){return S===4||S===5||S===6}}),define(oe[286],se([1,0,13,8,423,62,416,183,210,3,24,95,190,2,191]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class d extends t.Disposable{constructor(m,S,p,v){super();this._model=m,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=S,this._coordinatesConverter=p,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,v),this._cursors=new N.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(m){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,m),this._cursors.updateContext(this.context)}onLineMappingChanged(m){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(m,"viewModel",0,this.getCursorStates())}setHasFocus(m){this._hasFocus=m}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const m=this._cursors.getSelections();for(let S=0;S<this._autoClosedActions.length;S++){const p=this._autoClosedActions[S];p.isValid(m)||(p.dispose(),this._autoClosedActions.splice(S,1),S--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(m,S,p,v){let _=!1;v!==null&&v.length>d.MAX_CURSOR_COUNT&&(v=v.slice(0,d.MAX_CURSOR_COUNT),_=!0);const w=o.from(this._model,this);return this._cursors.setStates(v),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(m,S,p,w,_)}setCursorColumnSelectData(m){this._columnSelectData=m}revealPrimary(m,S,p,v,_,w){const E=this._cursors.getViewPositions();let I=null,T=null;E.length>1?T=this._cursors.getViewSelections():I=u.Range.fromPositions(E[0],E[0]),m.emitViewEvent(new n.ViewRevealRangeRequestEvent(S,p,I,T,v,_,w))}saveState(){const m=[],S=this._cursors.getSelections();for(let p=0,v=S.length;p<v;p++){const _=S[p];m.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return m}restoreState(m,S){const p=[];for(let v=0,_=S.length;v<_;v++){const w=S[v];let E=1,I=1;w.position&&w.position.lineNumber&&(E=w.position.lineNumber),w.position&&w.position.column&&(I=w.position.column);let T=E,R=I;w.selectionStart&&w.selectionStart.lineNumber&&(T=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(R=w.selectionStart.column),p.push({selectionStartLineNumber:T,selectionStartColumn:R,positionLineNumber:E,positionColumn:I})}this.setStates(m,"restoreState",0,D.CursorState.fromModelSelections(p)),this.revealPrimary(m,"restoreState",!1,0,!0,1)}onModelContentChanged(m,S){if(S instanceof i.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(m,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const p=S.rawContentChangedEvent;if(this._knownModelVersionId=p.versionId,this._isHandling)return;const v=p.containsEvent(1);if(this._prevEditOperationType=0,v)this._cursors.dispose(),this._cursors=new N.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(m,"model",1,null,!1);else if(this._hasFocus&&p.resultingSelection&&p.resultingSelection.length>0){const _=D.CursorState.fromModelSelections(p.resultingSelection);this.setStates(m,"modelChange",p.isUndoing?5:p.isRedoing?6:2,_)&&this.revealPrimary(m,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(m,"modelChange",2,D.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const m=this._cursors.getPrimaryCursor(),S=m.viewState.selectionStart.getStartPosition(),p=m.viewState.position;return{isReal:!1,fromViewLineNumber:S.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,S),toViewLineNumber:p.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,p)}}getSelections(){return this._cursors.getSelections()}setSelections(m,S,p,v){this.setStates(m,S,v,D.CursorState.fromModelSelections(p))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(m){this._prevEditOperationType=m}_pushAutoClosedAction(m,S){const p=[],v=[];for(let E=0,I=m.length;E<I;E++)p.push({range:m[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),v.push({range:S[E],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],p),w=this._model.deltaDecorations([],v);this._autoClosedActions.push(new a(this._model,_,w))}_executeEditOperation(m){if(!m)return;m.shouldPushStackElementBefore&&this._model.pushStackElement();const S=s.executeCommands(this._model,this._cursors.getSelections(),m.commands);if(S){this._interpretCommandResult(S);const p=[],v=[];for(let _=0;_<m.commands.length;_++){const w=m.commands[_];w instanceof C.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(p.push(w.closeCharacterRange),v.push(w.enclosingRange))}p.length>0&&this._pushAutoClosedAction(p,v),this._prevEditOperationType=m.type}m.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(m){(!m||m.length===0)&&(m=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(m),this._cursors.normalize()}_emitStateChangedIfNecessary(m,S,p,v,_){const w=o.from(this._model,this);if(w.equals(v))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(m.emitViewEvent(new n.ViewCursorStateChangedEvent(I,E)),!v||v.cursorState.length!==w.cursorState.length||w.cursorState.some((T,R)=>!T.modelState.equals(v.cursorState[R].modelState))){const T=v?v.cursorState.map(B=>B.modelState.selection):null,R=v?v.modelVersionId:0;m.emitOutgoingEvent(new r.CursorStateChangedEvent(T,E,R,w.modelVersionId,S||"keyboard",p,_))}return!0}_findAutoClosingPairs(m){if(!m.length)return null;const S=[];for(let p=0,v=m.length;p<v;p++){const _=m[p];if(!_.text||_.text.indexOf(`
`)>=0)return null;const w=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const E=w[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const T=I[0].open,R=_.text.length-w[2].length-1,B=_.text.lastIndexOf(T,R-1);if(B===-1)return null;S.push([B,R])}return S}executeEdits(m,S,p,v){let _=null;S==="snippet"&&(_=this._findAutoClosingPairs(p)),_&&(p[0]._isTracked=!0);const w=[],E=[],I=this._model.pushEditOperations(this.getSelections(),p,T=>{if(_)for(let B=0,O=_.length;B<O;B++){const[k,A]=_[B],F=T[B],P=F.range.startLineNumber,W=F.range.startColumn-1+k,M=F.range.startColumn-1+A;w.push(new u.Range(P,M+1,P,M+2)),E.push(new u.Range(P,W+1,P,M+2))}const R=v(T);return R&&(this._isHandling=!0),R});I&&(this._isHandling=!1,this.setSelections(m,S,I,0)),w.length>0&&this._pushAutoClosedAction(w,E)}_executeEdit(m,S,p,v=0){if(this.context.cursorConfig.readOnly)return;const _=o.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),m()}catch(w){(0,y.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(S,p,v,_,!1)&&this.revealPrimary(S,p,!1,0,!0,0)}getAutoClosedCharacters(){return a.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(m){this._compositionState=new c(this._model,this.getSelections())}endComposition(m,S){const p=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{S==="keyboard"&&this._executeEditOperation(C.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,p,this.getSelections(),this.getAutoClosedCharacters()))},m,S)}type(m,S,p){this._executeEdit(()=>{if(p==="keyboard"){const v=S.length;let _=0;for(;_<v;){const w=f.nextCharLength(S,_),E=S.substr(_,w);this._executeEditOperation(C.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),_+=w}}else this._executeEditOperation(C.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S))},m,p)}compositionType(m,S,p,v,_,w){if(S.length===0&&p===0&&v===0){if(_!==0){const E=this.getSelections().map(I=>{const T=I.getPosition();return new h.Selection(T.lineNumber,T.column+_,T.lineNumber,T.column+_)});this.setSelections(m,w,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(C.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S,p,v,_))},m,w)}paste(m,S,p,v,_){this._executeEdit(()=>{this._executeEditOperation(C.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),S,p,v||[]))},m,_,4)}cut(m,S){this._executeEdit(()=>{this._executeEditOperation(b.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},m,S)}executeCommand(m,S,p){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},m,p)}executeCommands(m,S,p){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,S,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},m,p)}}e.CursorsController=d,d.MAX_CURSOR_COUNT=1e4;class o{constructor(m,S){this.modelVersionId=m,this.cursorState=S}static from(m,S){return new o(m.getVersionId(),S.getCursorStates())}equals(m){if(!m||this.modelVersionId!==m.modelVersionId||this.cursorState.length!==m.cursorState.length)return!1;for(let S=0,p=this.cursorState.length;S<p;S++)if(!this.cursorState[S].equals(m.cursorState[S]))return!1;return!0}}class a{constructor(m,S,p){this._model=m,this._autoClosedCharactersDecorations=S,this._autoClosedEnclosingDecorations=p}static getAllAutoClosedCharacters(m){let S=[];for(const p of m)S=S.concat(p.getAutoClosedCharactersRanges());return S}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const m=[];for(let S=0;S<this._autoClosedCharactersDecorations.length;S++){const p=this._model.getDecorationRange(this._autoClosedCharactersDecorations[S]);p&&m.push(p)}return m}isValid(m){const S=[];for(let p=0;p<this._autoClosedEnclosingDecorations.length;p++){const v=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[p]);if(v&&(S.push(v),v.startLineNumber!==v.endLineNumber))return!1}S.sort(u.Range.compareRangesUsingStarts),m.sort(u.Range.compareRangesUsingStarts);for(let p=0;p<m.length;p++)if(p>=S.length||!S[p].strictContainsRange(m[p]))return!1;return!0}}class s{static executeCommands(m,S,p){const v={model:m,selectionsBefore:S,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(v,p);for(let w=0,E=v.trackedRanges.length;w<E;w++)v.model._setTrackedRange(v.trackedRanges[w],null,0);return _}static _innerExecuteCommands(m,S){if(this._arrayIsEmpty(S))return null;const p=this._getEditOperations(m,S);if(p.operations.length===0)return null;const v=p.operations,_=this._getLoserCursorMap(v);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const w=[];for(let T=0,R=v.length;T<R;T++)_.hasOwnProperty(v[T].identifier.major.toString())||w.push(v[T]);p.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let E=m.model.pushEditOperations(m.selectionsBefore,w,T=>{const R=[];for(let k=0;k<m.selectionsBefore.length;k++)R[k]=[];for(const k of T)!k.identifier||R[k.identifier.major].push(k);const B=(k,A)=>k.identifier.minor-A.identifier.minor,O=[];for(let k=0;k<m.selectionsBefore.length;k++)R[k].length>0?(R[k].sort(B),O[k]=S[k].computeCursorState(m.model,{getInverseEditOperations:()=>R[k],getTrackedSelection:A=>{const F=parseInt(A,10),P=m.model._getTrackedRange(m.trackedRanges[F]);return m.trackedRangesDirection[F]===0?new h.Selection(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn):new h.Selection(P.endLineNumber,P.endColumn,P.startLineNumber,P.startColumn)}})):O[k]=m.selectionsBefore[k];return O});E||(E=m.selectionsBefore);const I=[];for(let T in _)_.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,R)=>R-T);for(const T of I)E.splice(T,1);return E}static _arrayIsEmpty(m){for(let S=0,p=m.length;S<p;S++)if(m[S])return!1;return!0}static _getEditOperations(m,S){let p=[],v=!1;for(let _=0,w=S.length;_<w;_++){const E=S[_];if(E){const I=this._getEditOperationsFromCommand(m,_,E);p=p.concat(I.operations),v=v||I.hadTrackedEditOperation}}return{operations:p,hadTrackedEditOperation:v}}static _getEditOperationsFromCommand(m,S,p){const v=[];let _=0;const w=(B,O,k=!1)=>{u.Range.isEmpty(B)&&O===""||v.push({identifier:{major:S,minor:_++},range:B,text:O,forceMoveMarkers:k,isAutoWhitespaceEdit:p.insertsAutoWhitespace})};let E=!1;const R={addEditOperation:w,addTrackedEditOperation:(B,O,k)=>{E=!0,w(B,O,k)},trackSelection:(B,O)=>{const k=h.Selection.liftSelection(B);let A;if(k.isEmpty())if(typeof O=="boolean")O?A=2:A=3;else{const W=m.model.getLineMaxColumn(k.startLineNumber);k.startColumn===W?A=2:A=3}else A=1;const F=m.trackedRanges.length,P=m.model._setTrackedRange(null,k,A);return m.trackedRanges[F]=P,m.trackedRangesDirection[F]=k.getDirection(),F.toString()}};try{p.getEditOperations(m.model,R)}catch(B){return(0,y.onUnexpectedError)(B),{operations:[],hadTrackedEditOperation:!1}}return{operations:v,hadTrackedEditOperation:E}}static _getLoserCursorMap(m){m=m.slice(0),m.sort((p,v)=>-u.Range.compareRangesUsingEnds(p.range,v.range));const S={};for(let p=1;p<m.length;p++){const v=m[p-1],_=m[p];if(u.Range.getStartPosition(v.range).isBefore(u.Range.getEndPosition(_.range))){let w;v.identifier.major>_.identifier.major?w=v.identifier.major:w=_.identifier.major,S[w.toString()]=!0;for(let E=0;E<m.length;E++)m[E].identifier.major===w&&(m.splice(E,1),E<p&&p--,E--);p>0&&p--}}return S}}class l{constructor(m,S,p){this.text=m,this.startSelection=S,this.endSelection=p}}class c{constructor(m,S){this._original=c._capture(m,S)}static _capture(m,S){const p=[];for(const v of S){if(v.startLineNumber!==v.endLineNumber)return null;p.push(new l(m.getLineContent(v.startLineNumber),v.startColumn-1,v.endColumn-1))}return p}deduceOutcome(m,S){if(!this._original)return null;const p=c._capture(m,S);if(!p||this._original.length!==p.length)return null;const v=[];for(let _=0,w=this._original.length;_<w;_++)v.push(c._deduceOutcome(this._original[_],p[_]));return v}static _deduceOutcome(m,S){const p=Math.min(m.startSelection,S.startSelection,f.commonPrefixLength(m.text,S.text)),v=Math.min(m.text.length-m.endSelection,S.text.length-S.endSelection,f.commonSuffixLength(m.text,S.text)),_=m.text.substring(p,m.text.length-v),w=S.text.substring(p,S.text.length-v);return new C.CompositionOutcome(_,m.startSelection-p,m.endSelection-p,w,S.startSelection-p,S.endSelection-p)}}}),define(oe[635],se([1,0,51,42,72,278]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;const L=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function b(h,i,n,t){const r=t===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let d;if(n.scheme===y.Schemas.data)d=f.DataUri.parseMetaData(n).get(f.DataUri.META_DATA_LABEL);else{const o=n.path.match(L);o?(d=u(o[2].toLowerCase()),o[1]&&r.push(`${u(o[1].toLowerCase())}-name-dir-icon`)):d=u(n.authority.toLowerCase())}if(t===D.FileKind.FOLDER)r.push(`${d}-name-folder-icon`);else{if(d){if(r.push(`${d}-name-file-icon`),r.push("name-file-icon"),d.length<=255){const a=d.split(".");for(let s=1;s<a.length;s++)r.push(`${a.slice(s).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}const o=C(h,i,n);o&&r.push(`${u(o)}-lang-file-icon`)}}return r}e.getIconClasses=b;function C(h,i,n){if(!n)return null;let t=null;if(n.scheme===y.Schemas.data){const d=f.DataUri.parseMetaData(n).get(f.DataUri.META_DATA_MIME);d&&(t=i.getLanguageIdByMimeType(d))}else{const r=h.getModel(n);r&&(t=r.getLanguageId())}return t&&t!==N.PLAINTEXT_LANGUAGE_ID?t:i.guessLanguageIdByFilepathOrFirstLine(n)}function u(h){return h.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=u}),define(oe[636],se([1,0,220,138,51,85,42,8,72]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let u=[],h=[],i=[];function n(c,g=!1){t(c,!1,g)}e.registerPlatformLanguageAssociation=n;function t(c,g,m){const S=r(c,g);u.push(S),S.userConfigured?i.push(S):h.push(S),m&&!S.userConfigured&&u.forEach(p=>{p.mime===S.mime||p.userConfigured||(S.extension&&p.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&p.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&p.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&p.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function r(c,g){return{id:c.id,mime:c.mime,filename:c.filename,extension:c.extension,filepattern:c.filepattern,firstline:c.firstline,userConfigured:g,filenameLowercase:c.filename?c.filename.toLowerCase():void 0,extensionLowercase:c.extension?c.extension.toLowerCase():void 0,filepatternLowercase:c.filepattern?(0,y.parse)(c.filepattern.toLowerCase()):void 0,filepatternOnPath:c.filepattern?c.filepattern.indexOf(D.posix.sep)>=0:!1}}function d(){u=u.filter(c=>c.userConfigured),h=[]}e.clearPlatformLanguageAssociations=d;function o(c,g){return a(c,g).map(m=>m.id)}e.getLanguageIds=o;function a(c,g){let m;if(c)switch(c.scheme){case N.Schemas.file:m=c.fsPath;break;case N.Schemas.data:{m=L.DataUri.parseMetaData(c).get(L.DataUri.META_DATA_LABEL);break}case N.Schemas.vscodeNotebookCell:m=void 0;break;default:m=c.path}if(!m)return[{id:"unknown",mime:f.Mimes.unknown}];m=m.toLowerCase();const S=(0,D.basename)(m),p=s(m,S,i);if(p)return[p,{id:C.PLAINTEXT_LANGUAGE_ID,mime:f.Mimes.text}];const v=s(m,S,h);if(v)return[v,{id:C.PLAINTEXT_LANGUAGE_ID,mime:f.Mimes.text}];if(g){const _=l(g);if(_)return[_,{id:C.PLAINTEXT_LANGUAGE_ID,mime:f.Mimes.text}]}return[{id:"unknown",mime:f.Mimes.unknown}]}function s(c,g,m){var S;let p,v,_;for(let w=m.length-1;w>=0;w--){const E=m[w];if(g===E.filenameLowercase){p=E;break}if(E.filepattern&&(!v||E.filepattern.length>v.filepattern.length)){const I=E.filepatternOnPath?c:g;((S=E.filepatternLowercase)===null||S===void 0?void 0:S.call(E,I))&&(v=E)}E.extension&&(!_||E.extension.length>_.extension.length)&&g.endsWith(E.extensionLowercase)&&(_=E)}if(p)return p;if(v)return v;if(_)return _}function l(c){if((0,b.startsWithUTF8BOM)(c)&&(c=c.substr(1)),c.length>0)for(let g=u.length-1;g>=0;g--){const m=u[g];if(!m.firstline)continue;const S=c.match(m.firstline);if(S&&S.length>0)return m}}}),define(oe[637],se([1,0,13,4,2,8,636,72,110,38]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const h=Object.prototype.hasOwnProperty,i="vs.editor.nullLanguage";class n{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(i,0),this._register(b.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(d,o){this._languageIdToLanguage[o]=d,this._languageToLanguageId.set(d,o)}register(d){if(this._languageToLanguageId.has(d))return;const o=this._nextLanguageId++;this._register(d,o)}encodeLanguageId(d){return this._languageToLanguageId.get(d)||0}decodeLanguageId(d){return this._languageIdToLanguage[d]||i}}e.LanguageIdCodec=n;class t extends N.Disposable{constructor(d=!0,o=!1){super();this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,t.instanceCount++,this._warnOnOverwrite=o,this.languageIdCodec=new n,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(b.ModesRegistry.onDidChangeLanguages(a=>{this._initializeFromRegistry()})))}dispose(){t.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const d=[].concat(b.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(d)}_registerLanguages(d){for(const o of d)this._registerLanguage(o);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(o=>{const a=this._languages[o];a.name&&(this._nameMap[a.name]=a.identifier),a.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=a.identifier}),a.mimetypes.forEach(s=>{this._mimeTypesMap[s]=a.identifier})}),u.Registry.as(C.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(d){const o=d.id;let a;h.call(this._languages,o)?a=this._languages[o]:(this.languageIdCodec.register(o),a={identifier:o,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[o]=a),this._mergeLanguage(a,d)}_mergeLanguage(d,o){const a=o.id;let s=null;if(Array.isArray(o.mimetypes)&&o.mimetypes.length>0&&(d.mimetypes.push(...o.mimetypes),s=o.mimetypes[0]),s||(s=`text/x-${a}`,d.mimetypes.push(s)),Array.isArray(o.extensions)){o.configuration?d.extensions=o.extensions.concat(d.extensions):d.extensions=d.extensions.concat(o.extensions);for(let g of o.extensions)(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,extension:g},this._warnOnOverwrite)}if(Array.isArray(o.filenames))for(let g of o.filenames)(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,filename:g},this._warnOnOverwrite),d.filenames.push(g);if(Array.isArray(o.filenamePatterns))for(let g of o.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,filepattern:g},this._warnOnOverwrite);if(typeof o.firstLine=="string"&&o.firstLine.length>0){let g=o.firstLine;g.charAt(0)!=="^"&&(g="^"+g);try{const m=new RegExp(g);(0,D.regExpLeadsToEndlessLoop)(m)||(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,firstline:m},this._warnOnOverwrite)}catch(m){(0,y.onUnexpectedError)(m)}}d.aliases.push(a);let l=null;if(typeof o.aliases!="undefined"&&Array.isArray(o.aliases)&&(o.aliases.length===0?l=[null]:l=o.aliases),l!==null)for(const g of l)!g||g.length===0||d.aliases.push(g);const c=l!==null&&l.length>0;if(!(c&&l[0]===null)){const g=(c?l[0]:null)||a;(c||!d.name)&&(d.name=g)}o.configuration&&d.configurationFiles.push(o.configuration),o.icon&&d.icons.push(o.icon)}isRegisteredLanguageId(d){return d?h.call(this._languages,d):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(d){const o=d.toLowerCase();return h.call(this._lowercaseNameMap,o)?this._lowercaseNameMap[o]:null}getLanguageIdByMimeType(d){return d&&h.call(this._mimeTypesMap,d)?this._mimeTypesMap[d]:null}guessLanguageIdByFilepathOrFirstLine(d,o){return!d&&!o?[]:(0,L.getLanguageIds)(d,o)}}e.LanguagesRegistry=t,t.instanceCount=0}),define(oe[638],se([1,0,4,2,637,18,27,72]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class C extends f.Disposable{constructor(i=!1){super();this._onDidEncounterLanguage=this._register(new y.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new y.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,C.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new N.LanguagesRegistry(!0,i)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){C.instanceCount--,super.dispose()}isRegisteredLanguageId(i){return this._registry.isRegisteredLanguageId(i)}getLanguageIdByLanguageName(i){return this._registry.getLanguageIdByLanguageName(i)}getLanguageIdByMimeType(i){return this._registry.getLanguageIdByMimeType(i)}guessLanguageIdByFilepathOrFirstLine(i,n){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(i,n);return(0,D.firstOrDefault)(t,null)}createById(i){return new u(this.onDidChange,()=>this._createAndGetLanguageIdentifier(i))}createByFilepathOrFirstLine(i,n){return new u(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(i,n);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(i){return(!i||!this.isRegisteredLanguageId(i))&&(i=b.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(i)||(this._encounteredLanguages.add(i),L.TokenizationRegistry.getOrCreate(i),this._onDidEncounterLanguage.fire(i)),i}}e.LanguageService=C,C.instanceCount=0;class u{constructor(i,n){this._onDidChangeLanguages=i,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new y.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const i=this._selector();i!==this.languageId&&(this.languageId=i,this._emitter&&this._emitter.fire(this.languageId))}}}),define(oe[639],se([1,0,8,209,3,24,94,31,264,207,208]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let i=class{constructor(t,r,d,o){this._languageConfigurationService=o,this._selection=t,this._isMovingDown=r,this._autoIndent=d,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,r){let d=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===d){this._selectionId=r.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=r.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,t.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:a,indentSize:s,insertSpaces:l}=t.getOptions();let c=this.buildIndentConverter(a,s,l),g={tokenization:{getLineTokens:m=>t.tokenization.getLineTokens(m),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(m,S)=>t.getLanguageIdAtPosition(m,S)},getLineContent:null};if(o.startLineNumber===o.endLineNumber&&t.getLineMaxColumn(o.startLineNumber)===1){let m=o.startLineNumber,S=this._isMovingDown?m+1:m-1;t.getLineMaxColumn(S)===1?r.addEditOperation(new N.Range(1,1,1,1),null):(r.addEditOperation(new N.Range(m,1,m,1),t.getLineContent(S)),r.addEditOperation(new N.Range(S,1,S,t.getLineMaxColumn(S)),null)),o=new D.Selection(S,1,S,1)}else{let m,S;if(this._isMovingDown){m=o.endLineNumber+1,S=t.getLineContent(m),r.addEditOperation(new N.Range(m-1,t.getLineMaxColumn(m-1),m,t.getLineMaxColumn(m)),null);let p=S;if(this.shouldAutoIndent(t,o)){let v=this.matchEnterRule(t,c,a,m,o.startLineNumber-1);if(v!==null){let w=y.getLeadingWhitespace(t.getLineContent(m)),E=v+C.getSpaceCnt(w,a);p=C.generateIndent(E,a,l)+this.trimLeft(S)}else{g.getLineContent=E=>E===o.startLineNumber?t.getLineContent(m):t.getLineContent(E);let w=(0,u.getGoodIndentForLine)(this._autoIndent,g,t.getLanguageIdAtPosition(m,1),o.startLineNumber,c,this._languageConfigurationService);if(w!==null){let E=y.getLeadingWhitespace(t.getLineContent(m)),I=C.getSpaceCnt(w,a),T=C.getSpaceCnt(E,a);I!==T&&(p=C.generateIndent(I,a,l)+this.trimLeft(S))}}r.addEditOperation(new N.Range(o.startLineNumber,1,o.startLineNumber,1),p+`
`);let _=this.matchEnterRuleMovingDown(t,c,a,o.startLineNumber,m,p);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(t,r,o,a,l,_);else{g.getLineContent=E=>E===o.startLineNumber?p:E>=o.startLineNumber+1&&E<=o.endLineNumber+1?t.getLineContent(E-1):t.getLineContent(E);let w=(0,u.getGoodIndentForLine)(this._autoIndent,g,t.getLanguageIdAtPosition(m,1),o.startLineNumber+1,c,this._languageConfigurationService);if(w!==null){const E=y.getLeadingWhitespace(t.getLineContent(o.startLineNumber)),I=C.getSpaceCnt(w,a),T=C.getSpaceCnt(E,a);if(I!==T){const R=I-T;this.getIndentEditsOfMovingBlock(t,r,o,a,l,R)}}}}else r.addEditOperation(new N.Range(o.startLineNumber,1,o.startLineNumber,1),p+`
`)}else if(m=o.startLineNumber-1,S=t.getLineContent(m),r.addEditOperation(new N.Range(m,1,m+1,1),null),r.addEditOperation(new N.Range(o.endLineNumber,t.getLineMaxColumn(o.endLineNumber),o.endLineNumber,t.getLineMaxColumn(o.endLineNumber)),`
`+S),this.shouldAutoIndent(t,o)){g.getLineContent=v=>v===m?t.getLineContent(o.startLineNumber):t.getLineContent(v);let p=this.matchEnterRule(t,c,a,o.startLineNumber,o.startLineNumber-2);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(t,r,o,a,l,p);else{let v=(0,u.getGoodIndentForLine)(this._autoIndent,g,t.getLanguageIdAtPosition(o.startLineNumber,1),m,c,this._languageConfigurationService);if(v!==null){let _=y.getLeadingWhitespace(t.getLineContent(o.startLineNumber)),w=C.getSpaceCnt(v,a),E=C.getSpaceCnt(_,a);if(w!==E){let I=w-E;this.getIndentEditsOfMovingBlock(t,r,o,a,l,I)}}}}}this._selectionId=r.trackSelection(o)}buildIndentConverter(t,r,d){return{shiftIndent:o=>f.ShiftCommand.shiftIndent(o,o.length+1,t,r,d),unshiftIndent:o=>f.ShiftCommand.unshiftIndent(o,o.length+1,t,r,d)}}parseEnterResult(t,r,d,o,a){if(a){let s=a.indentation;a.indentAction===L.IndentAction.None||a.indentAction===L.IndentAction.Indent?s=a.indentation+a.appendText:a.indentAction===L.IndentAction.IndentOutdent?s=a.indentation:a.indentAction===L.IndentAction.Outdent&&(s=r.unshiftIndent(a.indentation)+a.appendText);let l=t.getLineContent(o);if(this.trimLeft(l).indexOf(this.trimLeft(s))>=0){let c=y.getLeadingWhitespace(t.getLineContent(o)),g=y.getLeadingWhitespace(s),m=(0,u.getIndentMetadata)(t,o,this._languageConfigurationService);m!==null&&m&2&&(g=r.unshiftIndent(g));let S=C.getSpaceCnt(g,d),p=C.getSpaceCnt(c,d);return S-p}}return null}matchEnterRuleMovingDown(t,r,d,o,a,s){if(y.lastNonWhitespaceIndex(s)>=0){let l=t.getLineMaxColumn(a),c=(0,h.getEnterAction)(this._autoIndent,t,new N.Range(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,r,d,o,c)}else{let l=o-1;for(;l>=1;){let m=t.getLineContent(l);if(y.lastNonWhitespaceIndex(m)>=0)break;l--}if(l<1||o>t.getLineCount())return null;let c=t.getLineMaxColumn(l),g=(0,h.getEnterAction)(this._autoIndent,t,new N.Range(l,c,l,c),this._languageConfigurationService);return this.parseEnterResult(t,r,d,o,g)}}matchEnterRule(t,r,d,o,a,s){let l=a;for(;l>=1;){let m;if(l===a&&s!==void 0?m=s:m=t.getLineContent(l),y.lastNonWhitespaceIndex(m)>=0)break;l--}if(l<1||o>t.getLineCount())return null;let c=t.getLineMaxColumn(l),g=(0,h.getEnterAction)(this._autoIndent,t,new N.Range(l,c,l,c),this._languageConfigurationService);return this.parseEnterResult(t,r,d,o,g)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,r){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(r.startLineNumber))return!1;let d=t.getLanguageIdAtPosition(r.startLineNumber,1),o=t.getLanguageIdAtPosition(r.endLineNumber,1);return!(d!==o||this._languageConfigurationService.getLanguageConfiguration(d).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,r,d,o,a,s){for(let l=d.startLineNumber;l<=d.endLineNumber;l++){let c=t.getLineContent(l),g=y.getLeadingWhitespace(c),S=C.getSpaceCnt(g,o)+s,p=C.generateIndent(S,o,a);p!==g&&(r.addEditOperation(new N.Range(l,1,l,g.length+1),p),l===d.endLineNumber&&d.endColumn<=g.length+1&&p===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,r){let d=r.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(d=d.setEndPosition(d.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&d.startLineNumber<d.endLineNumber&&(d=d.setEndPosition(d.endLineNumber,2)),d}};i=De([fe(3,b.ILanguageConfigurationService)],i),e.MoveLinesCommand=i}),define(oe[111],se([1,0,336,49,36,13,256,4,2,68,72]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let n=class Ei{constructor(r,d,o){this._options=r,this._languageService=d,this._openerService=o,this._onDidRenderAsync=new b.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(r,d,o){if(!r)return{element:document.createElement("span"),dispose:()=>{}};const a=new C.DisposableStore;return{element:a.add((0,y.renderMarkdown)(r,Object.assign(Object.assign({},this._getRenderOptions(r,a)),d),o)).element,dispose:()=>a.dispose()}}_getRenderOptions(r,d){return{codeBlockRenderer:(o,a)=>Le(this,void 0,void 0,function*(){var s,l,c;let g;o?g=this._languageService.getLanguageIdByLanguageName(o):this._options.editor&&(g=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageId()),g||(g=h.PLAINTEXT_LANGUAGE_ID);const m=yield(0,L.tokenizeToString)(this._languageService,a,g),S=document.createElement("span");if(S.innerHTML=(c=(l=Ei._ttpTokenizer)===null||l===void 0?void 0:l.createHTML(m))!==null&&c!==void 0?c:m,this._options.editor){const p=this._options.editor.getOption(44);(0,u.applyFontInfo)(S,p)}else this._options.codeBlockFontFamily&&(S.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(S.style.fontSize=this._options.codeBlockFontSize),S}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:o=>this._openerService.open(o,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:r.isTrusted}).catch(D.onUnexpectedError),disposables:d}}}};n._ttpTokenizer=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("tokenizeToString",{createHTML(t){return t}}),n=De([fe(1,N.ILanguageService),fe(2,f.IOpenerService)],n),e.MarkdownRenderer=n}),define(oe[640],se([1,0,7,18,65,2,111,263,49,232]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const h=y.$;class i extends D.Disposable{constructor(r,d,o=C.NullOpenerService){super();this._renderDisposeables=this._register(new D.DisposableStore),this._editor=r,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new L.MarkdownRenderer({editor:this._editor},d,o)),this._computer=new n(this._editor),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(a=>{this._withResult(a.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(d=>this._editor.applyFontInfo(d))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(r){this._computer.lineNumber!==r&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=r,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(r){this._messages=r,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(r,d){this._renderDisposeables.clear();const o=document.createDocumentFragment();for(const a of d){const s=h("div.hover-row.markdown-hover"),l=y.append(s,h("div.hover-contents")),c=this._renderDisposeables.add(this._markdownRenderer.render(a.value));l.appendChild(c.element),o.appendChild(s)}this._updateContents(o),this._showAt(r)}_updateContents(r){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(r),this._updateFont()}_showAt(r){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const d=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(r),a=this._editor.getScrollTop(),s=this._editor.getOption(59),l=this._hover.containerDomNode.clientHeight,c=o-a-(l-s)/2;this._hover.containerDomNode.style.left=`${d.glyphMarginLeft+d.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(c),0)}px`}}e.MarginHoverWidget=i,i.ID="editor.contrib.modesGlyphHoverWidget";class n{constructor(r){this._editor=r,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(r){this._lineNumber=r}computeSync(){const r=a=>({value:a}),d=this._editor.getLineDecorations(this._lineNumber),o=[];if(!d)return o;for(const a of d){if(!a.options.glyphMarginClassName)continue;const s=a.options.glyphMarginHoverMessage;!s||(0,N.isEmptyMarkdownString)(s)||o.push(...(0,f.asArray)(s).map(r))}return o}}}),define(oe[287],se([1,0,34,7,73,28,4,65,2,111,33,268,585,9]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function r(a){return!!a&&Boolean(a.completion.documentation||a.completion.detail&&a.completion.detail!==a.completion.label)}e.canExpandCompletionItem=r;let d=class{constructor(s,l){this._editor=s,this._onDidClose=new L.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new L.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new C.DisposableStore,this._renderDisposeable=new C.DisposableStore,this._borderWidth=1,this._size=new f.Dimension(330,0),this.domNode=f.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=l.createInstance(u.MarkdownRenderer,{editor:s}),this._body=f.$(".body"),this._scrollbar=new N.DomScrollableElement(this._body,{}),f.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=f.append(this._body,f.$(".header")),this._close=f.append(this._header,f.$("span"+D.Codicon.close.cssSelector)),this._close.title=n.localize(0,null),this._type=f.append(this._header,f.$("p.type")),this._docs=f.append(this._body,f.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const s=this._editor.getOptions(),l=s.get(44),c=l.getMassagedFontFamily(y.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),g=s.get(107)||l.fontSize,m=s.get(108)||l.lineHeight,S=l.fontWeight,p=`${g}px`,v=`${m}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${m/g}`,this.domNode.style.fontWeight=S,this.domNode.style.fontFeatureSettings=l.fontFeatureSettings,this._type.style.fontFamily=c,this._close.style.height=v,this._close.style.width=v}getLayoutInfo(){const s=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,l=this._borderWidth,c=l*2;return{lineHeight:s,borderWidth:l,borderHeight:c,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=n.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(s,l){var c,g;this._renderDisposeable.clear();let{detail:m,documentation:S}=s.completion;if(l){let p="";p+=`score: ${s.score[0]}
`,p+=`prefix: ${(c=s.word)!==null&&c!==void 0?c:"(no prefix)"}
`,p+=`word: ${s.completion.filterText?s.completion.filterText+" (filterText)":s.textLabel}
`,p+=`distance: ${s.distance} (localityBonus-setting)
`,p+=`index: ${s.idx}, based on ${s.completion.sortText&&`sortText: "${s.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(g=s.completion.commitCharacters)===null||g===void 0?void 0:g.join("")}
`,S=new b.MarkdownString().appendCodeblock("empty",p),m=`Provider: ${s.provider._debugDisplayName}`}if(!l&&!r(s)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),m){const p=m.length>1e5?`${m.substr(0,1e5)}\u2026`:m;this._type.textContent=p,this._type.title=p,f.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else f.clearNode(this._type),this._type.title="",f.hide(this._type),this.domNode.classList.add("no-type");if(f.clearNode(this._docs),typeof S=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=S;else if(S){this._docs.classList.add("markdown-docs"),f.clearNode(this._docs);const p=this._markdownRenderer.render(S);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(s,l){const c=new f.Dimension(s,l);f.Dimension.equals(c,this._size)||(this._size=c,f.size(this.domNode,s,l)),this._scrollbar.scanDomNode()}scrollDown(s=8){this._body.scrollTop+=s}scrollUp(s=8){this._body.scrollTop-=s}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(s){this._borderWidth=s}get borderWidth(){return this._borderWidth}};d=De([fe(1,t.IInstantiationService)],d),e.SuggestDetailsWidget=d;class o{constructor(s,l){this.widget=s,this._editor=l,this._disposables=new C.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new i.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(s.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let c,g,m=0,S=0;this._disposables.add(this._resizable.onDidWillResize(()=>{c=this._topLeft,g=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(c&&g){this.widget.layout(p.dimension.width,p.dimension.height);let v=!1;p.west&&(S=g.width-p.dimension.width,v=!0),p.north&&(m=g.height-p.dimension.height,v=!0),v&&this._applyTopLeft({top:c.top+m,left:c.left+S})}p.done&&(c=void 0,g=void 0,m=0,S=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(s=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),s&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(s,l){var c;const g=s.getBoundingClientRect();this._anchorBox=g,this._preferAlignAtTop=l,this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size,l)}_placeAtAnchor(s,l,c){var g;const m=f.getClientArea(document.body),S=this.widget.getLayoutInfo(),p=new f.Dimension(220,2*S.lineHeight),v=s.top,_=function(){const F=m.width-(s.left+s.width+S.borderWidth+S.horizontalPadding),P=-S.borderWidth+s.left+s.width,W=new f.Dimension(F,m.height-s.top-S.borderHeight-S.verticalPadding),M=W.with(void 0,s.top+s.height-S.borderHeight-S.verticalPadding);return{top:v,left:P,fit:F-l.width,maxSizeTop:W,maxSizeBottom:M,minSize:p.with(Math.min(F,p.width))}}(),w=function(){const F=s.left-S.borderWidth-S.horizontalPadding,P=Math.max(S.horizontalPadding,s.left-l.width-S.borderWidth),W=new f.Dimension(F,m.height-s.top-S.borderHeight-S.verticalPadding),M=W.with(void 0,s.top+s.height-S.borderHeight-S.verticalPadding);return{top:v,left:P,fit:F-l.width,maxSizeTop:W,maxSizeBottom:M,minSize:p.with(Math.min(F,p.width))}}(),E=function(){const F=s.left,P=-S.borderWidth+s.top+s.height,W=new f.Dimension(s.width-S.borderHeight,m.height-s.top-s.height-S.verticalPadding);return{top:P,left:F,fit:W.height-l.height,maxSizeBottom:W,maxSizeTop:W,minSize:p.with(W.width)}}(),I=[_,w,E],T=(g=I.find(F=>F.fit>=0))!==null&&g!==void 0?g:I.sort((F,P)=>P.fit-F.fit)[0],R=s.top+s.height-S.borderHeight;let B,O=l.height;const k=Math.max(T.maxSizeTop.height,T.maxSizeBottom.height);O>k&&(O=k);let A;c?O<=T.maxSizeTop.height?(B=!0,A=T.maxSizeTop):(B=!1,A=T.maxSizeBottom):O<=T.maxSizeBottom.height?(B=!1,A=T.maxSizeBottom):(B=!0,A=T.maxSizeTop),this._applyTopLeft({left:T.left,top:B?T.top:R-O}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!B,T===_,B,T!==_),this._resizable.minSize=T.minSize,this._resizable.maxSize=A,this._resizable.layout(O,Math.min(A.width,l.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(s){this._topLeft=s,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=o}),define(oe[641],se([1,0,18,50,39,19,25,37,110,38]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class h{constructor(d={},o=[],a=[]){this._contents=d,this._keys=o,this._overrides=a,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(d){return d?(0,b.getConfigurationValue)(this.contents,d):this.contents}getOverrideValue(d,o){const a=this.getContentsForOverrideIdentifer(o);return a?d?(0,b.getConfigurationValue)(a,d):a:void 0}override(d){let o=this.overrideConfigurations.get(d);return o||(o=this.createOverrideConfigurationModel(d),this.overrideConfigurations.set(d,o)),o}merge(...d){const o=N.deepClone(this.contents),a=N.deepClone(this.overrides),s=[...this.keys];for(const l of d){this.mergeContents(o,l.contents);for(const c of l.overrides){const[g]=a.filter(m=>y.equals(m.identifiers,c.identifiers));g?(this.mergeContents(g.contents,c.contents),g.keys.push(...c.keys),g.keys=y.distinct(g.keys)):a.push(N.deepClone(c))}for(const c of l.keys)s.indexOf(c)===-1&&s.push(c)}return new h(o,s,a)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(d){const o=this.getContentsForOverrideIdentifer(d);if(!o||typeof o!="object"||!Object.keys(o).length)return this;let a={};for(const s of y.distinct([...Object.keys(this.contents),...Object.keys(o)])){let l=this.contents[s],c=o[s];c&&(typeof l=="object"&&typeof c=="object"?(l=N.deepClone(l),this.mergeContents(l,c)):l=c),a[s]=l}return new h(a,this.keys,this.overrides)}mergeContents(d,o){for(const a of Object.keys(o)){if(a in d&&D.isObject(d[a])&&D.isObject(o[a])){this.mergeContents(d[a],o[a]);continue}d[a]=N.deepClone(o[a])}}checkAndFreeze(d){return this.isFrozen&&!Object.isFrozen(d)?N.deepFreeze(d):d}getContentsForOverrideIdentifer(d){let o=null,a=null;const s=l=>{l&&(a?this.mergeContents(a,l):a=N.deepClone(l))};for(const l of this.overrides)y.equals(l.identifiers,[d])?o=l.contents:l.identifiers.includes(d)&&s(l.contents);return s(o),a}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(d,o){this.addKey(d),(0,b.addToValueTree)(this.contents,d,o,a=>{throw new Error(a)})}removeValue(d){this.removeKey(d)&&(0,b.removeFromValueTree)(this.contents,d)}addKey(d){let o=this.keys.length;for(let a=0;a<o;a++)d.indexOf(this.keys[a])===0&&(o=a);this.keys.splice(o,1,d)}removeKey(d){let o=this.keys.indexOf(d);return o!==-1?(this.keys.splice(o,1),!0):!1}}e.ConfigurationModel=h;class i extends h{constructor(d={}){const o=u.Registry.as(C.Extensions.Configuration).getConfigurationProperties(),a=Object.keys(o),s=Object.create(null),l=[];for(const c in o){const g=d[c],m=g!==void 0?g:o[c].default;(0,b.addToValueTree)(s,c,m,S=>console.error(`Conflict in default settings: ${S}`))}for(const c of Object.keys(s))C.OVERRIDE_PROPERTY_REGEX.test(c)&&l.push({identifiers:(0,C.overrideIdentifiersFromKey)(c),keys:Object.keys(s[c]),contents:(0,b.toValuesTree)(s[c],g=>console.error(`Conflict in default settings file: ${g}`))});super(s,a,l)}}e.DefaultConfigurationModel=i;class n{constructor(d,o,a=new h,s=new h,l=new f.ResourceMap,c=new h,g=new f.ResourceMap,m=!0){this._defaultConfiguration=d,this._localUserConfiguration=o,this._remoteUserConfiguration=a,this._workspaceConfiguration=s,this._folderConfigurations=l,this._memoryConfiguration=c,this._memoryConfigurationByResource=g,this._freeze=m,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new f.ResourceMap,this._userConfiguration=null}getValue(d,o,a){return this.getConsolidateConfigurationModel(o,a).getValue(d)}updateValue(d,o,a={}){let s;a.resource?(s=this._memoryConfigurationByResource.get(a.resource),s||(s=new h,this._memoryConfigurationByResource.set(a.resource,s))):s=this._memoryConfiguration,o===void 0?s.removeValue(d):s.setValue(d,o),a.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(d,o,a){const s=this.getConsolidateConfigurationModel(o,a),l=this.getFolderConfigurationModelForResource(o.resource,a),c=o.resource?this._memoryConfigurationByResource.get(o.resource)||this._memoryConfiguration:this._memoryConfiguration,g=o.overrideIdentifier?this._defaultConfiguration.freeze().override(o.overrideIdentifier).getValue(d):this._defaultConfiguration.freeze().getValue(d),m=o.overrideIdentifier?this.userConfiguration.freeze().override(o.overrideIdentifier).getValue(d):this.userConfiguration.freeze().getValue(d),S=o.overrideIdentifier?this.localUserConfiguration.freeze().override(o.overrideIdentifier).getValue(d):this.localUserConfiguration.freeze().getValue(d),p=o.overrideIdentifier?this.remoteUserConfiguration.freeze().override(o.overrideIdentifier).getValue(d):this.remoteUserConfiguration.freeze().getValue(d),v=a?o.overrideIdentifier?this._workspaceConfiguration.freeze().override(o.overrideIdentifier).getValue(d):this._workspaceConfiguration.freeze().getValue(d):void 0,_=l?o.overrideIdentifier?l.freeze().override(o.overrideIdentifier).getValue(d):l.freeze().getValue(d):void 0,w=o.overrideIdentifier?c.override(o.overrideIdentifier).getValue(d):c.getValue(d),E=s.getValue(d),I=y.distinct(y.flatten(s.overrides.map(T=>T.identifiers))).filter(T=>s.getOverrideValue(d,T)!==void 0);return{defaultValue:g,userValue:m,userLocalValue:S,userRemoteValue:p,workspaceValue:v,workspaceFolderValue:_,memoryValue:w,value:E,default:g!==void 0?{value:this._defaultConfiguration.freeze().getValue(d),override:o.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,user:m!==void 0?{value:this.userConfiguration.freeze().getValue(d),override:o.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,userLocal:S!==void 0?{value:this.localUserConfiguration.freeze().getValue(d),override:o.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,userRemote:p!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(d),override:o.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,workspace:v!==void 0?{value:this._workspaceConfiguration.freeze().getValue(d),override:o.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,workspaceFolder:_!==void 0?{value:l==null?void 0:l.freeze().getValue(d),override:o.overrideIdentifier?l==null?void 0:l.freeze().getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,memory:w!==void 0?{value:c.getValue(d),override:o.overrideIdentifier?c.getOverrideValue(d,o.overrideIdentifier):void 0}:void 0,overrideIdentifiers:I.length?I:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(d,o){let a=this.getConsolidatedConfigurationModelForResource(d,o);return d.overrideIdentifier?a.override(d.overrideIdentifier):a}getConsolidatedConfigurationModelForResource({resource:d},o){let a=this.getWorkspaceConsolidatedConfiguration();if(o&&d){const s=o.getFolder(d);s&&(a=this.getFolderConsolidatedConfiguration(s.uri)||a);const l=this._memoryConfigurationByResource.get(d);l&&(a=a.merge(l))}return a}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(d){let o=this._foldersConsolidatedConfigurations.get(d);if(!o){const a=this.getWorkspaceConsolidatedConfiguration(),s=this._folderConfigurations.get(d);s?(o=a.merge(s),this._freeze&&(o=o.freeze()),this._foldersConsolidatedConfigurations.set(d,o)):o=a}return o}getFolderConfigurationModelForResource(d,o){if(o&&d){const a=o.getFolder(d);if(a)return this._folderConfigurations.get(a.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((d,o)=>{const{contents:a,overrides:s,keys:l}=this._folderConfigurations.get(o);return d.push([o,{contents:a,overrides:s,keys:l}]),d},[])}}static parse(d){const o=this.parseConfigurationModel(d.defaults),a=this.parseConfigurationModel(d.user),s=this.parseConfigurationModel(d.workspace),l=d.folders.reduce((c,g)=>(c.set(L.URI.revive(g[0]),this.parseConfigurationModel(g[1])),c),new f.ResourceMap);return new n(o,a,new h,s,l,new h,new f.ResourceMap,!1)}static parseConfigurationModel(d){return new h(d.contents,d.keys,d.overrides).freeze()}}e.Configuration=n;class t{constructor(d,o,a,s){this.change=d,this.previous=o,this.currentConfiguraiton=a,this.currentWorkspace=s,this._previousConfiguration=void 0;const l=new Set;d.keys.forEach(g=>l.add(g)),d.overrides.forEach(([,g])=>g.forEach(m=>l.add(m))),this.affectedKeys=[...l.values()];const c=new h;this.affectedKeys.forEach(g=>c.setValue(g,{})),this.affectedKeysTree=c.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=n.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(d,o){var a;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,d)){if(o){const s=this.previousConfiguration?this.previousConfiguration.getValue(d,o,(a=this.previous)===null||a===void 0?void 0:a.workspace):void 0,l=this.currentConfiguraiton.getValue(d,o,this.currentWorkspace);return!N.equals(s,l)}return!0}return!1}doesAffectedKeysTreeContains(d,o){let a=(0,b.toValuesTree)({[o]:!0},()=>{}),s;for(;typeof a=="object"&&(s=Object.keys(a)[0]);){if(d=d[s],!d)return!1;a=a[s]}return!0}}e.ConfigurationChangeEvent=t}),define(oe[97],se([1,0,100,17,26,38]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class L{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(f.OS===1){if(u&&u.win)return u.win}else if(f.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const h=L.bindToCurrentPlatform(u);if(h&&h.primary){const i=(0,y.createKeybinding)(h.primary,f.OS);i&&this._registerDefaultKeybinding(i,u.id,u.args,u.weight,0,u.when)}if(h&&Array.isArray(h.secondary))for(let i=0,n=h.secondary.length;i<n;i++){const t=h.secondary[i],r=(0,y.createKeybinding)(t,f.OS);r&&this._registerDefaultKeybinding(r,u.id,u.args,u.weight,-i-1,u.when)}}registerCommandAndKeybindingRule(u){this.registerKeybindingRule(u),N.CommandsRegistry.registerCommand(u)}static _mightProduceChar(u){return u>=21&&u<=30||u>=31&&u<=56?!0:u===80||u===81||u===82||u===83||u===84||u===85||u===86||u===110||u===111||u===87||u===88||u===89||u===90||u===91||u===92}_assertNoCtrlAlt(u,h){u.ctrlKey&&u.altKey&&!u.metaKey&&L._mightProduceChar(u.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",u," for ",h)}_registerDefaultKeybinding(u,h,i,n,t,r){f.OS===1&&this._assertNoCtrlAlt(u.parts[0],h),this._coreKeybindings.push({keybinding:u.parts,command:h,commandArgs:i,when:r,weight1:n,weight2:t,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new L,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(C,u){return C.weight1!==u.weight1?C.weight1-u.weight1:C.command<u.command?-1:C.command>u.command?1:C.weight2-u.weight2}}),define(oe[288],se([1,0,498,499,16,97,599,2]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new N.RawContextKey("suggestWidgetVisible",!1,(0,L.localize)(0,null));const C="historyNavigationWidgetFocus",u="historyNavigationForwardsEnabled",h="historyNavigationBackwardsEnabled";let i;const n=[];function t(o,a){if(n.includes(a))throw new Error("Cannot register the same widget multiple times");n.push(a);const s=new b.DisposableStore,l=s.add(o.createScoped(a.element)),c=new N.RawContextKey(C,!1).bindTo(l),g=new N.RawContextKey(u,!0).bindTo(l),m=new N.RawContextKey(h,!0).bindTo(l),S=()=>{c.set(!0),i=a},p=()=>{c.set(!1),i===a&&(i=void 0)};return a.element===document.activeElement&&S(),s.add(a.onDidFocus(()=>S())),s.add(a.onDidBlur(()=>p())),s.add((0,b.toDisposable)(()=>{n.splice(n.indexOf(a),1),p()})),{scopedContextKeyService:l,historyNavigationForwardsEnablement:g,historyNavigationBackwardsEnablement:m,dispose(){s.dispose()}}}e.registerAndCreateHistoryNavigationContext=t;let r=class extends y.FindInput{constructor(a,s,l,c,g=!1){super(a,s,g,l);this._register(t(c,this.inputBox))}};r=De([fe(3,N.IContextKeyService)],r),e.ContextScopedFindInput=r;let d=class extends f.ReplaceInput{constructor(a,s,l,c,g=!1){super(a,s,g,l);this._register(t(c,this.inputBox))}};d=De([fe(3,N.IContextKeyService)],d),e.ContextScopedReplaceInput=d,D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(C),N.ContextKeyExpr.equals(h,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:o=>{i&&i.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(C),N.ContextKeyExpr.equals(u,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:o=>{i&&i.showNextValue()}})}),define(oe[112],se([1,0,18,2,38]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(b){b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST"})(D=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class L{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.defaultProvider=C:this.providers.push(C),this.providers.sort((u,h)=>h.prefix.length-u.prefix.length),(0,f.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(C),1),this.defaultProvider===C&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(C){return C&&this.providers.find(h=>C.startsWith(h.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=L,N.Registry.add(e.Extensions.Quickaccess,new L)}),define(oe[642],se([1,0,2,604,112,82,38]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=class xt{constructor(u){this.quickInputService=u,this.registry=L.Registry.as(N.Extensions.Quickaccess)}provide(u){const h=new y.DisposableStore;h.add(u.onDidAccept(()=>{const[t]=u.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),h.add(u.onDidChangeValue(t=>{const r=this.registry.getQuickAccessProvider(t.substr(xt.PREFIX.length));r&&r.prefix&&r.prefix!==xt.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})}));const{editorProviders:i,globalProviders:n}=this.getQuickAccessProviders();return u.items=i.length===0||n.length===0?[...i.length===0?n:i]:[{label:(0,f.localize)(0,null),type:"separator"},...n,{label:(0,f.localize)(1,null),type:"separator"},...i],h}getQuickAccessProviders(){const u=[],h=[];for(const i of this.registry.getQuickAccessProviders().sort((n,t)=>n.prefix.localeCompare(t.prefix)))if(i.prefix!==xt.PREFIX)for(const n of i.helpEntries){const t=n.prefix||i.prefix,r=t||"\u2026";(n.needsEditor?h:u).push({prefix:t,label:r,ariaLabel:(0,f.localize)(2,null,r,n.description),description:n.description})}return{editorProviders:h,globalProviders:u}}};b.PREFIX="?",b=De([fe(0,D.IQuickInputService)],b),e.HelpQuickAccessProvider=b}),define(oe[643],se([1,0,38,112,75,642]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),y.Registry.as(f.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:N.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(oe[644],se([1,0,10,21,91,2,9,112,82,38]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let h=class extends D.Disposable{constructor(n,t){super();this.quickInputService=n,this.instantiationService=t,this.registry=u.Registry.as(b.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",t){this.doShowOrPick(n,!1,t)}doShowOrPick(n,t,r){var d;const[o,a]=this.getOrInstantiateProvider(n),s=this.visibleQuickAccess,l=s==null?void 0:s.descriptor;if(s&&a&&l===a){n!==a.prefix&&!(r==null?void 0:r.preserveValue)&&(s.picker.value=n),this.adjustValueSelection(s.picker,a,r);return}if(a&&!(r==null?void 0:r.preserveValue)){let p;if(s&&l&&l!==a){const v=s.value.substr(l.prefix.length);v&&(p=`${a.prefix}${v}`)}if(!p){const v=o==null?void 0:o.defaultFilterValue;v===b.DefaultQuickAccessFilterValue.LAST?p=this.lastAcceptedPickerValues.get(a):typeof v=="string"&&(p=`${a.prefix}${v}`)}typeof p=="string"&&(n=p)}const c=new D.DisposableStore,g=c.add(this.quickInputService.createQuickPick());g.value=n,this.adjustValueSelection(g,a,r),g.placeholder=a==null?void 0:a.placeholder,g.quickNavigate=r==null?void 0:r.quickNavigateConfiguration,g.hideInput=!!g.quickNavigate&&!s,(typeof(r==null?void 0:r.itemActivation)=="number"||(r==null?void 0:r.quickNavigateConfiguration))&&(g.itemActivation=(d=r==null?void 0:r.itemActivation)!==null&&d!==void 0?d:C.ItemActivation.SECOND),g.contextKey=a==null?void 0:a.contextKey,g.filterValue=p=>p.substring(a?a.prefix.length:0),(a==null?void 0:a.placeholder)&&(g.ariaLabel=a==null?void 0:a.placeholder);let m;t&&(m=new y.DeferredPromise,c.add((0,N.once)(g.onWillAccept)(p=>{p.veto(),g.hide()}))),c.add(this.registerPickerListeners(g,o,a,n));const S=c.add(new f.CancellationTokenSource);if(o&&c.add(o.provide(g,S.token)),(0,N.once)(g.onDidHide)(()=>{g.selectedItems.length===0&&S.cancel(),c.dispose(),m==null||m.complete(g.selectedItems.slice(0))}),g.show(),t)return m==null?void 0:m.p}adjustValueSelection(n,t,r){var d;let o;(r==null?void 0:r.preserveValue)?o=[n.value.length,n.value.length]:o=[(d=t==null?void 0:t.prefix.length)!==null&&d!==void 0?d:0,n.value.length],n.valueSelection=o}registerPickerListeners(n,t,r,d){const o=new D.DisposableStore,a=this.visibleQuickAccess={picker:n,descriptor:r,value:d};return o.add((0,D.toDisposable)(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(n.onDidChangeValue(s=>{const[l]=this.getOrInstantiateProvider(s);l!==t?this.show(s,{preserveValue:!0}):a.value=s})),r&&o.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(r,n.value)})),o}getOrInstantiateProvider(n){const t=this.registry.getQuickAccessProvider(n);if(!t)return[void 0,void 0];let r=this.mapProviderToDescriptor.get(t);return r||(r=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,r)),[r,t]}};h=De([fe(0,C.IQuickInputService),fe(1,L.IInstantiationService)],h),e.QuickAccessController=h}),define(oe[83],se([1,0,4,2,19,339,9]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const b="__$__targetStorageMarker";e.IStorageService=(0,L.createDecorator)("storageService");var C;(function(i){i[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN"})(C=e.WillSaveStateReason||(e.WillSaveStateReason={}));class u extends f.Disposable{constructor(n={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super();this.options=n,this._onDidChangeValue=this._register(new y.PauseableEmitter),this._onDidChangeTarget=this._register(new y.PauseableEmitter),this._onWillSaveState=this._register(new y.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(n,t){t===b?(n===0?this._globalKeyTargets=void 0:n===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:n})):this._onDidChangeValue.fire({scope:n,key:t,target:this.getKeyTargets(n)[t]})}get(n,t,r){var d;return(d=this.getStorage(t))===null||d===void 0?void 0:d.get(n,r)}getBoolean(n,t,r){var d;return(d=this.getStorage(t))===null||d===void 0?void 0:d.getBoolean(n,r)}getNumber(n,t,r){var d;return(d=this.getStorage(t))===null||d===void 0?void 0:d.getNumber(n,r)}store(n,t,r,d){if((0,N.isUndefinedOrNull)(t)){this.remove(n,r);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(n,r,d),(o=this.getStorage(r))===null||o===void 0||o.set(n,t)})}remove(n,t){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(n,t,void 0),(r=this.getStorage(t))===null||r===void 0||r.delete(n)})}withPausedEmitters(n){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{n()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(n,t,r){var d,o;const a=this.getKeyTargets(t);typeof r=="number"?a[n]!==r&&(a[n]=r,(d=this.getStorage(t))===null||d===void 0||d.set(b,JSON.stringify(a))):typeof a[n]=="number"&&(delete a[n],(o=this.getStorage(t))===null||o===void 0||o.set(b,JSON.stringify(a)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(n){return n===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(n){const t=this.get(b,n);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}e.AbstractStorageService=u,u.DEFAULT_FLUSH_INTERVAL=60*1e3;class h extends u{constructor(){super();this.globalStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(n=>this.emitDidChangeValue(1,n))),this._register(this.globalStorage.onDidChangeStorage(n=>this.emitDidChangeValue(0,n)))}getStorage(n){return n===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=h}),define(oe[645],se([1,0,10,91,50,3,280,53,9,83]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,C.createDecorator)("ICodeLensCache");class h{constructor(t,r){this.lineCount=t,this.data=r}}let i=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new N.LRUCache(20,.75);const r="codelens/cache";(0,y.runWhenIdle)(()=>t.remove(r,1));const d="codelens/cache2",o=t.get(d,1,"{}");this._deserialize(o),(0,f.once)(t.onWillSaveState)(a=>{a.reason===u.WillSaveStateReason.SHUTDOWN&&t.store(d,this._serialize(),1,1)})}put(t,r){const d=r.lenses.map(s=>{var l;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(l=s.symbol.command)===null||l===void 0?void 0:l.title}}}),o=new L.CodeLensModel;o.add({lenses:d,dispose:()=>{}},this._fakeProvider);const a=new h(t.getLineCount(),o);this._cache.set(t.uri.toString(),a)}get(t){const r=this._cache.get(t.uri.toString());return r&&r.lineCount===t.getLineCount()?r.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[r,d]of this._cache){const o=new Set;for(const a of d.data.lenses)o.add(a.symbol.range.startLineNumber);t[r]={lineCount:d.lineCount,lines:[...o.values()]}}return JSON.stringify(t)}_deserialize(t){try{const r=JSON.parse(t);for(const d in r){const o=r[d],a=[];for(const l of o.lines)a.push({range:new D.Range(l,1,l,11)});const s=new L.CodeLensModel;s.add({lenses:a,dispose(){}},this._fakeProvider),this._cache.set(d,new h(o.lineCount,s))}}catch{}}};i=De([fe(0,u.IStorageService)],i),e.CodeLensCache=i,(0,b.registerSingleton)(e.ICodeLensCache,i)}),define(oe[289],se([1,0,10,2,50,27,37,53,9,83]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class h{constructor(o){this.name=o}select(o,a,s){if(s.length===0)return 0;let l=s[0].score[0];for(let c=0;c<s.length;c++){const{score:g,completion:m}=s[c];if(g[0]!==l)break;if(m.preselect)return c}return 0}}e.Memory=h;class i extends h{constructor(){super("first")}memorize(o,a,s){}toJSON(){}fromJSON(){}}e.NoMemory=i;class n extends h{constructor(){super("recentlyUsed");this._cache=new N.LRUCache(300,.66),this._seq=0}memorize(o,a,s){const l=`${o.getLanguageId()}/${s.textLabel}`;this._cache.set(l,{touch:this._seq++,type:s.completion.kind,insertText:s.completion.insertText})}select(o,a,s){if(s.length===0)return 0;const l=o.getLineContent(a.lineNumber).substr(a.column-10,a.column-1);if(/\s$/.test(l))return super.select(o,a,s);let c=s[0].score[0],g=-1,m=-1,S=-1;for(let p=0;p<s.length&&s[p].score[0]===c;p++){const v=`${o.getLanguageId()}/${s[p].textLabel}`,_=this._cache.peek(v);if(_&&_.touch>S&&_.type===s[p].completion.kind&&_.insertText===s[p].completion.insertText&&(S=_.touch,m=p),s[p].completion.preselect&&g===-1)return g=p}return m!==-1?m:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(o){this._cache.clear();let a=0;for(const[s,l]of o)l.touch=a,l.type=typeof l.type=="number"?l.type:D.CompletionItemKinds.fromString(l.type),this._cache.set(s,l);this._seq=this._cache.size}}e.LRUMemory=n;class t extends h{constructor(){super("recentlyUsedByPrefix");this._trie=N.TernarySearchTree.forStrings(),this._seq=0}memorize(o,a,s){const{word:l}=o.getWordUntilPosition(a),c=`${o.getLanguageId()}/${l}`;this._trie.set(c,{type:s.completion.kind,insertText:s.completion.insertText,touch:this._seq++})}select(o,a,s){let{word:l}=o.getWordUntilPosition(a);if(!l)return super.select(o,a,s);let c=`${o.getLanguageId()}/${l}`,g=this._trie.get(c);if(g||(g=this._trie.findSubstr(c)),g)for(let m=0;m<s.length;m++){let{kind:S,insertText:p}=s[m].completion;if(S===g.type&&p===g.insertText)return m}return super.select(o,a,s)}toJSON(){let o=[];return this._trie.forEach((a,s)=>o.push([s,a])),o.sort((a,s)=>-(a[1].touch-s[1].touch)).forEach((a,s)=>a[1].touch=s),o.slice(0,200)}fromJSON(o){if(this._trie.clear(),o.length>0){this._seq=o[0][1].touch+1;for(const[a,s]of o)s.type=typeof s.type=="number"?s.type:D.CompletionItemKinds.fromString(s.type),this._trie.set(a,s)}}}e.PrefixMemory=t;let r=class zt{constructor(o,a){this._storageService=o,this._configService=a,this._disposables=new f.DisposableStore,this._persistSoon=new y.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(o.onWillSaveState(s=>{s.reason===u.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(o,a,s){this._withStrategy(o,a).memorize(o,a,s),this._persistSoon.schedule()}select(o,a,s){return this._withStrategy(o,a).select(o,a,s)}_withStrategy(o,a){var s;const l=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:o.getLanguageIdAtPosition(a.lineNumber,a.column),resource:o.uri});if(((s=this._strategy)===null||s===void 0?void 0:s.name)!==l){this._saveState();const c=zt._strategyCtors.get(l)||i;this._strategy=new c;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,S=this._storageService.get(`${zt._storagePrefix}/${l}`,m);S&&this._strategy.fromJSON(JSON.parse(S))}catch{}}return this._strategy}_saveState(){if(this._strategy){const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=JSON.stringify(this._strategy);this._storageService.store(`${zt._storagePrefix}/${this._strategy.name}`,s,a,1)}}};r._strategyCtors=new Map([["recentlyUsedByPrefix",t],["recentlyUsed",n],["first",i]]),r._storagePrefix="suggest/memories",r=De([fe(0,u.IStorageService),fe(1,L.IConfigurationService)],r),e.SuggestMemoryService=r,e.ISuggestMemoryService=(0,C.createDecorator)("ISuggestMemories"),(0,b.registerSingleton)(e.ISuggestMemoryService,r,!0)}),define(oe[90],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,y.createDecorator)("telemetryService")}),define(oe[646],se([1,0,503,13,64,2,50,78,19,603,26,37,132,9,43,632,83,90]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let s=class Vt extends d.PickerQuickAccessProvider{constructor(g,m,S,p,v,_){super(Vt.PREFIX,g);this.instantiationService=m,this.keybindingService=S,this.commandService=p,this.telemetryService=v,this.dialogService=_,this.commandsHistory=this._register(this.instantiationService.createInstance(l)),this.options=g}_getPicks(g,m,S){return Le(this,void 0,void 0,function*(){const p=yield this.getCommandPicks(m,S);if(S.isCancellationRequested)return[];const v=[];for(const I of p){const T=(0,C.withNullAsUndefined)(Vt.WORD_FILTER(g,I.label)),R=I.commandAlias?(0,C.withNullAsUndefined)(Vt.WORD_FILTER(g,I.commandAlias)):void 0;T||R?(I.highlights={label:T,detail:this.options.showAlias?R:void 0},v.push(I)):g===I.commandId&&v.push(I)}const _=new Map;for(const I of v){const T=_.get(I.label);T?(I.description=I.commandId,T.description=T.commandId):_.set(I.label,I)}v.sort((I,T)=>{const R=this.commandsHistory.peek(I.commandId),B=this.commandsHistory.peek(T.commandId);return R&&B?R>B?-1:1:R?-1:B?1:I.label.localeCompare(T.label)});const w=[];let E=!1;for(let I=0;I<v.length;I++){const T=v[I],R=this.keybindingService.lookupKeybinding(T.commandId),B=R?(0,u.localize)(0,null,T.label,R.getAriaLabel()):T.label;I===0&&this.commandsHistory.peek(T.commandId)&&(w.push({type:"separator",label:(0,u.localize)(1,null)}),E=!0),I!==0&&E&&!this.commandsHistory.peek(T.commandId)&&(w.push({type:"separator",label:(0,u.localize)(2,null)}),E=!1),w.push(Object.assign(Object.assign({},T),{ariaLabel:B,detail:this.options.showAlias&&T.commandAlias!==T.label?T.commandAlias:void 0,keybinding:R,accept:()=>Le(this,void 0,void 0,function*(){this.commandsHistory.push(T.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:T.commandId,from:"quick open"});try{yield this.commandService.executeCommand(T.commandId)}catch(O){(0,f.isCancellationError)(O)||this.dialogService.show(b.default.Error,(0,u.localize)(3,null,T.label,(0,y.toErrorMessage)(O)))}})}))}return w})}};s.PREFIX=">",s.WORD_FILTER=(0,N.or)(N.matchesPrefix,N.matchesWords,N.matchesContiguousSubString),s=De([fe(1,t.IInstantiationService),fe(2,r.IKeybindingService),fe(3,h.ICommandService),fe(4,a.ITelemetryService),fe(5,n.IDialogService)],s),e.AbstractCommandsQuickAccessProvider=s;let l=class ot extends D.Disposable{constructor(g,m){super();this.storageService=g,this.configurationService=m,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ot.getConfiguredCommandHistoryLength(this.configurationService),ot.cache&&ot.cache.limit!==this.configuredCommandsHistoryLength&&(ot.cache.limit=this.configuredCommandsHistoryLength,ot.saveState(this.storageService))}load(){const g=this.storageService.get(ot.PREF_KEY_CACHE,0);let m;if(g)try{m=JSON.parse(g)}catch{}const S=ot.cache=new L.LRUCache(this.configuredCommandsHistoryLength,1);if(m){let p;m.usesLRU?p=m.entries:p=m.entries.sort((v,_)=>v.value-_.value),p.forEach(v=>S.set(v.key,v.value))}ot.counter=this.storageService.getNumber(ot.PREF_KEY_COUNTER,0,ot.counter)}push(g){!ot.cache||(ot.cache.set(g,ot.counter++),ot.saveState(this.storageService))}peek(g){var m;return(m=ot.cache)===null||m===void 0?void 0:m.peek(g)}static saveState(g){if(!ot.cache)return;const m={usesLRU:!0,entries:[]};ot.cache.forEach((S,p)=>m.entries.push({key:p,value:S})),g.store(ot.PREF_KEY_CACHE,JSON.stringify(m),0,0),g.store(ot.PREF_KEY_COUNTER,ot.counter,0,0)}static getConfiguredCommandHistoryLength(g){var m,S;const v=(S=(m=g.getValue().workbench)===null||m===void 0?void 0:m.commandPalette)===null||S===void 0?void 0:S.history;return typeof v=="number"?v:ot.DEFAULT_COMMANDS_HISTORY_LENGTH}};l.DEFAULT_COMMANDS_HISTORY_LENGTH=50,l.PREF_KEY_CACHE="commandPalette.mru.cache",l.PREF_KEY_COUNTER="commandPalette.mru.counter",l.counter=1,l=De([fe(0,o.IStorageService),fe(1,i.IConfigurationService)],l),e.CommandsHistory=l}),define(oe[647],se([1,0,101,646]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class N extends f.AbstractCommandsQuickAccessProvider{constructor(L,b,C,u,h,i){super(L,b,C,u,h,i)}getCodeEditorCommandPicks(){const L=this.activeTextEditorControl;if(!L)return[];const b=[];for(const C of L.getSupportedActions())b.push({commandId:C.id,commandAlias:C.alias,label:(0,y.stripIcons)(C.label)||C.id});return b}}e.AbstractEditorCommandsQuickAccessProvider=N}),define(oe[23],se([1,0,10,30,4,19,605,206,38]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.checkboxBorder=e.checkboxForeground=e.checkboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function u(T){return`--vscode-${T.replace(/\./g,"-")}`}e.asCssVariableName=u,e.Extensions={ColorContribution:"base.contributions.colors"};class h{constructor(){this._onDidChangeSchema=new N.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(R,B,O,k=!1,A){let F={id:R,description:O,defaults:B,needsTransparency:k,deprecationMessage:A};this.colorsById[R]=F;let P={type:"string",description:O,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return A&&(P.deprecationMessage=A),this.colorSchema.properties[R]=P,this.colorReferenceSchema.enum.push(R),this.colorReferenceSchema.enumDescriptions.push(O),this._onDidChangeSchema.fire(),R}getColors(){return Object.keys(this.colorsById).map(R=>this.colorsById[R])}resolveDefaultColor(R,B){const O=this.colorsById[R];if(O&&O.defaults){const k=O.defaults[B.type];return w(k,B)}}getColorSchema(){return this.colorSchema}toString(){let R=(B,O)=>{let k=B.indexOf(".")===-1?0:1,A=O.indexOf(".")===-1?0:1;return k!==A?k-A:B.localeCompare(O)};return Object.keys(this.colorsById).sort(R).map(B=>`- \`${B}\`: ${this.colorsById[B].description}`).join(`
`)}}const i=new h;C.Registry.add(e.Extensions.ColorContribution,i);function n(T){return T===null||typeof T.hcLight=="undefined"&&(T.hcDark===null||typeof T.hcDark=="string"?T.hcLight=T.hcDark:T.hcLight=T.light),T}function t(T,R,B,O,k){return i.registerColor(T,n(R),B,O,k)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:S(e.foreground,.7),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},L.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},L.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:f.Color.black,hcLight:"#292929"},L.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},L.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},L.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:f.Color.white,hcLight:"#292929"},L.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:f.Color.black,hcLight:"#F2F2F2"},L.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:S(f.Color.black,.36),light:S(f.Color.black,.16),hcDark:null,hcLight:null},L.localize(16,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:f.Color.white,hcDark:f.Color.black,hcLight:f.Color.white},L.localize(17,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(18,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(19,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(20,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(21,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:S(e.focusBorder,.4),light:S(e.focusBorder,.2),hcDark:f.Color.transparent,hcLight:f.Color.transparent},L.localize(22,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:f.Color.white,light:f.Color.black,hcDark:null,hcLight:e.foreground},L.localize(23,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:S(e.foreground,.5),dark:S(e.foreground,.5),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},L.localize(24,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:f.Color.black,hcLight:f.Color.white},L.localize(25,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(26,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(27,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:f.Color.black,hcLight:f.Color.white},L.localize(28,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(29,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(30,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:f.Color.black,hcLight:f.Color.white},L.localize(31,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(32,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(33,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:f.Color.white,hcDark:f.Color.black,hcLight:f.Color.white},L.localize(34,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:f.Color.black,hcLight:f.Color.white},L.localize(35,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:f.Color.white,hcLight:e.foreground},L.localize(36,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(37,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(38,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(39,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},L.localize(40,null)),e.buttonForeground=t("button.foreground",{dark:f.Color.white,light:f.Color.white,hcDark:f.Color.white,hcLight:f.Color.white},L.localize(41,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.localize(42,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:m(e.buttonBackground,.2),light:g(e.buttonBackground,.2),hcDark:null,hcLight:null},L.localize(43,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(44,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:f.Color.white,light:f.Color.white,hcDark:f.Color.white,hcLight:e.foreground},L.localize(45,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:f.Color.white},L.localize(46,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:m(e.buttonSecondaryBackground,.2),light:g(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},L.localize(47,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:f.Color.black,hcLight:"#0F4A85"},L.localize(48,null)),e.badgeForeground=t("badge.foreground",{dark:f.Color.white,light:"#333",hcDark:f.Color.white,hcLight:f.Color.white},L.localize(49,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.localize(50,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:f.Color.fromHex("#797979").transparent(.4),light:f.Color.fromHex("#646464").transparent(.4),hcDark:S(e.contrastBorder,.6),hcLight:S(e.contrastBorder,.4)},L.localize(51,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:f.Color.fromHex("#646464").transparent(.7),light:f.Color.fromHex("#646464").transparent(.7),hcDark:S(e.contrastBorder,.8),hcLight:S(e.contrastBorder,.8)},L.localize(52,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:f.Color.fromHex("#BFBFBF").transparent(.4),light:f.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(53,null)),e.progressBarBackground=t("progressBar.background",{dark:f.Color.fromHex("#0E70C0"),light:f.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(54,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(55,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(56,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:f.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.localize(57,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(58,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},L.localize(59,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:f.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},L.localize(60,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(61,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.localize(62,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:f.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.localize(63,null)),e.editorHintForeground=t("editorHint.foreground",{dark:f.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.localize(64,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:f.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.localize(65,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(66,null)),e.editorBackground=t("editor.background",{light:"#fffffe",dark:"#1E1E1E",hcDark:f.Color.black,hcLight:f.Color.white},L.localize(67,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:f.Color.white,hcLight:e.foreground},L.localize(68,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:f.Color.white},L.localize(69,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(70,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(71,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(72,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(73,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(74,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new f.Color(new f.RGBA(255,255,255,.105)),light:new f.Color(new f.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:f.Color.white},L.localize(75,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:f.Color.white,hcLight:"#0F4A85"},L.localize(76,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:f.Color.white,hcLight:"#0F4A85"},L.localize(77,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new f.Color(new f.RGBA(128,128,128,.17)),light:new f.Color(new f.RGBA(221,221,221,.4)),hcDark:f.Color.transparent,hcLight:f.Color.transparent},L.localize(78,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:f.Color.fromHex("#CCCCCC"),light:f.Color.fromHex("#555555"),hcDark:f.Color.white,hcLight:e.foreground},L.localize(79,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new f.Color(new f.RGBA(51,51,51,.6)),light:new f.Color(new f.RGBA(204,204,204,.4)),hcDark:new f.Color(new f.RGBA(111,195,223)),hcLight:e.contrastBorder},L.localize(80,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new f.Color(new f.RGBA(68,68,68,.6)),light:new f.Color(new f.RGBA(187,187,187,.4)),hcDark:new f.Color(new f.RGBA(111,195,223)),hcLight:e.foreground},L.localize(81,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.localize(82,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:f.Color.white},L.localize(83,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:S(e.editorSelectionBackground,.5),dark:S(e.editorSelectionBackground,.5),hcDark:S(e.editorSelectionBackground,.7),hcLight:S(e.editorSelectionBackground,.5)},L.localize(84,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:_(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:_(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},L.localize(85,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(86,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.localize(87,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.localize(88,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.localize(89,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(90,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(91,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:S(e.activeContrastBorder,.4),hcLight:S(e.activeContrastBorder,.4)},L.localize(92,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:S(e.editorFindMatchHighlight,.66),dark:S(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},L.localize(93,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:S(e.editorFindMatchHighlightBorder,.66),dark:S(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},L.localize(94,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.localize(95,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(96,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(97,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},L.localize(98,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:m(e.editorHoverBackground,.2),light:g(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(99,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:f.Color.blue,hcDark:f.Color.cyan,hcLight:"#292929"},L.localize(100,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:S(e.badgeForeground,.8),light:S(e.badgeForeground,.8),hcDark:e.badgeForeground,hcLight:e.badgeForeground},L.localize(101,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:S(e.badgeBackground,.6),light:S(e.badgeBackground,.3),hcDark:e.badgeBackground,hcLight:e.badgeBackground},L.localize(102,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(103,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(104,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(105,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(106,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.localize(107,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.localize(108,null)),e.defaultInsertColor=new f.Color(new f.RGBA(155,185,85,.2)),e.defaultRemoveColor=new f.Color(new f.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},L.localize(109,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},L.localize(110,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(111,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(112,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(113,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(114,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(115,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(116,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.localize(117,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.localize(118,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(119,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.localize(120,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(121,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(122,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(123,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hcDark:null,hcLight:f.Color.fromHex("#0F4A85").transparent(.1)},L.localize(124,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:f.Color.white,light:f.Color.white,hcDark:null,hcLight:null},L.localize(125,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(126,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:f.Color.fromHex("#0F4A85").transparent(.1)},L.localize(127,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(128,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(129,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(130,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(131,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:f.Color.fromHex("#0F4A85").transparent(.1)},L.localize(132,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(133,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.localize(134,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(135,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:v(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},L.localize(136,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.localize(137,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.localize(138,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.localize(139,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hcDark:f.Color.black,hcLight:f.Color.white},L.localize(140,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:f.Color.transparent,light:f.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.localize(141,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(142,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(143,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},L.localize(144,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.localize(145,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.localize(146,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:S(e.foreground,.04),light:S(e.foreground,.04),hcDark:null,hcLight:null},L.localize(147,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.localize(148,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.localize(149,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(150,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},L.localize(151,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},L.localize(152,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(153,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(154,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(155,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(156,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},L.localize(157,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(158,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(159,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(160,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(161,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:m(e.toolbarHoverBackground,.1),light:g(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},L.localize(162,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new f.Color(new f.RGBA(124,124,124,.3)),light:new f.Color(new f.RGBA(10,50,100,.2)),hcDark:new f.Color(new f.RGBA(124,124,124,.3)),hcLight:new f.Color(new f.RGBA(10,50,100,.2))},L.localize(163,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(164,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(165,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new f.Color(new f.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.localize(166,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:S(e.foreground,.8),dark:S(e.foreground,.8),hcDark:S(e.foreground,.8),hcLight:S(e.foreground,.8)},L.localize(167,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(168,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:g(e.foreground,.2),dark:m(e.foreground,.1),hcDark:m(e.foreground,.1),hcLight:m(e.foreground,.1)},L.localize(169,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:g(e.foreground,.2),dark:m(e.foreground,.1),hcDark:m(e.foreground,.1),hcLight:m(e.foreground,.1)},L.localize(170,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(171,null));const r=.5,d=f.Color.fromHex("#40C8AE").transparent(r),o=f.Color.fromHex("#40A6FF").transparent(r),a=f.Color.fromHex("#606060").transparent(.4),s=.4,l=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},L.localize(172,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:S(e.mergeCurrentHeaderBackground,s),light:S(e.mergeCurrentHeaderBackground,s),hcDark:S(e.mergeCurrentHeaderBackground,s),hcLight:S(e.mergeCurrentHeaderBackground,s)},L.localize(173,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:o,light:o,hcDark:null,hcLight:null},L.localize(174,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:S(e.mergeIncomingHeaderBackground,s),light:S(e.mergeIncomingHeaderBackground,s),hcDark:S(e.mergeIncomingHeaderBackground,s),hcLight:S(e.mergeIncomingHeaderBackground,s)},L.localize(175,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:a,light:a,hcDark:null,hcLight:null},L.localize(176,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:S(e.mergeCommonHeaderBackground,s),light:S(e.mergeCommonHeaderBackground,s),hcDark:S(e.mergeCommonHeaderBackground,s),hcLight:S(e.mergeCommonHeaderBackground,s)},L.localize(177,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.localize(178,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:S(e.mergeCurrentHeaderBackground,l),light:S(e.mergeCurrentHeaderBackground,l),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(179,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:S(e.mergeIncomingHeaderBackground,l),light:S(e.mergeIncomingHeaderBackground,l),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(180,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:S(e.mergeCommonHeaderBackground,l),light:S(e.mergeCommonHeaderBackground,l),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(181,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.localize(182,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(183,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.localize(184,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(185,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(186,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new f.Color(new f.RGBA(255,18,18,.7)),light:new f.Color(new f.RGBA(255,18,18,.7)),hcDark:new f.Color(new f.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(187,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},L.localize(188,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(189,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:f.Color.fromHex("#000f"),light:f.Color.fromHex("#000f"),hcDark:f.Color.fromHex("#000f"),hcLight:f.Color.fromHex("#000f")},L.localize(190,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:S(e.scrollbarSliderBackground,.5),dark:S(e.scrollbarSliderBackground,.5),hcDark:S(e.scrollbarSliderBackground,.5),hcLight:S(e.scrollbarSliderBackground,.5)},L.localize(191,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:S(e.scrollbarSliderHoverBackground,.5),dark:S(e.scrollbarSliderHoverBackground,.5),hcDark:S(e.scrollbarSliderHoverBackground,.5),hcLight:S(e.scrollbarSliderHoverBackground,.5)},L.localize(192,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:S(e.scrollbarSliderActiveBackground,.5),dark:S(e.scrollbarSliderActiveBackground,.5),hcDark:S(e.scrollbarSliderActiveBackground,.5),hcLight:S(e.scrollbarSliderActiveBackground,.5)},L.localize(193,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(194,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(195,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(196,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(197,null)),e.chartsLines=t("charts.lines",{dark:S(e.foreground,.5),light:S(e.foreground,.5),hcDark:S(e.foreground,.5),hcLight:S(e.foreground,.5)},L.localize(198,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(199,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(200,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(201,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},L.localize(202,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.localize(203,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.localize(204,null));function c(T,R){var B,O,k;switch(T.op){case 0:return(B=w(T.value,R))===null||B===void 0?void 0:B.darken(T.factor);case 1:return(O=w(T.value,R))===null||O===void 0?void 0:O.lighten(T.factor);case 2:return(k=w(T.value,R))===null||k===void 0?void 0:k.transparent(T.factor);case 3:for(const A of T.values){const F=w(A,R);if(F)return F}return;case 5:return w(R.defines(T.if)?T.then:T.else,R);case 4:{const A=w(T.value,R);if(!A)return;const F=w(T.background,R);return F?A.isDarkerThan(F)?f.Color.getLighterColor(A,F,T.factor).transparent(T.transparency):f.Color.getDarkerColor(A,F,T.factor).transparent(T.transparency):A.transparent(T.factor*T.transparency)}default:throw(0,D.assertNever)(T)}}e.executeTransform=c;function g(T,R){return{op:0,value:T,factor:R}}e.darken=g;function m(T,R){return{op:1,value:T,factor:R}}e.lighten=m;function S(T,R){return{op:2,value:T,factor:R}}e.transparent=S;function p(...T){return{op:3,values:T}}e.oneOf=p;function v(T,R,B){return{op:5,if:T,then:R,else:B}}e.ifDefinedThenElse=v;function _(T,R,B,O){return{op:4,value:T,background:R,factor:B,transparency:O}}function w(T,R){if(T!==null){if(typeof T=="string")return T[0]==="#"?f.Color.fromHex(T):R.getColor(T);if(T instanceof f.Color)return T;if(typeof T=="object")return c(T,R)}}e.resolveColorValue=w,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let E=C.Registry.as(b.Extensions.JSONContribution);E.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const I=new y.RunOnceScheduler(()=>E.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{I.isScheduled()||I.schedule()})}),define(oe[134],se([1,0,7,119,63,10,2,23]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class C{constructor(m,S){this.x=m,this.y=S,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new u(this.x-y.StandardWindow.scrollX,this.y-y.StandardWindow.scrollY)}}e.PageCoordinates=C;class u{constructor(m,S){this.clientX=m,this.clientY=S,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new C(this.clientX+y.StandardWindow.scrollX,this.clientY+y.StandardWindow.scrollY)}}e.ClientCoordinates=u;class h{constructor(m,S,p,v){this.x=m,this.y=S,this.width=p,this.height=v,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=h;class i{constructor(m,S){this.x=m,this.y=S,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=i;function n(g){const m=y.getDomNodePagePosition(g);return new h(m.left,m.top,m.width,m.height)}e.createEditorPagePosition=n;function t(g,m,S){const p=m.width/g.offsetWidth,v=m.height/g.offsetHeight,_=(S.x-m.x)/p,w=(S.y-m.y)/v;return new i(_,w)}e.createCoordinatesRelativeToEditor=t;class r extends N.StandardMouseEvent{constructor(m,S,p){super(m);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=S,this.pos=new C(this.posx,this.posy),this.editorPos=n(p),this.relativePos=t(p,this.editorPos,this.pos)}}e.EditorMouseEvent=r;class d{constructor(m){this._editorViewDomNode=m}_create(m){return new r(m,!1,this._editorViewDomNode)}onContextMenu(m,S){return y.addDisposableListener(m,"contextmenu",p=>{S(this._create(p))})}onMouseUp(m,S){return y.addDisposableListener(m,"mouseup",p=>{S(this._create(p))})}onMouseDown(m,S){return y.addDisposableListener(m,y.EventType.MOUSE_DOWN,p=>{S(this._create(p))})}onPointerDown(m,S){return y.addDisposableListener(m,y.EventType.POINTER_DOWN,p=>{S(this._create(p),p.pointerId)})}onMouseLeave(m,S){return y.addDisposableNonBubblingMouseOutListener(m,p=>{S(this._create(p))})}onMouseMove(m,S){return y.addDisposableListener(m,"mousemove",p=>S(this._create(p)))}}e.EditorMouseEventFactory=d;class o{constructor(m){this._editorViewDomNode=m}_create(m){return new r(m,!1,this._editorViewDomNode)}onPointerUp(m,S){return y.addDisposableListener(m,"pointerup",p=>{S(this._create(p))})}onPointerDown(m,S){return y.addDisposableListener(m,y.EventType.POINTER_DOWN,p=>{S(this._create(p),p.pointerId)})}onPointerLeave(m,S){return y.addDisposableNonBubblingPointerOutListener(m,p=>{S(this._create(p))})}onPointerMove(m,S){return y.addDisposableListener(m,"pointermove",p=>S(this._create(p)))}}e.EditorPointerEventFactory=o;class a extends L.Disposable{constructor(m){super();this._editorViewDomNode=m,this._globalPointerMoveMonitor=this._register(new f.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(m,S,p,v,_){this._keydownListener=y.addStandardDisposableListener(document,"keydown",w=>{w.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,w.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(m,S,p,w=>{v(new r(w,!0,this._editorViewDomNode))},w=>{this._keydownListener.dispose(),_(w)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=a;class s{constructor(m){this._editor=m,this._instanceId=++s._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(m){const S=this.getOrCreateRule(m);return S.increaseRefCount(),{className:S.className,dispose:()=>{S.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(m){const S=this.computeUniqueKey(m);let p=this._rules.get(S);if(!p){const v=this._counter++;p=new l(S,`dyn-rule-${this._instanceId}-${v}`,y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,m),this._rules.set(S,p)}return p}computeUniqueKey(m){return JSON.stringify(m)}garbageCollect(){for(const m of this._rules.values())m.hasReferences()||(this._rules.delete(m.key),m.dispose())}}e.DynamicCssRules=s,s._idPool=0;class l{constructor(m,S,p,v){this.key=m,this.className=S,this.properties=v,this._referenceCount=0,this._styleElement=y.createStyleSheet(p),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(m,S){let p=`.${m} {`;for(const v in S){const _=S[v];let w;typeof _=="object"?w=`var(${(0,b.asCssVariableName)(_.id)})`:w=_,p+=`
	${c(v)}: ${w};`}return p+=`
}`,p}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function c(g){return g.replace(/(^[A-Z])/,([m])=>m.toLowerCase()).replace(/([A-Z])/g,([m])=>`-${m.toLowerCase()}`)}}),define(oe[135],se([1,0,23]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function f(C,u){const h=Object.create(null);for(let i in u){const n=u[i];n&&(h[i]=(0,y.resolveColorValue)(n,C))}return h}e.computeStyles=f;function N(C,u,h){function i(){const n=f(C.getColorTheme(),u);typeof h=="function"?h(n):h.style(n)}return i(),C.onDidColorThemeChange(i)}e.attachStyler=N;function D(C,u,h){return N(u,{badgeBackground:(h==null?void 0:h.badgeBackground)||y.badgeBackground,badgeForeground:(h==null?void 0:h.badgeForeground)||y.badgeForeground,badgeBorder:y.contrastBorder},C)}e.attachBadgeStyler=D;function L(C,u,h){return N(u,Object.assign(Object.assign({},e.defaultListStyles),h||{}),C)}e.attachListStyler=L,e.defaultListStyles={listFocusBackground:y.listFocusBackground,listFocusForeground:y.listFocusForeground,listFocusOutline:y.listFocusOutline,listActiveSelectionBackground:y.listActiveSelectionBackground,listActiveSelectionForeground:y.listActiveSelectionForeground,listActiveSelectionIconForeground:y.listActiveSelectionIconForeground,listFocusAndSelectionBackground:y.listActiveSelectionBackground,listFocusAndSelectionForeground:y.listActiveSelectionForeground,listInactiveSelectionBackground:y.listInactiveSelectionBackground,listInactiveSelectionIconForeground:y.listInactiveSelectionIconForeground,listInactiveSelectionForeground:y.listInactiveSelectionForeground,listInactiveFocusBackground:y.listInactiveFocusBackground,listInactiveFocusOutline:y.listInactiveFocusOutline,listHoverBackground:y.listHoverBackground,listHoverForeground:y.listHoverForeground,listDropBackground:y.listDropBackground,listSelectionOutline:y.activeContrastBorder,listHoverOutline:y.activeContrastBorder,listFilterWidgetBackground:y.listFilterWidgetBackground,listFilterWidgetOutline:y.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:y.listFilterWidgetNoMatchesOutline,listMatchesShadow:y.widgetShadow,treeIndentGuidesStroke:y.treeIndentGuidesStroke,tableColumnsBorder:y.tableColumnsBorder,tableOddRowsBackgroundColor:y.tableOddRowsBackgroundColor},e.defaultMenuStyles={shadowColor:y.widgetShadow,borderColor:y.menuBorder,foregroundColor:y.menuForeground,backgroundColor:y.menuBackground,selectionForegroundColor:y.menuSelectionForeground,selectionBackgroundColor:y.menuSelectionBackground,selectionBorderColor:y.menuSelectionBorder,separatorColor:y.menuSeparatorBackground,scrollbarShadow:y.scrollbarShadow,scrollbarSliderBackground:y.scrollbarSliderBackground,scrollbarSliderHoverBackground:y.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:y.scrollbarSliderActiveBackground};function b(C,u,h){return N(u,Object.assign(Object.assign({},e.defaultMenuStyles),h),C)}e.attachMenuStyler=b}),define(oe[648],se([1,0,7,63,500,47,13,2,135,408]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class u{constructor(i,n,t,r,d){this.contextViewService=i,this.telemetryService=n,this.notificationService=t,this.keybindingService=r,this.themeService=d,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const n=i.getActions();if(!n.length)return;this.focusToReturn=document.activeElement;let t,r=(0,y.isHTMLElement)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:d=>{let o=i.getMenuClassName?i.getMenuClassName():"";o&&(d.className+=" "+o),this.options.blockMouse&&(this.block=d.appendChild((0,y.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,y.addDisposableListener)(this.block,y.EventType.MOUSE_DOWN,l=>l.stopPropagation()));const a=new b.DisposableStore,s=i.actionRunner||new D.ActionRunner;return s.onBeforeRun(this.onActionRun,this,a),s.onDidRun(this.onDidActionRun,this,a),t=new N.Menu(d,n,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:s,getKeyBinding:i.getKeyBinding?i.getKeyBinding:l=>this.keybindingService.lookupKeybinding(l.id)}),a.add((0,C.attachMenuStyler)(t,this.themeService)),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add((0,y.addDisposableListener)(window,y.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add((0,y.addDisposableListener)(window,y.EventType.MOUSE_DOWN,l=>{if(l.defaultPrevented)return;let c=new f.StandardMouseEvent(l),g=c.target;if(!c.rightButton){for(;g;){if(g===d)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}})),(0,b.combinedDisposable)(a,t)},focus:()=>{t&&t.focus(!!i.autoSelectFirstItem)},onHide:d=>{i.onHide&&i.onHide(!!d),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},r,!!r)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,L.isCancellationError)(i.error)&&this.notificationService.error(i.error)}}e.ContextMenuHandler=u}),define(oe[55],se([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var y;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(y=e.ColorScheme||(e.ColorScheme={}));function f(D){return D===y.HIGH_CONTRAST_DARK||D===y.HIGH_CONTRAST_LIGHT}e.isHighContrast=f;function N(D){return D===y.DARK||D===y.HIGH_CONTRAST_DARK}e.isDark=N}),define(oe[290],se([1,0,34,32,17,410,123,155,129,55,33]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const i=function(){return N.isNative?!0:!(N.isLinux||y.isFirefox||y.isSafari)}();let n=!0;class t{constructor(S,p){this._domNode=S,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=p}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const S=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=S.left,this._clientRectScale=S.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=t;class r{constructor(S,p){this.themeType=p;const v=S.options,_=v.get(44);this.renderWhitespace=v.get(88),this.renderControlCharacters=v.get(83),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!v.get(29),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(59),this.stopRenderingLineAfter=v.get(105),this.fontLigatures=v.get(45)}equals(S){return this.themeType===S.themeType&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineHeight===S.lineHeight&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.fontLigatures===S.fontLigatures}}e.ViewLineOptions=r;class d{constructor(S){this._options=S,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(S){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,f.createFastDomNode)(S);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(S){this._isMaybeInvalid=!0,this._options=S}onSelectionChanged(){return(0,u.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(S,p,v,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const w=v.getViewLineRenderingData(S),E=this._options,I=b.LineDecoration.filter(w.inlineDecorations,S,w.minColumn,w.maxColumn);let T=null;if((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const k=v.selections;for(const A of k){if(A.endLineNumber<S||A.startLineNumber>S)continue;const F=A.startLineNumber===S?A.startColumn:w.minColumn,P=A.endLineNumber===S?A.endColumn:w.maxColumn;F<P&&((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace!=="selection"?I.push(new b.LineDecoration(F,P,"inline-selected-text",0)):(T||(T=[]),T.push(new C.LineRange(F-1,P-1))))}}const R=new C.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,w.content,w.continuesWithWrappedLine,w.isBasicASCII,w.containsRTL,w.minColumn-1,w.tokens,I,w.tabSize,w.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==h.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;_.appendASCIIString('<div style="top:'),_.appendASCIIString(String(p)),_.appendASCIIString("px;height:"),_.appendASCIIString(String(this._options.lineHeight)),_.appendASCIIString('px;" class="'),_.appendASCIIString(d.CLASS_NAME),_.appendASCIIString('">');const B=(0,C.renderViewLine)(R,_);_.appendASCIIString("</div>");let O=null;return n&&i&&w.isBasicASCII&&E.useMonospaceOptimizations&&B.containsForeignElements===0&&w.content.length<300&&R.lineTokens.getCount()<100&&(O=new o(this._renderedViewLine?this._renderedViewLine.domNode:null,R,B.characterMapping)),O||(O=l(this._renderedViewLine?this._renderedViewLine.domNode:null,R,B.characterMapping,B.containsRTL,B.containsForeignElements)),this._renderedViewLine=O,!0}layoutLine(S,p){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(p),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof o:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof o?this._renderedViewLine.monospaceAssumptionsAreValid():n}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof o&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(S,p,v,_){if(!this._renderedViewLine)return null;p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const w=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;w!==-1&&p>w+1&&v>w+1&&(E=!0),w!==-1&&p>w+1&&(p=w+1),w!==-1&&v>w+1&&(v=w+1);const I=this._renderedViewLine.getVisibleRangesForRange(S,p,v,_);return I&&I.length>0?new L.VisibleRanges(E,I):null}getColumnOfNodeOffset(S,p,v){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(S,p,v):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class o{constructor(S,p,v){this.domNode=S,this.input=p,this._characterMapping=v,this._charWidth=p.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return n;const S=this.getWidth(),p=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(S-p)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),n=!1),n}toSlowRenderedLine(){return l(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(S,p,v,_){const w=this._getCharPosition(p),E=this._getCharPosition(v);return[new L.FloatHorizontalRange(w,E-w)]}_getCharPosition(S){const p=this._characterMapping.getAbsoluteOffset(S);return this._charWidth*p}getColumnOfNodeOffset(S,p,v){const _=p.textContent.length;let w=-1;for(;p;)p=p.previousSibling,w++;return this._characterMapping.getColumn(new C.DomPosition(w,v),_)}}class a{constructor(S,p,v,_,w){if(this.domNode=S,this.input=p,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(p.lineContent),this._containsForeignElements=w,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(S){return S.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(S,p,v,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const w=this._readPixelOffset(this.domNode,S,p,_);if(w===-1)return null;const E=this._readPixelOffset(this.domNode,S,v,_);return E===-1?null:[new L.FloatHorizontalRange(w,E-w)]}return this._readVisibleRangesForRange(this.domNode,S,p,v,_)}_readVisibleRangesForRange(S,p,v,_,w){if(v===_){const E=this._readPixelOffset(S,p,v,w);return E===-1?null:[new L.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(S,v,_,w)}_readPixelOffset(S,p,v,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const w=this._getReadingTarget(S);return w.firstChild?w.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const w=this._pixelOffsetCache[v];if(w!==-1)return w;const E=this._actualReadPixelOffset(S,p,v,_);return this._pixelOffsetCache[v]=E,E}return this._actualReadPixelOffset(S,p,v,_)}_actualReadPixelOffset(S,p,v,_){if(this._characterMapping.length===0){const T=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),0,0,0,0,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);return!T||T.length===0?-1:T[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const w=this._characterMapping.getDomPosition(v),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),w.partIndex,w.charIndex,w.partIndex,w.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getAbsoluteOffset(v),R=Math.round(this.input.spaceWidth*T);if(Math.abs(R-I)<=1)return R}return I}_readRawVisibleRangesForRange(S,p,v,_){if(p===1&&v===this._characterMapping.length)return[new L.FloatHorizontalRange(0,this.getWidth())];const w=this._characterMapping.getDomPosition(p),E=this._characterMapping.getDomPosition(v);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),w.partIndex,w.charIndex,E.partIndex,E.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode)}getColumnOfNodeOffset(S,p,v){const _=p.textContent.length;let w=-1;for(;p;)p=p.previousSibling,w++;return this._characterMapping.getColumn(new C.DomPosition(w,v),_)}}class s extends a{_readVisibleRangesForRange(S,p,v,_,w){const E=super._readVisibleRangesForRange(S,p,v,_,w);if(!E||E.length===0||v===_||v===1&&_===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(S,p,_,w);if(I!==-1){const T=E[E.length-1];T.left<I&&(T.width=I-T.left)}}return E}}const l=function(){return y.isWebKit?c:g}();function c(m,S,p,v,_){return new s(m,S,p,v,_)}function g(m,S,p,v,_){return new a(m,S,p,v,_)}}),define(oe[291],se([1,0,134,52,290,11,3,67,7,243]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class h{constructor(v=null){this.hitTarget=v,this.type=0}}class i{constructor(v,_,w){this.position=v,this.spanNode=_,this.injectedText=w,this.type=1}}var n;(function(p){function v(_,w,E){const I=_.getPositionFromDOMInfo(w,E);return I?new i(I,w,null):new h(w)}p.createFromDOMInfo=v})(n||(n={}));class t{constructor(v,_){this.lastViewCursorsRenderData=v,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=t;class r{static _deduceRage(v,_=null){return!_&&v?new L.Range(v.lineNumber,v.column,v.lineNumber,v.column):_??null}static createUnknown(v,_,w){return{type:0,element:v,mouseColumn:_,position:w,range:this._deduceRage(w)}}static createTextarea(v,_){return{type:1,element:v,mouseColumn:_,position:null,range:null}}static createMargin(v,_,w,E,I,T){return{type:v,element:_,mouseColumn:w,position:E,range:I,detail:T}}static createViewZone(v,_,w,E,I){return{type:v,element:_,mouseColumn:w,position:E,range:this._deduceRage(E),detail:I}}static createContentText(v,_,w,E,I){return{type:6,element:v,mouseColumn:_,position:w,range:this._deduceRage(w,E),detail:I}}static createContentEmpty(v,_,w,E){return{type:7,element:v,mouseColumn:_,position:w,range:this._deduceRage(w),detail:E}}static createContentWidget(v,_,w){return{type:9,element:v,mouseColumn:_,position:null,range:null,detail:w}}static createScrollbar(v,_,w){return{type:11,element:v,mouseColumn:_,position:w,range:this._deduceRage(w)}}static createOverlayWidget(v,_,w){return{type:12,element:v,mouseColumn:_,position:null,range:null,detail:w}}static createOutsideEditor(v,_){return{type:13,element:null,mouseColumn:v,position:_,range:this._deduceRage(_)}}static _typeToString(v){return v===1?"TEXTAREA":v===2?"GUTTER_GLYPH_MARGIN":v===3?"GUTTER_LINE_NUMBERS":v===4?"GUTTER_LINE_DECORATIONS":v===5?"GUTTER_VIEW_ZONE":v===6?"CONTENT_TEXT":v===7?"CONTENT_EMPTY":v===8?"CONTENT_VIEW_ZONE":v===9?"CONTENT_WIDGET":v===10?"OVERVIEW_RULER":v===11?"SCROLLBAR":v===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(v){return this._typeToString(v.type)+": "+v.position+" - "+v.range+" - "+JSON.stringify(v.detail)}}e.MouseTarget=r;class d{static isTextArea(v){return v.length===2&&v[0]===3&&v[1]===6}static isChildOfViewLines(v){return v.length>=4&&v[0]===3&&v[3]===7}static isStrictChildOfViewLines(v){return v.length>4&&v[0]===3&&v[3]===7}static isChildOfScrollableElement(v){return v.length>=2&&v[0]===3&&v[1]===5}static isChildOfMinimap(v){return v.length>=2&&v[0]===3&&v[1]===8}static isChildOfContentWidgets(v){return v.length>=4&&v[0]===3&&v[3]===1}static isChildOfOverflowingContentWidgets(v){return v.length>=1&&v[0]===2}static isChildOfOverlayWidgets(v){return v.length>=2&&v[0]===3&&v[1]===4}}class o{constructor(v,_,w){this.viewModel=v.viewModel;const E=v.configuration.options;this.layoutInfo=E.get(131),this.viewDomNode=_.viewDomNode,this.lineHeight=E.get(59),this.stickyTabStops=E.get(104),this.typicalHalfwidthCharacterWidth=E.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=v,this._viewHelper=_}getZoneAtCoord(v){return o.getZoneAtCoord(this._context,v)}static getZoneAtCoord(v,_){const w=v.viewLayout.getWhitespaceAtVerticalOffset(_);if(w){const E=w.verticalOffset+w.height/2,I=v.viewModel.getLineCount();let T=null,R,B=null;return w.afterLineNumber!==I&&(B=new D.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(T=new D.Position(w.afterLineNumber,v.viewModel.getLineMaxColumn(w.afterLineNumber))),B===null?R=T:T===null?R=B:_<E?R=T:R=B,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:T,positionAfter:B,position:R}}return null}getFullLineRangeAtCoord(v){if(this._context.viewLayout.isAfterLines(v)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new L.Range(E,I,E,I),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(v),w=this._context.viewModel.getLineMaxColumn(_);return{range:new L.Range(_,1,_,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(v){return this._context.viewLayout.getLineNumberAtVerticalOffset(v)}isAfterLines(v){return this._context.viewLayout.isAfterLines(v)}isInTopPadding(v){return this._context.viewLayout.isInTopPadding(v)}isInBottomPadding(v){return this._context.viewLayout.isInBottomPadding(v)}getVerticalOffsetForLineNumber(v){return this._context.viewLayout.getVerticalOffsetForLineNumber(v)}findAttribute(v,_){return o._findAttribute(v,_,this._viewHelper.viewDomNode)}static _findAttribute(v,_,w){for(;v&&v!==document.body;){if(v.hasAttribute&&v.hasAttribute(_))return v.getAttribute(_);if(v===w)return null;v=v.parentNode}return null}getLineWidth(v){return this._viewHelper.getLineWidth(v)}visibleRangeForPosition(v,_){return this._viewHelper.visibleRangeForPosition(v,_)}getPositionFromDOMInfo(v,_){return this._viewHelper.getPositionFromDOMInfo(v,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=o;class a{constructor(v,_,w,E){this.editorPos=_,this.pos=w,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,v.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=v.getCurrentScrollLeft()+this.relativePos.x-v.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<v.layoutInfo.contentLeft&&this.relativePos.x>=v.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,g._getMouseColumn(this.mouseContentHorizontalOffset,v.typicalHalfwidthCharacterWidth))}}class s extends a{constructor(v,_,w,E,I){super(v,_,w,E);this._ctx=v,I?(this.target=I,this.targetPath=f.PartFingerprints.collect(I,v.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(v=null){return v&&v.column<this._ctx.viewModel.getLineMaxColumn(v.lineNumber)?b.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(v.lineNumber),v.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(v=null){return r.createUnknown(this.target,this._getMouseColumn(v),v)}fulfillTextarea(){return r.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(v,_,w,E){return r.createMargin(v,this.target,this._getMouseColumn(_),_,w,E)}fulfillViewZone(v,_,w){return r.createViewZone(v,this.target,this._getMouseColumn(_),_,w)}fulfillContentText(v,_,w){return r.createContentText(this.target,this._getMouseColumn(v),v,_,w)}fulfillContentEmpty(v,_){return r.createContentEmpty(this.target,this._getMouseColumn(v),v,_)}fulfillContentWidget(v){return r.createContentWidget(this.target,this._getMouseColumn(),v)}fulfillScrollbar(v){return r.createScrollbar(this.target,this._getMouseColumn(v),v)}fulfillOverlayWidget(v){return r.createOverlayWidget(this.target,this._getMouseColumn(),v)}withTarget(v){return new s(this._ctx,this.editorPos,this.pos,this.relativePos,v)}}const l={isAfterLines:!0};function c(p){return{isAfterLines:!1,horizontalDistanceToText:p}}class g{constructor(v,_){this._context=v,this._viewHelper=_}mouseTargetIsWidget(v){const _=v.target,w=f.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(d.isChildOfContentWidgets(w)||d.isChildOfOverflowingContentWidgets(w)||d.isChildOfOverlayWidgets(w))}createMouseTarget(v,_,w,E,I){const T=new o(this._context,this._viewHelper,v),R=new s(T,_,w,E,I);try{return g._createMouseTarget(T,R,!1)}catch{return R.fulfillUnknown()}}static _createMouseTarget(v,_,w){if(_.target===null){if(w)return _.fulfillUnknown();const T=g._doHitTest(v,_);return T.type===1?g.createMouseTargetFromHitTestPosition(v,_,T.spanNode,T.position,T.injectedText):this._createMouseTarget(v,_.withTarget(T.hitTarget),!0)}const E=_;let I=null;return I=I||g._hitTestContentWidget(v,E),I=I||g._hitTestOverlayWidget(v,E),I=I||g._hitTestMinimap(v,E),I=I||g._hitTestScrollbarSlider(v,E),I=I||g._hitTestViewZone(v,E),I=I||g._hitTestMargin(v,E),I=I||g._hitTestViewCursor(v,E),I=I||g._hitTestTextArea(v,E),I=I||g._hitTestViewLines(v,E,w),I=I||g._hitTestScrollbar(v,E),I||_.fulfillUnknown()}static _hitTestContentWidget(v,_){if(d.isChildOfContentWidgets(_.targetPath)||d.isChildOfOverflowingContentWidgets(_.targetPath)){const w=v.findAttribute(_.target,"widgetId");return w?_.fulfillContentWidget(w):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(v,_){if(d.isChildOfOverlayWidgets(_.targetPath)){const w=v.findAttribute(_.target,"widgetId");return w?_.fulfillOverlayWidget(w):_.fulfillUnknown()}return null}static _hitTestViewCursor(v,_){if(_.target){const w=v.lastRenderData.lastViewCursorsRenderData;for(const E of w)if(_.target===E.domNode)return _.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const w=v.lastRenderData.lastViewCursorsRenderData,E=_.mouseContentHorizontalOffset,I=_.mouseVerticalOffset;for(const T of w){if(E<T.contentLeft||E>T.contentLeft+T.width)continue;const R=v.getVerticalOffsetForLineNumber(T.position.lineNumber);if(R<=I&&I<=R+T.height)return _.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(v,_){const w=v.getZoneAtCoord(_.mouseVerticalOffset);if(w){const E=_.isInContentArea?8:5;return _.fulfillViewZone(E,w.position,w)}return null}static _hitTestTextArea(v,_){return d.isTextArea(_.targetPath)?v.lastRenderData.lastTextareaPosition?_.fulfillContentText(v.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(v,_){if(_.isInMarginArea){const w=v.getFullLineRangeAtCoord(_.mouseVerticalOffset),E=w.range.getStartPosition();let I=Math.abs(_.relativePos.x);const T={isAfterLines:w.isAfterLines,glyphMarginLeft:v.layoutInfo.glyphMarginLeft,glyphMarginWidth:v.layoutInfo.glyphMarginWidth,lineNumbersWidth:v.layoutInfo.lineNumbersWidth,offsetX:I};return I-=v.layoutInfo.glyphMarginLeft,I<=v.layoutInfo.glyphMarginWidth?_.fulfillMargin(2,E,w.range,T):(I-=v.layoutInfo.glyphMarginWidth,I<=v.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,E,w.range,T):(I-=v.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,E,w.range,T)))}return null}static _hitTestViewLines(v,_,w){if(!d.isChildOfViewLines(_.targetPath))return null;if(v.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new D.Position(1,1),l);if(v.isAfterLines(_.mouseVerticalOffset)||v.isInBottomPadding(_.mouseVerticalOffset)){const I=v.viewModel.getLineCount(),T=v.viewModel.getLineMaxColumn(I);return _.fulfillContentEmpty(new D.Position(I,T),l)}if(w){if(d.isStrictChildOfViewLines(_.targetPath)){const I=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(v.viewModel.getLineLength(I)===0){const R=v.getLineWidth(I),B=c(_.mouseContentHorizontalOffset-R);return _.fulfillContentEmpty(new D.Position(I,1),B)}const T=v.getLineWidth(I);if(_.mouseContentHorizontalOffset>=T){const R=c(_.mouseContentHorizontalOffset-T),B=new D.Position(I,v.viewModel.getLineMaxColumn(I));return _.fulfillContentEmpty(B,R)}}return _.fulfillUnknown()}const E=g._doHitTest(v,_);return E.type===1?g.createMouseTargetFromHitTestPosition(v,_,E.spanNode,E.position,E.injectedText):this._createMouseTarget(v,_.withTarget(E.hitTarget),!0)}static _hitTestMinimap(v,_){if(d.isChildOfMinimap(_.targetPath)){const w=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(w);return _.fulfillScrollbar(new D.Position(w,E))}return null}static _hitTestScrollbarSlider(v,_){if(d.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const w=_.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const E=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=v.viewModel.getLineMaxColumn(E);return _.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(v,_){if(d.isChildOfScrollableElement(_.targetPath)){const w=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(w);return _.fulfillScrollbar(new D.Position(w,E))}return null}getMouseColumn(v){const _=this._context.configuration.options,w=_.get(131),E=this._context.viewLayout.getCurrentScrollLeft()+v.x-w.contentLeft;return g._getMouseColumn(E,_.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(v,_){return v<0?1:Math.round(v/_)+1}static createMouseTargetFromHitTestPosition(v,_,w,E,I){const T=E.lineNumber,R=E.column,B=v.getLineWidth(T);if(_.mouseContentHorizontalOffset>B){const z=c(_.mouseContentHorizontalOffset-B);return _.fulfillContentEmpty(E,z)}const O=v.visibleRangeForPosition(T,R);if(!O)return _.fulfillUnknown(E);const k=O.left;if(_.mouseContentHorizontalOffset===k)return _.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const A=[];if(A.push({offset:O.left,column:R}),R>1){const z=v.visibleRangeForPosition(T,R-1);z&&A.push({offset:z.left,column:R-1})}const F=v.viewModel.getLineMaxColumn(T);if(R<F){const z=v.visibleRangeForPosition(T,R+1);z&&A.push({offset:z.left,column:R+1})}A.sort((z,Q)=>z.offset-Q.offset);const P=_.pos.toClientCoordinates(),W=w.getBoundingClientRect(),M=W.left<=P.clientX&&P.clientX<=W.right;for(let z=1;z<A.length;z++){const Q=A[z-1],ne=A[z];if(Q.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=ne.offset){const X=new L.Range(T,Q.column,T,ne.column);return _.fulfillContentText(E,X,{mightBeForeignElement:!M||!!I,injectedText:I})}}return _.fulfillContentText(E,null,{mightBeForeignElement:!M||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(v,_){const w=v.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=v.getVerticalOffsetForLineNumber(w)+Math.floor(v.lineHeight/2);let T=_.pos.y+(I-_.mouseVerticalOffset);T<=_.editorPos.y&&(T=_.editorPos.y+1),T>=_.editorPos.y+_.editorPos.height&&(T=_.editorPos.y+_.editorPos.height-1);const R=new y.PageCoordinates(_.pos.x,T),B=this._actualDoHitTestWithCaretRangeFromPoint(v,R.toClientCoordinates());return B.type===1?B:this._actualDoHitTestWithCaretRangeFromPoint(v,_.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(v,_){const w=C.getShadowRoot(v.viewDomNode);let E;if(w?typeof w.caretRangeFromPoint=="undefined"?E=m(w,_.clientX,_.clientY):E=w.caretRangeFromPoint(_.clientX,_.clientY):E=document.caretRangeFromPoint(_.clientX,_.clientY),!E||!E.startContainer)return new h;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const T=I.parentNode,R=T?T.parentNode:null,B=R?R.parentNode:null;return(B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===N.ViewLine.CLASS_NAME?n.createFromDOMInfo(v,T,E.startOffset):new h(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const T=I.parentNode,R=T?T.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===N.ViewLine.CLASS_NAME?n.createFromDOMInfo(v,I,I.textContent.length):new h(I)}return new h}static _doHitTestWithCaretPositionFromPoint(v,_){const w=document.caretPositionFromPoint(_.clientX,_.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const E=w.offsetNode.parentNode,I=E?E.parentNode:null,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===N.ViewLine.CLASS_NAME?n.createFromDOMInfo(v,w.offsetNode.parentNode,w.offset):new h(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const E=w.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,T=E?E.parentNode:null,R=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(I===N.ViewLine.CLASS_NAME){const B=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(B)return n.createFromDOMInfo(v,B,0)}else if(R===N.ViewLine.CLASS_NAME)return n.createFromDOMInfo(v,w.offsetNode,0)}return new h(w.offsetNode)}static _snapToSoftTabBoundary(v,_){const w=_.getLineContent(v.lineNumber),{tabSize:E}=_.model.getOptions(),I=u.AtomicTabMoveOperations.atomicPosition(w,v.column-1,E,2);return I!==-1?new D.Position(v.lineNumber,I+1):v}static _doHitTest(v,_){let w=new h;if(typeof document.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(v,_):document.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(v,_.pos.toClientCoordinates())),w.type===1){const E=v.viewModel.getInjectedTextAt(w.position),I=v.viewModel.normalizePosition(w.position,2);(E||!I.equals(w.position))&&(w=new i(I,w.spanNode,E))}return w.type===1&&v.stickyTabStops&&(w=new i(this._snapToSoftTabBoundary(w.position,v.viewModel),w.spanNode,w.injectedText)),w}}e.MouseTargetFactory=g;function m(p,v,_){const w=document.createRange();let E=p.elementFromPoint(v,_);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),T=window.getComputedStyle(E,null).getPropertyValue("font"),R=E.innerText;let B=I.left,O=0,k;if(v>I.left+I.width)O=R.length;else{const A=S.getInstance();for(let F=0;F<R.length+1;F++){if(k=A.getCharWidth(R.charAt(F),T)/2,B+=k,v<B){O=F;break}B+=k}}w.setStart(E.firstChild,O),w.setEnd(E.firstChild,O)}return w}e.shadowCaretRangeFromPoint=m;class S{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return S._INSTANCE||(S._INSTANCE=new S),S._INSTANCE}getCharWidth(v,_){const w=v+_;if(this._cache[w])return this._cache[w];const E=this._canvas.getContext("2d");E.font=_;const T=E.measureText(v).width;return this._cache[w]=T,T}}S._INSTANCE=null}),define(oe[649],se([1,0,7,63,10,2,17,291,134,147,11,24,128]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class t extends n.ViewEventHandler{constructor(a,s,l){super();this._context=a,this.viewController=s,this.viewHelper=l,this.mouseTargetFactory=new b.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new r(this._context,this.viewController,this.viewHelper,(S,p)=>this._createMouseTarget(S,p),S=>this._getMouseColumn(S))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const c=new C.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(c.onContextMenu(this.viewHelper.viewDomNode,S=>this._onContextMenu(S,!0))),this._register(c.onMouseMove(this.viewHelper.viewDomNode,S=>this._onMouseMove(S))),this._register(c.onMouseUp(this.viewHelper.viewDomNode,S=>this._onMouseUp(S))),this._register(c.onMouseLeave(this.viewHelper.viewDomNode,S=>this._onMouseLeave(S)));let g=0;this._register(c.onPointerDown(this.viewHelper.viewDomNode,(S,p)=>{g=p})),this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.POINTER_UP,S=>{this._mouseDownOperation.onPointerUp()})),this._register(c.onMouseDown(this.viewHelper.viewDomNode,S=>this._onMouseDown(S,g)));const m=S=>{if(this.viewController.emitMouseWheel(S),!this._context.configuration.options.get(68))return;const p=new f.StandardWheelEvent(S);if(L.isMacintosh?(S.metaKey||S.ctrlKey)&&!S.shiftKey&&!S.altKey:S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey){const _=u.EditorZoom.getZoomLevel(),w=p.deltaY>0?1:-1;u.EditorZoom.setZoomLevel(_+w),p.preventDefault(),p.stopPropagation()}};this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(a){if(a.hasChanged(131)){const s=this._context.configuration.options.get(131).height;this._height!==s&&(this._height=s,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(a){return this._mouseDownOperation.onCursorStateChanged(a),!1}onFocusChanged(a){return!1}onScrollChanged(a){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(a,s){const c=new C.ClientCoordinates(a,s).toPageCoordinates(),g=(0,C.createEditorPagePosition)(this.viewHelper.viewDomNode);if(c.y<g.y||c.y>g.y+g.height||c.x<g.x||c.x>g.x+g.width)return null;const m=(0,C.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,c);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,c,m,null)}_createMouseTarget(a,s){let l=a.target;if(!this.viewHelper.viewDomNode.contains(l)){const c=y.getShadowRoot(this.viewHelper.viewDomNode);c&&(l=c.elementsFromPoint(a.posx,a.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),a.editorPos,a.pos,a.relativePos,s?l:null)}_getMouseColumn(a){return this.mouseTargetFactory.getMouseColumn(a.relativePos)}_onContextMenu(a,s){this.viewController.emitContextMenu({event:a,target:this._createMouseTarget(a,s)})}_onMouseMove(a){this.mouseTargetFactory.mouseTargetIsWidget(a)||a.preventDefault(),!(this._mouseDownOperation.isActive()||a.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:a,target:this._createMouseTarget(a,!0)})}_onMouseLeave(a){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:a,target:null})}_onMouseUp(a){this.viewController.emitMouseUp({event:a,target:this._createMouseTarget(a,!0)})}_onMouseDown(a,s){const l=this._createMouseTarget(a,!0),c=l.type===6||l.type===7,g=l.type===2||l.type===3||l.type===4,m=l.type===3,S=this._context.configuration.options.get(98),p=l.type===8||l.type===5,v=l.type===9;let _=a.leftButton||a.middleButton;L.isMacintosh&&a.leftButton&&a.ctrlKey&&(_=!1);const w=()=>{a.preventDefault(),this.viewHelper.focusTextArea()};if(_&&(c||m&&S))w(),this._mouseDownOperation.start(l.type,a,s);else if(g)a.preventDefault();else if(p){const E=l.detail;_&&this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(w(),this._mouseDownOperation.start(l.type,a,s),a.preventDefault())}else v&&this.viewHelper.shouldSuppressMouseDownOnWidget(l.detail)&&(w(),a.preventDefault());this.viewController.emitMouseDown({event:a,target:l})}}e.MouseHandler=t;class r extends D.Disposable{constructor(a,s,l,c,g){super();this._context=a,this._viewController=s,this._viewHelper=l,this._createMouseTarget=c,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new C.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new N.TimeoutTimer),this._mouseState=new d,this._currentSelection=new i.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(a){this._lastMouseEvent=a,this._mouseState.setModifiers(a);const s=this._findMousePosition(a,!1);!s||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:a,target:s}):this._dispatchMouse(s,!0))}start(a,s,l){this._lastMouseEvent=s,this._mouseState.setStartedOnLineNumbers(a===3),this._mouseState.setStartButtons(s),this._mouseState.setModifiers(s);const c=this._findMousePosition(s,!0);if(!c||!c.position)return;this._mouseState.trySetCount(s.detail,c.position),s.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(81)&&g.get(31)&&!g.get(18)&&!this._mouseState.altKey&&s.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&c.type===6&&c.position&&this._currentSelection.containsPosition(c.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,s.buttons,m=>this._onMouseDownThenMove(m),m=>{const S=this._findMousePosition(this._lastMouseEvent,!1);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:S?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(c,s.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,s.buttons,m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const a=this._findMousePosition(this._lastMouseEvent,!1);!a||this._mouseState.isDragAndDrop||this._dispatchMouse(a,!0)},10)}onCursorStateChanged(a){this._currentSelection=a.selections[0]}_getPositionOutsideEditor(a){const s=a.editorPos,l=this._context.viewModel,c=this._context.viewLayout,g=this._getMouseColumn(a);if(a.posy<s.y){const S=Math.max(c.getCurrentScrollTop()-(s.y-a.posy),0),p=b.HitTestContext.getZoneAtCoord(this._context,S);if(p){const _=this._helpPositionJumpOverViewZone(p);if(_)return b.MouseTarget.createOutsideEditor(g,_)}const v=c.getLineNumberAtVerticalOffset(S);return b.MouseTarget.createOutsideEditor(g,new h.Position(v,1))}if(a.posy>s.y+s.height){const S=c.getCurrentScrollTop()+a.relativePos.y,p=b.HitTestContext.getZoneAtCoord(this._context,S);if(p){const _=this._helpPositionJumpOverViewZone(p);if(_)return b.MouseTarget.createOutsideEditor(g,_)}const v=c.getLineNumberAtVerticalOffset(S);return b.MouseTarget.createOutsideEditor(g,new h.Position(v,l.getLineMaxColumn(v)))}const m=c.getLineNumberAtVerticalOffset(c.getCurrentScrollTop()+a.relativePos.y);return a.posx<s.x?b.MouseTarget.createOutsideEditor(g,new h.Position(m,1)):a.posx>s.x+s.width?b.MouseTarget.createOutsideEditor(g,new h.Position(m,l.getLineMaxColumn(m))):null}_findMousePosition(a,s){const l=this._getPositionOutsideEditor(a);if(l)return l;const c=this._createMouseTarget(a,s);if(!c.position)return null;if(c.type===8||c.type===5){const m=this._helpPositionJumpOverViewZone(c.detail);if(m)return b.MouseTarget.createViewZone(c.type,c.element,c.mouseColumn,m,c.detail)}return c}_helpPositionJumpOverViewZone(a){const s=new h.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=a.positionBefore,c=a.positionAfter;return l&&c?l.isBefore(s)?l:c:null}_dispatchMouse(a,s){!a.position||this._viewController.dispatchMouse({position:a.position,mouseColumn:a.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:s,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:a.type===6&&a.detail.injectedText!==null})}}class d{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey}setStartButtons(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton}setStartedOnLineNumbers(a){this._startedOnLineNumbers=a}trySetCount(a,s){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>d.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=l,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(s)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=s,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)}}d.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(oe[650],se([1,0,7,17,60,2,649,134,170,180]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class h extends L.MouseHandler{constructor(r,d,o){super(r,d,o);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,s=>this.onTap(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,s=>this.onChange(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,s=>this._onContextMenu(new b.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const l=s.pointerType;if(l==="mouse"){this._lastPointerType="mouse";return}else l==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const a=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(a.onPointerMove(this.viewHelper.viewDomNode,s=>this._onMouseMove(s))),this._register(a.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(a.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(a.onPointerDown(this.viewHelper.viewDomNode,(s,l)=>this._onMouseDown(s,l)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new b.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:d.type===6&&d.detail.injectedText!==null})}onChange(r){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r,d){r.browserEvent.pointerType!=="touch"&&super._onMouseDown(r,d)}}e.PointerEventHandler=h;class i extends L.MouseHandler{constructor(r,d,o){super(r,d,o);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,a=>this.onTap(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,a=>this.onChange(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,a=>this._onContextMenu(new b.EditorMouseEvent(a,!1,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new b.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1);if(d.position){const o=document.createEvent("CustomEvent");o.initEvent(u.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(o),this.viewController.moveTo(d.position)}}onChange(r){this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}}class n extends D.Disposable{constructor(r,d,o){super();f.isIOS&&C.BrowserFeatures.pointerEvents?this.handler=this._register(new h(r,d,o)):window.TouchEvent?this.handler=this._register(new i(r,d,o)):this.handler=this._register(new L.MouseHandler(r,d,o))}getTargetAtClientPoint(r,d){return this.handler.getTargetAtClientPoint(r,d)}}e.PointerHandler=n}),define(oe[651],se([1,0,17,10,68,181,52,290,11,3,123,144,368]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class n{constructor(){this._currentVisibleRange=new u.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(a){this._currentVisibleRange=a}}class t{constructor(a,s,l,c,g,m,S){this.minimalReveal=a,this.lineNumber=s,this.startColumn=l,this.endColumn=c,this.startScrollTop=g,this.stopScrollTop=m,this.scrollType=S,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class r{constructor(a,s,l,c,g){this.minimalReveal=a,this.selections=s,this.startScrollTop=l,this.stopScrollTop=c,this.scrollType=g,this.type="selections";let m=s[0].startLineNumber,S=s[0].endLineNumber;for(let p=1,v=s.length;p<v;p++){const _=s[p];m=Math.min(m,_.startLineNumber),S=Math.max(S,_.endLineNumber)}this.minLineNumber=m,this.maxLineNumber=S}}class d extends L.ViewPart{constructor(a,s){super(a);this._linesContent=s,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new D.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const l=this._context.configuration,c=this._context.configuration.options,g=c.get(44),m=c.get(132),S=c.get(131);this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._isViewportWrapping=m.isViewportWrapping,this._revealHorizontalRightPadding=c.get(89),this._horizontalScrollbarHeight=S.horizontalScrollbarHeight,this._cursorSurroundingLines=c.get(25),this._cursorSurroundingLinesStyle=c.get(26),this._canUseLayerHinting=!c.get(28),this._viewLineOptions=new b.ViewLineOptions(l,this._context.theme.type),L.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,N.applyFontInfo)(this.domNode,g),this._maxLineWidth=0,this._asyncUpdateLineWidths=new f.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new f.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new n,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(a){this._visibleLines.onConfigurationChanged(a),a.hasChanged(132)&&(this._maxLineWidth=0);const s=this._context.configuration.options,l=s.get(44),c=s.get(132),g=s.get(131);return this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=c.isViewportWrapping,this._revealHorizontalRightPadding=s.get(89),this._horizontalScrollbarHeight=g.horizontalScrollbarHeight,this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),(0,N.applyFontInfo)(this.domNode,l),this._onOptionsMaybeChanged(),a.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const a=this._context.configuration,s=new b.ViewLineOptions(a,this._context.theme.type);if(!this._viewLineOptions.equals(s)){this._viewLineOptions=s;const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let g=l;g<=c;g++)this._visibleLines.getVisibleLine(g).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(a){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let c=!1;for(let g=s;g<=l;g++)c=this._visibleLines.getVisibleLine(g).onSelectionChanged()||c;return c}onDecorationsChanged(a){{const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let c=s;c<=l;c++)this._visibleLines.getVisibleLine(c).onDecorationsChanged()}return!0}onFlushed(a){const s=this._visibleLines.onFlushed(a);return this._maxLineWidth=0,s}onLinesChanged(a){return this._visibleLines.onLinesChanged(a)}onLinesDeleted(a){return this._visibleLines.onLinesDeleted(a)}onLinesInserted(a){return this._visibleLines.onLinesInserted(a)}onRevealRangeRequest(a){const s=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),a.source,a.minimalReveal,a.range,a.selections,a.verticalType);if(s===-1)return!1;let l=this._context.viewLayout.validateScrollPosition({scrollTop:s});a.revealHorizontal?a.range&&a.range.startLineNumber!==a.range.endLineNumber?l={scrollTop:l.scrollTop,scrollLeft:0}:a.range?this._horizontalRevealRequest=new t(a.minimalReveal,a.range.startLineNumber,a.range.startColumn,a.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,a.scrollType):a.selections&&a.selections.length>0&&(this._horizontalRevealRequest=new r(a.minimalReveal,a.selections,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,a.scrollType)):this._horizontalRevealRequest=null;const g=Math.abs(this._context.viewLayout.getCurrentScrollTop()-l.scrollTop)<=this._lineHeight?1:a.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(l,g),!0}onScrollChanged(a){if(this._horizontalRevealRequest&&a.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&a.scrollTopChanged){const s=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),l=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(a.scrollTop<s||a.scrollTop>l)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(a.scrollWidth),this._visibleLines.onScrollChanged(a)||!0}onTokensChanged(a){return this._visibleLines.onTokensChanged(a)}onZonesChanged(a){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(a)}onThemeChanged(a){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(a,s){const l=this._getViewLineDomNode(a);if(l===null)return null;const c=this._getLineNumberFor(l);if(c===-1||c<1||c>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(c)===1)return new C.Position(c,1);const g=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(c<g||c>m)return null;let S=this._visibleLines.getVisibleLine(c).getColumnOfNodeOffset(c,a,s);const p=this._context.viewModel.getLineMinColumn(c);return S<p&&(S=p),new C.Position(c,S)}_getViewLineDomNode(a){for(;a&&a.nodeType===1;){if(a.className===b.ViewLine.CLASS_NAME)return a;a=a.parentElement}return null}_getLineNumberFor(a){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let c=s;c<=l;c++){const g=this._visibleLines.getVisibleLine(c);if(a===g.getDomNode())return c}return-1}getLineWidth(a){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();return a<s||a>l?-1:this._visibleLines.getVisibleLine(a).getWidth()}linesVisibleRangesForRange(a,s){if(this.shouldRender())return null;const l=a.endLineNumber,c=u.Range.intersectRanges(a,this._lastRenderedData.getCurrentVisibleRange());if(!c)return null;let g=[],m=0;const S=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;s&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(c.startLineNumber,1)).lineNumber);const v=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let w=c.startLineNumber;w<=c.endLineNumber;w++){if(w<v||w>_)continue;const E=w===c.startLineNumber?c.startColumn:1,I=w===c.endLineNumber?c.endColumn:this._context.viewModel.getLineMaxColumn(w),T=this._visibleLines.getVisibleLine(w).getVisibleRangesForRange(w,E,I,S);if(!!T){if(s&&w<l){const R=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(w+1,1)).lineNumber,R!==p&&(T.ranges[T.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}g[m++]=new h.LineVisibleRanges(T.outsideRenderedLine,w,h.HorizontalRange.from(T.ranges))}}return m===0?null:g}_visibleRangesForLineRange(a,s,l){return this.shouldRender()||a<this._visibleLines.getStartLineNumber()||a>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(a).getVisibleRangesForRange(a,s,l,new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(a){const s=this._visibleRangesForLineRange(a.lineNumber,a.column,a.column);return s?new h.HorizontalPosition(s.outsideRenderedLine,s.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(a){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let c=1,g=!0;for(let m=s;m<=l;m++){const S=this._visibleLines.getVisibleLine(m);if(a&&!S.getWidthIsFast()){g=!1;continue}c=Math.max(c,S.getWidth())}return g&&s===1&&l===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(c),g}_checkMonospaceFontAssumptions(){let a=-1,s=-1;const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let g=l;g<=c;g++){const m=this._visibleLines.getVisibleLine(g);if(m.needsMonospaceFontCheck()){const S=m.getWidth();S>s&&(s=S,a=g)}}if(a!==-1&&!this._visibleLines.getVisibleLine(a).monospaceAssumptionsAreValid())for(let g=l;g<=c;g++)this._visibleLines.getVisibleLine(g).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(a){if(this._visibleLines.renderLines(a),this._lastRenderedData.setCurrentVisibleRange(a.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const l=this._horizontalRevealRequest;if(a.startLineNumber<=l.minLineNumber&&l.maxLineNumber<=a.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const c=this._computeScrollLeftToReveal(l);c&&(this._isViewportWrapping||this._ensureMaxLineWidth(c.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:c.scrollLeft},l.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let g=l;g<=c;g++)if(this._visibleLines.getVisibleLine(g).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-a.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(a){const s=Math.ceil(a);this._maxLineWidth<s&&(this._maxLineWidth=s,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(a,s,l,c,g,m){const S=a.top,p=a.height,v=S+p;let _,w,E;if(g&&g.length>0){let R=g[0].startLineNumber,B=g[0].endLineNumber;for(let O=1,k=g.length;O<k;O++){const A=g[O];R=Math.min(R,A.startLineNumber),B=Math.max(B,A.endLineNumber)}_=!1,w=this._context.viewLayout.getVerticalOffsetForLineNumber(R),E=this._context.viewLayout.getVerticalOffsetForLineNumber(B)+this._lineHeight}else if(c)_=!0,w=this._context.viewLayout.getVerticalOffsetForLineNumber(c.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(c.endLineNumber)+this._lineHeight;else return-1;if((s==="mouse"||l)&&this._cursorSurroundingLinesStyle==="default")l||(w-=this._lineHeight);else{const R=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);w-=R*this._lineHeight,E+=Math.max(0,R-1)*this._lineHeight}(m===0||m===4)&&(E+=l?this._horizontalScrollbarHeight:this._lineHeight);let T;if(E-w>p){if(!_)return-1;T=w}else if(m===5||m===6)if(m===6&&S<=w&&E<=v)T=S;else{const R=Math.max(5*this._lineHeight,p*.2),B=w-R,O=E-p;T=Math.max(O,B)}else if(m===1||m===2)if(m===2&&S<=w&&E<=v)T=S;else{const R=(w+E)/2;T=Math.max(0,R-p/2)}else T=this._computeMinimumScrolling(S,v,w,E,m===3,m===4);return T}_computeScrollLeftToReveal(a){const s=this._context.viewLayout.getCurrentViewport(),l=s.left,c=l+s.width;let g=1073741824,m=0;if(a.type==="range"){const p=this._visibleRangesForLineRange(a.lineNumber,a.startColumn,a.endColumn);if(!p)return null;for(const v of p.ranges)g=Math.min(g,Math.round(v.left)),m=Math.max(m,Math.round(v.left+v.width))}else for(const p of a.selections){if(p.startLineNumber!==p.endLineNumber)return null;const v=this._visibleRangesForLineRange(p.startLineNumber,p.startColumn,p.endColumn);if(!v)return null;for(const _ of v.ranges)g=Math.min(g,Math.round(_.left)),m=Math.max(m,Math.round(_.left+_.width))}return a.minimalReveal||(g=Math.max(0,g-d.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding),a.type==="selections"&&m-g>s.width?null:{scrollLeft:this._computeMinimumScrolling(l,c,g,m),maxHorizontalOffset:m}}_computeMinimumScrolling(a,s,l,c,g,m){a=a|0,s=s|0,l=l|0,c=c|0,g=!!g,m=!!m;const S=s-a;if(c-l<S){if(g)return l;if(m)return Math.max(0,c-S);if(l<a)return l;if(c>s)return Math.max(0,c-S)}else return l;return a}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(oe[14],se([1,0,28,4,2,9,38,55]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,D.createDecorator)("themeService");var C;(function(o){function a(s){return s&&typeof s=="object"&&typeof s.id=="string"}o.isThemeColor=a})(C=e.ThemeColor||(e.ThemeColor={}));function u(o){return{id:o}}e.themeColorFromId=u;var h;(function(o){function a(v){return v&&typeof v=="object"&&typeof v.id=="string"&&(typeof v.color=="undefined"||C.isThemeColor(v.color))}o.isThemeIcon=a;const s=new RegExp(`^\\$\\((${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?)\\)$`);function l(v){const _=s.exec(v);if(!_)return;let[,w]=_;return{id:w}}o.fromString=l;function c(v){return{id:v}}o.fromId=c;function g(v,_){let w=v.id;const E=w.lastIndexOf("~");return E!==-1&&(w=w.substring(0,E)),_&&(w=`${w}~${_}`),{id:w}}o.modify=g;function m(v){const _=v.id.lastIndexOf("~");if(_!==-1)return v.id.substring(_+1)}o.getModifier=m;function S(v,_){var w,E;return v.id===_.id&&((w=v.color)===null||w===void 0?void 0:w.id)===((E=_.color)===null||E===void 0?void 0:E.id)}o.isEqual=S;function p(v,_){return{id:v.id,color:_?u(_):void 0}}o.asThemeIcon=p,o.asClassNameArray=y.CSSIcon.asClassNameArray,o.asClassName=y.CSSIcon.asClassName,o.asCSSSelector=y.CSSIcon.asCSSSelector})(h=e.ThemeIcon||(e.ThemeIcon={}));function i(o){switch(o){case b.ColorScheme.DARK:return"vs-dark";case b.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case b.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=i,e.Extensions={ThemingContribution:"base.contributions.theming"};class n{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Emitter}onColorThemeChange(a){return this.themingParticipants.push(a),this.onThemingParticipantAddedEmitter.fire(a),(0,N.toDisposable)(()=>{const s=this.themingParticipants.indexOf(a);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}let t=new n;L.Registry.add(e.Extensions.ThemingContribution,t);function r(o){return t.onColorThemeChange(o)}e.registerThemingParticipant=r;class d extends N.Disposable{constructor(a){super();this.themeService=a,this.theme=a.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(a){this.theme=a,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(oe[652],se([1,0,4,2,14]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let D=class extends f.Disposable{constructor(C){super();this._themeService=C,this._onCodeEditorAdd=this._register(new y.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new y.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new y.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(C){this._codeEditors[C.getId()]=C,this._onCodeEditorAdd.fire(C)}removeCodeEditor(C){delete this._codeEditors[C.getId()]&&this._onCodeEditorRemove.fire(C)}listCodeEditors(){return Object.keys(this._codeEditors).map(C=>this._codeEditors[C])}addDiffEditor(C){this._diffEditors[C.getId()]=C,this._onDiffEditorAdd.fire(C)}removeDiffEditor(C){delete this._diffEditors[C.getId()]&&this._onDiffEditorRemove.fire(C)}listDiffEditors(){return Object.keys(this._diffEditors).map(C=>this._diffEditors[C])}getFocusedCodeEditor(){let C=null;const u=this.listCodeEditors();for(const h of u){if(h.hasTextFocus())return h;h.hasWidgetFocus()&&(C=h)}return C}removeDecorationType(C){const u=this._decorationOptionProviders.get(C);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(C),u.dispose(),this.listCodeEditors().forEach(h=>h.removeDecorations(C))))}setModelProperty(C,u,h){const i=C.toString();let n;this._modelProperties.has(i)?n=this._modelProperties.get(i):(n=new Map,this._modelProperties.set(i,n)),n.set(u,h)}getModelProperty(C,u){const h=C.toString();if(this._modelProperties.has(h))return this._modelProperties.get(h).get(u)}};D=De([fe(0,N.IThemeService)],D),e.AbstractCodeEditorService=D;class L{constructor(C){this._styleSheet=C}}e.GlobalStyleSheet=L}),define(oe[653],se([1,0,7,32,73,52,14,23]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class C extends D.ViewPart{constructor(h,i,n,t){super(h);const r=this._context.configuration.options,d=r.get(92),o=r.get(67),a=r.get(34),s=r.get(95),l={listenOnDomNode:n.domNode,className:"editor-scrollable "+(0,L.getThemeTypeSelector)(h.theme.type),useShadows:!1,lazyRender:!0,vertical:d.vertical,horizontal:d.horizontal,verticalHasArrows:d.verticalHasArrows,horizontalHasArrows:d.horizontalHasArrows,verticalScrollbarSize:d.verticalScrollbarSize,verticalSliderSize:d.verticalSliderSize,horizontalScrollbarSize:d.horizontalScrollbarSize,horizontalSliderSize:d.horizontalSliderSize,handleMouseWheel:d.handleMouseWheel,alwaysConsumeMouseWheel:d.alwaysConsumeMouseWheel,arrowSize:d.arrowSize,mouseWheelScrollSensitivity:o,fastScrollSensitivity:a,scrollPredominantAxis:s,scrollByPage:d.scrollByPage};this.scrollbar=this._register(new N.SmoothScrollableElement(i.domNode,l,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,f.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(g,m,S)=>{const p={};if(m){const v=g.scrollTop;v&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+v,g.scrollTop=0)}if(S){const v=g.scrollLeft;v&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+v,g.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(p,1)};this._register(y.addDisposableListener(n.domNode,"scroll",g=>c(n.domNode,!0,!0))),this._register(y.addDisposableListener(i.domNode,"scroll",g=>c(i.domNode,!0,!1))),this._register(y.addDisposableListener(t.domNode,"scroll",g=>c(t.domNode,!0,!1))),this._register(y.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",g=>c(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const h=this._context.configuration.options,i=h.get(131);this.scrollbarDomNode.setLeft(i.contentLeft),h.get(65).side==="right"?this.scrollbarDomNode.setWidth(i.contentWidth+i.minimap.minimapWidth):this.scrollbarDomNode.setWidth(i.contentWidth),this.scrollbarDomNode.setHeight(i.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(h){this.scrollbar.delegateVerticalScrollbarPointerDown(h)}onConfigurationChanged(h){if(h.hasChanged(92)||h.hasChanged(67)||h.hasChanged(34)){const i=this._context.configuration.options,n=i.get(92),t=i.get(67),r=i.get(34),d=i.get(95),o={vertical:n.vertical,horizontal:n.horizontal,verticalScrollbarSize:n.verticalScrollbarSize,horizontalScrollbarSize:n.horizontalScrollbarSize,scrollByPage:n.scrollByPage,handleMouseWheel:n.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:r,scrollPredominantAxis:d};this.scrollbar.updateOptions(o)}return h.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(h){return!0}onThemeChanged(h){return this.scrollbar.updateClassName("editor-scrollable "+(0,L.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(h){}render(h){this.scrollbar.renderNow()}}e.EditorScrollbar=C,(0,L.registerThemingParticipant)((u,h)=>{const i=u.getColor(b.scrollbarShadow);i&&h.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${i} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${i} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${i} 6px 6px 6px -6px inset;
			}
		`);const n=u.getColor(b.scrollbarSliderBackground);n&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${n};
			}
		`);const t=u.getColor(b.scrollbarSliderHoverBackground);t&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${t};
			}
		`);const r=u.getColor(b.scrollbarSliderActiveBackground);r&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${r};
			}
		`)})}),define(oe[654],se([1,0,7,32,119,2,17,8,181,52,33,3,241,258,74,23,14,24,60,413,46,91,371]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const m=140,S=2;class p{constructor(k,A,F){const P=k.options,W=P.get(129),M=P.get(131),z=M.minimap,Q=P.get(44),ne=P.get(65);this.renderMinimap=z.renderMinimap,this.size=ne.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=P.get(94),this.showSlider=ne.showSlider,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this.lineHeight=P.get(59),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=M.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=M.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,g.once)(()=>l.MinimapCharRendererFactory.create(this.fontScale,Q.fontFamily)),this.defaultBackgroundColor=F.getColor(2),this.backgroundColor=p._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=p._getMinimapForegroundOpacity(A)}static _getMinimapBackground(k,A){const F=k.getColor(d.minimapBackground);return F?new n.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,Math.round(255*F.rgba.a)):A}static _getMinimapForegroundOpacity(k){const A=k.getColor(d.minimapForegroundOpacity);return A?n.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(k){return this.renderMinimap===k.renderMinimap&&this.size===k.size&&this.minimapHeightIsEditorHeight===k.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===k.scrollBeyondLastLine&&this.showSlider===k.showSlider&&this.pixelRatio===k.pixelRatio&&this.typicalHalfwidthCharacterWidth===k.typicalHalfwidthCharacterWidth&&this.lineHeight===k.lineHeight&&this.minimapLeft===k.minimapLeft&&this.minimapWidth===k.minimapWidth&&this.minimapHeight===k.minimapHeight&&this.canvasInnerWidth===k.canvasInnerWidth&&this.canvasInnerHeight===k.canvasInnerHeight&&this.canvasOuterWidth===k.canvasOuterWidth&&this.canvasOuterHeight===k.canvasOuterHeight&&this.isSampling===k.isSampling&&this.editorHeight===k.editorHeight&&this.fontScale===k.fontScale&&this.minimapLineHeight===k.minimapLineHeight&&this.minimapCharWidth===k.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(k.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(k.backgroundColor)&&this.foregroundAlpha===k.foregroundAlpha}}class v{constructor(k,A,F,P,W,M,z,Q){this.scrollTop=k,this.scrollHeight=A,this.sliderNeeded=F,this._computedSliderRatio=P,this.sliderTop=W,this.sliderHeight=M,this.startLineNumber=z,this.endLineNumber=Q}getDesiredScrollTopFromDelta(k){return Math.round(this.scrollTop+k/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(k){return Math.round((k-this.sliderHeight/2)/this._computedSliderRatio)}static create(k,A,F,P,W,M,z,Q,ne,X,J){const ie=k.pixelRatio,le=k.minimapLineHeight,G=Math.floor(k.canvasInnerHeight/le),x=k.lineHeight;if(k.minimapHeightIsEditorHeight){const U=Q*k.lineHeight+(k.scrollBeyondLastLine?W-k.lineHeight:0),Z=Math.max(1,Math.floor(W*W/U)),q=Math.max(0,k.minimapHeight-Z),$=q/(X-W),H=ne*$,ee=q>0,te=Math.floor(k.canvasInnerHeight/k.minimapLineHeight);return new v(ne,X,ee,$,H,Z,1,Math.min(z,te))}let V;if(M&&F!==z){const U=F-A+1;V=Math.floor(U*le/ie)}else{const U=W/x;V=Math.floor(U*le/ie)}let j;k.scrollBeyondLastLine?j=(z-1)*le/ie:j=Math.max(0,z*le/ie-V),j=Math.min(k.minimapHeight-V,j);const re=j/(X-W),ae=ne*re;let Y=0;if(k.scrollBeyondLastLine&&(Y=W/x-1),G>=z+Y){const U=1,Z=z,q=j>0;return new v(ne,X,q,re,ae,V,U,Z)}else{let U=Math.max(1,Math.floor(A-ae*ie/le));J&&J.scrollHeight===X&&(J.scrollTop>ne&&(U=Math.min(U,J.startLineNumber)),J.scrollTop<ne&&(U=Math.max(U,J.startLineNumber)));const Z=Math.min(z,U+G-1),q=(ne-P)/x,$=(A-U+q)*le/ie;return new v(ne,X,!0,re,$,V,U,Z)}}}class _{constructor(k){this.dy=k}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class w{constructor(k,A,F){this.renderedLayout=k,this._imageData=A,this._renderedLines=new C.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(k.startLineNumber,F)}linesEquals(k){if(!this.scrollEquals(k))return!1;const F=this._renderedLines._get().lines;for(let P=0,W=F.length;P<W;P++)if(F[P].dy===-1)return!1;return!0}scrollEquals(k){return this.renderedLayout.startLineNumber===k.startLineNumber&&this.renderedLayout.endLineNumber===k.endLineNumber}_get(){const k=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:k.rendLineNumberStart,lines:k.lines}}onLinesChanged(k,A){return this._renderedLines.onLinesChanged(k,A)}onLinesDeleted(k,A){this._renderedLines.onLinesDeleted(k,A)}onLinesInserted(k,A){this._renderedLines.onLinesInserted(k,A)}onTokensChanged(k){return this._renderedLines.onTokensChanged(k)}}class E{constructor(k,A,F,P){this._backgroundFillData=E._createBackgroundFillData(A,F,P),this._buffers=[k.createImageData(A,F),k.createImageData(A,F)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const k=this._buffers[this._lastUsedBuffer];return k.data.set(this._backgroundFillData),k}static _createBackgroundFillData(k,A,F){const P=F.r,W=F.g,M=F.b,z=F.a,Q=new Uint8ClampedArray(k*A*4);let ne=0;for(let X=0;X<A;X++)for(let J=0;J<k;J++)Q[ne]=P,Q[ne+1]=W,Q[ne+2]=M,Q[ne+3]=z,ne+=4;return Q}}class I{constructor(k,A){this.samplingRatio=k,this.minimapLines=A}static compute(k,A,F){if(k.renderMinimap===0||!k.isSampling)return[null,[]];const P=k.pixelRatio,W=k.lineHeight,M=k.scrollBeyondLastLine,{minimapLineCount:z}=h.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:M,height:k.editorHeight,lineHeight:W,pixelRatio:P}),Q=A/z,ne=Q/2;if(!F||F.minimapLines.length===0){const ae=[];if(ae[0]=1,z>1){for(let Y=0,U=z-1;Y<U;Y++)ae[Y]=Math.round(Y*Q+ne);ae[z-1]=A}return[new I(Q,ae),[]]}const X=F.minimapLines,J=X.length,ie=[];let le=0,G=0,x=1;const V=10;let j=[],re=null;for(let ae=0;ae<z;ae++){const Y=Math.max(x,Math.round(ae*Q)),U=Math.max(Y,Math.round((ae+1)*Q));for(;le<J&&X[le]<Y;){if(j.length<V){const q=le+1+G;re&&re.type==="deleted"&&re._oldIndex===le-1?re.deleteToLineNumber++:(re={type:"deleted",_oldIndex:le,deleteFromLineNumber:q,deleteToLineNumber:q},j.push(re)),G--}le++}let Z;if(le<J&&X[le]<=U)Z=X[le],le++;else if(ae===0?Z=1:ae+1===z?Z=A:Z=Math.round(ae*Q+ne),j.length<V){const q=le+1+G;re&&re.type==="inserted"&&re._i===ae-1?re.insertToLineNumber++:(re={type:"inserted",_i:ae,insertFromLineNumber:q,insertToLineNumber:q},j.push(re)),G++}ie[ae]=Z,x=Z}if(j.length<V)for(;le<J;){const ae=le+1+G;re&&re.type==="deleted"&&re._oldIndex===le-1?re.deleteToLineNumber++:(re={type:"deleted",_oldIndex:le,deleteFromLineNumber:ae,deleteToLineNumber:ae},j.push(re)),G--,le++}else j=[{type:"flush"}];return[new I(Q,ie),j]}modelLineToMinimapLine(k){return Math.min(this.minimapLines.length,Math.max(1,Math.round(k/this.samplingRatio)))}modelLineRangeToMinimapLineRange(k,A){let F=this.modelLineToMinimapLine(k)-1;for(;F>0&&this.minimapLines[F-1]>=k;)F--;let P=this.modelLineToMinimapLine(A)-1;for(;P+1<this.minimapLines.length&&this.minimapLines[P+1]<=A;)P++;if(F===P){const W=this.minimapLines[F];if(W<k||W>A)return null}return[F+1,P+1]}decorationLineRangeToMinimapLineRange(k,A){let F=this.modelLineToMinimapLine(k),P=this.modelLineToMinimapLine(A);return k!==A&&P===F&&(P===this.minimapLines.length?F>1&&F--:P++),[F,P]}onLinesDeleted(k){const A=k.toLineNumber-k.fromLineNumber+1;let F=this.minimapLines.length,P=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<k.fromLineNumber);W--)this.minimapLines[W]<=k.toLineNumber?(this.minimapLines[W]=Math.max(1,k.fromLineNumber-1),F=Math.min(F,W),P=Math.max(P,W)):this.minimapLines[W]-=A;return[F,P]}onLinesInserted(k){const A=k.toLineNumber-k.fromLineNumber+1;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<k.fromLineNumber);F--)this.minimapLines[F]+=A}}class T extends u.ViewPart{constructor(k){super(k);this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=I.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new R(k.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const k=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(k)?!1:(this.options=k,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(k){return this._onOptionsMaybeChanged()}onCursorStateChanged(k){return this._selections=k.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(k){return k.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(k){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(k){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(k.fromLineNumber,k.fromLineNumber+k.count-1);return A?this._actual.onLinesChanged(A[0],A[1]-A[0]+1):!1}else return this._actual.onLinesChanged(k.fromLineNumber,k.count)}onLinesDeleted(k){if(this._samplingState){const[A,F]=this._samplingState.onLinesDeleted(k);return A<=F&&this._actual.onLinesChanged(A+1,F-A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(k.fromLineNumber,k.toLineNumber)}onLinesInserted(k){return this._samplingState?(this._samplingState.onLinesInserted(k),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(k.fromLineNumber,k.toLineNumber)}onScrollChanged(k){return this._actual.onScrollChanged()}onThemeChanged(k){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(k){if(this._samplingState){const A=[];for(const F of k.ranges){const P=this._samplingState.modelLineRangeToMinimapLineRange(F.fromLineNumber,F.toLineNumber);P&&A.push({fromLineNumber:P[0],toLineNumber:P[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(k.ranges)}onTokensColorsChanged(k){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(k){return this._actual.onZonesChanged()}prepareRender(k){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(k){let A=k.visibleRange.startLineNumber,F=k.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),F=this._samplingState.modelLineToMinimapLine(F));const P={viewportContainsWhitespaceGaps:k.viewportData.whitespaceViewportData.length>0,scrollWidth:k.scrollWidth,scrollHeight:k.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:F,viewportStartLineNumberVerticalOffset:k.getVerticalOffsetForLineNumber(A),scrollTop:k.scrollTop,scrollLeft:k.scrollLeft,viewportWidth:k.viewportWidth,viewportHeight:k.viewportHeight};this._actual.render(P)}_recreateLineSampling(){this._minimapSelections=null;const k=Boolean(this._samplingState),[A,F]=I.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=A,k&&this._samplingState)for(const P of F)switch(P.type){case"deleted":this._actual.onLinesDeleted(P.deleteFromLineNumber,P.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(P.insertFromLineNumber,P.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(k){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[k-1]):this._context.viewModel.getLineContent(k)}getLineMaxColumn(k){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[k-1]):this._context.viewModel.getLineMaxColumn(k)}getMinimapLinesRenderingData(k,A,F){if(this._samplingState){const P=[];for(let W=0,M=A-k+1;W<M;W++)F[W]?P[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[k+W-1]):P[W]=null;return P}return this._context.viewModel.getMinimapLinesRenderingData(k,A,F).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const k of this._selections){const[A,F]=this._samplingState.decorationLineRangeToMinimapLineRange(k.startLineNumber,k.endLineNumber);this._minimapSelections.push(new a.Selection(A,k.startColumn,F,k.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(k,A){let F;if(this._samplingState){const W=this._samplingState.minimapLines[k-1],M=this._samplingState.minimapLines[A-1];F=new i.Range(W,1,M,this._context.viewModel.getLineMaxColumn(M))}else F=new i.Range(k,1,A,this._context.viewModel.getLineMaxColumn(A));const P=this._context.viewModel.getDecorationsInViewport(F);if(this._samplingState){const W=[];for(const M of P){if(!M.options.minimap)continue;const z=M.range,Q=this._samplingState.modelLineToMinimapLine(z.startLineNumber),ne=this._samplingState.modelLineToMinimapLine(z.endLineNumber);W.push(new r.ViewModelDecoration(new i.Range(Q,z.startColumn,ne,z.endColumn),M.options))}return W}return P}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(k){this._samplingState&&(k=this._samplingState.minimapLines[k-1]),this._context.viewModel.revealRange("mouse",!1,new i.Range(k,1,k,1),1,0)}setScrollTop(k){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:k},1)}}e.Minimap=T;class R extends D.Disposable{constructor(k,A){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=k,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=(0,f.createFastDomNode)(document.createElement("div")),u.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,f.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,f.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,f.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,f.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,f.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=y.addStandardDisposableListener(this._domNode.domNode,y.EventType.POINTER_DOWN,F=>{if(F.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(F.button===0&&this._lastRenderData){const ne=y.getDomNodePagePosition(this._slider.domNode),X=ne.top+ne.height/2;this._startSliderDragging(F,X,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,M=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*F.offsetY;let Q=Math.floor(M/W)+this._lastRenderData.renderedLayout.startLineNumber;Q=Math.min(Q,this._model.getLineCount()),this._model.revealLineNumber(Q)}),this._sliderPointerMoveMonitor=new N.GlobalPointerMoveMonitor,this._sliderPointerDownListener=y.addStandardDisposableListener(this._slider.domNode,y.EventType.POINTER_DOWN,F=>{F.preventDefault(),F.stopPropagation(),F.button===0&&this._lastRenderData&&this._startSliderDragging(F,F.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=s.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=y.addDisposableListener(this._domNode.domNode,s.EventType.Start,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(F))},{passive:!1}),this._sliderTouchMoveListener=y.addDisposableListener(this._domNode.domNode,s.EventType.Change,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(F)},{passive:!1}),this._sliderTouchEndListener=y.addStandardDisposableListener(this._domNode.domNode,s.EventType.End,F=>{F.preventDefault(),F.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(k,A,F){if(!k.target||!(k.target instanceof Element))return;const P=k.pageX;this._slider.toggleClassName("active",!0);const W=(M,z)=>{const Q=Math.abs(z-P);if(L.isWindows&&Q>m){this._model.setScrollTop(F.scrollTop);return}const ne=M-A;this._model.setScrollTop(F.getDesiredScrollTopFromDelta(ne))};k.pageY!==A&&W(k.pageY,P),this._sliderPointerMoveMonitor.startMonitoring(k.target,k.pointerId,k.buttons,M=>W(M.pageY,M.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(k){const A=this._domNode.domNode.getBoundingClientRect().top,F=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(k.pageY-A);this._model.setScrollTop(F)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(k,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(k,A):!1}onLinesDeleted(k,A){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(k,A),!0}onLinesInserted(k,A){return this._lastRenderData&&this._lastRenderData.onLinesInserted(k,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(k){return this._lastRenderData?this._lastRenderData.onTokensChanged(k):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(k){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}k.scrollLeft+k.viewportWidth>=k.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const F=v.create(this._model.options,k.viewportStartLineNumber,k.viewportEndLineNumber,k.viewportStartLineNumberVerticalOffset,k.viewportHeight,k.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),k.scrollTop,k.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(F.sliderNeeded?"block":"none"),this._slider.setTop(F.sliderTop),this._slider.setHeight(F.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(F.sliderHeight),this.renderDecorations(F),this._lastRenderData=this.renderLines(F)}renderDecorations(k){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(i.Range.compareRangesUsingStarts);const F=this._model.getMinimapDecorationsInViewport(k.startLineNumber,k.endLineNumber);F.sort((ie,le)=>(ie.options.zIndex||0)-(le.options.zIndex||0));const{canvasInnerWidth:P,canvasInnerHeight:W}=this._model.options,M=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,Q=this._model.getOptions().tabSize,ne=this._decorationsCanvas.domNode.getContext("2d");ne.clearRect(0,0,P,W);const X=new B(k.startLineNumber,k.endLineNumber,!1);this._renderSelectionLineHighlights(ne,A,X,k,M),this._renderDecorationsLineHighlights(ne,F,X,k,M);const J=new B(k.startLineNumber,k.endLineNumber,null);this._renderSelectionsHighlights(ne,A,J,k,M,Q,z,P),this._renderDecorationsHighlights(ne,F,J,k,M,Q,z,P)}}_renderSelectionLineHighlights(k,A,F,P,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;k.fillStyle=this._selectionColor.transparent(.5).toString();let M=0,z=0;for(const Q of A){const ne=Math.max(P.startLineNumber,Q.startLineNumber),X=Math.min(P.endLineNumber,Q.endLineNumber);if(ne>X)continue;for(let le=ne;le<=X;le++)F.set(le,!0);const J=(ne-P.startLineNumber)*W,ie=(X-P.startLineNumber)*W+W;z>=J||(z>M&&k.fillRect(h.MINIMAP_GUTTER_WIDTH,M,k.canvas.width,z-M),M=J),z=ie}z>M&&k.fillRect(h.MINIMAP_GUTTER_WIDTH,M,k.canvas.width,z-M)}_renderDecorationsLineHighlights(k,A,F,P,W){const M=new Map;for(let z=A.length-1;z>=0;z--){const Q=A[z],ne=Q.options.minimap;if(!ne||ne.position!==c.MinimapPosition.Inline)continue;const X=Math.max(P.startLineNumber,Q.range.startLineNumber),J=Math.min(P.endLineNumber,Q.range.endLineNumber);if(X>J)continue;const ie=ne.getColor(this._theme.value);if(!ie||ie.isTransparent())continue;let le=M.get(ie.toString());le||(le=ie.transparent(.5).toString(),M.set(ie.toString(),le)),k.fillStyle=le;for(let G=X;G<=J;G++){if(F.has(G))continue;F.set(G,!0);const x=(X-P.startLineNumber)*W;k.fillRect(h.MINIMAP_GUTTER_WIDTH,x,k.canvas.width,W)}}}_renderSelectionsHighlights(k,A,F,P,W,M,z,Q){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const ne of A){const X=Math.max(P.startLineNumber,ne.startLineNumber),J=Math.min(P.endLineNumber,ne.endLineNumber);if(!(X>J))for(let ie=X;ie<=J;ie++)this.renderDecorationOnLine(k,F,ne,this._selectionColor,P,ie,W,W,M,z,Q)}}_renderDecorationsHighlights(k,A,F,P,W,M,z,Q){for(const ne of A){const X=ne.options.minimap;if(!X)continue;const J=Math.max(P.startLineNumber,ne.range.startLineNumber),ie=Math.min(P.endLineNumber,ne.range.endLineNumber);if(J>ie)continue;const le=X.getColor(this._theme.value);if(!(!le||le.isTransparent()))for(let G=J;G<=ie;G++)switch(X.position){case c.MinimapPosition.Inline:this.renderDecorationOnLine(k,F,ne.range,le,P,G,W,W,M,z,Q);continue;case c.MinimapPosition.Gutter:{const x=(G-P.startLineNumber)*W,V=2;this.renderDecoration(k,le,V,x,S,W);continue}}}}renderDecorationOnLine(k,A,F,P,W,M,z,Q,ne,X,J){const ie=(M-W.startLineNumber)*Q;if(ie+z<0||ie>this._model.options.canvasInnerHeight)return;const{startLineNumber:le,endLineNumber:G}=F,x=le===M?F.startColumn:1,V=G===M?F.endColumn:this._model.getLineMaxColumn(M),j=this.getXOffsetForPosition(A,M,x,ne,X,J),re=this.getXOffsetForPosition(A,M,V,ne,X,J);this.renderDecoration(k,P,j,ie,re-j,z)}getXOffsetForPosition(k,A,F,P,W,M){if(F===1)return h.MINIMAP_GUTTER_WIDTH;if((F-1)*W>=M)return M;let Q=k.get(A);if(!Q){const ne=this._model.getLineContent(A);Q=[h.MINIMAP_GUTTER_WIDTH];let X=h.MINIMAP_GUTTER_WIDTH;for(let J=1;J<ne.length+1;J++){const ie=ne.charCodeAt(J-1),le=ie===9?P*W:b.isFullWidthCharacter(ie)?2*W:W,G=X+le;if(G>=M){Q[J]=M;break}Q[J]=G,X=G}k.set(A,Q)}return F-1<Q.length?Q[F-1]:M}renderDecoration(k,A,F,P,W,M){k.fillStyle=A&&A.toString()||"",k.fillRect(F,P,W,M)}renderLines(k){const A=k.startLineNumber,F=k.endLineNumber,P=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(k)){const ve=this._lastRenderData._get();return new w(k,ve.imageData,ve.lines)}const W=this._getBuffer();if(!W)return null;const[M,z,Q]=R._renderUntouchedLines(W,A,F,P,this._lastRenderData),ne=this._model.getMinimapLinesRenderingData(A,F,Q),X=this._model.getOptions().tabSize,J=this._model.options.defaultBackgroundColor,ie=this._model.options.backgroundColor,le=this._model.options.foregroundAlpha,G=this._model.tokensColorTracker,x=G.backgroundIsLight(),V=this._model.options.renderMinimap,j=this._model.options.charRenderer(),re=this._model.options.fontScale,ae=this._model.options.minimapCharWidth,U=(V===1?2:2+1)*re,Z=P>U?Math.floor((P-U)/2):0,q=ie.a/255,$=new n.RGBA8(Math.round((ie.r-J.r)*q+J.r),Math.round((ie.g-J.g)*q+J.g),Math.round((ie.b-J.b)*q+J.b),255);let H=0;const ee=[];for(let ve=0,ue=F-A+1;ve<ue;ve++)Q[ve]&&R._renderLine(W,$,ie.a,x,V,ae,G,le,j,H,Z,X,ne[ve],re,P),ee[ve]=new _(H),H+=P;const te=M===-1?0:M,he=(z===-1?W.height:z)-te;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,te,W.width,he),new w(k,W,ee)}static _renderUntouchedLines(k,A,F,P,W){const M=[];if(!W){for(let $=0,H=F-A+1;$<H;$++)M[$]=!0;return[-1,-1,M]}const z=W._get(),Q=z.imageData.data,ne=z.rendLineNumberStart,X=z.lines,J=X.length,ie=k.width,le=k.data,G=(F-A+1)*P*ie*4;let x=-1,V=-1,j=-1,re=-1,ae=-1,Y=-1,U=0;for(let $=A;$<=F;$++){const H=$-A,ee=$-ne,te=ee>=0&&ee<J?X[ee].dy:-1;if(te===-1){M[H]=!0,U+=P;continue}const de=te*ie*4,he=(te+P)*ie*4,pe=U*ie*4,ve=(U+P)*ie*4;re===de&&Y===pe?(re=he,Y=ve):(j!==-1&&(le.set(Q.subarray(j,re),ae),x===-1&&j===0&&j===ae&&(x=re),V===-1&&re===G&&j===ae&&(V=j)),j=de,re=he,ae=pe,Y=ve),M[H]=!1,U+=P}j!==-1&&(le.set(Q.subarray(j,re),ae),x===-1&&j===0&&j===ae&&(x=re),V===-1&&re===G&&j===ae&&(V=j));const Z=x===-1?-1:x/(ie*4),q=V===-1?-1:V/(ie*4);return[Z,q,M]}static _renderLine(k,A,F,P,W,M,z,Q,ne,X,J,ie,le,G,x){const V=le.content,j=le.tokens,re=k.width-M,ae=x===1;let Y=h.MINIMAP_GUTTER_WIDTH,U=0,Z=0;for(let q=0,$=j.getCount();q<$;q++){const H=j.getEndOffset(q),ee=j.getForeground(q),te=z.getColor(ee);for(;U<H;U++){if(Y>re)return;const de=V.charCodeAt(U);if(de===9){const he=ie-(U+Z)%ie;Z+=he-1,Y+=he*M}else if(de===32)Y+=M;else{const he=b.isFullWidthCharacter(de)?2:1;for(let pe=0;pe<he;pe++)if(W===2?ne.blockRenderChar(k,Y,X+J,te,Q,A,F,ae):ne.renderChar(k,Y,X+J,de,te,Q,A,F,G,P,ae),Y+=M,Y>re)return}}}}}class B{constructor(k,A,F){this._startLineNumber=k,this._endLineNumber=A,this._defaultValue=F,this._values=[];for(let P=0,W=this._endLineNumber-this._startLineNumber+1;P<W;P++)this._values[P]=F}has(k){return this.get(k)!==this._defaultValue}set(k,A){k<this._startLineNumber||k>this._endLineNumber||(this._values[k-this._startLineNumber]=A)}get(k){return k<this._startLineNumber||k>this._endLineNumber?this._defaultValue:this._values[k-this._startLineNumber]}}(0,o.registerThemingParticipant)((O,k)=>{const A=O.getColor(d.minimapSliderBackground);A&&k.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const F=O.getColor(d.minimapSliderHoverBackground);F&&k.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${F}; }`);const P=O.getColor(d.minimapSliderActiveBackground);P&&k.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${P}; }`);const W=O.getColor(d.scrollbarShadow);W&&k.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(oe[655],se([1,0,32,52,23,14,374]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends f.ViewPart{constructor(C){super(C);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const h=this._context.configuration.options.get(92);this._useShadows=h.useShadows,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const C=this._useShadows&&this._scrollTop>0;return this._shouldShow!==C?(this._shouldShow=C,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(131);u.minimap.renderMinimap===0||u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?this._width=u.width:this._width=u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}onConfigurationChanged(C){const h=this._context.configuration.options.get(92);return this._useShadows=h.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(C){return this._scrollTop=C.scrollTop,this._updateShouldShow()}prepareRender(C){}render(C){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L,(0,D.registerThemingParticipant)((b,C)=>{const u=b.getColor(N.scrollbarShadow);u&&C.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${u} 0 6px 6px -6px inset; }`)})}),define(oe[656],se([1,0,106,23,14,375]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class L{constructor(n,t){this.lineNumber=n,this.ranges=t}}function b(i){return new D(i)}function C(i){return new L(i.lineNumber,i.ranges.map(b))}class u extends y.DynamicViewOverlay{constructor(n){super();this._previousFrameVisibleRangesWithStyle=[],this._context=n;const t=this._context.configuration.options;this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const t=this._context.configuration.options;return this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let t=0,r=n.length;t<r;t++)if(n[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,t,r){const d=this._typicalHalfwidthCharacterWidth/4;let o=null,a=null;if(r&&r.length>0&&t.length>0){const s=t[0].lineNumber;if(s===n.startLineNumber)for(let c=0;!o&&c<r.length;c++)r[c].lineNumber===s&&(o=r[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===n.endLineNumber)for(let c=r.length-1;!a&&c>=0;c--)r[c].lineNumber===l&&(a=r[c].ranges[0]);o&&!o.startStyle&&(o=null),a&&!a.startStyle&&(a=null)}for(let s=0,l=t.length;s<l;s++){const c=t[s].ranges[0],g=c.left,m=c.left+c.width,S={top:0,bottom:0},p={top:0,bottom:0};if(s>0){const v=t[s-1].ranges[0].left,_=t[s-1].ranges[0].left+t[s-1].ranges[0].width;h(g-v)<d?S.top=2:g>v&&(S.top=1),h(m-_)<d?p.top=2:v<m&&m<_&&(p.top=1)}else o&&(S.top=o.startStyle.top,p.top=o.endStyle.top);if(s+1<l){const v=t[s+1].ranges[0].left,_=t[s+1].ranges[0].left+t[s+1].ranges[0].width;h(g-v)<d?S.bottom=2:v<g&&g<_&&(S.bottom=1),h(m-_)<d?p.bottom=2:m<_&&(p.bottom=1)}else a&&(S.bottom=a.startStyle.bottom,p.bottom=a.endStyle.bottom);c.startStyle=S,c.endStyle=p}}_getVisibleRangesWithStyle(n,t,r){const o=(t.linesVisibleRangesForRange(n,!0)||[]).map(C);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,r),o}_createSelectionPiece(n,t,r,d,o){return'<div class="cslr '+r+'" style="top:'+n.toString()+"px;left:"+d.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(n,t,r,d){if(d.length===0)return;const o=!!d[0].ranges[0].startStyle,a=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),l=d[0].lineNumber,c=d[d.length-1].lineNumber;for(let g=0,m=d.length;g<m;g++){const S=d[g],p=S.lineNumber,v=p-t,_=r&&(p===c||p===l)?s:a,w=r&&p===l?1:0;let E="",I="";for(let T=0,R=S.ranges.length;T<R;T++){const B=S.ranges[T];if(o){const k=B.startStyle,A=B.endStyle;if(k.top===1||k.bottom===1){E+=this._createSelectionPiece(w,_,u.SELECTION_CLASS_NAME,B.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH);let F=u.EDITOR_BACKGROUND_CLASS_NAME;k.top===1&&(F+=" "+u.SELECTION_TOP_RIGHT),k.bottom===1&&(F+=" "+u.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(w,_,F,B.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){E+=this._createSelectionPiece(w,_,u.SELECTION_CLASS_NAME,B.left+B.width,u.ROUNDED_PIECE_WIDTH);let F=u.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(F+=" "+u.SELECTION_TOP_LEFT),A.bottom===1&&(F+=" "+u.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(w,_,F,B.left+B.width,u.ROUNDED_PIECE_WIDTH)}}let O=u.SELECTION_CLASS_NAME;if(o){const k=B.startStyle,A=B.endStyle;k.top===0&&(O+=" "+u.SELECTION_TOP_LEFT),k.bottom===0&&(O+=" "+u.SELECTION_BOTTOM_LEFT),A.top===0&&(O+=" "+u.SELECTION_TOP_RIGHT),A.bottom===0&&(O+=" "+u.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(w,_,O,B.left,B.width)}n[v][0]+=E,n[v][1]+=I}}prepareRender(n){const t=[],r=n.visibleRange.startLineNumber,d=n.visibleRange.endLineNumber;for(let a=r;a<=d;a++){const s=a-r;t[s]=["",""]}const o=[];for(let a=0,s=this._selections.length;a<s;a++){const l=this._selections[a];if(l.isEmpty()){o[a]=null;continue}const c=this._getVisibleRangesWithStyle(l,n,this._previousFrameVisibleRangesWithStyle[a]);o[a]=c,this._actualRenderOneSelection(t,r,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([a,s])=>a+s)}render(n,t){if(!this._renderResult)return"";const r=t-n;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.SelectionsOverlay=u,u.SELECTION_CLASS_NAME="selected-text",u.SELECTION_TOP_LEFT="top-left-radius",u.SELECTION_BOTTOM_LEFT="bottom-left-radius",u.SELECTION_TOP_RIGHT="top-right-radius",u.SELECTION_BOTTOM_RIGHT="bottom-right-radius",u.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",u.ROUNDED_PIECE_WIDTH=10,(0,N.registerThemingParticipant)((i,n)=>{const t=i.getColor(f.editorSelectionBackground);t&&n.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const r=i.getColor(f.editorInactiveSelection);r&&n.addRule(`.monaco-editor .selected-text { background-color: ${r}; }`);const d=i.getColor(f.editorSelectionForeground);d&&!d.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function h(i){return i<0?-i:i}}),define(oe[54],se([1,0,524,30,23,14,55]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,N.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(0,null)),e.editorLineHighlightBorder=(0,N.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:N.contrastBorder},y.localize(1,null)),e.editorRangeHighlight=(0,N.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},y.localize(2,null),!0),e.editorRangeHighlightBorder=(0,N.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:N.activeContrastBorder,hcLight:N.activeContrastBorder},y.localize(3,null),!0),e.editorSymbolHighlight=(0,N.registerColor)("editor.symbolHighlightBackground",{dark:N.editorFindMatchHighlight,light:N.editorFindMatchHighlight,hcDark:null,hcLight:null},y.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,N.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:N.activeContrastBorder,hcLight:N.activeContrastBorder},y.localize(5,null),!0),e.editorCursorForeground=(0,N.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:f.Color.black,hcDark:f.Color.white,hcLight:"#0F4A85"},y.localize(6,null)),e.editorCursorBackground=(0,N.registerColor)("editorCursor.background",null,y.localize(7,null)),e.editorWhitespaces=(0,N.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},y.localize(8,null)),e.editorIndentGuides=(0,N.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},y.localize(9,null)),e.editorActiveIndentGuides=(0,N.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},y.localize(10,null)),e.editorLineNumbers=(0,N.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:f.Color.white,hcLight:"#292929"},y.localize(11,null));const b=(0,N.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:N.activeContrastBorder,hcLight:N.activeContrastBorder},y.localize(12,null),!1,y.localize(13,null));e.editorActiveLineNumber=(0,N.registerColor)("editorLineNumber.activeForeground",{dark:b,light:b,hcDark:b,hcLight:b},y.localize(14,null)),e.editorRuler=(0,N.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:f.Color.lightgrey,hcDark:f.Color.white,hcLight:"#292929"},y.localize(15,null)),e.editorCodeLensForeground=(0,N.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},y.localize(16,null)),e.editorBracketMatchBackground=(0,N.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},y.localize(17,null)),e.editorBracketMatchBorder=(0,N.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:N.contrastBorder,hcLight:N.contrastBorder},y.localize(18,null)),e.editorOverviewRulerBorder=(0,N.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},y.localize(19,null)),e.editorOverviewRulerBackground=(0,N.registerColor)("editorOverviewRuler.background",null,y.localize(20,null)),e.editorGutter=(0,N.registerColor)("editorGutter.background",{dark:N.editorBackground,light:N.editorBackground,hcDark:N.editorBackground,hcLight:N.editorBackground},y.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,N.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:f.Color.fromHex("#fff").transparent(.8),hcLight:N.contrastBorder},y.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,N.registerColor)("editorUnnecessaryCode.opacity",{dark:f.Color.fromHex("#000a"),light:f.Color.fromHex("#0007"),hcDark:null,hcLight:null},y.localize(23,null)),e.ghostTextBorder=(0,N.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:f.Color.fromHex("#fff").transparent(.8),hcLight:f.Color.fromHex("#292929").transparent(.8)},y.localize(24,null)),e.ghostTextForeground=(0,N.registerColor)("editorGhostText.foreground",{dark:f.Color.fromHex("#ffffff56"),light:f.Color.fromHex("#0007"),hcDark:null,hcLight:null},y.localize(25,null)),e.ghostTextBackground=(0,N.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(26,null));const C=new f.Color(new f.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,N.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:C,light:C,hcDark:C,hcLight:C},y.localize(27,null),!0),e.overviewRulerError=(0,N.registerColor)("editorOverviewRuler.errorForeground",{dark:new f.Color(new f.RGBA(255,18,18,.7)),light:new f.Color(new f.RGBA(255,18,18,.7)),hcDark:new f.Color(new f.RGBA(255,50,50,1)),hcLight:"#B5200D"},y.localize(28,null)),e.overviewRulerWarning=(0,N.registerColor)("editorOverviewRuler.warningForeground",{dark:N.editorWarningForeground,light:N.editorWarningForeground,hcDark:N.editorWarningBorder,hcLight:N.editorWarningBorder},y.localize(29,null)),e.overviewRulerInfo=(0,N.registerColor)("editorOverviewRuler.infoForeground",{dark:N.editorInfoForeground,light:N.editorInfoForeground,hcDark:N.editorInfoBorder,hcLight:N.editorInfoBorder},y.localize(30,null)),e.editorBracketHighlightingForeground1=(0,N.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},y.localize(31,null)),e.editorBracketHighlightingForeground2=(0,N.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},y.localize(32,null)),e.editorBracketHighlightingForeground3=(0,N.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},y.localize(33,null)),e.editorBracketHighlightingForeground4=(0,N.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(34,null)),e.editorBracketHighlightingForeground5=(0,N.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(35,null)),e.editorBracketHighlightingForeground6=(0,N.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,N.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new f.Color(new f.RGBA(255,18,18,.8)),light:new f.Color(new f.RGBA(255,18,18,.8)),hcDark:new f.Color(new f.RGBA(255,50,50,1)),hcLight:""},y.localize(37,null)),e.editorBracketPairGuideBackground1=(0,N.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(38,null)),e.editorBracketPairGuideBackground2=(0,N.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(39,null)),e.editorBracketPairGuideBackground3=(0,N.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(40,null)),e.editorBracketPairGuideBackground4=(0,N.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(41,null)),e.editorBracketPairGuideBackground5=(0,N.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(42,null)),e.editorBracketPairGuideBackground6=(0,N.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,N.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,N.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,N.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,N.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,N.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,N.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(49,null)),e.editorUnicodeHighlightBorder=(0,N.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},y.localize(50,null)),e.editorUnicodeHighlightBackground=(0,N.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},y.localize(51,null)),(0,D.registerThemingParticipant)((u,h)=>{const i=u.getColor(N.editorBackground);i&&h.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${i}; }`);const n=u.getColor(e.editorLineHighlight),t=n&&!n.isTransparent()?n:i;t&&h.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const r=u.getColor(N.editorForeground);r&&h.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${r}; }`);const d=u.getColor(e.editorGutter);d&&h.addRule(`.monaco-editor .margin { background-color: ${d}; }`);const o=u.getColor(e.editorRangeHighlight);o&&h.addRule(`.monaco-editor .rangeHighlight { background-color: ${o}; }`);const a=u.getColor(e.editorRangeHighlightBorder);a&&h.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${a}; }`);const s=u.getColor(e.editorSymbolHighlight);s&&h.addRule(`.monaco-editor .symbolHighlight { background-color: ${s}; }`);const l=u.getColor(e.editorSymbolHighlightBorder);l&&h.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${l}; }`);const c=u.getColor(e.editorWhitespaces);c&&(h.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),h.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))})}),define(oe[657],se([1,0,106,54,18,14,24,55,363]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class C extends y.DynamicViewOverlay{constructor(n){super();this._context=n;const t=this._context.configuration.options,r=t.get(131);this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new L.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let n=!1;const t=this._selections.map(d=>d.positionLineNumber);t.sort((d,o)=>d-o),N.equals(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,n=!0);const r=this._selections.every(d=>d.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,n=!0),n}onThemeChanged(n){return this._readFromSelections()}onConfigurationChanged(n){const t=this._context.configuration.options,r=t.get(131);return this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,!0}onCursorStateChanged(n){return this._selections=n.selections,this._readFromSelections()}onFlushed(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollWidthChanged||n.scrollTopChanged}onZonesChanged(n){return!0}onFocusChanged(n){return this._renderLineHighlightOnlyWhenFocus?(this._focused=n.isFocused,!0):!1}prepareRender(n){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(n),r=n.visibleRange.startLineNumber,d=n.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let a=0;const s=[];for(let l=r;l<=d;l++){const c=l-r;for(;a<o&&this._cursorLineNumbers[a]<l;)a++;a<o&&this._cursorLineNumbers[a]===l?s[c]=t:s[c]=""}this._renderData=s}render(n,t){if(!this._renderData)return"";const r=t-n;return r>=this._renderData.length?"":this._renderData[r]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=C;class u extends C{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(n.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=u;class h extends C{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=h,(0,D.registerThemingParticipant)((i,n)=>{const t=i.getColor(f.editorLineHighlight);if(t&&(n.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||i.defines(f.editorLineHighlightBorder)){const r=i.getColor(f.editorLineHighlightBorder);r&&(n.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${r}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${r}; }`),(0,b.isHighContrast)(i.type)&&(n.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),n.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(oe[658],se([1,0,106,54,14,11,18,19,253,187,366]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class h extends y.DynamicViewOverlay{constructor(t){super();this._context=t,this._primaryPosition=null;const r=this._context.configuration.options,d=r.get(132),o=r.get(44);this._lineHeight=r.get(59),this._spaceWidth=o.spaceWidth,this._maxIndentLeft=d.wrappingColumn===-1?-1:d.wrappingColumn*o.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const r=this._context.configuration.options,d=r.get(132),o=r.get(44);return this._lineHeight=r.get(59),this._spaceWidth=o.spaceWidth,this._maxIndentLeft=d.wrappingColumn===-1?-1:d.wrappingColumn*o.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),!0}onCursorStateChanged(t){var r;const o=t.selections[0].getPosition();return((r=this._primaryPosition)===null||r===void 0?void 0:r.equals(o))?!1:(this._primaryPosition=o,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var r,d,o,a;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber,c=t.scrollWidth,g=this._lineHeight,m=this._primaryPosition,S=this.getGuidesByLine(s,l,m),p=[];for(let v=s;v<=l;v++){const _=v-s,w=S[_];let E="";const I=(d=(r=t.visibleRangeForPosition(new D.Position(v,1)))===null||r===void 0?void 0:r.left)!==null&&d!==void 0?d:0;for(const T of w){const R=T.column===-1?I+(T.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new D.Position(v,T.column)).left;if(R>c||this._maxIndentLeft>0&&R>this._maxIndentLeft)break;const B=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",O=T.horizontalLine?((a=(o=t.visibleRangeForPosition(new D.Position(v,T.horizontalLine.endColumn)))===null||o===void 0?void 0:o.left)!==null&&a!==void 0?a:R+this._spaceWidth)-R:this._spaceWidth;E+=`<div class="core-guide ${T.className} ${B}" style="left:${R}px;height:${g}px;width:${O}px"></div>`}p[_]=E}this._renderResult=p}getGuidesByLine(t,r,d){const o=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,r,d,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?u.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?u.HorizontalGuidesState.EnabledForActive:u.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,a=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,r):null;let s=0,l=0,c=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&d){const S=this._context.viewModel.getActiveIndentGuide(d.lineNumber,t,r);s=S.startLineNumber,l=S.endLineNumber,c=S.indent}const{indentSize:g}=this._context.viewModel.model.getOptions(),m=[];for(let S=t;S<=r;S++){const p=new Array;m.push(p);const v=o?o[S-t]:[],_=new L.ArrayQueue(v),w=a?a[S-t]:[];for(let E=1;E<=w;E++){const I=(E-1)*g+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||v.length===0)&&s<=S&&S<=l&&E===c;p.push(..._.takeWhile(B=>B.visibleColumn<I)||[]);const R=_.peek();(!R||R.visibleColumn!==I||R.horizontalLine)&&p.push(new u.IndentGuide(I,-1,T?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}p.push(..._.takeWhile(E=>!0)||[])}return m}render(t,r){if(!this._renderResult)return"";const d=r-t;return d<0||d>=this._renderResult.length?"":this._renderResult[d]}}e.IndentGuidesOverlay=h;function i(n){if(!(n&&n.isTransparent()))return n}(0,N.registerThemingParticipant)((n,t)=>{const r=n.getColor(f.editorIndentGuides);r&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${r} inset; }`);const d=n.getColor(f.editorActiveIndentGuides)||r;d&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${d} inset; }`);const o=[{bracketColor:f.editorBracketHighlightingForeground1,guideColor:f.editorBracketPairGuideBackground1,guideColorActive:f.editorBracketPairGuideActiveBackground1},{bracketColor:f.editorBracketHighlightingForeground2,guideColor:f.editorBracketPairGuideBackground2,guideColorActive:f.editorBracketPairGuideActiveBackground2},{bracketColor:f.editorBracketHighlightingForeground3,guideColor:f.editorBracketPairGuideBackground3,guideColorActive:f.editorBracketPairGuideActiveBackground3},{bracketColor:f.editorBracketHighlightingForeground4,guideColor:f.editorBracketPairGuideBackground4,guideColorActive:f.editorBracketPairGuideActiveBackground4},{bracketColor:f.editorBracketHighlightingForeground5,guideColor:f.editorBracketPairGuideBackground5,guideColorActive:f.editorBracketPairGuideActiveBackground5},{bracketColor:f.editorBracketHighlightingForeground6,guideColor:f.editorBracketPairGuideBackground6,guideColorActive:f.editorBracketPairGuideActiveBackground6}],a=new C.BracketPairGuidesClassNames,s=o.map(l=>{var c,g;const m=n.getColor(l.bracketColor),S=n.getColor(l.guideColor),p=n.getColor(l.guideColorActive),v=i((c=i(S))!==null&&c!==void 0?c:m==null?void 0:m.transparent(.3)),_=i((g=i(p))!==null&&g!==void 0?g:m);if(!(!v||!_))return{guideColor:v,guideColorActive:_}}).filter(b.isDefined);if(s.length>0){for(let l=0;l<30;l++){const c=s[l%s.length];t.addRule(`.monaco-editor .${a.getInlineClassNameOfLevel(l).replace(/ /g,".")} { --guide-color: ${c.guideColor}; --guide-color-active: ${c.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${a.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${a.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${a.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(oe[292],se([1,0,17,106,11,54,14,367]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class b extends f.DynamicViewOverlay{constructor(u){super();this._context=u,this._readConfig(),this._lastCursorModelPosition=new N.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(59);const h=u.get(60);this._renderLineNumbers=h.renderType,this._renderCustomLineNumbers=h.renderFn,this._renderFinalNewline=u.get(84);const i=u.get(131);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const h=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(h);let i=!1;return this._activeLineNumber!==h.lineNumber&&(this._activeLineNumber=h.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_getLineRenderLineNumber(u){const h=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new N.Position(u,1));if(h.column!==1)return"";const i=h.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return n===0?'<span class="relative-current-line-number">'+i+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(u){if(this._renderLineNumbers===0){this._renderResult=null;return}const h=y.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=u.visibleRange.startLineNumber,n=u.visibleRange.endLineNumber,t='<div class="'+b.CLASS_NAME+h+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',r=this._context.viewModel.getLineCount(),d=[];for(let o=i;o<=n;o++){const a=o-i;if(!this._renderFinalNewline&&o===r&&this._context.viewModel.getLineLength(o)===0){d[a]="";continue}const s=this._getLineRenderLineNumber(o);s?o===this._activeLineNumber?d[a]='<div class="active-line-number '+b.CLASS_NAME+h+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+s+"</div>":d[a]=t+s+"</div>":d[a]=""}this._renderResult=d}render(u,h){if(!this._renderResult)return"";const i=h-u;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,L.registerThemingParticipant)((C,u)=>{const h=C.getColor(D.editorLineNumbers);h&&u.addRule(`.monaco-editor .line-numbers { color: ${h}; }`);const i=C.getColor(D.editorActiveLineNumber);i&&u.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)})}),define(oe[659],se([1,0,510,34,32,17,8,68,180,239,52,292,257,33,125,11,3,24,144,27,30,362]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class g{constructor(_,w,E,I,T){this._context=_,this.modelLineNumber=w,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=I,this.distanceToModelLineEnd=T,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(_){const w=new d.Position(this.modelLineNumber,this.distanceToModelLineStart+1),E=new d.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(w),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=_.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=_.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(_){return this._previousPresentation||(_?this._previousPresentation=_:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const m=f.isFirefox;class S extends h.ViewPart{constructor(_,w,E){super(_);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=w,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const I=this._context.configuration.options,T=I.get(131);this._setAccessibilityOptions(I),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=I.get(44),this._lineHeight=I.get(59),this._emptySelectionClipboard=I.get(32),this._copyWithSyntaxHighlighting=I.get(21),this._visibleTextArea=null,this._selections=[new a.Selection(1,1,1,1)],this._modelSelections=[new a.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,N.createFastDomNode)(document.createElement("textarea")),h.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("tabindex",String(I.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",y.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),I.get(30)&&I.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,N.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:k=>this._context.viewModel.getLineMaxColumn(k),getValueInRange:(k,A)=>this._context.viewModel.getValueInRange(k,A)},B={getDataToCopy:()=>{const k=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),A=this._context.viewModel.model.getEOL(),F=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),P=Array.isArray(k)?k:null,W=Array.isArray(k)?k.join(A):k;let M,z=null;if(C.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536){const Q=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Q&&(M=Q.html,z=Q.mode)}return{isFromEmptySelection:F,multicursorText:P,text:W,html:M,mode:z}},getScreenReaderContent:k=>{if(this._accessibilitySupport===1){const A=this._selections[0];if(D.isMacintosh&&A.isEmpty()){const F=A.getStartPosition();let P=this._getWordBeforePosition(F);if(P.length===0&&(P=this._getCharacterBeforePosition(F)),P.length>0)return new u.TextAreaState(P,P.length,P.length,F,F)}if(f.isSafari&&!A.isEmpty()){const F="vscode-placeholder";return new u.TextAreaState(F,0,F.length,null,null)}return u.TextAreaState.EMPTY}if(f.isAndroid){const A=this._selections[0];if(A.isEmpty()){const F=A.getStartPosition(),[P,W]=this._getAndroidWordAtPosition(F);if(P.length>0)return new u.TextAreaState(P,W,W,F,F)}return u.TextAreaState.EMPTY}return u.PagedScreenReaderStrategy.fromEditorSelection(k,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(k,A,F)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(k,A,F)},O=this._register(new C.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new C.TextAreaInput(B,O,D.OS,f)),this._register(this._textAreaInput.onKeyDown(k=>{this._viewController.emitKeyDown(k)})),this._register(this._textAreaInput.onKeyUp(k=>{this._viewController.emitKeyUp(k)})),this._register(this._textAreaInput.onPaste(k=>{let A=!1,F=null,P=null;k.metadata&&(A=this._emptySelectionClipboard&&!!k.metadata.isFromEmptySelection,F=typeof k.metadata.multicursorText!="undefined"?k.metadata.multicursorText:null,P=k.metadata.mode),this._viewController.paste(k.text,A,F,P)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(k=>{k.replacePrevCharCnt||k.replaceNextCharCnt||k.positionDelta?(u._debugComposition&&console.log(` => compositionType: <<${k.text}>>, ${k.replacePrevCharCnt}, ${k.replaceNextCharCnt}, ${k.positionDelta}`),this._viewController.compositionType(k.text,k.replacePrevCharCnt,k.replaceNextCharCnt,k.positionDelta)):(u._debugComposition&&console.log(` => type: <<${k.text}>>`),this._viewController.type(k.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(k=>{this._viewController.setSelection(k)})),this._register(this._textAreaInput.onCompositionStart(k=>{const A=this.textArea.domNode,F=this._modelSelections[0],{distanceToModelLineStart:P,widthOfHiddenTextBefore:W}=(()=>{const z=A.value.substring(0,Math.min(A.selectionStart,A.selectionEnd)),Q=z.lastIndexOf(`
`),ne=z.substring(Q+1),X=ne.lastIndexOf("	"),J=ne.length-X-1,ie=F.getStartPosition(),le=Math.min(ie.column-1,J),G=ie.column-1-le,x=ne.substring(0,ne.length-le),V=p(x,this._fontInfo);return{distanceToModelLineStart:G,widthOfHiddenTextBefore:V}})(),{distanceToModelLineEnd:M}=(()=>{const z=A.value.substring(Math.max(A.selectionStart,A.selectionEnd)),Q=z.indexOf(`
`),ne=Q===-1?z:z.substring(0,Q),X=ne.indexOf("	"),J=X===-1?ne.length:ne.length-X-1,ie=F.getEndPosition(),le=Math.min(this._context.viewModel.model.getLineMaxColumn(ie.lineNumber)-ie.column,J);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ie.lineNumber)-ie.column-le}})();this._context.viewModel.revealRange("keyboard",!0,o.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new g(this._context,F.startLineNumber,P,W,M),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(k=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(_){const w='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.viewModel.getLineContent(_.lineNumber),I=(0,r.getMapForWordSeparators)(w);let T=!0,R=_.column,B=!0,O=_.column,k=0;for(;k<50&&(T||B);){if(T&&R<=1&&(T=!1),T){const A=E.charCodeAt(R-2);I.get(A)!==0?T=!1:R--}if(B&&O>E.length&&(B=!1),B){const A=E.charCodeAt(O-1);I.get(A)!==0?B=!1:O++}k++}return[E.substring(R-1,O-1),_.column-R]}_getWordBeforePosition(_){const w=this._context.viewModel.getLineContent(_.lineNumber),E=(0,r.getMapForWordSeparators)(this._context.configuration.options.get(117));let I=_.column,T=0;for(;I>1;){const R=w.charCodeAt(I-2);if(E.get(R)!==0||T>50)return w.substring(I-1,_.column-1);T++,I--}return w.substring(0,_.column-1)}_getCharacterBeforePosition(_){if(_.column>1){const E=this._context.viewModel.getLineContent(_.lineNumber).charAt(_.column-2);if(!L.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(_){return _.get(2)===1?y.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):_.get(4)}_setAccessibilityOptions(_){this._accessibilitySupport=_.get(2);const w=_.get(3);this._accessibilitySupport===2&&w===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=w}onConfigurationChanged(_){const w=this._context.configuration.options,E=w.get(131);return this._setAccessibilityOptions(w),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=w.get(44),this._lineHeight=w.get(59),this._emptySelectionClipboard=w.get(32),this._copyWithSyntaxHighlighting=w.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(w)),this.textArea.setAttribute("tabindex",String(w.get(112))),(_.hasChanged(30)||_.hasChanged(81))&&(w.get(30)&&w.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),_.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(_){return this._selections=_.selections.slice(0),this._modelSelections=_.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return this._scrollLeft=_.scrollLeft,this._scrollTop=_.scrollTop,!0}onZonesChanged(_){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(_){_.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",_.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),_.role&&this.textArea.setAttribute("role",_.role)}prepareRender(_){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=_.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(_)}render(_){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const E=this._visibleTextArea.visibleTextareaStart,I=this._visibleTextArea.visibleTextareaEnd,T=this._visibleTextArea.startPosition,R=this._visibleTextArea.endPosition;if(T&&R&&E&&I&&I.left>=this._scrollLeft&&E.left<=this._scrollLeft+this._contentWidth){const B=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let k=this._visibleTextArea.widthOfHiddenLineTextBefore,A=this._contentLeft+E.left-this._scrollLeft,F=I.left-E.left+1;if(A<this._contentLeft){const ne=this._contentLeft-A;A+=ne,k+=ne,F-=ne}F>this._contentWidth&&(F=this._contentWidth);const P=this._context.viewModel.getViewLineData(T.lineNumber),W=P.tokens.findTokenIndexAtOffset(T.column-1),M=P.tokens.findTokenIndexAtOffset(R.column-1),z=W===M,Q=this._visibleTextArea.definePresentation(z?P.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=k,this._doRender({lastRenderPosition:null,top:B,left:A,width:F,height:this._lineHeight,useCover:!1,color:(l.TokenizationRegistry.getColorMap()||[])[Q.foreground],italic:Q.italic,bold:Q.bold,underline:Q.underline,strikethrough:Q.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const _=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(_<this._contentLeft||_>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const w=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(w<0||w>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:w,left:_,width:m?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const E=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=E*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:w,left:_,width:m?0:1,height:m?0:1,useCover:!1})}_newlinecount(_){let w=0,E=-1;do{if(E=_.indexOf(`
`,E+1),E===-1)break;w++}while(!0);return w}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:m?0:1,height:m?0:1,useCover:!0})}_doRender(_){this._lastRenderPosition=_.lastRenderPosition;const w=this.textArea,E=this.textAreaCover;(0,b.applyFontInfo)(w,this._fontInfo),w.setTop(_.top),w.setLeft(_.left),w.setWidth(_.width),w.setHeight(_.height),w.setColor(_.color?c.Color.Format.CSS.formatHex(_.color):""),w.setFontStyle(_.italic?"italic":""),_.bold&&w.setFontWeight("bold"),w.setTextDecoration(`${_.underline?" underline":""}${_.strikethrough?" line-through":""}`),E.setTop(_.useCover?_.top:0),E.setLeft(_.useCover?_.left:0),E.setWidth(_.useCover?_.width:0),E.setHeight(_.useCover?_.height:0);const I=this._context.configuration.options;I.get(50)?E.setClassName("monaco-editor-background textAreaCover "+n.Margin.OUTER_CLASS_NAME):I.get(60).renderType!==0?E.setClassName("monaco-editor-background textAreaCover "+i.LineNumbersOverlay.CLASS_NAME):E.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=S;function p(v,_){if(v.length===0)return 0;const w=document.createElement("div");w.style.position="absolute",w.style.top="-50000px",w.style.width="50000px";const E=document.createElement("span");(0,b.applyFontInfo)(E,_),E.style.whiteSpace="pre",E.append(v),w.appendChild(E),document.body.appendChild(w);const I=E.offsetWidth;return document.body.removeChild(w),I}}),define(oe[660],se([1,0,32,30,52,11,27,54,74]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class u{constructor(n,t){const r=n.options;this.lineHeight=r.get(59),this.pixelRatio=r.get(129),this.overviewRulerLanes=r.get(74),this.renderBorder=r.get(73);const d=t.getColor(b.editorOverviewRulerBorder);this.borderColor=d?d.toString():null,this.hideCursor=r.get(52);const o=t.getColor(b.editorCursorForeground);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const a=r.get(65),s=a.enabled,l=a.side,c=s?t.getColor(b.editorOverviewRulerBackground)||L.TokenizationRegistry.getDefaultBackground():null;c===null||l==="left"?this.backgroundColor=null:this.backgroundColor=f.Color.Format.CSS.formatHex(c);const m=r.get(131).overviewRuler;this.top=m.top,this.right=m.right,this.domWidth=m.width,this.domHeight=m.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[S,p]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=S,this.w=p}_initLanes(n,t,r){const d=t-n;if(r>=3){const o=Math.floor(d/3),a=Math.floor(d/3),s=d-o-a,l=n,c=l+o,g=l+o+s;return[[0,l,c,l,g,l,c,l],[0,o,s,o+s,a,o+s+a,s+a,o+s+a]]}else if(r===2){const o=Math.floor(d/2),a=d-o,s=n,l=s+o;return[[0,s,s,s,l,s,s,s],[0,o,o,o,a,o+a,o+a,o+a]]}else{const o=n,a=d;return[[0,o,o,o,o,o,o,o],[0,a,a,a,a,a,a,a]]}}equals(n){return this.lineHeight===n.lineHeight&&this.pixelRatio===n.pixelRatio&&this.overviewRulerLanes===n.overviewRulerLanes&&this.renderBorder===n.renderBorder&&this.borderColor===n.borderColor&&this.hideCursor===n.hideCursor&&this.cursorColor===n.cursorColor&&this.themeType===n.themeType&&this.backgroundColor===n.backgroundColor&&this.top===n.top&&this.right===n.right&&this.domWidth===n.domWidth&&this.domHeight===n.domHeight&&this.canvasWidth===n.canvasWidth&&this.canvasHeight===n.canvasHeight}}class h extends N.ViewPart{constructor(n){super(n);this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=L.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(n){const t=new u(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,n&&this._render(),!0)}onConfigurationChanged(n){return this._updateSettings(!1)}onCursorStateChanged(n){this._cursorPositions=[];for(let t=0,r=n.selections.length;t<r;t++)this._cursorPositions[t]=n.selections[t].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(n){return!!n.affectsOverviewRuler}onFlushed(n){return!0}onScrollChanged(n){return n.scrollHeightChanged}onZonesChanged(n){return!0}onThemeChanged(n){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(n){}render(n){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const n=this._settings.canvasWidth,t=this._settings.canvasHeight,r=this._settings.lineHeight,d=this._context.viewLayout,o=this._context.viewLayout.getScrollHeight(),a=t/o,s=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,g=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?g.clearRect(0,0,n,t):(g.fillStyle=this._settings.backgroundColor,g.fillRect(0,0,n,t));const m=this._settings.x,S=this._settings.w;s.sort(C.OverviewRulerDecorationsGroup.cmp);for(const p of s){const v=p.color,_=p.data;g.fillStyle=v;let w=0,E=0,I=0;for(let T=0,R=_.length/3;T<R;T++){const B=_[3*T],O=_[3*T+1],k=_[3*T+2];let A=d.getVerticalOffsetForLineNumber(O)*a|0,F=(d.getVerticalOffsetForLineNumber(k)+r)*a|0;if(F-A<l){let W=(A+F)/2|0;W<c?W=c:W+c>t&&(W=t-c),A=W-c,F=W+c}A>I+1||B!==w?(T!==0&&g.fillRect(m[w],E,S[w],I-E),w=B,E=A,I=F):F>I&&(I=F)}g.fillRect(m[w],E,S[w],I-E)}if(!this._settings.hideCursor&&this._settings.cursorColor){const p=2*this._settings.pixelRatio|0,v=p/2|0,_=this._settings.x[7],w=this._settings.w[7];g.fillStyle=this._settings.cursorColor;let E=-100,I=-100;for(let T=0,R=this._cursorPositions.length;T<R;T++){const B=this._cursorPositions[T];let O=d.getVerticalOffsetForLineNumber(B.lineNumber)*a|0;O<v?O=v:O+v>t&&(O=t-v);const k=O-v,A=k+p;k>I+1?(T!==0&&g.fillRect(_,E,w,I-E),E=k,I=A):A>I&&(I=A)}g.fillRect(_,E,w,I-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,t),g.stroke(),g.moveTo(0,0),g.lineTo(n,0),g.stroke())}}e.DecorationsOverviewRuler=h}),define(oe[661],se([1,0,32,52,54,14,373]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends f.ViewPart{constructor(C){super(C);this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(91),this._typicalHalfwidthCharacterWidth=u.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(C){const u=this._context.configuration.options;return this._rulers=u.get(91),this._typicalHalfwidthCharacterWidth=u.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(C){return C.scrollHeightChanged}prepareRender(C){}_ensureRulersCount(){const C=this._renderedRulers.length,u=this._rulers.length;if(C===u)return;if(C<u){const{tabSize:i}=this._context.viewModel.model.getOptions(),n=i;let t=u-C;for(;t>0;){const r=(0,y.createFastDomNode)(document.createElement("div"));r.setClassName("view-ruler"),r.setWidth(n),this.domNode.appendChild(r),this._renderedRulers.push(r),t--}return}let h=C-u;for(;h>0;){const i=this._renderedRulers.pop();this.domNode.removeChild(i),h--}}render(C){this._ensureRulersCount();for(let u=0,h=this._rulers.length;u<h;u++){const i=this._renderedRulers[u],n=this._rulers[u];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(C.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L,(0,D.registerThemingParticipant)((b,C)=>{const u=b.getColor(N.editorRuler);u&&C.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${u} inset; }`)})}),define(oe[662],se([1,0,32,10,52,523,33,54,14,55,376]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class h extends N.ViewPart{constructor(n){super(n);const t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new f.TimeoutTimer,this._cursorFlatBlinkInterval=new f.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(n){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(n){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(n){const t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(n);for(let r=0,d=this._secondaryCursors.length;r<d;r++)this._secondaryCursors[r].onConfigurationChanged(n);return!0}_onCursorPositionChanged(n,t){if(this._primaryCursor.onCursorPositionChanged(n),this._updateBlinking(),this._secondaryCursors.length<t.length){const r=t.length-this._secondaryCursors.length;for(let d=0;d<r;d++){const o=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}}else if(this._secondaryCursors.length>t.length){const r=this._secondaryCursors.length-t.length;for(let d=0;d<r;d++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let r=0;r<t.length;r++)this._secondaryCursors[r].onCursorPositionChanged(t[r])}onCursorStateChanged(n){const t=[];for(let d=0,o=n.selections.length;d<o;d++)t[d]=n.selections[d].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const r=n.selections[0].isEmpty();return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,this._updateDomClassName()),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onFocusChanged(n){return this._editorHasFocus=n.isFocused,this._updateBlinking(),!1}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return!0}onTokensChanged(n){const t=r=>{for(let d=0,o=n.ranges.length;d<o;d++)if(n.ranges[d].fromLineNumber<=r.lineNumber&&r.lineNumber<=n.ranges[d].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const r of this._secondaryCursors)if(t(r.getPosition()))return!0;return!1}onZonesChanged(n){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const n=this._getCursorBlinking(),t=n===0,r=n===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!r&&(n===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},h.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},h.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let n="cursors-layer";switch(this._selectionIsEmpty||(n+=" has-selection"),this._cursorStyle){case L.TextEditorCursorStyle.Line:n+=" cursor-line-style";break;case L.TextEditorCursorStyle.Block:n+=" cursor-block-style";break;case L.TextEditorCursorStyle.Underline:n+=" cursor-underline-style";break;case L.TextEditorCursorStyle.LineThin:n+=" cursor-line-thin-style";break;case L.TextEditorCursorStyle.BlockOutline:n+=" cursor-block-outline-style";break;case L.TextEditorCursorStyle.UnderlineThin:n+=" cursor-underline-thin-style";break;default:n+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:n+=" cursor-blink";break;case 2:n+=" cursor-smooth";break;case 3:n+=" cursor-phase";break;case 4:n+=" cursor-expand";break;case 5:n+=" cursor-solid";break;default:n+=" cursor-solid"}else n+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(n+=" cursor-smooth-caret-animation"),n}_show(){this._primaryCursor.show();for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].hide();this._isVisible=!1}prepareRender(n){this._primaryCursor.prepareRender(n);for(let t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].prepareRender(n)}render(n){const t=[];let r=0;const d=this._primaryCursor.render(n);d&&(t[r++]=d);for(let o=0,a=this._secondaryCursors.length;o<a;o++){const s=this._secondaryCursors[o].render(n);s&&(t[r++]=s)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=h,h.BLINK_INTERVAL=500,(0,C.registerThemingParticipant)((i,n)=>{const t=i.getColor(b.editorCursorForeground);if(t){let r=i.getColor(b.editorCursorBackground);r||(r=t.opposite()),n.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),n.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${r}; }`),(0,u.isHighContrast)(i.type)&&n.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${r}; border-right: 1px solid ${r}; }`)}})}),define(oe[663],se([1,0,4,2,3,54,14]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class b extends f.Disposable{constructor(h){super();this.textModel=h,this.colorProvider=new C,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=h.getOptions().bracketPairColorizationOptions,this._register(h.bracketPairs.onDidChange(i=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(h){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(h,i,n){if(i===void 0)return[];if(!this.colorizationOptions.enabled)return[];const t=new Array,r=this.textModel.bracketPairs.getBracketsInRange(h);for(const d of r)t.push({id:`bracket${d.range.toString()}-${d.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(d,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:d.range});return t}getAllDecorations(h,i){return h===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new N.Range(1,1,this.textModel.getLineCount(),1),h,i):[]}}e.ColorizedBracketPairsDecorationProvider=b;class C{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(h,i){return h.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(i?h.nestingLevelOfEqualBracketType:h.nestingLevel)}getInlineClassNameOfLevel(h){return`bracket-highlighting-${h%30}`}}(0,L.registerThemingParticipant)((u,h)=>{const i=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],n=new C;h.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${u.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=i.map(r=>u.getColor(r)).filter(r=>!!r).filter(r=>!r.isTransparent());for(let r=0;r<30;r++){const d=t[r%t.length];h.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(r)} { color: ${d}; }`)}})}),define(oe[664],se([1,0,81,2,46,14,54,48,3,51,4,23,50]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class t extends f.Disposable{constructor(o){super();this.model=o,this._markersData=new Map,this._register((0,f.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(o,a){const s=[...this._markersData.keys()];this._markersData.clear();const l=this.model.deltaDecorations(s,a);for(let c=0;c<l.length;c++)this._markersData.set(l[c],o[c]);return s.length!==0||l.length!==0}getMarker(o){return this._markersData.get(o.id)}}let r=class extends f.Disposable{constructor(o,a){super();this._markerService=a,this._onDidChangeMarker=this._register(new h.Emitter),this._markerDecorations=new n.ResourceMap,o.getModels().forEach(s=>this._onModelAdded(s)),this._register(o.onModelAdded(this._onModelAdded,this)),this._register(o.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(o=>o.dispose()),this._markerDecorations.clear()}getMarker(o,a){const s=this._markerDecorations.get(o);return s&&s.getMarker(a)||null}_handleMarkerChange(o){o.forEach(a=>{const s=this._markerDecorations.get(a);s&&this._updateDecorations(s)})}_onModelAdded(o){const a=new t(o);this._markerDecorations.set(o.uri,a),this._updateDecorations(a)}_onModelRemoved(o){const a=this._markerDecorations.get(o.uri);a&&(a.dispose(),this._markerDecorations.delete(o.uri)),(o.uri.scheme===u.Schemas.inMemory||o.uri.scheme===u.Schemas.internal||o.uri.scheme===u.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:o.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[o.uri]))}_updateDecorations(o){const a=this._markerService.read({resource:o.model.uri,take:500}),s=a.map(l=>({range:this._createDecorationRange(o.model,l),options:this._createDecorationOption(l)}));o.update(a,s)&&this._onDidChangeMarker.fire(o.model)}_createDecorationRange(o,a){let s=C.Range.lift(a);if(a.severity===y.MarkerSeverity.Hint&&!this._hasMarkerTag(a,1)&&!this._hasMarkerTag(a,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=o.validateRange(s),s.isEmpty()){const l=o.getLineLastNonWhitespaceColumn(s.startLineNumber)||o.getLineMaxColumn(s.startLineNumber);if(l===1||s.endColumn>=l)return s;const c=o.getWordAtPosition(s.getStartPosition());c&&(s=new C.Range(s.startLineNumber,c.startColumn,s.endLineNumber,c.endColumn))}else if(a.endColumn===Number.MAX_VALUE&&a.startColumn===1&&s.startLineNumber===s.endLineNumber){let l=o.getLineFirstNonWhitespaceColumn(a.startLineNumber);l<s.endColumn&&(s=new C.Range(s.startLineNumber,l,s.endLineNumber,s.endColumn),a.startColumn=l)}return s}_createDecorationOption(o){let a,s,l,c,g;switch(o.severity){case y.MarkerSeverity.Hint:this._hasMarkerTag(o,2)?a=void 0:this._hasMarkerTag(o,1)?a="squiggly-unnecessary":a="squiggly-hint",l=0;break;case y.MarkerSeverity.Warning:a="squiggly-warning",s=(0,D.themeColorFromId)(L.overviewRulerWarning),l=20,g={color:(0,D.themeColorFromId)(i.minimapWarning),position:N.MinimapPosition.Inline};break;case y.MarkerSeverity.Info:a="squiggly-info",s=(0,D.themeColorFromId)(L.overviewRulerInfo),l=10;break;case y.MarkerSeverity.Error:default:a="squiggly-error",s=(0,D.themeColorFromId)(L.overviewRulerError),l=30,g={color:(0,D.themeColorFromId)(i.minimapError),position:N.MinimapPosition.Inline};break}return o.tags&&(o.tags.indexOf(1)!==-1&&(c="squiggly-inline-unnecessary"),o.tags.indexOf(2)!==-1&&(c="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:a,showIfCollapsed:!0,overviewRuler:{color:s,position:N.OverviewRulerLane.Right},minimap:g,zIndex:l,inlineClassName:c}}_hasMarkerTag(o,a){return o.tags?o.tags.indexOf(a)>=0:!1}};r=De([fe(0,b.IModelService),fe(1,y.IMarkerService)],r),e.MarkerDecorationsService=r}),define(oe[293],se([1,0,27,14,70,451,36]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let b=class{constructor(n,t,r,d){this._legend=n,this._themeService=t,this._languageService=r,this._logService=d,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new h}getMetadata(n,t,r){const d=this._languageService.languageIdCodec.encodeLanguageId(r),o=this._hashTable.get(n,t,d);let a;if(o)a=o.metadata,this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${n} / ${t}: foreground ${y.TokenMetadata.getForeground(a)}, fontStyle ${y.TokenMetadata.getFontStyle(a).toString(2)}`);else{let s=this._legend.tokenTypes[n];const l=[];if(s){let c=t;for(let m=0;c>0&&m<this._legend.tokenModifiers.length;m++)c&1&&l.push(this._legend.tokenModifiers[m]),c=c>>1;c>0&&this._logService.getLevel()===N.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const g=this._themeService.getColorTheme().getTokenStyleMetadata(s,l,r);typeof g=="undefined"?a=2147483647:(a=0,typeof g.italic!="undefined"&&(a|=(g.italic?1:0)<<11|1),typeof g.bold!="undefined"&&(a|=(g.bold?2:0)<<11|2),typeof g.underline!="undefined"&&(a|=(g.underline?4:0)<<11|4),typeof g.strikethrough!="undefined"&&(a|=(g.strikethrough?8:0)<<11|8),g.foreground&&(a|=g.foreground<<15|16),a===0&&(a=2147483647))}else this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${n} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),a=2147483647,s="not-in-legend";this._hashTable.add(n,t,d,a),this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${n} (${s}) / ${t} (${l.join(" ")}): foreground ${y.TokenMetadata.getForeground(a)}, fontStyle ${y.TokenMetadata.getFontStyle(a).toString(2)}`)}return a}warnOverlappingSemanticTokens(n,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${n}, column ${t}`))}warnInvalidLengthSemanticTokens(n,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${n}, column ${t}`))}warnInvalidEditStart(n,t,r,d,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${n}, resultId: ${t}) at edit #${r}: The provided start offset ${d} is outside the previous data (length ${o}).`))}};b=De([fe(1,f.IThemeService),fe(2,L.ILanguageService),fe(3,N.ILogService)],b),e.SemanticTokensProviderStyling=b;function C(i,n,t){const r=i.data,d=i.data.length/5|0,o=Math.max(Math.ceil(d/1024),400),a=[];let s=0,l=1,c=0;for(;s<d;){const g=s;let m=Math.min(g+o,d);if(m<d){let I=m;for(;I-1>g&&r[5*I]===0;)I--;if(I-1===g){let T=m;for(;T+1<d&&r[5*T]===0;)T++;m=T}else m=I}let S=new Uint32Array((m-g)*4),p=0,v=0,_=0,w=0;for(;s<m;){const I=5*s,T=r[I],R=r[I+1],B=l+T|0,O=T===0?c+R|0:R,k=r[I+2],A=O+k|0,F=r[I+3],P=r[I+4];if(A<=O)n.warnInvalidLengthSemanticTokens(B,O+1);else if(_===B&&w>O)n.warnOverlappingSemanticTokens(B,O+1);else{const W=n.getMetadata(F,P,t);W!==2147483647&&(v===0&&(v=B),S[p]=B-v,S[p+1]=O,S[p+2]=A,S[p+3]=W,p+=4,_=B,w=A)}l=B,c=O,s++}p!==S.length&&(S=S.subarray(0,p));const E=D.SparseMultilineTokens.create(v,S);a.push(E)}return a}e.toMultilineTokens2=C;class u{constructor(n,t,r,d){this.tokenTypeIndex=n,this.tokenModifierSet=t,this.languageId=r,this.metadata=d,this.next=null}}class h{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=h._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<h._SIZES.length?2/3*this._currentLength:0),this._elements=[],h._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(n,t){for(let r=0;r<t;r++)n[r]=null}_hash2(n,t){return(n<<5)-n+t|0}_hashFunc(n,t,r){return this._hash2(this._hash2(n,t),r)%this._currentLength}get(n,t,r){const d=this._hashFunc(n,t,r);let o=this._elements[d];for(;o;){if(o.tokenTypeIndex===n&&o.tokenModifierSet===t&&o.languageId===r)return o;o=o.next}return null}add(n,t,r,d){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const o=this._elements;this._currentLengthIndex++,this._currentLength=h._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<h._SIZES.length?2/3*this._currentLength:0),this._elements=[],h._nullOutEntries(this._elements,this._currentLength);for(const a of o){let s=a;for(;s;){const l=s.next;s.next=null,this._add(s),s=l}}}this._add(new u(n,t,r,d))}_add(n){const t=this._hashFunc(n.tokenTypeIndex,n.tokenModifierSet,n.languageId);n.next=this._elements[t],this._elements[t]=n}}h._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(oe[665],se([1,0,7,60,28,4,2,186,535,43,23,14,382]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(r){r.Hidden={type:0};class d{constructor(a,s,l,c){this.actions=a,this.trigger=s,this.editorPosition=l,this.widgetPosition=c,this.type=1}}r.Showing=d})(n||(n={}));let t=class Di extends L.Disposable{constructor(d,o,a,s){super();this._editor=d,this._quickFixActionId=o,this._preferredFixActionId=a,this._keybindingService=s,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=N.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(l=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),f.Gesture.ignoreTarget(this._domNode),this._register(y.addStandardDisposableGenericMouseDownListener(this._domNode,l=>{if(this.state.type!==1)return;this._editor.focus(),l.preventDefault();const{top:c,height:g}=y.getDomNodePagePosition(this._domNode),m=this._editor.getOption(59);let S=Math.floor(m/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(S+=m),this._onClick.fire({x:l.posx,y:c+g+S,actions:this.state.actions,trigger:this.state.trigger})})),this._register(y.addDisposableListener(this._domNode,"mouseenter",l=>{(l.buttons&1)==1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(d,o,a){if(d.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(57).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:c,column:g}=l.validatePosition(a),m=l.getOptions().tabSize,S=s.get(44),p=l.getLineContent(c),v=(0,b.computeIndentLevel)(p,m),_=S.spaceWidth*v>22,w=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let E=c;if(!_){if(c>1&&!w(c-1))E-=1;else if(!w(c+1))E+=1;else if(g*S.spaceWidth<22)return this.hide()}this.state=new n.Showing(d,o,a,{position:{lineNumber:E,column:1},preference:Di._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=n.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(d){this._state=d,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...N.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...N.Codicon.lightbulbAutofix.classNamesArray);const o=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(o){this.title=C.localize(0,null,o.getLabel());return}}this._domNode.classList.remove(...N.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...N.Codicon.lightBulb.classNamesArray);const d=this._keybindingService.lookupKeybinding(this._quickFixActionId);d?this.title=C.localize(1,null,d.getLabel()):this.title=C.localize(2,null)}set title(d){this._domNode.title=d}};t._posPref=[0],t=De([fe(3,u.IKeybindingService)],t),e.LightBulbWidget=t,(0,i.registerThemingParticipant)((r,d)=>{var o;const a=(o=r.getColor(h.editorBackground))===null||o===void 0?void 0:o.transparent(.7),s=r.getColor(h.editorLightBulbForeground);s&&d.addRule(`
		.monaco-editor .contentWidgets ${N.Codicon.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${a};
		}`);const l=r.getColor(h.editorLightBulbAutoFixForeground);l&&d.addRule(`
		.monaco-editor .contentWidgets ${N.Codicon.lightbulbAutofix.cssSelector} {
			color: ${l};
			background-color: ${a};
		}`)})}),define(oe[666],se([1,0,34,7,119,66,30,4,2,537,23,14,384]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const n=f.$;class t extends C.Disposable{constructor(g,m,S){super();this.model=m,this.domNode=n(".colorpicker-header"),f.append(g,this.domNode),this.pickedColorNode=f.append(this.domNode,n(".picked-color"));const p=(0,u.localize)(0,null);this.pickedColorNode.setAttribute("title",p);const v=f.append(this.domNode,n(".original-color"));v.style.backgroundColor=L.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(h.editorHoverBackground)||L.Color.white,this._register((0,i.registerThemingParticipant)((_,w)=>{this.backgroundColor=_.getColor(h.editorHoverBackground)||L.Color.white})),this._register(f.addDisposableListener(this.pickedColorNode,f.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(f.addDisposableListener(v,f.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this._register(m.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(m.color)||"",this.pickedColorNode.classList.toggle("light",m.color.rgba.a<.5?this.backgroundColor.isLighter():m.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(g){this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(g)||"",this.pickedColorNode.classList.toggle("light",g.rgba.a<.5?this.backgroundColor.isLighter():g.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(n(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=t;class r extends C.Disposable{constructor(g,m,S){super();this.model=m,this.pixelRatio=S,this.domNode=n(".colorpicker-body"),f.append(g,this.domNode),this.saturationBox=new d(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new a(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new s(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:g,v:m}){const S=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(S.h,g,m,S.a))}onDidOpacityChange(g){const m=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(m.h,m.s,m.v,g))}onDidHueChange(g){const m=this.model.color.hsva,S=(1-g)*360;this.model.color=new L.Color(new L.HSVA(S===360?0:S,m.s,m.v,m.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=r;class d extends C.Disposable{constructor(g,m,S){super();this.model=m,this.pixelRatio=S,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=n(".saturation-wrap"),f.append(g,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",f.append(this.domNode,this.canvas),this.selection=n(".saturation-selection"),f.append(this.domNode,this.selection),this.layout(),this._register(f.addDisposableListener(this.domNode,f.EventType.POINTER_DOWN,p=>this.onPointerDown(p))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(g){if(!g.target||!(g.target instanceof Element))return;this.monitor=this._register(new N.GlobalPointerMoveMonitor);const m=f.getDomNodePagePosition(this.domNode);g.target!==this.selection&&this.onDidChangePosition(g.offsetX,g.offsetY),this.monitor.startMonitoring(g.target,g.pointerId,g.buttons,p=>this.onDidChangePosition(p.pageX-m.left,p.pageY-m.top),()=>null);const S=f.addDisposableListener(document,f.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(g,m){const S=Math.max(0,Math.min(1,g/this.width)),p=Math.max(0,Math.min(1,1-m/this.height));this.paintSelection(S,p),this._onDidChange.fire({s:S,v:p})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const g=this.model.color.hsva;this.paintSelection(g.s,g.v)}paint(){const g=this.model.color.hsva,m=new L.Color(new L.HSVA(g.h,1,1,1)),S=this.canvas.getContext("2d"),p=S.createLinearGradient(0,0,this.canvas.width,0);p.addColorStop(0,"rgba(255, 255, 255, 1)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),p.addColorStop(1,"rgba(255, 255, 255, 0)");const v=S.createLinearGradient(0,0,0,this.canvas.height);v.addColorStop(0,"rgba(0, 0, 0, 0)"),v.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this.canvas.width,this.canvas.height),S.fillStyle=L.Color.Format.CSS.format(m),S.fill(),S.fillStyle=p,S.fill(),S.fillStyle=v,S.fill()}paintSelection(g,m){this.selection.style.left=`${g*this.width}px`,this.selection.style.top=`${this.height-m*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class o extends C.Disposable{constructor(g,m){super();this.model=m,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=f.append(g,n(".strip")),this.overlay=f.append(this.domNode,n(".overlay")),this.slider=f.append(this.domNode,n(".slider")),this.slider.style.top="0px",this._register(f.addDisposableListener(this.domNode,f.EventType.POINTER_DOWN,S=>this.onPointerDown(S))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const g=this.getValue(this.model.color);this.updateSliderPosition(g)}onPointerDown(g){if(!g.target||!(g.target instanceof Element))return;const m=this._register(new N.GlobalPointerMoveMonitor),S=f.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),g.target!==this.slider&&this.onDidChangeTop(g.offsetY),m.startMonitoring(g.target,g.pointerId,g.buttons,v=>this.onDidChangeTop(v.pageY-S.top),()=>null);const p=f.addDisposableListener(document,f.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),p.dispose(),m.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(g){const m=Math.max(0,Math.min(1,1-g/this.height));this.updateSliderPosition(m),this._onDidChange.fire(m)}updateSliderPosition(g){this.slider.style.top=`${(1-g)*this.height}px`}}class a extends o{constructor(g,m){super(g,m);this.domNode.classList.add("opacity-strip"),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(g){const{r:m,g:S,b:p}=g.rgba,v=new L.Color(new L.RGBA(m,S,p,1)),_=new L.Color(new L.RGBA(m,S,p,0));this.overlay.style.background=`linear-gradient(to bottom, ${v} 0%, ${_} 100%)`}getValue(g){return g.hsva.a}}class s extends o{constructor(g,m){super(g,m);this.domNode.classList.add("hue-strip")}getValue(g){return 1-g.hsva.h/360}}class l extends D.Widget{constructor(g,m,S,p){super();this.model=m,this.pixelRatio=S,this._register(y.PixelRatio.onDidChange(()=>this.layout()));const v=n(".colorpicker-widget");g.appendChild(v);const _=new t(v,this.model,p);this.body=new r(v,this.model,this.pixelRatio),this._register(_),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=l}),define(oe[667],se([1,0,7,228,222,197,64,2,42,58,554,9,43,133,135,14,131]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let a=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof o.ReferencesModel||w instanceof o.FileReferences}getChildren(w){if(w instanceof o.ReferencesModel)return w.groups;if(w instanceof o.FileReferences)return w.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};a=De([fe(0,u.ITextModelService)],a),e.DataSource=a;class s{getHeight(){return 23}getTemplateId(w){return w instanceof o.FileReferences?m.id:p.id}}e.Delegate=s;let l=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var E;if(w instanceof o.OneReference){const I=(E=w.parent.getPreview(w))===null||E===void 0?void 0:E.preview(w.range);if(I)return I.value}return(0,C.basename)(w.uri)}};l=De([fe(0,n.IKeybindingService)],l),e.StringRepresentationProvider=l;class c{getId(w){return w instanceof o.OneReference?w.id:w.uri}}e.IdentityProvider=c;let g=class extends b.Disposable{constructor(w,E,I){super();this._labelService=E;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new D.IconLabel(T,{supportHighlights:!0})),this.badge=new f.CountBadge(y.append(T,y.$(".count"))),this._register((0,r.attachBadgeStyler)(this.badge,I)),w.appendChild(T)}set(w,E){let I=(0,C.dirname)(w.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(w.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(w.uri),matches:E});const T=w.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,h.localize)(0,null,T)):this.badge.setTitleFormat((0,h.localize)(1,null,T))}};g=De([fe(1,t.ILabelService),fe(2,d.IThemeService)],g);let m=class Ii{constructor(w){this._instantiationService=w,this.templateId=Ii.id}renderTemplate(w){return this._instantiationService.createInstance(g,w)}renderElement(w,E,I){I.set(w.element,(0,L.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};m.id="FileReferencesRenderer",m=De([fe(0,i.IInstantiationService)],m),e.FileReferencesRenderer=m;class S{constructor(w){this.label=new N.HighlightedLabel(w)}set(w,E){var I;const T=(I=w.parent.getPreview(w))===null||I===void 0?void 0:I.preview(w.range);if(!T||!T.value)this.label.set(`${(0,C.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:R,highlight:B}=T;E&&!L.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(R,(0,L.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(R,[B]))}}}class p{constructor(){this.templateId=p.id}renderTemplate(w){return new S(w)}renderElement(w,E,I){I.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=p,p.id="OneReferenceRenderer";class v{getWidgetAriaLabel(){return(0,h.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=v}),define(oe[668],se([1,0,7,2,8,68,33,79,11,3,93,46,36,54,155,129,157,9,14,391]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const c=(l=window.trustedTypes)===null||l===void 0?void 0:l.createPolicy("editorGhostText",{createHTML:w=>w});let g=class extends f.Disposable{constructor(E,I,T,R){super();this.editor=E,this.model=I,this.instantiationService=T,this.languageService=R,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(S,this.editor)),this.additionalLinesWidget=this._register(new p(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new m(this.editor)),this._register(this.editor.onDidChangeConfiguration(B=>{(B.hasChanged(29)||B.hasChanged(105)||B.hasChanged(88)||B.hasChanged(83)||B.hasChanged(45)||B.hasChanged(44)||B.hasChanged(59))&&this.update()})),this._register((0,f.toDisposable)(()=>{var B;this.disposed=!0,this.update(),(B=this.viewMoreContentWidget)===null||B===void 0||B.dispose(),this.viewMoreContentWidget=void 0})),this._register(I.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(E){return this.additionalLinesWidget.viewZoneId===E}update(){var E;const I=this.model.ghostText;if(!this.editor.hasModel()||!I||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const T=new Array,R=new Array;function B(F,P){if(R.length>0){const W=R[R.length-1];P&&W.decorations.push(new r.LineDecoration(W.content.length+1,W.content.length+1+F[0].length,P,0)),W.content+=F[0],F=F.slice(1)}for(const W of F)R.push({content:W,decorations:P?[new r.LineDecoration(1,W.length+1,P,0)]:[]})}I instanceof o.GhostTextReplacement?this.replacementDecoration.setDecorations([{range:new u.Range(I.lineNumber,I.columnStart,I.lineNumber,I.columnStart+I.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const O=this.editor.getModel().getLineContent(I.lineNumber);let k,A=0;for(const F of I.parts){let P=F.lines;k===void 0?(T.push({column:F.column,text:P[0],preview:F.preview}),P=P.slice(1)):B([O.substring(A,F.column-1)],void 0),P.length>0&&(B(P,"ghost-text"),k===void 0&&F.column<=O.length&&(k=F.column)),A=F.column-1}k!==void 0&&B([O.substring(A)],void 0),this.partsWidget.setParts(I.lineNumber,T,k!==void 0?{column:k,length:O.length+1-k}:void 0),this.additionalLinesWidget.updateLines(I.lineNumber,R,I.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new C.Position(I.lineNumber,this.editor.getModel().getLineMaxColumn(I.lineNumber)),"",0):((E=this.viewMoreContentWidget)===null||E===void 0||E.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(E,I,T){const R=this.editor.getOption(44),B=document.createElement("div");B.className="suggest-preview-additional-widget",(0,D.applyFontInfo)(B,R);const O=document.createElement("span");O.className="content-spacer",O.append(I),B.append(O);const k=document.createElement("span");k.className="content-newline suggest-preview-text",k.append("\u23CE  "),B.append(k);const A=new f.DisposableStore,F=document.createElement("div");return F.className="button suggest-preview-text",F.append(`+${T} lines\u2026`),A.add(y.addStandardDisposableListener(F,"mousedown",P=>{var W;(W=this.model)===null||W===void 0||W.setExpanded(!0),P.preventDefault(),this.editor.focus()})),B.append(F),new _(this.editor,E,B,A)}};g=De([fe(2,a.IInstantiationService),fe(3,n.ILanguageService)],g),e.GhostTextWidget=g;class m{constructor(E){this.editor=E,this.decorationIds=[]}setDecorations(E){this.editor.changeDecorations(I=>{this.decorationIds=I.deltaDecorations(this.decorationIds,E)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class S{constructor(E){this.editor=E,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(E=>{this.decorationIds=E.deltaDecorations(this.decorationIds,[])})}setParts(E,I,T){if(!this.editor.getModel())return;const B=new Array;T&&B.push({range:u.Range.fromPositions(new C.Position(E,T.column),new C.Position(E,T.column+T.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(O=>{this.decorationIds=O.deltaDecorations(this.decorationIds,I.map(k=>({range:u.Range.fromPositions(new C.Position(E,k.column)),options:{description:"ghost-text",after:{content:k.text,inlineClassName:k.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(B))})}}class p{constructor(E,I){this.editor=E,this.languageIdCodec=I,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(E,I,T){const R=this.editor.getModel();if(!R)return;const{tabSize:B}=R.getOptions();this.editor.changeViewZones(O=>{this._viewZoneId&&(O.removeZone(this._viewZoneId),this._viewZoneId=void 0);const k=Math.max(I.length,T);if(k>0){const A=document.createElement("div");v(A,B,I,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=O.addZone({afterLineNumber:E,heightInLines:k,domNode:A,afterColumnAffinity:1})}})}}function v(w,E,I,T,R){const B=T.get(29),O=T.get(105),k="none",A=T.get(83),F=T.get(45),P=T.get(44),W=T.get(59),M=(0,h.createStringBuilder)(1e4);M.appendASCIIString('<div class="suggest-preview-text">');for(let ne=0,X=I.length;ne<X;ne++){const J=I[ne],ie=J.content;M.appendASCIIString('<div class="view-line'),M.appendASCIIString('" style="top:'),M.appendASCIIString(String(ne*W)),M.appendASCIIString('px;width:1000000px;">');const le=N.isBasicASCII(ie),G=N.containsRTL(ie),x=b.LineTokens.createEmpty(ie,R);(0,d.renderViewLine)(new d.RenderLineInput(P.isMonospace&&!B,P.canUseHalfwidthRightwardsArrow,ie,!1,le,G,0,x,J.decorations,E,0,P.spaceWidth,P.middotWidth,P.wsmiddotWidth,O,k,A,F!==L.EditorFontLigatures.OFF,null),M),M.appendASCIIString("</div>")}M.appendASCIIString("</div>"),(0,D.applyFontInfo)(w,P);const z=M.build(),Q=c?c.createHTML(z):z;w.innerHTML=Q}class _ extends f.Disposable{constructor(E,I,T,R){super();this.editor=E,this.position=I,this.domNode=T,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(R),this._register((0,f.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,s.registerThemingParticipant)((w,E)=>{const I=w.getColor(t.ghostTextForeground);I&&(E.addRule(`.monaco-editor .ghost-text-decoration { color: ${I.toString()} !important; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${I.toString()} !important; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${I.toString()} !important; }`));const T=w.getColor(t.ghostTextBackground);T&&(E.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${T.toString()}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${T.toString()}; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${T.toString()}; }`));const R=w.getColor(t.ghostTextBorder);R&&(E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${R}; }`),E.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${R}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${R}; }`))})}),define(oe[294],se([1,0,91,2,19,150,46,54,14]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class u{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,n){var t;const r=new f.DisposableStore;i.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const d=r.add(new f.MutableDisposable);return d.value=this.doProvide(i,n),r.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(i,n)})),r}doProvide(i,n){const t=new f.DisposableStore,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const d={editor:r},o=(0,D.getCodeEditor)(r);if(o){let a=(0,N.withNullAsUndefined)(r.saveViewState());t.add(o.onDidChangeCursorPosition(()=>{a=(0,N.withNullAsUndefined)(r.saveViewState())})),d.restoreViewState=()=>{a&&r===this.activeTextEditorControl&&r.restoreViewState(a)},t.add((0,y.once)(n.onCancellationRequested)(()=>{var s;return(s=d.restoreViewState)===null||s===void 0?void 0:s.call(d)}))}t.add((0,f.toDisposable)(()=>this.clearDecorations(r))),t.add(this.provideWithTextEditor(d,i,n))}else t.add(this.provideWithoutTextEditor(i,n));return t}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},n){i.setSelection(n.range),i.revealRangeInCenter(n.range,0),n.preserveFocus||i.focus()}getModel(i){var n;return(0,D.isDiffEditor)(i)?(n=i.getModel())===null||n===void 0?void 0:n.modified:i.getModel()}addDecorations(i,n){i.changeDecorations(t=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,C.themeColorFromId)(b.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[o,a]=t.deltaDecorations(r,d);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:a}})}clearDecorations(i){const n=this.rangeHighlightDecorationId;n&&(i.changeDecorations(t=>{t.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=u}),define(oe[669],se([1,0,2,150,294,575]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class L extends N.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const u=(0,D.localize)(0,null);return C.items=[{label:u}],C.ariaLabel=u,y.Disposable.None}provideWithTextEditor(C,u,h){const i=C.editor,n=new y.DisposableStore;n.add(u.onDidAccept(d=>{const[o]=u.selectedItems;if(o){if(!this.isValidLineNumber(i,o.lineNumber))return;this.gotoLocation(C,{range:this.toRange(o.lineNumber,o.column),keyMods:u.keyMods,preserveFocus:d.inBackground}),d.inBackground||u.hide()}}));const t=()=>{const d=this.parsePosition(i,u.value.trim().substr(L.PREFIX.length)),o=this.getPickLabel(i,d.lineNumber,d.column);if(u.items=[{lineNumber:d.lineNumber,column:d.column,label:o}],u.ariaLabel=o,!this.isValidLineNumber(i,d.lineNumber)){this.clearDecorations(i);return}const a=this.toRange(d.lineNumber,d.column);i.revealRangeInCenter(a,0),this.addDecorations(i,a)};t(),n.add(u.onDidChangeValue(()=>t()));const r=(0,f.getCodeEditor)(i);return r&&r.getOptions().get(60).renderType===2&&(r.updateOptions({lineNumbers:"on"}),n.add((0,y.toDisposable)(()=>r.updateOptions({lineNumbers:"relative"})))),n}toRange(C=1,u=1){return{startLineNumber:C,startColumn:u,endLineNumber:C,endColumn:u}}parsePosition(C,u){const h=u.split(/,|:|#/).map(n=>parseInt(n,10)).filter(n=>!isNaN(n)),i=this.lineCount(C)+1;return{lineNumber:h[0]>0?h[0]:i+h[0],column:h[1]}}getPickLabel(C,u,h){if(this.isValidLineNumber(C,u))return this.isValidColumn(C,u,h)?(0,D.localize)(1,null,u,h):(0,D.localize)(2,null,u);const i=C.getPosition()||{lineNumber:1,column:1},n=this.lineCount(C);return n>1?(0,D.localize)(3,null,i.lineNumber,i.column,n):(0,D.localize)(4,null,i.lineNumber,i.column)}isValidLineNumber(C,u){return!u||typeof u!="number"?!1:u>0&&u<=this.lineCount(C)}isValidColumn(C,u,h){if(!h||typeof h!="number")return!1;const i=this.getModel(C);if(!i)return!1;const n={lineNumber:u,column:h};return i.validatePosition(n).equals(n)}lineCount(C){var u,h;return(h=(u=this.getModel(C))===null||u===void 0?void 0:u.getLineCount())!==null&&h!==void 0?h:0}}e.AbstractGotoLineQuickAccessProvider=L,L.PREFIX=":"}),define(oe[670],se([1,0,10,21,28,330,2,8,3,27,205,294,576,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let r=class ii extends i.AbstractEditorNavigationQuickAccessProvider{constructor(s,l,c=Object.create(null)){super(c);this._languageFeaturesService=s,this._outlineModelService=l,this.options=c,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,n.localize)(0,null)),L.Disposable.None}provideWithTextEditor(s,l,c){const g=s.editor,m=this.getModel(g);return m?this._languageFeaturesService.documentSymbolProvider.has(m)?this.doProvideWithEditorSymbols(s,m,l,c):this.doProvideWithoutEditorSymbols(s,m,l,c):L.Disposable.None}doProvideWithoutEditorSymbols(s,l,c,g){const m=new L.DisposableStore;return this.provideLabelPick(c,(0,n.localize)(1,null)),(()=>Le(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(l,m))||g.isCancellationRequested||m.add(this.doProvideWithEditorSymbols(s,l,c,g))}))(),m}provideLabelPick(s,l){s.items=[{label:l,index:0,kind:14}],s.ariaLabel=l}waitForLanguageSymbolRegistry(s,l){return Le(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(s))return!0;const c=new y.DeferredPromise,g=l.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(s)&&(g.dispose(),c.complete(!0))}));return l.add((0,L.toDisposable)(()=>c.complete(!1))),c.p})}doProvideWithEditorSymbols(s,l,c,g){const m=s.editor,S=new L.DisposableStore;S.add(c.onDidAccept(E=>{const[I]=c.selectedItems;I&&I.range&&(this.gotoLocation(s,{range:I.range.selection,keyMods:c.keyMods,preserveFocus:E.inBackground}),E.inBackground||c.hide())})),S.add(c.onDidTriggerItemButton(({item:E})=>{E&&E.range&&(this.gotoLocation(s,{range:E.range.selection,keyMods:c.keyMods,forceSideBySide:!0}),c.hide())}));const p=this.getDocumentSymbols(l,g);let v;const _=()=>Le(this,void 0,void 0,function*(){v==null||v.dispose(!0),c.busy=!1,v=new f.CancellationTokenSource(g),c.busy=!0;try{const E=(0,D.prepareQuery)(c.value.substr(ii.PREFIX.length).trim()),I=yield this.doGetSymbolPicks(p,E,void 0,v.token);if(g.isCancellationRequested)return;I.length>0?c.items=I:E.original.length>0?this.provideLabelPick(c,(0,n.localize)(2,null)):this.provideLabelPick(c,(0,n.localize)(3,null))}finally{g.isCancellationRequested||(c.busy=!1)}});S.add(c.onDidChangeValue(()=>_())),_();let w=!0;return S.add(c.onDidChangeActive(()=>{const[E]=c.activeItems;if(E&&E.range){if(w){w=!1;return}m.revealRangeInCenter(E.range.selection,0),this.addDecorations(m,E.range.decoration)}})),S}doGetSymbolPicks(s,l,c,g){return Le(this,void 0,void 0,function*(){const m=yield s;if(g.isCancellationRequested)return[];const S=l.original.indexOf(ii.SCOPE_PREFIX)===0,p=S?1:0;let v,_;l.values&&l.values.length>1?(v=(0,D.pieceToQuery)(l.values[0]),_=(0,D.pieceToQuery)(l.values.slice(1))):v=l;const w=[];for(let T=0;T<m.length;T++){const R=m[T],B=(0,b.trim)(R.name),O=`$(${u.SymbolKinds.toIcon(R.kind).id}) ${B}`,k=O.length-B.length;let A=R.containerName;(c==null?void 0:c.extraContainerLabel)&&(A?A=`${c.extraContainerLabel} \u2022 ${A}`:A=c.extraContainerLabel);let F,P,W,M;if(l.original.length>p){let Q=!1;if(v!==l&&([F,P]=(0,D.scoreFuzzy2)(O,Object.assign(Object.assign({},l),{values:void 0}),p,k),typeof F=="number"&&(Q=!0)),typeof F!="number"&&([F,P]=(0,D.scoreFuzzy2)(O,v,p,k),typeof F!="number"))continue;if(!Q&&_){if(A&&_.original.length>0&&([W,M]=(0,D.scoreFuzzy2)(A,_)),typeof W!="number")continue;typeof F=="number"&&(F+=W)}}const z=R.tags&&R.tags.indexOf(1)>=0;w.push({index:T,kind:R.kind,score:F,label:O,ariaLabel:B,description:A,highlights:z?void 0:{label:P,description:M},range:{selection:C.Range.collapseToStart(R.selectionRange),decoration:R.range},strikethrough:z,buttons:(()=>{var Q,ne;const X=((Q=this.options)===null||Q===void 0?void 0:Q.openSideBySideDirection)?(ne=this.options)===null||ne===void 0?void 0:ne.openSideBySideDirection():void 0;if(!!X)return[{iconClass:X==="right"?N.Codicon.splitHorizontal.classNames:N.Codicon.splitVertical.classNames,tooltip:X==="right"?(0,n.localize)(4,null):(0,n.localize)(5,null)}]})()})}const E=w.sort((T,R)=>S?this.compareByKindAndScore(T,R):this.compareByScore(T,R));let I=[];if(S){let O=function(){R&&typeof T=="number"&&B>0&&(R.label=(0,b.format)(o[T]||d,B))},T,R,B=0;for(const k of E)T!==k.kind?(O(),T=k.kind,B=1,R={type:"separator"},I.push(R)):B++,I.push(k);O()}else E.length>0&&(I=[{label:(0,n.localize)(6,null,w.length),type:"separator"},...E]);return I})}compareByScore(s,l){if(typeof s.score!="number"&&typeof l.score=="number")return 1;if(typeof s.score=="number"&&typeof l.score!="number")return-1;if(typeof s.score=="number"&&typeof l.score=="number"){if(s.score>l.score)return-1;if(s.score<l.score)return 1}return s.index<l.index?-1:s.index>l.index?1:0}compareByKindAndScore(s,l){const c=o[s.kind]||d,g=o[l.kind]||d,m=c.localeCompare(g);return m===0?this.compareByScore(s,l):m}getDocumentSymbols(s,l){return Le(this,void 0,void 0,function*(){const c=yield this._outlineModelService.getOrCreate(s,l);return l.isCancellationRequested?[]:c.asListOfDocumentSymbols()})}};r.PREFIX="@",r.SCOPE_PREFIX=":",r.PREFIX_BY_CATEGORY=`${r.PREFIX}${r.SCOPE_PREFIX}`,r=De([fe(0,t.ILanguageFeaturesService),fe(1,h.IOutlineModelService)],r),e.AbstractGotoSymbolQuickAccessProvider=r;const d=(0,n.localize)(7,null),o={[5]:(0,n.localize)(8,null),[11]:(0,n.localize)(9,null),[8]:(0,n.localize)(10,null),[12]:(0,n.localize)(11,null),[4]:(0,n.localize)(12,null),[22]:(0,n.localize)(13,null),[23]:(0,n.localize)(14,null),[24]:(0,n.localize)(15,null),[10]:(0,n.localize)(16,null),[2]:(0,n.localize)(17,null),[3]:(0,n.localize)(18,null),[25]:(0,n.localize)(19,null),[1]:(0,n.localize)(20,null),[6]:(0,n.localize)(21,null),[9]:(0,n.localize)(22,null),[21]:(0,n.localize)(23,null),[14]:(0,n.localize)(24,null),[0]:(0,n.localize)(25,null),[17]:(0,n.localize)(26,null),[15]:(0,n.localize)(27,null),[16]:(0,n.localize)(28,null),[18]:(0,n.localize)(29,null),[19]:(0,n.localize)(30,null),[7]:(0,n.localize)(31,null),[13]:(0,n.localize)(32,null)}}),define(oe[671],se([1,0,2,11,578,16,43,23,14,396]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,N.localize)(0,null));let u=class{constructor(i,n,t,r,d){this._editor=i,this._acceptKeybindings=n,this._themeService=t,this._keybindingService=r,this._disposables=new y.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(44)&&this._updateFont()})),this._disposables.add(t.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,N.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const i=()=>{var n,t;const[r,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=(0,N.localize)(2,null,(n=this._keybindingService.lookupKeybinding(r))===null||n===void 0?void 0:n.getLabel(),(t=this._keybindingService.lookupKeybinding(d))===null||t===void 0?void 0:t.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var n,t,r,d;if(!this._input||!this._domNode)return;const o=i.getColor(b.widgetShadow);this._domNode.style.backgroundColor=String((n=i.getColor(b.editorWidgetBackground))!==null&&n!==void 0?n:""),this._domNode.style.boxShadow=o?` 0 0 8px 2px ${o}`:"",this._domNode.style.color=String((t=i.getColor(b.inputForeground))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((r=i.getColor(b.inputBackground))!==null&&r!==void 0?r:"");const a=i.getColor(b.inputBorder);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(d=a==null?void 0:a.toString())!==null&&d!==void 0?d:"none"}_updateFont(){if(!this._input||!this._label)return;const i=this._editor.getOption(44);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){this._currentAcceptInput&&this._currentAcceptInput(i)}cancelInput(i){this._currentCancelInput&&this._currentCancelInput(i)}getInput(i,n,t,r,d,o){this._domNode.classList.toggle("preview",d),this._position=new f.Position(i.startLineNumber,i.startColumn),this._input.value=n,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);const a=new y.DisposableStore;return new Promise(s=>{this._currentCancelInput=l=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s(l),!0),this._currentAcceptInput=l=>{if(this._input.value.trim().length===0||this._input.value===n){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s({newName:this._input.value,wantsPreview:d&&l})},a.add(o.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};u=De([fe(2,C.IThemeService),fe(3,L.IKeybindingService),fe(4,D.IContextKeyService)],u),e.RenameInputField=u}),define(oe[295],se([1,0,28,588,23,14]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,N.registerColor)("symbolIcon.arrayForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,N.registerColor)("symbolIcon.booleanForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,N.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,N.registerColor)("symbolIcon.colorForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,N.registerColor)("symbolIcon.constantForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,N.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,N.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,N.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,N.registerColor)("symbolIcon.fileForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,N.registerColor)("symbolIcon.folderForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,N.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,N.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,N.registerColor)("symbolIcon.keyForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,N.registerColor)("symbolIcon.keywordForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,N.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,N.registerColor)("symbolIcon.moduleForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,N.registerColor)("symbolIcon.namespaceForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,N.registerColor)("symbolIcon.nullForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.numberForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,N.registerColor)("symbolIcon.objectForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.operatorForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,N.registerColor)("symbolIcon.packageForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,N.registerColor)("symbolIcon.propertyForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,N.registerColor)("symbolIcon.referenceForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,N.registerColor)("symbolIcon.snippetForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,N.registerColor)("symbolIcon.stringForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,N.registerColor)("symbolIcon.structForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,N.registerColor)("symbolIcon.textForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,N.registerColor)("symbolIcon.typeParameterForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,N.registerColor)("symbolIcon.unitForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,f.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,N.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(32,null)),(0,D.registerThemingParticipant)((L,b)=>{const C=L.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);C&&b.addRule(`${y.Codicon.symbolArray.cssSelector} { color: ${C}; }`);const u=L.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);u&&b.addRule(`${y.Codicon.symbolBoolean.cssSelector} { color: ${u}; }`);const h=L.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);h&&b.addRule(`${y.Codicon.symbolClass.cssSelector} { color: ${h}; }`);const i=L.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);i&&b.addRule(`${y.Codicon.symbolMethod.cssSelector} { color: ${i}; }`);const n=L.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);n&&b.addRule(`${y.Codicon.symbolColor.cssSelector} { color: ${n}; }`);const t=L.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);t&&b.addRule(`${y.Codicon.symbolConstant.cssSelector} { color: ${t}; }`);const r=L.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);r&&b.addRule(`${y.Codicon.symbolConstructor.cssSelector} { color: ${r}; }`);const d=L.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&b.addRule(`
			${y.Codicon.symbolValue.cssSelector},${y.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const o=L.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);o&&b.addRule(`${y.Codicon.symbolEnumMember.cssSelector} { color: ${o}; }`);const a=L.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);a&&b.addRule(`${y.Codicon.symbolEvent.cssSelector} { color: ${a}; }`);const s=L.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);s&&b.addRule(`${y.Codicon.symbolField.cssSelector} { color: ${s}; }`);const l=L.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);l&&b.addRule(`${y.Codicon.symbolFile.cssSelector} { color: ${l}; }`);const c=L.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);c&&b.addRule(`${y.Codicon.symbolFolder.cssSelector} { color: ${c}; }`);const g=L.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);g&&b.addRule(`${y.Codicon.symbolFunction.cssSelector} { color: ${g}; }`);const m=L.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);m&&b.addRule(`${y.Codicon.symbolInterface.cssSelector} { color: ${m}; }`);const S=L.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);S&&b.addRule(`${y.Codicon.symbolKey.cssSelector} { color: ${S}; }`);const p=L.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);p&&b.addRule(`${y.Codicon.symbolKeyword.cssSelector} { color: ${p}; }`);const v=L.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);v&&b.addRule(`${y.Codicon.symbolModule.cssSelector} { color: ${v}; }`);const _=L.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);_&&b.addRule(`${y.Codicon.symbolNamespace.cssSelector} { color: ${_}; }`);const w=L.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);w&&b.addRule(`${y.Codicon.symbolNull.cssSelector} { color: ${w}; }`);const E=L.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&b.addRule(`${y.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const I=L.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);I&&b.addRule(`${y.Codicon.symbolObject.cssSelector} { color: ${I}; }`);const T=L.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);T&&b.addRule(`${y.Codicon.symbolOperator.cssSelector} { color: ${T}; }`);const R=L.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&b.addRule(`${y.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const B=L.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);B&&b.addRule(`${y.Codicon.symbolProperty.cssSelector} { color: ${B}; }`);const O=L.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);O&&b.addRule(`${y.Codicon.symbolReference.cssSelector} { color: ${O}; }`);const k=L.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);k&&b.addRule(`${y.Codicon.symbolSnippet.cssSelector} { color: ${k}; }`);const A=L.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&b.addRule(`${y.Codicon.symbolString.cssSelector} { color: ${A}; }`);const F=L.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);F&&b.addRule(`${y.Codicon.symbolStruct.cssSelector} { color: ${F}; }`);const P=L.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);P&&b.addRule(`${y.Codicon.symbolText.cssSelector} { color: ${P}; }`);const W=L.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&b.addRule(`${y.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const M=L.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);M&&b.addRule(`${y.Codicon.symbolUnit.cssSelector} { color: ${M}; }`);const z=L.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);z&&b.addRule(`${y.Codicon.symbolVariable.cssSelector} { color: ${z}; }`)})}),define(oe[296],se([1,0,7,51,652,29,16,53,14]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let u=class extends N.AbstractCodeEditorService{constructor(i,n){super(n);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,n,t){return n?Promise.resolve(this.doOpenEditor(n,i)):Promise.resolve(null)}doOpenEditor(i,n){if(!this.findModel(i,n.resource)){if(n.resource){const d=n.resource.scheme;if(d===f.Schemas.http||d===f.Schemas.https)return(0,y.windowOpenNoOpener)(n.resource.toString()),i}return null}const r=n.options?n.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")i.setSelection(r),i.revealRangeInCenter(r,1);else{const d={lineNumber:r.startLineNumber,column:r.startColumn};i.setPosition(d),i.revealPositionInCenter(d,1)}return i}findModel(i,n){const t=i.getModel();return t&&t.uri.toString()!==n.toString()?null:t}};u=De([fe(0,L.IContextKeyService),fe(1,C.IThemeService)],u),e.StandaloneCodeEditorService=u,(0,b.registerSingleton)(D.ICodeEditorService,u)}),define(oe[672],se([1,0,54,23]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[f.editorBackground]:"#FFFFFE",[f.editorForeground]:"#000000",[f.editorInactiveSelection]:"#E5EBF1",[y.editorIndentGuides]:"#D3D3D3",[y.editorActiveIndentGuides]:"#939393",[f.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[f.editorBackground]:"#1E1E1E",[f.editorForeground]:"#D4D4D4",[f.editorInactiveSelection]:"#3A3D41",[y.editorIndentGuides]:"#404040",[y.editorActiveIndentGuides]:"#707070",[f.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[f.editorBackground]:"#000000",[f.editorForeground]:"#FFFFFF",[y.editorIndentGuides]:"#FFFFFF",[y.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[f.editorBackground]:"#FFFFFF",[f.editorForeground]:"#292929",[y.editorIndentGuides]:"#292929",[y.editorActiveIndentGuides]:"#292929"}}}),define(oe[41],se([1,0,47,28,4,56,2,84,26,16,9,14]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function n(o){return o.command!==void 0}e.isIMenuItem=n;class t{constructor(a){this.id=t._idPool++,this._debugName=a}}e.MenuId=t,t._idPool=0,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.TitleMenu=new t("TitleMenu"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.MenubarPanelAlignmentMenu=new t("MenubarPanelAlignmentMenu"),t.MenubarPanelPositionMenu=new t("MenubarPanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalInlineTabContext=new t("TerminalInlineTabContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),e.IMenuService=(0,h.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new N.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:o=>o===t.CommandPalette}}addCommand(o){return this.addCommands(D.Iterable.single(o))}addCommands(o){for(const a of o)this._commands.set(a.id,a);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,L.toDisposable)(()=>{let a=!1;for(const s of o)a=this._commands.delete(s.id)||a;a&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(o){return this._commands.get(o)}getCommands(){const o=new Map;return this._commands.forEach((a,s)=>o.set(s,a)),o}appendMenuItem(o,a){return this.appendMenuItems(D.Iterable.single({id:o,item:a}))}appendMenuItems(o){const a=new Set,s=new b.LinkedList;for(const{id:l,item:c}of o){let g=this._menuItems.get(l);g||(g=new b.LinkedList,this._menuItems.set(l,g)),s.push(g.push(c)),a.add(l)}return this._onDidChangeMenu.fire(a),(0,L.toDisposable)(()=>{if(s.size>0){for(let l of s)l();this._onDidChangeMenu.fire(a),s.clear()}})}getMenuItems(o){let a;return this._menuItems.has(o)?a=[...this._menuItems.get(o)]:a=[],o===t.CommandPalette&&this._appendImplicitItems(a),a}_appendImplicitItems(o){const a=new Set;for(const s of o)n(s)&&(a.add(s.command.id),s.alt&&a.add(s.alt.id));this._commands.forEach((s,l)=>{a.has(l)||o.push({command:s})})}};class r extends y.SubmenuAction{constructor(a,s,l,c){super(`submenuitem.${a.submenu.id}`,typeof a.title=="string"?a.title:a.title.value,[],"submenu");this.item=a,this._menuService=s,this._contextKeyService=l,this._options=c}get actions(){const a=[],s=this._menuService.createMenu(this.item.submenu,this._contextKeyService),l=s.getActions(this._options);s.dispose();for(const[,c]of l)c.length>0&&(a.push(...c),a.push(new y.Separator));return a.length&&a.pop(),a}}e.SubmenuItemAction=r;let d=class ki{constructor(a,s,l,c,g){var m,S;if(this._commandService=g,this.id=a.id,this.label=(l==null?void 0:l.renderShortTitle)&&a.shortTitle?typeof a.shortTitle=="string"?a.shortTitle:a.shortTitle.value:typeof a.title=="string"?a.title:a.title.value,this.tooltip=(S=typeof a.tooltip=="string"?a.tooltip:(m=a.tooltip)===null||m===void 0?void 0:m.value)!==null&&S!==void 0?S:"",this.enabled=!a.precondition||c.contextMatchesRules(a.precondition),this.checked=void 0,a.toggled){const p=a.toggled.condition?a.toggled:{condition:a.toggled};this.checked=c.contextMatchesRules(p.condition),this.checked&&p.tooltip&&(this.tooltip=typeof p.tooltip=="string"?p.tooltip:p.tooltip.value),p.title&&(this.label=typeof p.title=="string"?p.title:p.title.value)}this.item=a,this.alt=s?new ki(s,void 0,l,c,g):void 0,this._options=l,i.ThemeIcon.isThemeIcon(a.icon)&&(this.class=f.CSSIcon.asClassName(a.icon))}dispose(){}run(...a){var s,l;let c=[];return((s=this._options)===null||s===void 0?void 0:s.arg)&&(c=[...c,this._options.arg]),((l=this._options)===null||l===void 0?void 0:l.shouldForwardArgs)&&(c=[...c,...a]),this._commandService.executeCommand(this.id,...c)}};d=De([fe(3,u.IContextKeyService),fe(4,C.ICommandService)],d),e.MenuItemAction=d}),define(oe[15],se([1,0,512,25,29,11,48,58,41,26,16,9,97,38,90,19,70]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class a{constructor(k){this.id=k.id,this.precondition=k.precondition,this._kbOpts=k.kbOpts,this._menuOpts=k.menuOpts,this._description=k.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const k=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of k){let F=A.kbExpr;this.precondition&&(F?F=h.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const P={id:this.id,weight:A.weight,args:A.args,when:F,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};n.KeybindingsRegistry.registerKeybindingRule(P)}}u.CommandsRegistry.registerCommand({id:this.id,handler:(k,A)=>this.runCommand(k,A),description:this._description})}_registerMenuItem(k){C.MenuRegistry.appendMenuItem(k.menuId,{group:k.group,command:{id:this.id,title:k.title,icon:k.icon,precondition:this.precondition},when:k.when,order:k.order})}}e.Command=a;class s extends a{constructor(){super(...arguments);this._implementations=[]}addImplementation(k,A,F){return this._implementations.push({priority:k,name:A,implementation:F}),this._implementations.sort((P,W)=>W.priority-P.priority),{dispose:()=>{for(let P=0;P<this._implementations.length;P++)if(this._implementations[P].implementation===F){this._implementations.splice(P,1);return}}}}runCommand(k,A){const F=k.get(o.ILogService);F.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const P of this._implementations){const W=P.implementation(k,A);if(W)return F.trace(`Command '${this.id}' was handled by '${P.name}'.`),typeof W=="boolean"?void 0:W}F.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class l extends a{constructor(k,A){super(A);this.command=k}runCommand(k,A){return this.command.runCommand(k,A)}}e.ProxyCommand=l;class c extends a{static bindToContribution(k){return class extends c{constructor(F){super(F);this._callback=F.handler}runEditorCommand(F,P,W){const M=k(P);M&&this._callback(M,W)}}}runCommand(k,A){const F=k.get(N.ICodeEditorService),P=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(!!P)return P.invokeWithinContext(W=>{if(!!W.get(h.IContextKeyService).contextMatchesRules((0,d.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(W,P,A)})}}e.EditorCommand=c;class g extends c{constructor(k){super(g.convertOptions(k));this.label=k.label,this.alias=k.alias}static convertOptions(k){let A;Array.isArray(k.menuOpts)?A=k.menuOpts:k.menuOpts?A=[k.menuOpts]:A=[];function F(P){return P.menuId||(P.menuId=C.MenuId.EditorContext),P.title||(P.title=k.label),P.when=h.ContextKeyExpr.and(k.precondition,P.when),P}return Array.isArray(k.contextMenuOpts)?A.push(...k.contextMenuOpts.map(F)):k.contextMenuOpts&&A.push(F(k.contextMenuOpts)),k.menuOpts=A,k}runEditorCommand(k,A,F){return this.reportTelemetry(k,A),this.run(k,A,F||{})}reportTelemetry(k,A){k.get(r.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=g;class m extends g{constructor(){super(...arguments);this._implementations=[]}addImplementation(k,A){return this._implementations.push([k,A]),this._implementations.sort((F,P)=>P[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===A){this._implementations.splice(F,1);return}}}}run(k,A,F){for(const P of this._implementations){const W=P[1](k,A,F);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=m;function S(O,k){u.CommandsRegistry.registerCommand(O,function(A,...F){const P=A.get(i.IInstantiationService),[W,M]=F;(0,d.assertType)(f.URI.isUri(W)),(0,d.assertType)(D.Position.isIPosition(M));const z=A.get(L.IModelService).getModel(W);if(z){const Q=D.Position.lift(M);return P.invokeFunction(k,z,Q,...F.slice(2))}return A.get(b.ITextModelService).createModelReference(W).then(Q=>new Promise((ne,X)=>{try{const J=P.invokeFunction(k,Q.object.textEditorModel,D.Position.lift(M),F.slice(2));ne(J)}catch(J){X(J)}}).finally(()=>{Q.dispose()}))})}e.registerModelAndPositionCommand=S;function p(O){return R.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=p;function v(O){const k=new O;return R.INSTANCE.registerEditorAction(k),k}e.registerEditorAction=v;function _(O){return R.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=_;function w(O){R.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=w;function E(O,k){R.INSTANCE.registerEditorContribution(O,k)}e.registerEditorContribution=E;var I;(function(O){function k(M){return R.INSTANCE.getEditorCommand(M)}O.getEditorCommand=k;function A(){return R.INSTANCE.getEditorActions()}O.getEditorActions=A;function F(){return R.INSTANCE.getEditorContributions()}O.getEditorContributions=F;function P(M){return R.INSTANCE.getEditorContributions().filter(z=>M.indexOf(z.id)>=0)}O.getSomeEditorContributions=P;function W(){return R.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=W})(I=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const T={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(k,A){this.editorContributions.push({id:k,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(k){k.register(),this.editorActions.push(k)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(k){k.register(),this.editorCommands[k.id]=k}getEditorCommand(k){return this.editorCommands[k]||null}}R.INSTANCE=new R,t.Registry.add(T.EditorCommonContributions,R.INSTANCE);function B(O){return O.register(),O}e.UndoCommand=B(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:y.localize(1,null),order:1}]})),B(new l(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=B(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:y.localize(3,null),order:1}]})),B(new l(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=B(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:y.localize(5,null),order:1}]}))}),define(oe[160],se([1,0,511,34,19,45,15,29,421,62,183,184,210,11,3,22,16,97]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class l extends L.EditorCommand{runEditorCommand(R,B,O){const k=B._getViewModel();!k||this.runCoreEditorCommand(k,O||{})}}e.CoreEditorCommand=l;var c;(function(T){const R=function(O){if(!N.isObject(O))return!1;const k=O;return!(!N.isString(k.to)||!N.isUndefined(k.by)&&!N.isString(k.by)||!N.isUndefined(k.value)&&!N.isNumber(k.value)||!N.isUndefined(k.revealCursor)&&!N.isBoolean(k.revealCursor))};T.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},T.RawDirection={Up:"up",Down:"down"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function B(O){let k;switch(O.to){case T.RawDirection.Up:k=1;break;case T.RawDirection.Down:k=2;break;default:return null}let A;switch(O.by){case T.RawUnit.Line:A=1;break;case T.RawUnit.WrappedLine:A=2;break;case T.RawUnit.Page:A=3;break;case T.RawUnit.HalfPage:A=4;break;default:A=2}const F=Math.floor(O.value||1),P=!!O.revealCursor;return{direction:k,unit:A,value:F,revealCursor:P,select:!!O.select}}T.parse=B})(c=e.EditorScroll_||(e.EditorScroll_={}));var g;(function(T){const R=function(B){if(!N.isObject(B))return!1;const O=B;return!(!N.isNumber(O.lineNumber)&&!N.isString(O.lineNumber)||!N.isUndefined(O.at)&&!N.isString(O.at))};T.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(g=e.RevealLine_||(e.RevealLine_={}));class m{constructor(R){R.addImplementation(1e4,"code-editor",(B,O)=>{const k=B.get(b.ICodeEditorService).getFocusedCodeEditor();return k&&k.hasTextFocus()?this._runEditorCommand(B,k,O):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(B,O)=>{const k=document.activeElement;return k&&["input","textarea"].indexOf(k.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(B,O)=>{const k=B.get(b.ICodeEditorService).getActiveCodeEditor();return k?(k.focus(),this._runEditorCommand(B,k,O)):!1})}_runEditorCommand(R,B,O){const k=this.runEditorCommand(R,B,O);return k||!0}}var S;(function(T){class R extends l{constructor(x){super(x);this._minimalReveal=x.minimalReveal,this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,[i.CursorMoveCommands.moveTo(x,x.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)])&&x.revealPrimaryCursor(V.source,!0,this._minimalReveal)}}T.MoveTo=(0,L.registerEditorCommand)(new R({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),T.MoveToSelect=(0,L.registerEditorCommand)(new R({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class B extends l{runCoreEditorCommand(x,V){x.model.pushStackElement();const j=this._getColumnSelectResult(x,x.getPrimaryCursorState(),x.getCursorColumnSelectData(),V);x.setCursorStates(V.source,3,j.viewStates.map(re=>u.CursorState.fromViewState(re))),x.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:j.fromLineNumber,fromViewVisualColumn:j.fromVisualColumn,toViewLineNumber:j.toLineNumber,toViewVisualColumn:j.toVisualColumn}),j.reversed?x.revealTopMostCursor(V.source):x.revealBottomMostCursor(V.source)}}T.ColumnSelect=(0,L.registerEditorCommand)(new class extends B{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(G,x,V,j){const re=G.model.validatePosition(j.position),ae=G.coordinatesConverter.validateViewPosition(new t.Position(j.viewPosition.lineNumber,j.viewPosition.column),re),Y=j.doColumnSelect?V.fromViewLineNumber:ae.lineNumber,U=j.doColumnSelect?V.fromViewVisualColumn:j.mouseColumn-1;return C.ColumnSelection.columnSelect(G.cursorConfig,G,Y,U,ae.lineNumber,j.mouseColumn-1)}}),T.CursorColumnSelectLeft=(0,L.registerEditorCommand)(new class extends B{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(G,x,V,j){return C.ColumnSelection.columnSelectLeft(G.cursorConfig,G,V)}}),T.CursorColumnSelectRight=(0,L.registerEditorCommand)(new class extends B{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(G,x,V,j){return C.ColumnSelection.columnSelectRight(G.cursorConfig,G,V)}});class O extends B{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,V,j,re){return C.ColumnSelection.columnSelectUp(x.cursorConfig,x,j,this._isPaged)}}T.CursorColumnSelectUp=(0,L.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),T.CursorColumnSelectPageUp=(0,L.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class k extends B{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,V,j,re){return C.ColumnSelection.columnSelectDown(x.cursorConfig,x,j,this._isPaged)}}T.CursorColumnSelectDown=(0,L.registerEditorCommand)(new k({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),T.CursorColumnSelectPageDown=(0,L.registerEditorCommand)(new k({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends l{constructor(){super({id:"cursorMove",precondition:void 0,description:i.CursorMove.description})}runCoreEditorCommand(x,V){const j=i.CursorMove.parse(V);!j||this._runCursorMove(x,V.source,j)}_runCursorMove(x,V,j){x.model.pushStackElement(),x.setCursorStates(V,3,A._move(x,x.getCursorStates(),j)),x.revealPrimaryCursor(V,!0)}static _move(x,V,j){const re=j.select,ae=j.value;switch(j.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return i.CursorMoveCommands.simpleMove(x,V,j.direction,re,ae,j.unit);case 11:case 13:case 12:case 14:return i.CursorMoveCommands.viewportMove(x,V,j.direction,re,ae);default:return null}}}T.CursorMoveImpl=A,T.CursorMove=(0,L.registerEditorCommand)(new A);class F extends l{constructor(x){super(x);this._staticArgs=x.args}runCoreEditorCommand(x,V){let j=this._staticArgs;this._staticArgs.value===-1&&(j={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:V.pageSize||x.cursorConfig.pageSize}),x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.simpleMove(x,x.getCursorStates(),j.direction,j.select,j.value,j.unit)),x.revealPrimaryCursor(V.source,!0)}}T.CursorLeft=(0,L.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),T.CursorLeftSelect=(0,L.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),T.CursorRight=(0,L.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),T.CursorRightSelect=(0,L.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),T.CursorUp=(0,L.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),T.CursorUpSelect=(0,L.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),T.CursorPageUp=(0,L.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),T.CursorPageUpSelect=(0,L.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),T.CursorDown=(0,L.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),T.CursorDownSelect=(0,L.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),T.CursorPageDown=(0,L.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),T.CursorPageDownSelect=(0,L.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),T.CreateCursor=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(G,x){let V;x.wholeLine?V=i.CursorMoveCommands.line(G,G.getPrimaryCursorState(),!1,x.position,x.viewPosition):V=i.CursorMoveCommands.moveTo(G,G.getPrimaryCursorState(),!1,x.position,x.viewPosition);const j=G.getCursorStates();if(j.length>1){const re=V.modelState?V.modelState.position:null,ae=V.viewState?V.viewState.position:null;for(let Y=0,U=j.length;Y<U;Y++){const Z=j[Y];if(!(re&&!Z.modelState.selection.containsPosition(re))&&!(ae&&!Z.viewState.selection.containsPosition(ae))){j.splice(Y,1),G.model.pushStackElement(),G.setCursorStates(x.source,3,j);return}}}j.push(V),G.model.pushStackElement(),G.setCursorStates(x.source,3,j)}}),T.LastCursorMoveToSelect=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(G,x){const V=G.getLastAddedCursorIndex(),j=G.getCursorStates(),re=j.slice(0);re[V]=i.CursorMoveCommands.moveTo(G,j[V],!0,x.position,x.viewPosition),G.model.pushStackElement(),G.setCursorStates(x.source,3,re)}});class P extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToBeginningOfLine(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(V.source,!0)}}T.CursorHome=(0,L.registerEditorCommand)(new P({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),T.CursorHomeSelect=(0,L.registerEditorCommand)(new P({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,this._exec(x.getCursorStates())),x.revealPrimaryCursor(V.source,!0)}_exec(x){const V=[];for(let j=0,re=x.length;j<re;j++){const ae=x[j],Y=ae.modelState.position.lineNumber;V[j]=u.CursorState.fromModelState(ae.modelState.move(this._inSelectionMode,Y,1,0))}return V}}T.CursorLineStart=(0,L.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),T.CursorLineStartSelect=(0,L.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class M extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToEndOfLine(x,x.getCursorStates(),this._inSelectionMode,V.sticky||!1)),x.revealPrimaryCursor(V.source,!0)}}T.CursorEnd=(0,L.registerEditorCommand)(new M({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(0,null),type:"boolean",default:!1}}}}]}})),T.CursorEndSelect=(0,L.registerEditorCommand)(new M({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(1,null),type:"boolean",default:!1}}}}]}}));class z extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,this._exec(x,x.getCursorStates())),x.revealPrimaryCursor(V.source,!0)}_exec(x,V){const j=[];for(let re=0,ae=V.length;re<ae;re++){const Y=V[re],U=Y.modelState.position.lineNumber,Z=x.model.getLineMaxColumn(U);j[re]=u.CursorState.fromModelState(Y.modelState.move(this._inSelectionMode,U,Z,0))}return j}}T.CursorLineEnd=(0,L.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),T.CursorLineEndSelect=(0,L.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class Q extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToBeginningOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(V.source,!0)}}T.CursorTop=(0,L.registerEditorCommand)(new Q({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),T.CursorTopSelect=(0,L.registerEditorCommand)(new Q({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class ne extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToEndOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(V.source,!0)}}T.CursorBottom=(0,L.registerEditorCommand)(new ne({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),T.CursorBottomSelect=(0,L.registerEditorCommand)(new ne({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class X extends l{constructor(){super({id:"editorScroll",precondition:void 0,description:c.description})}runCoreEditorCommand(x,V){const j=c.parse(V);!j||this._runEditorScroll(x,V.source,j)}_runEditorScroll(x,V,j){const re=this._computeDesiredScrollTop(x,j);if(j.revealCursor){const ae=x.getCompletelyVisibleViewRangeAtScrollTop(re);x.setCursorStates(V,3,[i.CursorMoveCommands.findPositionInViewportIfOutside(x,x.getPrimaryCursorState(),ae,j.select)])}x.viewLayout.setScrollPosition({scrollTop:re},0)}_computeDesiredScrollTop(x,V){if(V.unit===1){const ae=x.getCompletelyVisibleViewRange(),Y=x.coordinatesConverter.convertViewRangeToModelRange(ae);let U;V.direction===1?U=Math.max(1,Y.startLineNumber-V.value):U=Math.min(x.model.getLineCount(),Y.startLineNumber+V.value);const Z=x.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(U,1));return x.viewLayout.getVerticalOffsetForLineNumber(Z.lineNumber)}let j;V.unit===3?j=x.cursorConfig.pageSize*V.value:V.unit===4?j=Math.round(x.cursorConfig.pageSize/2)*V.value:j=V.value;const re=(V.direction===1?-1:1)*j;return x.viewLayout.getCurrentScrollTop()+re*x.cursorConfig.lineHeight}}T.EditorScrollImpl=X,T.EditorScroll=(0,L.registerEditorCommand)(new X),T.ScrollLineUp=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(G,x){T.EditorScroll._runEditorScroll(G,x.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageUp=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(G,x){T.EditorScroll._runEditorScroll(G,x.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),T.ScrollLineDown=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(G,x){T.EditorScroll._runEditorScroll(G,x.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageDown=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(G,x){T.EditorScroll._runEditorScroll(G,x.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class J extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,[i.CursorMoveCommands.word(x,x.getPrimaryCursorState(),this._inSelectionMode,V.position)]),x.revealPrimaryCursor(V.source,!0)}}T.WordSelect=(0,L.registerEditorCommand)(new J({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),T.WordSelectDrag=(0,L.registerEditorCommand)(new J({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),T.LastCursorWordSelect=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(G,x){const V=G.getLastAddedCursorIndex(),j=G.getCursorStates(),re=j.slice(0),ae=j[V];re[V]=i.CursorMoveCommands.word(G,ae,ae.modelState.hasSelection(),x.position),G.model.pushStackElement(),G.setCursorStates(x.source,3,re)}});class ie extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,[i.CursorMoveCommands.line(x,x.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),x.revealPrimaryCursor(V.source,!1)}}T.LineSelect=(0,L.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),T.LineSelectDrag=(0,L.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class le extends l{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){const j=x.getLastAddedCursorIndex(),re=x.getCursorStates(),ae=re.slice(0);ae[j]=i.CursorMoveCommands.line(x,re[j],this._inSelectionMode,V.position,V.viewPosition),x.model.pushStackElement(),x.setCursorStates(V.source,3,ae)}}T.LastCursorLineSelect=(0,L.registerEditorCommand)(new le({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),T.LastCursorLineSelectDrag=(0,L.registerEditorCommand)(new le({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),T.CancelSelection=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates(x.source,3,[i.CursorMoveCommands.cancelSelection(G,G.getPrimaryCursorState())]),G.revealPrimaryCursor(x.source,!0)}}),T.RemoveSecondaryCursors=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates(x.source,3,[G.getPrimaryCursorState()]),G.revealPrimaryCursor(x.source,!0),(0,D.status)(y.localize(2,null))}}),T.RevealLine=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"revealLine",precondition:void 0,description:g.description})}runCoreEditorCommand(G,x){const V=x,j=V.lineNumber||0;let re=typeof j=="number"?j+1:parseInt(j)+1;re<1&&(re=1);const ae=G.model.getLineCount();re>ae&&(re=ae);const Y=new r.Range(re,1,re,G.model.getLineMaxColumn(re));let U=0;if(V.at)switch(V.at){case g.RawAtArgument.Top:U=3;break;case g.RawAtArgument.Center:U=1;break;case g.RawAtArgument.Bottom:U=4;break;default:break}const Z=G.coordinatesConverter.convertModelRangeToViewRange(Y);G.revealRange(x.source,!1,Z,U,0)}}),T.SelectAll=new class extends m{constructor(){super(L.SelectAllCommand)}runDOMCommand(){f.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(G,x,V){const j=x._getViewModel();!j||this.runCoreEditorCommand(j,V)}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates("keyboard",3,[i.CursorMoveCommands.selectAll(G,G.getPrimaryCursorState())])}},T.SetSelection=(0,L.registerEditorCommand)(new class extends l{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates(x.source,3,[u.CursorState.fromModelSelection(x.selection)])}})})(S=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const p=o.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function v(T,R){a.KeybindingsRegistry.registerKeybindingRule({id:T,primary:R,when:p,weight:s+1})}v(S.CursorColumnSelectLeft.id,1024|15),v(S.CursorColumnSelectRight.id,1024|17),v(S.CursorColumnSelectUp.id,1024|16),v(S.CursorColumnSelectPageUp.id,1024|11),v(S.CursorColumnSelectDown.id,1024|18),v(S.CursorColumnSelectPageDown.id,1024|12);function _(T){return T.register(),T}var w;(function(T){class R extends L.EditorCommand{runEditorCommand(O,k,A){const F=k._getViewModel();!F||this.runCoreEditingCommand(k,F,A||{})}}T.CoreEditingCommand=R,T.LineBreakInsert=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(B,O,k){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection)))}}),T.Outdent=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:o.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(B,O,k){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection))),B.pushUndoStop()}}),T.Tab=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:o.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(B,O,k){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection))),B.pushUndoStop()}}),T.DeleteLeft=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(B,O,k){const[A,F]=h.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(P=>P.modelState.selection),O.getCursorAutoClosedCharacters());A&&B.pushUndoStop(),B.executeCommands(this.id,F),O.setPrevEditOperationType(2)}}),T.DeleteRight=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(B,O,k){const[A,F]=h.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(P=>P.modelState.selection));A&&B.pushUndoStop(),B.executeCommands(this.id,F),O.setPrevEditOperationType(3)}}),T.Undo=new class extends m{constructor(){super(L.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(B,O,k){if(!(!O.hasModel()||O.getOption(81)===!0))return O.getModel().undo()}},T.Redo=new class extends m{constructor(){super(L.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(B,O,k){if(!(!O.hasModel()||O.getOption(81)===!0))return O.getModel().redo()}}})(w=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends L.Command{constructor(R,B,O){super({id:R,precondition:void 0,description:O});this._handlerId=B}runCommand(R,B){const O=R.get(b.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,B)}}function I(T,R){_(new E("default:"+T,T)),_(new E(T,T,R))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(oe[673],se([1,0,203,15]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let N=class{constructor(L,b){}dispose(){}};N.ID="editor.contrib.markerDecorations",N=De([fe(1,y.IMarkerDecorationsService)],N),e.MarkerDecorationsContribution=N,(0,f.registerEditorContribution)(N.ID,N)}),define(oe[674],se([1,0,160,11,17]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(b,C,u,h){this.configuration=b,this.viewModel=C,this.userInputEvents=u,this.commandDelegate=h}paste(b,C,u,h){this.commandDelegate.paste(b,C,u,h)}type(b){this.commandDelegate.type(b)}compositionType(b,C,u,h){this.commandDelegate.compositionType(b,C,u,h)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(b){y.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:b})}_validateViewColumn(b){const C=this.viewModel.getLineMinColumn(b.lineNumber);return b.column<C?new f.Position(b.lineNumber,C):b}_hasMulticursorModifier(b){switch(this.configuration.options.get(70)){case"altKey":return b.altKey;case"ctrlKey":return b.ctrlKey;case"metaKey":return b.metaKey;default:return!1}}_hasNonMulticursorModifier(b){switch(this.configuration.options.get(70)){case"altKey":return b.ctrlKey||b.metaKey;case"ctrlKey":return b.altKey||b.metaKey;case"metaKey":return b.ctrlKey||b.altKey;default:return!1}}dispatchMouse(b){const C=this.configuration.options,u=N.isLinux&&C.get(96),h=C.get(18);b.middleButton&&!u?this._columnSelect(b.position,b.mouseColumn,b.inSelectionMode):b.startedOnLineNumbers?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelect(b.position):this._createCursor(b.position,!0):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount>=4?this._selectAll():b.mouseDownCount===3?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelectDrag(b.position):this._lastCursorLineSelect(b.position):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount===2?b.onInjectedText||(this._hasMulticursorModifier(b)?this._lastCursorWordSelect(b.position):b.inSelectionMode?this._wordSelectDrag(b.position):this._wordSelect(b.position)):this._hasMulticursorModifier(b)?this._hasNonMulticursorModifier(b)||(b.shiftKey?this._columnSelect(b.position,b.mouseColumn,!0):b.inSelectionMode?this._lastCursorMoveToSelect(b.position):this._createCursor(b.position,!1)):b.inSelectionMode?b.altKey?this._columnSelect(b.position,b.mouseColumn,!0):h?this._columnSelect(b.position,b.mouseColumn,!0):this._moveToSelect(b.position):this.moveTo(b.position)}_usualArgs(b){return b=this._validateViewColumn(b),{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b}}moveTo(b){y.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_moveToSelect(b){y.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_columnSelect(b,C,u){b=this._validateViewColumn(b),y.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,mouseColumn:C,doColumnSelect:u})}_createCursor(b,C){b=this._validateViewColumn(b),y.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,wholeLine:C})}_lastCursorMoveToSelect(b){y.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelect(b){y.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelectDrag(b){y.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorWordSelect(b){y.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelect(b){y.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelectDrag(b){y.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelect(b){y.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelectDrag(b){y.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_selectAll(){y.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b)}emitKeyDown(b){this.userInputEvents.emitKeyDown(b)}emitKeyUp(b){this.userInputEvents.emitKeyUp(b)}emitContextMenu(b){this.userInputEvents.emitContextMenu(b)}emitMouseMove(b){this.userInputEvents.emitMouseMove(b)}emitMouseLeave(b){this.userInputEvents.emitMouseLeave(b)}emitMouseUp(b){this.userInputEvents.emitMouseUp(b)}emitMouseDown(b){this.userInputEvents.emitMouseDown(b)}emitMouseDrag(b){this.userInputEvents.emitMouseDrag(b)}emitMouseDrop(b){this.userInputEvents.emitMouseDrop(b)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(b){this.userInputEvents.emitMouseWheel(b)}}e.ViewController=D}),define(oe[675],se([1,0,7,24,32,13,650,659,674,237,522,52,454,657,455,653,189,658,292,651,456,257,457,654,458,660,464,661,655,656,662,459,11,3,123,465,461,128,14,291]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I,T,R,B,O,k,A,F,P,W,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class z extends P.ViewEventHandler{constructor(X,J,ie,le,G,x){super();this._selections=[new f.Selection(1,1,1,1)],this._renderAnimationFrame=null;const V=new C.ViewController(J,le,G,X);this._context=new A.ViewContext(J,ie,le),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,V,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,N.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,N.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new d.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new l.ViewLines(this._context,this._linesContent),this._viewZones=new R.ViewZones(this._context),this._viewParts.push(this._viewZones);const j=new v.DecorationsOverviewRuler(this._context);this._viewParts.push(j);const re=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(re);const ae=new h.ContentViewOverlays(this._context);this._viewParts.push(ae),ae.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),ae.addDynamicOverlay(new I.SelectionsOverlay(this._context)),ae.addDynamicOverlay(new a.IndentGuidesOverlay(this._context)),ae.addDynamicOverlay(new r.DecorationsOverlay(this._context));const Y=new h.MarginViewOverlays(this._context);this._viewParts.push(Y),Y.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),Y.addDynamicOverlay(new o.GlyphMarginOverlay(this._context)),Y.addDynamicOverlay(new m.MarginViewLineDecorationsOverlay(this._context)),Y.addDynamicOverlay(new c.LinesDecorationsOverlay(this._context)),Y.addDynamicOverlay(new s.LineNumbersOverlay(this._context));const U=new g.Margin(this._context);U.getDomNode().appendChild(this._viewZones.marginDomNode),U.getDomNode().appendChild(Y.getDomNode()),this._viewParts.push(U),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new p.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const Z=new w.Rulers(this._context);this._viewParts.push(Z);const q=new S.Minimap(this._context);if(this._viewParts.push(q),j){const $=this._scrollbar.getOverviewRulerLayoutInfo();$.parent.insertBefore(j.getDomNode(),$.insertBefore)}this._linesContent.appendChild(ae.getDomNode()),this._linesContent.appendChild(Z.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(U.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(re.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),x?x.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new L.PointerHandler(this._context,V,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:X=>{this._textAreaHandler.textArea.domNode.dispatchEvent(X)},getLastRenderData:()=>{const X=this._viewCursors.getLastRenderData()||[],J=this._textAreaHandler.getLastRenderData();return new M.PointerHandlerLastRenderData(X,J)},shouldSuppressMouseDownOnViewZone:X=>this._viewZones.shouldSuppressMouseDownOnViewZone(X),shouldSuppressMouseDownOnWidget:X=>this._contentWidgets.shouldSuppressMouseDownOnWidget(X),getPositionFromDOMInfo:(X,J)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(X,J)),visibleRangeForPosition:(X,J)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new B.Position(X,J))),getLineWidth:X=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(X))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:X=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(X))}}_applyLayout(){const J=this._context.configuration.options.get(131);this.domNode.setWidth(J.width),this.domNode.setHeight(J.height),this._overflowGuardContainer.setWidth(J.width),this._overflowGuardContainer.setHeight(J.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const X=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+X}handleEvents(X){super.handleEvents(X),this._scheduleRender()}onConfigurationChanged(X){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(X){return this._selections=X.selections,!1}onFocusChanged(X){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(X){return this._context.theme.update(X.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const X of this._viewParts)X.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=y.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Q(()=>this._actualRender())}_getViewPartsToRender(){const X=[];let J=0;for(const ie of this._viewParts)ie.shouldRender()&&(X[J++]=ie);return X}_actualRender(){if(!y.isInDOM(this.domNode.domNode))return;let X=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&X.length===0)return;const J=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(J.startLineNumber,J.endLineNumber,J.centeredLineNumber);const ie=new F.ViewportData(this._selections,J,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ie),this._viewLines.shouldRender()&&(this._viewLines.renderText(ie),this._viewLines.onDidRender(),X=this._getViewPartsToRender());const le=new k.RenderingContext(this._context.viewLayout,ie,this._viewLines);for(const G of X)G.prepareRender(le);for(const G of X)G.render(le),G.onDidRender()}delegateVerticalScrollbarPointerDown(X){this._scrollbar.delegateVerticalScrollbarPointerDown(X)}restoreState(X){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:X.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:X.scrollLeft},1)}getOffsetForColumn(X,J){const ie=this._context.viewModel.model.validatePosition({lineNumber:X,column:J}),le=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ie);this._flushAccumulatedAndRenderNow();const G=this._viewLines.visibleRangeForPosition(new B.Position(le.lineNumber,le.column));return G?G.left:-1}getTargetAtClientPoint(X,J){const ie=this._pointerHandler.getTargetAtClientPoint(X,J);return ie?u.ViewUserInputEvents.convertViewToModelMouseTarget(ie,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(X){return new _.OverviewRuler(this._context,X)}change(X){this._viewZones.changeViewZones(X),this._scheduleRender()}render(X,J){if(J){this._viewLines.forceShouldRender();for(const ie of this._viewParts)ie.forceShouldRender()}X?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(X){this._textAreaHandler.setAriaOptions(X)}addContentWidget(X){this._contentWidgets.addWidget(X.widget),this.layoutContentWidget(X),this._scheduleRender()}layoutContentWidget(X){var J,ie;let le=X.position&&X.position.range||null;if(le===null){const x=X.position?X.position.position:null;x!==null&&(le=new O.Range(x.lineNumber,x.column,x.lineNumber,x.column))}const G=X.position?X.position.preference:null;this._contentWidgets.setWidgetPosition(X.widget,le,G,(ie=(J=X.position)===null||J===void 0?void 0:J.positionAffinity)!==null&&ie!==void 0?ie:null),this._scheduleRender()}removeContentWidget(X){this._contentWidgets.removeWidget(X.widget),this._scheduleRender()}addOverlayWidget(X){this._overlayWidgets.addWidget(X.widget),this.layoutOverlayWidget(X),this._scheduleRender()}layoutOverlayWidget(X){const J=X.position?X.position.preference:null;this._overlayWidgets.setWidgetPosition(X.widget,J)&&this._scheduleRender()}removeOverlayWidget(X){this._overlayWidgets.removeWidget(X.widget),this._scheduleRender()}}e.View=z;function Q(ne){try{return ne()}catch(X){(0,D.onUnexpectedError)(X)}}}),define(oe[676],se([1,0,45,65,59,15,24,22,529,16,380]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new u.RawContextKey("selectionAnchorSet",!1);let h=class Ni{constructor(o,a){this.editor=o,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(a),this.modelChangeListener=o.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(o){return o.getContribution(Ni.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const o=this.editor.getPosition(),a=this.decorationId?[this.decorationId]:[],s=this.editor.deltaDecorations(a,[{range:L.Selection.fromPositions(o,o),options:{description:"selection-anchor",stickiness:1,hoverMessage:new f.MarkdownString().appendText((0,C.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=s[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,y.alert)((0,C.localize)(1,null,o.lineNumber,o.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const o=this.editor.getModel().getDecorationRange(this.decorationId);o&&this.editor.setPosition(o.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const o=this.editor.getModel().getDecorationRange(this.decorationId);if(o){const a=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(o.getStartPosition(),a)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};h.ID="editor.contrib.selectionAnchorController",h=De([fe(1,u.IContextKeyService)],h);class i extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,C.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|32),weight:100}})}run(o,a){var s;return Le(this,void 0,void 0,function*(){(s=h.get(a))===null||s===void 0||s.setSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,C.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(o,a){var s;return Le(this,void 0,void 0,function*(){(s=h.get(a))===null||s===void 0||s.goToSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,C.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|41),weight:100}})}run(o,a){var s;return Le(this,void 0,void 0,function*(){(s=h.get(a))===null||s===void 0||s.selectFromAnchorToCursor()})}}class r extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,C.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(o,a){var s;return Le(this,void 0,void 0,function*(){(s=h.get(a))===null||s===void 0||s.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(h.ID,h),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(r)}),define(oe[677],se([1,0,15,22,467,531]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends y.EditorAction{constructor(h,i){super(i);this.left=h}run(h,i){if(!i.hasModel())return;const n=[],t=i.getSelections();for(const r of t)n.push(new N.MoveCaretCommand(r,this.left));i.pushUndoStop(),i.executeCommands(this.id,n),i.pushUndoStop()}}class b extends L{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:f.EditorContextKeys.writable})}}class C extends L{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:f.EditorContextKeys.writable})}}(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(C)}),define(oe[678],se([1,0,15,103,182,3,22,532]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends y.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(h,i){if(!i.hasModel())return;let n=i.getModel(),t=[],r=i.getSelections();for(let d of r){if(!d.isEmpty())continue;let o=d.startLineNumber,a=d.startColumn,s=n.getLineMaxColumn(o);if(o===1&&(a===1||a===2&&s===2))continue;let l=a===s?d.getPosition():N.MoveOperations.rightPosition(n,d.getPosition().lineNumber,d.getPosition().column),c=N.MoveOperations.leftPosition(n,l),g=N.MoveOperations.leftPosition(n,c),m=n.getValueInRange(D.Range.fromPositions(g,c)),S=n.getValueInRange(D.Range.fromPositions(c,l)),p=D.Range.fromPositions(g,l);t.push(new f.ReplaceCommand(p,S+m))}t.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop())}}(0,y.registerEditorAction)(C)}),define(oe[679],se([1,0,34,17,180,15,29,22,533,41,96]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",n=f.isNative||document.queryCommandSupported("cut"),t=f.isNative||document.queryCommandSupported("copy"),r=typeof navigator.clipboard=="undefined"||y.isFirefox?document.queryCommandSupported("paste"):!0;function d(s){return s.register(),s}e.CutAction=n?d(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:f.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:u.MenuId.EditorContext,group:i,title:C.localize(1,null),when:b.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:C.localize(3,null),when:b.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?d(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:f.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(4,null),order:2},{menuId:u.MenuId.EditorContext,group:i,title:C.localize(5,null),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:C.localize(6,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:C.localize(7,null),order:2}]})):void 0,u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:C.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:C.localize(9,null),original:"Copy As"},group:i,order:3}),e.PasteAction=r?d(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:f.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(10,null),order:4},{menuId:u.MenuId.EditorContext,group:i,title:C.localize(11,null),when:b.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:C.localize(12,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:C.localize(13,null),when:b.EditorContextKeys.writable,order:4}]})):void 0;class o extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(l,c){!c.hasModel()||!c.getOption(32)&&c.getSelection().isEmpty()||(N.CopyOptions.forceCopyWithSyntaxHighlighting=!0,c.focus(),document.execCommand("copy"),N.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function a(s,l){!s||(s.addImplementation(1e4,"code-editor",(c,g)=>{const m=c.get(L.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const S=m.getOption(32),p=m.getSelection();return p&&p.isEmpty()&&!S||document.execCommand(l),!0}return!1}),s.addImplementation(0,"generic-dom",(c,g)=>(document.execCommand(l),!0)))}a(e.CutAction,"cut"),a(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(s,l)=>{const c=s.get(L.ICodeEditorService),g=s.get(h.IClipboardService),m=c.getFocusedCodeEditor();return m&&m.hasTextFocus()?!document.execCommand("paste")&&f.isWeb?(()=>Le(void 0,void 0,void 0,function*(){const p=yield g.readText();if(p!==""){const v=N.InMemoryClipboardMetadataManager.INSTANCE.get(p);let _=!1,w=null,E=null;v&&(_=m.getOption(32)&&!!v.isFromEmptySelection,w=typeof v.multicursorText!="undefined"?v.multicursorText:null,E=v.mode),m.trigger("keyboard","paste",{text:p,pasteOnNewLine:_,multicursorText:w,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(s,l)=>(document.execCommand("paste"),!0))),t&&(0,D.registerEditorAction)(o)}),define(oe[680],se([1,0,59,15,3,22,31,260,469,538,41]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i extends f.EditorAction{constructor(a,s){super(s);this._type=a}run(a,s){const l=a.get(L.ILanguageConfigurationService);if(!s.hasModel())return;const c=s.getModel(),g=[],m=c.getOptions(),S=s.getOption(19),p=s.getSelections().map((_,w)=>({selection:_,index:w,ignoreFirstLine:!1}));p.sort((_,w)=>N.Range.compareRangesUsingStarts(_.selection,w.selection));let v=p[0];for(let _=1;_<p.length;_++){const w=p[_];v.selection.endLineNumber===w.selection.startLineNumber&&(v.index<w.index?w.ignoreFirstLine=!0:(v.ignoreFirstLine=!0,v=w))}for(const _ of p)g.push(new C.LineCommentCommand(l,_.selection,m.tabSize,this._type,S.insertSpace,S.ignoreEmptyLines,_.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,g),s.pushUndoStop()}}class n extends i{constructor(){super(0,{id:"editor.action.commentLine",label:u.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(1,null),order:1}})}}class t extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|33),weight:100}})}}class r extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|51),weight:100}})}}class d extends f.EditorAction{constructor(){super({id:"editor.action.blockComment",label:u.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(5,null),order:2}})}run(a,s){const l=a.get(L.ILanguageConfigurationService);if(!s.hasModel())return;const c=s.getOption(19),g=[],m=s.getSelections();for(const S of m)g.push(new b.BlockCommentCommand(S,c.insertSpace,l));s.pushUndoStop(),s.executeCommands(this.id,g),s.pushUndoStop()}}(0,f.registerEditorAction)(n),(0,f.registerEditorAction)(t),(0,f.registerEditorAction)(r),(0,f.registerEditorAction)(d)}),define(oe[681],se([1,0,7,130,47,2,17,15,22,539,41,16,80,43]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let r=class Ti{constructor(a,s,l,c,g,m){this._contextMenuService=s,this._contextViewService=l,this._contextKeyService=c,this._keybindingService=g,this._menuService=m,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=a,this._toDispose.add(this._editor.onContextMenu(S=>this._onContextMenu(S))),this._toDispose.add(this._editor.onMouseWheel(S=>{if(this._contextMenuIsBeingShownCount>0){const p=this._contextViewService.getContextViewElement(),v=S.srcElement;v.shadowRoot&&y.getShadowRoot(p)===v.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(S=>{!this._editor.getOption(20)||S.keyCode===58&&(S.preventDefault(),S.stopPropagation(),this.showContextMenu())}))}static get(a){return a.getContribution(Ti.ID)}_onContextMenu(a){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),a.target.position&&!this._editor.getSelection().containsPosition(a.target.position)&&this._editor.setPosition(a.target.position);return}if(a.target.type===12||a.target.type===6&&a.target.detail.injectedText||(a.event.preventDefault(),a.event.stopPropagation(),a.target.type!==6&&a.target.type!==7&&a.target.type!==1))return;if(this._editor.focus(),a.target.position){let l=!1;for(const c of this._editor.getSelections())if(c.containsPosition(a.target.position)){l=!0;break}l||this._editor.setPosition(a.target.position)}let s=null;a.target.type!==1&&(s={x:a.event.posx-1,width:2,y:a.event.posy-1,height:2}),this.showContextMenu(s)}showContextMenu(a){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const s=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?h.MenuId.SimpleEditorContext:h.MenuId.EditorContext);s.length>0&&this._doShowContextMenu(s,a)}_getMenuActions(a,s){const l=[],c=this._menuService.createMenu(s,this._contextKeyService),g=c.getActions({arg:a.uri});c.dispose();for(let m of g){const[,S]=m;let p=0;for(const v of S)if(v instanceof h.SubmenuItemAction){const _=this._getMenuActions(a,v.item.submenu);_.length>0&&(l.push(new N.SubmenuAction(v.id,v.label,_)),p++)}else l.push(v),p++;p&&l.push(new N.Separator)}return l.length&&l.pop(),l}_doShowContextMenu(a,s=null){if(!this._editor.hasModel())return;const l=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!s){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const g=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),m=y.getDomNodePagePosition(this._editor.getDomNode()),S=m.left+g.left,p=m.top+g.top+g.height;s={x:S,y:p}}const c=this._editor.getOption(115)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>a,getActionViewItem:g=>{const m=this._keybindingFor(g);if(m)return new f.ActionViewItem(g,g,{label:!0,keybinding:m.getLabel(),isMenu:!0});const S=g;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new f.ActionViewItem(g,g,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:g=>this._keybindingFor(g),onHide:g=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:l})}})}_keybindingFor(a){return this._keybindingService.lookupKeybinding(a.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};r.ID="editor.contrib.contextmenu",r=De([fe(1,n.IContextMenuService),fe(2,n.IContextViewService),fe(3,i.IContextKeyService),fe(4,t.IKeybindingService),fe(5,h.IMenuService)],r),e.ContextMenuController=r;class d extends b.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:u.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(a,s){var l;(l=r.get(s))===null||l===void 0||l.showContextMenu()}}(0,b.registerEditorContribution)(r.ID,r),(0,b.registerEditorAction)(d)}),define(oe[682],se([1,0,2,15,22,540]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class L{constructor(n){this.selections=n}equals(n){const t=this.selections.length,r=n.selections.length;if(t!==r)return!1;for(let d=0;d<t;d++)if(!this.selections[d].equalsSelection(n.selections[d]))return!1;return!0}}class b{constructor(n,t,r){this.cursorState=n,this.scrollTop=t,this.scrollLeft=r}}class C extends y.Disposable{constructor(n){super();this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const r=new L(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new b(r,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(n){return n.getContribution(C.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new b(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new b(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=C,C.ID="editor.contrib.cursorUndoRedoController";class u extends f.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(n,t,r){var d;(d=C.get(t))===null||d===void 0||d.cursorUndo()}}e.CursorUndo=u;class h extends f.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(n,t,r){var d;(d=C.get(t))===null||d===void 0||d.cursorRedo()}}e.CursorRedo=h,(0,f.registerEditorContribution)(C.ID,C),(0,f.registerEditorAction)(u),(0,f.registerEditorAction)(h)}),define(oe[683],se([1,0,15,16,21,84,9,53,541]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const u=(0,L.createDecorator)("IEditorCancelService"),h=new f.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,b.registerSingleton)(u,class{constructor(){this._tokens=new WeakMap}add(n,t){let r=this._tokens.get(n);r||(r=n.invokeWithinContext(o=>{const a=h.bindTo(o.get(f.IContextKeyService)),s=new D.LinkedList;return{key:a,tokens:s}}),this._tokens.set(n,r));let d;return r.key.set(!0),d=r.tokens.push(t),()=>{d&&(d(),r.key.set(!r.tokens.isEmpty()),d=void 0)}}cancel(n){const t=this._tokens.get(n);if(!t)return;const r=t.tokens.pop();r&&(r.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class i extends N.CancellationTokenSource{constructor(t,r){super(r);this.editor=t,this._unregister=t.invokeWithinContext(d=>d.get(u).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=i,(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:h})}runEditorCommand(n,t){n.get(u).cancel(t)}})}),define(oe[113],se([1,0,8,3,21,2,683]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class b{constructor(i,n){if(this.flags=n,(this.flags&1)!=0){const t=i.getModel();this.modelVersionId=t?y.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=i.getPosition():this.position=null,(this.flags&2)!=0?this.selection=i.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=i.getScrollLeft(),this.scrollTop=i.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(i){if(!(i instanceof b))return!1;const n=i;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(i){return this._equals(new b(i,this.flags))}}e.EditorState=b;class C extends L.EditorKeybindingCancellationTokenSource{constructor(i,n,t,r){super(i,r);this._listener=new D.DisposableStore,n&4&&this._listener.add(i.onDidChangeCursorPosition(d=>{(!t||!f.Range.containsPosition(t,d.position))&&this.cancel()})),n&2&&this._listener.add(i.onDidChangeCursorSelection(d=>{(!t||!f.Range.containsRange(t,d.selection))&&this.cancel()})),n&8&&this._listener.add(i.onDidScrollChange(d=>this.cancel())),n&1&&(this._listener.add(i.onDidChangeModel(d=>this.cancel())),this._listener.add(i.onDidChangeModelContent(d=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class u extends N.CancellationTokenSource{constructor(i,n){super(n);this._listener=i.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=u}),define(oe[161],se([1,0,18,21,13,2,25,113,3,24,48,26,76,156,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(m,S){this.action=m,this.provider=S}resolve(m){var S;return Le(this,void 0,void 0,function*(){if(((S=this.provider)===null||S===void 0?void 0:S.resolveCodeAction)&&!this.action.edit){let p;try{p=yield this.provider.resolveCodeAction(this.action,m)}catch(v){(0,N.onUnexpectedExternalError)(v)}p&&(this.action.edit=p.edit)}return this})}}e.CodeActionItem=d;class o extends D.Disposable{constructor(m,S,p){super();this.documentation=S,this._register(p),this.allActions=[...m].sort(o.codeActionsComparator),this.validActions=this.allActions.filter(({action:v})=>!v.disabled)}static codeActionsComparator({action:m},{action:S}){return m.isPreferred&&!S.isPreferred?-1:!m.isPreferred&&S.isPreferred?1:(0,y.isNonEmptyArray)(m.diagnostics)?(0,y.isNonEmptyArray)(S.diagnostics)?m.diagnostics[0].message.localeCompare(S.diagnostics[0].message):-1:(0,y.isNonEmptyArray)(S.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:m})=>!!m.kind&&t.CodeActionKind.QuickFix.contains(new t.CodeActionKind(m.kind))&&!!m.isPreferred)}}const a={actions:[],documentation:void 0};function s(g,m,S,p,v,_){var w;const E=p.filter||{},I={only:(w=E.include)===null||w===void 0?void 0:w.value,trigger:p.type},T=new b.TextModelCancellationTokenSource(m,_),R=l(g,m,E),B=new D.DisposableStore,O=R.map(A=>Le(this,void 0,void 0,function*(){try{v.report(A);const F=yield A.provideCodeActions(m,S,I,T.token);if(F&&B.add(F),T.token.isCancellationRequested)return a;const P=((F==null?void 0:F.actions)||[]).filter(M=>M&&(0,t.filtersAction)(E,M)),W=c(A,P,E.include);return{actions:P.map(M=>new d(M,A)),documentation:W}}catch(F){if((0,N.isCancellationError)(F))throw F;return(0,N.onUnexpectedExternalError)(F),a}})),k=g.onDidChange(()=>{const A=g.all(m);(0,y.equals)(A,R)||T.cancel()});return Promise.all(O).then(A=>{const F=A.map(W=>W.actions).flat(),P=(0,y.coalesce)(A.map(W=>W.documentation));return new o(F,P,B)}).finally(()=>{k.dispose(),T.dispose()})}e.getCodeActions=s;function l(g,m,S){return g.all(m).filter(p=>p.providedCodeActionKinds?p.providedCodeActionKinds.some(v=>(0,t.mayIncludeActionsOfKind)(S,new t.CodeActionKind(v))):!0)}function c(g,m,S){if(!g.documentation)return;const p=g.documentation.map(v=>({kind:new t.CodeActionKind(v.kind),command:v.command}));if(S){let v;for(const _ of p)_.kind.contains(S)&&(v?v.kind.contains(_.kind)&&(v=_):v=_);if(v)return v==null?void 0:v.command}for(const v of m)if(!!v.kind){for(const _ of p)if(_.kind.contains(new t.CodeActionKind(v.kind)))return _.command}}i.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(g,m,S,p,v){return Le(this,void 0,void 0,function*(){if(!(m instanceof L.URI))throw(0,N.illegalArgument)();const{codeActionProvider:_}=g.get(r.ILanguageFeaturesService),w=g.get(h.IModelService).getModel(m);if(!w)throw(0,N.illegalArgument)();const E=u.Selection.isISelection(S)?u.Selection.liftSelection(S):C.Range.isIRange(S)?w.validateRange(S):void 0;if(!E)throw(0,N.illegalArgument)();const I=typeof p=="string"?new t.CodeActionKind(p):void 0,T=yield s(_,w,E,{type:1,filter:{includeSourceActions:!0,include:I}},n.Progress.None,f.CancellationToken.None),R=[],B=Math.min(T.validActions.length,typeof v=="number"?v:0);for(let O=0;O<B;O++)R.push(T.validActions[O].resolve(f.CancellationToken.None));try{return yield Promise.all(R),T.validActions.map(O=>O.action)}finally{setTimeout(()=>T.dispose(),100)}})})}),define(oe[684],se([1,0,7,47,13,137,2,11,20,161,156,80,43]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class t extends f.Action{constructor(s,l){super(s.command?s.command.id:s.title,r(s.title),void 0,!s.disabled,l);this.action=s}}function r(a){return a.replace(/\r\n|\r|\n/g," ")}let d=class extends L.Disposable{constructor(s,l,c,g,m){super();this._editor=s,this._delegate=l,this._contextMenuService=c,this._languageFeaturesService=m,this._visible=!1,this._showingActions=this._register(new L.MutableDisposable),this._keybindingResolver=new o({getKeybindings:()=>g.getKeybindings()})}get isVisible(){return this._visible}show(s,l,c,g){return Le(this,void 0,void 0,function*(){const m=g.includeDisabledActions?l.allActions:l.validActions;if(!m.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,N.canceled)();this._visible=!0,this._showingActions.value=l;const S=this.getMenuActions(s,m,l.documentation),p=b.Position.isIPosition(c)?this._toCoords(c):c||{x:0,y:0},v=this._keybindingResolver.getResolver(),_=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>S,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:w=>w instanceof t?v(w.action):void 0})})}getMenuActions(s,l,c){var g,m;const S=w=>new t(w.action,()=>this._delegate.onSelectCodeAction(w)),p=l.map(S),v=[...c],_=this._editor.getModel();if(_&&p.length)for(const w of this._languageFeaturesService.codeActionProvider.all(_))w._getAdditionalMenuItems&&v.push(...w._getAdditionalMenuItems({trigger:s.type,only:(m=(g=s.filter)===null||g===void 0?void 0:g.include)===null||m===void 0?void 0:m.value},l.map(E=>E.action)));return v.length&&p.push(new f.Separator,...v.map(w=>S(new u.CodeActionItem({title:w.title,command:w},void 0)))),p}_toCoords(s){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(s,1),this._editor.render();const l=this._editor.getScrolledVisiblePosition(s),c=(0,y.getDomNodePagePosition)(this._editor.getDomNode()),g=c.left+l.left,m=c.top+l.top+l.height;return{x:g,y:m}}};d=De([fe(2,i.IContextMenuService),fe(3,n.IKeybindingService),fe(4,C.ILanguageFeaturesService)],d),e.CodeActionMenu=d;class o{constructor(s){this._keybindingProvider=s}getResolver(){const s=new D.Lazy(()=>this._keybindingProvider.getKeybindings().filter(l=>o.codeActionCommands.indexOf(l.command)>=0).filter(l=>l.resolvedKeybinding).map(l=>{let c=l.commandArgs;return l.command===u.organizeImportsCommandId?c={kind:h.CodeActionKind.SourceOrganizeImports.value}:l.command===u.fixAllCommandId&&(c={kind:h.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:l.resolvedKeybinding},h.CodeActionCommandArgs.fromUser(c,{kind:h.CodeActionKind.None,apply:"never"}))}));return l=>{if(l.kind){const c=this.bestKeybindingForCodeAction(l,s.getValue());return c==null?void 0:c.resolvedKeybinding}}}bestKeybindingForCodeAction(s,l){if(!s.kind)return;const c=new h.CodeActionKind(s.kind);return l.filter(g=>g.kind.contains(c)).filter(g=>g.preferred?s.isPreferred:!0).reduceRight((g,m)=>g?g.kind.contains(m.kind)?m:g:m,void 0)}}e.CodeActionKeybindingResolver=o,o.codeActionCommands=[u.refactorCommandId,u.codeActionCommandId,u.sourceActionCommandId,u.organizeImportsCommandId,u.fixAllCommandId]});var Tt=this&&this.__classPrivateFieldGet||function(K,e,y,f){if(y==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!f:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?f:y==="a"?f.call(K):f?f.value:e.get(K)},ei=this&&this.__classPrivateFieldSet||function(K,e,y,f,N){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!N:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?N.call(K,y):N?N.value=y:e.set(K,y),y};define(oe[685],se([1,0,10,13,4,2,42,3,16,76,161]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new C.RawContextKey("supportedCodeAction","");class n extends D.Disposable{constructor(a,s,l,c=250){super();this._editor=a,this._markerService=s,this._signalChange=l,this._delay=c,this._autoTriggerTimer=this._register(new y.TimeoutTimer),this._register(this._markerService.onMarkerChanged(g=>this._onMarkerChanges(g))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const s=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,s)}_onMarkerChanges(a){const s=this._editor.getModel();!s||a.some(l=>(0,L.isEqual)(l,s.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(a){const s=this._editor.getModel();if(!!s)for(const l of this._markerService.read({resource:s.uri})){const c=s.validateRange(l);if(b.Range.intersectRanges(c,a))return b.Range.lift(c)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const s=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&a.type===2){const{lineNumber:c,column:g}=l.getPosition(),m=s.getLineContent(c);if(m.length===0)return;if(g===1){if(/\s/.test(m[0]))return}else if(g===s.getLineMaxColumn(c)){if(/\s/.test(m[m.length-1]))return}else if(/\s/.test(m[g-2])&&/\s/.test(m[g-1]))return}return l}_createEventAndSignalChange(a,s){const l=this._editor.getModel();if(!s||!l){this._signalChange(void 0);return}const c=this._getRangeOfMarker(s),g=c?c.getStartPosition():s.getStartPosition(),m={trigger:a,selection:s,position:g};return this._signalChange(m),m}}var t;(function(o){o.Empty={type:0};class a{constructor(l,c,g,m){this.trigger=l,this.rangeOrSelection=c,this.position=g,this._cancellablePromise=m,this.type=1,this.actions=m.catch(S=>{if((0,f.isCancellationError)(S))return r;throw S})}cancel(){this._cancellablePromise.cancel()}}o.Triggered=a})(t=e.CodeActionsState||(e.CodeActionsState={}));const r={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class d extends D.Disposable{constructor(a,s,l,c,g){super();this._editor=a,this._registry=s,this._markerService=l,this._progressService=g,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=t.Empty,this._onDidChangeState=this._register(new N.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(c),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Tt(this,i,"f")||(ei(this,i,!0,"f"),super.dispose(),this.setState(t.Empty,!0))}_update(){if(Tt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(t.Empty);const a=this._editor.getModel();if(a&&this._registry.has(a)&&!this._editor.getOption(81)){const s=[];for(const l of this._registry.all(a))Array.isArray(l.providedCodeActionKinds)&&s.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(s.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,l=>{var c;if(!l){this.setState(t.Empty);return}const g=(0,y.createCancelablePromise)(m=>(0,h.getCodeActions)(this._registry,a,l.selection,l.trigger,u.Progress.None,m));l.trigger.type===1&&((c=this._progressService)===null||c===void 0||c.showWhile(g,250)),this.setState(new t.Triggered(l.trigger,l.selection,l.position,g))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(a){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(a)}setState(a,s){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!s&&!Tt(this,i,"f")&&this._onDidChangeState.fire(a))}}e.CodeActionModel=d,i=new WeakMap}),define(oe[686],se([1,0,15,147,546]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:N.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(u,h){f.EditorZoom.setZoomLevel(f.EditorZoom.getZoomLevel()+1)}}class L extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:N.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(u,h){f.EditorZoom.setZoomLevel(f.EditorZoom.getZoomLevel()-1)}}class b extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:N.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(u,h){f.EditorZoom.setZoomLevel(0)}}(0,y.registerEditorAction)(D),(0,y.registerEditorAction)(L),(0,y.registerEditorAction)(b)}),define(oe[297],se([1,0,45,18,21,13,56,84,19,25,113,150,11,3,24,89,58,262,547,26,610,9,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function S(O){if(O=O.filter(P=>P.range),!O.length)return;let{range:k}=O[0];for(let P=1;P<O.length;P++)k=t.Range.plusRange(k,O[P].range);const{startLineNumber:A,endLineNumber:F}=k;A===F?O.length===1?(0,y.alert)(s.localize(0,null,A)):(0,y.alert)(s.localize(1,null,O.length,A)):O.length===1?(0,y.alert)(s.localize(2,null,A,F)):(0,y.alert)(s.localize(3,null,O.length,A,F))}e.alertFormattingEdits=S;function p(O,k,A){const F=[],P=new Set,W=O.ordered(A);for(const z of W)F.push(z),z.extensionId&&P.add(c.ExtensionIdentifier.toKey(z.extensionId));const M=k.ordered(A);for(const z of M){if(z.extensionId){if(P.has(c.ExtensionIdentifier.toKey(z.extensionId)))continue;P.add(c.ExtensionIdentifier.toKey(z.extensionId))}F.push({displayName:z.displayName,extensionId:z.extensionId,provideDocumentFormattingEdits(Q,ne,X){return z.provideDocumentRangeFormattingEdits(Q,Q.getFullModelRange(),ne,X)}})}return F}e.getRealAndSyntheticDocumentFormattersOrdered=p;class v{static setFormatterSelector(k){return{dispose:v._selectors.unshift(k)}}static select(k,A,F){return Le(this,void 0,void 0,function*(){if(k.length===0)return;const P=L.Iterable.first(v._selectors);if(P)return yield P(k,A,F)})}}e.FormattingConflicts=v,v._selectors=new b.LinkedList;function _(O,k,A,F,P,W){return Le(this,void 0,void 0,function*(){const M=O.get(g.IInstantiationService),{documentRangeFormattingEditProvider:z}=O.get(m.ILanguageFeaturesService),Q=(0,i.isCodeEditor)(k)?k.getModel():k,ne=z.ordered(Q),X=yield v.select(ne,Q,F);X&&(P.report(X),yield M.invokeFunction(w,X,k,A,W))})}e.formatDocumentRangesWithSelectedProvider=_;function w(O,k,A,F,P){return Le(this,void 0,void 0,function*(){const W=O.get(d.IEditorWorkerService);let M,z;(0,i.isCodeEditor)(A)?(M=A.getModel(),z=new h.EditorStateCancellationTokenSource(A,1|4,void 0,P)):(M=A,z=new h.TextModelCancellationTokenSource(A,P));let Q=[],ne=0;for(let G of(0,f.asArray)(F).sort(t.Range.compareRangesUsingStarts))ne>0&&t.Range.areIntersectingOrTouching(Q[ne-1],G)?Q[ne-1]=t.Range.fromPositions(Q[ne-1].getStartPosition(),G.getEndPosition()):ne=Q.push(G);const X=G=>Le(this,void 0,void 0,function*(){return(yield k.provideDocumentRangeFormattingEdits(M,G,M.getFormattingOptions(),z.token))||[]}),J=(G,x)=>{if(!G.length||!x.length)return!1;const V=G.reduce((j,re)=>t.Range.plusRange(j,re.range),G[0].range);if(!x.some(j=>t.Range.intersectRanges(V,j.range)))return!1;for(let j of G)for(let re of x)if(t.Range.intersectRanges(j.range,re.range))return!0;return!1},ie=[],le=[];try{for(let G of Q){if(z.token.isCancellationRequested)return!0;le.push(yield X(G))}for(let G=0;G<Q.length;++G)for(let x=G+1;x<Q.length;++x){if(z.token.isCancellationRequested)return!0;if(J(le[G],le[x])){const V=t.Range.plusRange(Q[G],Q[x]),j=yield X(V);Q.splice(x,1),Q.splice(G,1),Q.push(V),le.splice(x,1),le.splice(G,1),le.push(j),G=0,x=0}}for(let G of le){if(z.token.isCancellationRequested)return!0;const x=yield W.computeMoreMinimalEdits(M.uri,G);x&&ie.push(...x)}}finally{z.dispose()}if(ie.length===0)return!1;if((0,i.isCodeEditor)(A))a.FormattingEdit.execute(A,ie,!0),S(ie),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:G}]=ie,x=new r.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn);M.pushEditOperations([x],ie.map(V=>({text:V.text,range:t.Range.lift(V.range),forceMoveMarkers:!0})),V=>{for(const{range:j}of V)if(t.Range.areIntersectingOrTouching(j,x))return[new r.Selection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=w;function E(O,k,A,F,P){return Le(this,void 0,void 0,function*(){const W=O.get(g.IInstantiationService),M=O.get(m.ILanguageFeaturesService),z=(0,i.isCodeEditor)(k)?k.getModel():k,Q=p(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,z),ne=yield v.select(Q,z,A);ne&&(F.report(ne),yield W.invokeFunction(I,ne,k,A,P))})}e.formatDocumentWithSelectedProvider=E;function I(O,k,A,F,P){return Le(this,void 0,void 0,function*(){const W=O.get(d.IEditorWorkerService);let M,z;(0,i.isCodeEditor)(A)?(M=A.getModel(),z=new h.EditorStateCancellationTokenSource(A,1|4,void 0,P)):(M=A,z=new h.TextModelCancellationTokenSource(A,P));let Q;try{const ne=yield k.provideDocumentFormattingEdits(M,M.getFormattingOptions(),z.token);if(Q=yield W.computeMoreMinimalEdits(M.uri,ne),z.token.isCancellationRequested)return!0}finally{z.dispose()}if(!Q||Q.length===0)return!1;if((0,i.isCodeEditor)(A))a.FormattingEdit.execute(A,Q,F!==2),F!==2&&(S(Q),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:ne}]=Q,X=new r.Selection(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn);M.pushEditOperations([X],Q.map(J=>({text:J.text,range:t.Range.lift(J.range),forceMoveMarkers:!0})),J=>{for(const{range:ie}of J)if(t.Range.areIntersectingOrTouching(ie,X))return[new r.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=I;function T(O,k,A,F,P,W){return Le(this,void 0,void 0,function*(){const M=k.documentRangeFormattingEditProvider.ordered(A);for(const z of M){let Q=yield Promise.resolve(z.provideDocumentRangeFormattingEdits(A,F,P,W)).catch(D.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(Q))return yield O.computeMoreMinimalEdits(A.uri,Q)}})}e.getDocumentRangeFormattingEditsUntilResult=T;function R(O,k,A,F,P){return Le(this,void 0,void 0,function*(){const W=p(k.documentFormattingEditProvider,k.documentRangeFormattingEditProvider,A);for(const M of W){let z=yield Promise.resolve(M.provideDocumentFormattingEdits(A,F,P)).catch(D.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(z))return yield O.computeMoreMinimalEdits(A.uri,z)}})}e.getDocumentFormattingEditsUntilResult=R;function B(O,k,A,F,P,W,M){const z=k.onTypeFormattingEditProvider.ordered(A);return z.length===0||z[0].autoFormatTriggerCharacters.indexOf(P)<0?Promise.resolve(void 0):Promise.resolve(z[0].provideOnTypeFormattingEdits(A,F,P,W,M)).catch(D.onUnexpectedExternalError).then(Q=>O.computeMoreMinimalEdits(A.uri,Q))}e.getOnTypeFormattingEdits=B,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(O,...k){return Le(this,void 0,void 0,function*(){const[A,F,P]=k;(0,C.assertType)(u.URI.isUri(A)),(0,C.assertType)(t.Range.isIRange(F));const W=O.get(o.ITextModelService),M=O.get(d.IEditorWorkerService),z=O.get(m.ILanguageFeaturesService),Q=yield W.createModelReference(A);try{return T(M,z,Q.object.textEditorModel,t.Range.lift(F),P,N.CancellationToken.None)}finally{Q.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(O,...k){return Le(this,void 0,void 0,function*(){const[A,F]=k;(0,C.assertType)(u.URI.isUri(A));const P=O.get(o.ITextModelService),W=O.get(d.IEditorWorkerService),M=O.get(m.ILanguageFeaturesService),z=yield P.createModelReference(A);try{return R(W,M,z.object.textEditorModel,F,N.CancellationToken.None)}finally{z.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(O,...k){return Le(this,void 0,void 0,function*(){const[A,F,P,W]=k;(0,C.assertType)(u.URI.isUri(A)),(0,C.assertType)(n.Position.isIPosition(F)),(0,C.assertType)(typeof P=="string");const M=O.get(o.ITextModelService),z=O.get(d.IEditorWorkerService),Q=O.get(m.ILanguageFeaturesService),ne=yield M.createModelReference(A);try{return B(z,Q,ne.object.textEditorModel,n.Position.lift(F),P,W,N.CancellationToken.None)}finally{ne.dispose()}})})}),define(oe[687],se([1,0,18,21,13,59,2,15,29,102,3,22,89,20,297,262,548,26,16,9,76]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let g=class{constructor(_,w,E){this._editor=_,this._languageFeaturesService=w,this._workerService=E,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._disposables.add(w.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(_.onDidChangeModel(()=>this._update())),this._disposables.add(_.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(_.onDidChangeConfiguration(I=>{I.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const _=this._editor.getModel(),[w]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(_);if(!w||!w.autoFormatTriggerCharacters)return;let E=new u.CharacterSet;for(let I of w.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(I=>{let T=I.charCodeAt(I.length-1);E.has(T)&&this._trigger(String.fromCharCode(T))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const w=this._editor.getModel(),E=this._editor.getPosition(),I=new f.CancellationTokenSource,T=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){I.cancel(),T.dispose();return}for(let B=0,O=R.changes.length;B<O;B++)if(R.changes[B].range.endLineNumber<=E.lineNumber){I.cancel(),T.dispose();return}});(0,r.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,w,E,_,w.getFormattingOptions(),I.token).then(R=>{I.token.isCancellationRequested||(0,y.isNonEmptyArray)(R)&&(d.FormattingEdit.execute(this._editor,R,!0),(0,r.alertFormattingEdits)(R))}).finally(()=>{T.dispose()})}};g.ID="editor.contrib.autoFormat",g=De([fe(1,t.ILanguageFeaturesService),fe(2,n.IEditorWorkerService)],g);let m=class{constructor(_,w,E){this.editor=_,this._languageFeaturesService=w,this._instantiationService=E,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(w.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_))))}_trigger(_){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(r.formatDocumentRangesWithSelectedProvider,this.editor,_,2,c.Progress.None,f.CancellationToken.None).catch(N.onUnexpectedError)}};m.ID="editor.contrib.formatOnPaste",m=De([fe(1,t.ILanguageFeaturesService),fe(2,l.IInstantiationService)],m);class S extends b.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:o.localize(0,null),alias:"Format Document",precondition:s.ContextKeyExpr.and(i.EditorContextKeys.notInCompositeEditor,i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_,w){return Le(this,void 0,void 0,function*(){if(w.hasModel()){const E=_.get(l.IInstantiationService);yield _.get(c.IEditorProgressService).showWhile(E.invokeFunction(r.formatDocumentWithSelectedProvider,w,1,c.Progress.None,f.CancellationToken.None),250)}})}}class p extends b.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:o.localize(1,null),alias:"Format Selection",precondition:s.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:i.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_,w){return Le(this,void 0,void 0,function*(){if(!w.hasModel())return;const E=_.get(l.IInstantiationService),I=w.getModel(),T=w.getSelections().map(B=>B.isEmpty()?new h.Range(B.startLineNumber,1,B.startLineNumber,I.getLineMaxColumn(B.startLineNumber)):B);yield _.get(c.IEditorProgressService).showWhile(E.invokeFunction(r.formatDocumentRangesWithSelectedProvider,w,T,1,c.Progress.None,f.CancellationToken.None),250)})}}(0,b.registerEditorContribution)(g.ID,g),(0,b.registerEditorContribution)(m.ID,m),(0,b.registerEditorAction)(S),(0,b.registerEditorAction)(p),a.CommandsRegistry.registerCommand("editor.action.format",v=>Le(void 0,void 0,void 0,function*(){const _=v.get(C.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const w=v.get(a.ICommandService);_.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(oe[298],se([1,0,21,13,15,131,20]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function b(r,d,o,a){const l=o.ordered(r).map(c=>Promise.resolve(a(c,r,d)).then(void 0,g=>{(0,f.onUnexpectedExternalError)(g)}));return Promise.all(l).then(c=>{const g=[];for(let m of c)Array.isArray(m)?g.push(...m):m&&g.push(m);return g})}function C(r,d,o,a){return b(d,o,r,(s,l,c)=>s.provideDefinition(l,c,a))}e.getDefinitionsAtPosition=C;function u(r,d,o,a){return b(d,o,r,(s,l,c)=>s.provideDeclaration(l,c,a))}e.getDeclarationsAtPosition=u;function h(r,d,o,a){return b(d,o,r,(s,l,c)=>s.provideImplementation(l,c,a))}e.getImplementationsAtPosition=h;function i(r,d,o,a){return b(d,o,r,(s,l,c)=>s.provideTypeDefinition(l,c,a))}e.getTypeDefinitionsAtPosition=i;function n(r,d,o,a,s){return b(d,o,r,(l,c,g)=>Le(this,void 0,void 0,function*(){const m=yield l.provideReferences(c,g,{includeDeclaration:!0},s);if(!a||!m||m.length!==2)return m;const S=yield l.provideReferences(c,g,{includeDeclaration:!1},s);return S&&S.length===1?S:m}))}e.getReferencesAtPosition=n;function t(r){return Le(this,void 0,void 0,function*(){const d=yield r(),o=new D.ReferencesModel(d,""),a=o.references.map(s=>s.link);return o.dispose(),a})}(0,N.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,d,o)=>{const a=r.get(L.ILanguageFeaturesService),s=C(a.definitionProvider,d,o,y.CancellationToken.None);return t(()=>s)}),(0,N.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,d,o)=>{const a=r.get(L.ILanguageFeaturesService),s=i(a.typeDefinitionProvider,d,o,y.CancellationToken.None);return t(()=>s)}),(0,N.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,d,o)=>{const a=r.get(L.ILanguageFeaturesService),s=u(a.declarationProvider,d,o,y.CancellationToken.None);return t(()=>s)}),(0,N.registerModelAndPositionCommand)("_executeReferenceProvider",(r,d,o)=>{const a=r.get(L.ILanguageFeaturesService),s=n(a.referenceProvider,d,o,!1,y.CancellationToken.None);return t(()=>s)}),(0,N.registerModelAndPositionCommand)("_executeImplementationProvider",(r,d,o)=>{const a=r.get(L.ILanguageFeaturesService),s=h(a.implementationProvider,d,o,y.CancellationToken.None);return t(()=>s)})}),define(oe[688],se([1,0,4,2,42,15,29,3,557,16,53,9,43,97,40]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new u.RawContextKey("hasSymbols",!1,(0,C.localize)(0,null)),e.ISymbolNavigationService=(0,i.createDecorator)("ISymbolNavigationService");let d=class{constructor(s,l,c,g){this._editorService=l,this._notificationService=c,this._keybindingService=g,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(s)}reset(){var s,l;this._ctxHasSymbols.reset(),(s=this._currentState)===null||s===void 0||s.dispose(),(l=this._currentMessage)===null||l===void 0||l.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(s){const l=s.parent.parent;if(l.references.length<=1){this.reset();return}this._currentModel=l,this._currentIdx=l.references.indexOf(s),this._ctxHasSymbols.set(!0),this._showMessage();const c=new o(this._editorService),g=c.onDidChange(m=>{if(this._ignoreEditorChange)return;const S=this._editorService.getActiveCodeEditor();if(!S)return;const p=S.getModel(),v=S.getPosition();if(!p||!v)return;let _=!1,w=!1;for(const E of l.references)if((0,N.isEqual)(E.uri,p.uri))_=!0,w=w||b.Range.containsPosition(E.range,v);else if(_)break;(!_||!w)&&this.reset()});this._currentState=(0,f.combinedDisposable)(c,g)}revealNext(s){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const l=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:l.uri,options:{selection:b.Range.collapseToStart(l.range),selectionRevealType:3}},s).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var s;(s=this._currentMessage)===null||s===void 0||s.dispose();const l=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),c=l?(0,C.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,l.getLabel()):(0,C.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(c)}};d=De([fe(0,u.IContextKeyService),fe(1,L.ICodeEditorService),fe(2,r.INotificationService),fe(3,n.IKeybindingService)],d),(0,h.registerSingleton)(e.ISymbolNavigationService,d,!0),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(a,s){return a.get(e.ISymbolNavigationService).revealNext(s)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(a){a.get(e.ISymbolNavigationService).reset()}});let o=class{constructor(s){this._listener=new Map,this._disposables=new f.DisposableStore,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(s.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(s.onCodeEditorAdd(this._onDidAddEditor,this)),s.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,f.dispose)(this._listener.values())}_onDidAddEditor(s){this._listener.set(s,(0,f.combinedDisposable)(s.onDidChangeCursorPosition(l=>this._onDidChange.fire({editor:s})),s.onDidChangeModelContent(l=>this._onDidChange.fire({editor:s}))))}_onDidRemoveEditor(s){var l;(l=this._listener.get(s))===null||l===void 0||l.dispose(),this._listener.delete(s)}};o=De([fe(0,L.ICodeEditorService)],o)}),define(oe[299],se([1,0,10,21,13,15,20]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class b{constructor(t,r,d){this.provider=t,this.hover=r,this.ordinal=d}}e.HoverProviderResult=b;function C(n,t,r,d,o){return Le(this,void 0,void 0,function*(){try{const a=yield Promise.resolve(n.provideHover(r,d,o));if(a&&i(a))return new b(n,a,t)}catch(a){(0,N.onUnexpectedExternalError)(a)}})}function u(n,t,r,d){const a=n.ordered(t).map((s,l)=>C(s,l,t,r,d));return y.AsyncIterableObject.fromPromises(a).coalesce()}e.getHover=u;function h(n,t,r,d){return u(n,t,r,d).map(o=>o.hover).toPromise()}e.getHoverPromise=h,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(n,t,r)=>{const d=n.get(L.ILanguageFeaturesService);return h(d.hoverProvider,t,r,f.CancellationToken.None)});function i(n){const t=typeof n.range!="undefined",r=typeof n.contents!="undefined"&&n.contents&&n.contents.length>0;return t&&r}}),define(oe[211],se([1,0,7,18,10,65,2,111,11,3,36,299,559,37,49,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const o=y.$;class a{constructor(g,m,S,p){this.owner=g,this.range=m,this.contents=S,this.ordinal=p}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.MarkdownHover=a;let s=class{constructor(g,m,S,p,v){this._editor=g,this._languageService=m,this._openerService=S,this._configurationService=p,this._languageFeaturesService=v,this.hoverOrdinal=2}createLoadingMessage(g){return new a(this,g.range,[new D.MarkdownString().appendText(n.localize(0,null))],2e3)}computeSync(g,m){if(!this._editor.hasModel()||g.type!==1)return[];const S=this._editor.getModel(),p=g.range.startLineNumber,v=S.getLineMaxColumn(p),_=[];let w=1e3;const E=S.getLineLength(p),I=S.getLanguageIdAtPosition(g.range.startLineNumber,g.range.startColumn),T=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});typeof T=="number"&&E>=T&&_.push(new a(this,g.range,[{value:n.localize(1,null)}],w++));for(const R of m){const B=R.range.startLineNumber===p?R.range.startColumn:1,O=R.range.endLineNumber===p?R.range.endColumn:v,k=R.options.hoverMessage;if(!k||(0,D.isEmptyMarkdownString)(k))continue;const A=new u.Range(g.range.startLineNumber,B,g.range.startLineNumber,O);_.push(new a(this,A,(0,f.asArray)(k),w++))}return _}computeAsync(g,m,S){if(!this._editor.hasModel()||g.type!==1)return N.AsyncIterableObject.EMPTY;const p=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(p))return N.AsyncIterableObject.EMPTY;const v=new C.Position(g.range.startLineNumber,g.range.startColumn);return(0,i.getHover)(this._languageFeaturesService.hoverProvider,p,v,S).filter(_=>!(0,D.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const w=_.hover.range?u.Range.lift(_.hover.range):g.range;return new a(this,w,_.hover.contents,_.ordinal)})}renderHoverParts(g,m){return l(g,m,this._editor,this._languageService,this._openerService)}};s=De([fe(1,h.ILanguageService),fe(2,r.IOpenerService),fe(3,t.IConfigurationService),fe(4,d.ILanguageFeaturesService)],s),e.MarkdownHoverParticipant=s;function l(c,g,m,S,p){g.sort((_,w)=>_.ordinal-w.ordinal);const v=new L.DisposableStore;for(const _ of g)for(const w of _.contents){if((0,D.isEmptyMarkdownString)(w))continue;const E=o("div.hover-row.markdown-hover"),I=y.append(E,o("div.hover-contents")),T=v.add(new b.MarkdownRenderer({editor:m},S,p));v.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",c.onContentsChanged()}));const R=v.add(T.render(w));I.appendChild(R.element),c.fragment.appendChild(E)}return v}e.renderMarkdownHovers=l}),define(oe[689],se([1,0,2,8,15,209,61,3,24,22,31,48,264,562,82,179,207]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function a(R,B,O,k,A){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return[];const F=B.getLanguageConfiguration(R.getLanguageId()).indentationRules;if(!F)return[];for(k=Math.min(k,R.getLineCount());O<=k&&F.unIndentedLinePattern;){let G=R.getLineContent(O);if(!F.unIndentedLinePattern.test(G))break;O++}if(O>k-1)return[];const{tabSize:P,indentSize:W,insertSpaces:M}=R.getOptions(),z=(G,x)=>(x=x||1,D.ShiftCommand.shiftIndent(G,G.length+x,P,W,M)),Q=(G,x)=>(x=x||1,D.ShiftCommand.unshiftIndent(G,G.length+x,P,W,M));let ne=[],X,J=R.getLineContent(O),ie=J;if(A!=null){X=A;let G=f.getLeadingWhitespace(J);ie=X+J.substring(G.length),F.decreaseIndentPattern&&F.decreaseIndentPattern.test(ie)&&(X=Q(X),ie=X+J.substring(G.length)),J!==ie&&ne.push(L.EditOperation.replaceMove(new C.Selection(O,1,O,G.length+1),(0,d.normalizeIndentation)(X,W,M)))}else X=f.getLeadingWhitespace(J);let le=X;F.increaseIndentPattern&&F.increaseIndentPattern.test(ie)?(le=z(le),X=z(X)):F.indentNextLinePattern&&F.indentNextLinePattern.test(ie)&&(le=z(le)),O++;for(let G=O;G<=k;G++){let x=R.getLineContent(G),V=f.getLeadingWhitespace(x),j=le+x.substring(V.length);F.decreaseIndentPattern&&F.decreaseIndentPattern.test(j)&&(le=Q(le),X=Q(X)),V!==le&&ne.push(L.EditOperation.replaceMove(new C.Selection(G,1,G,V.length+1),(0,d.normalizeIndentation)(le,W,M))),!(F.unIndentedLinePattern&&F.unIndentedLinePattern.test(x))&&(F.increaseIndentPattern&&F.increaseIndentPattern.test(j)?(X=z(X),le=X):F.indentNextLinePattern&&F.indentNextLinePattern.test(j)?le=z(le):le=X)}return ne}e.getReindentEditOperations=a;class s extends N.EditorAction{constructor(){super({id:s.ID,label:t.localize(0,null),alias:"Convert Indentation to Spaces",precondition:u.EditorContextKeys.writable})}run(B,O){let k=O.getModel();if(!k)return;let A=k.getOptions(),F=O.getSelection();if(!F)return;const P=new I(F,A.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[P]),O.pushUndoStop(),k.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class l extends N.EditorAction{constructor(){super({id:l.ID,label:t.localize(1,null),alias:"Convert Indentation to Tabs",precondition:u.EditorContextKeys.writable})}run(B,O){let k=O.getModel();if(!k)return;let A=k.getOptions(),F=O.getSelection();if(!F)return;const P=new T(F,A.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[P]),O.pushUndoStop(),k.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=l,l.ID="editor.action.indentationToTabs";class c extends N.EditorAction{constructor(B,O){super(O);this.insertSpaces=B}run(B,O){const k=B.get(r.IQuickInputService),A=B.get(i.IModelService);let F=O.getModel();if(!F)return;const P=A.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget),W=[1,2,3,4,5,6,7,8].map(z=>({id:z.toString(),label:z.toString(),description:z===P.tabSize?t.localize(2,null):void 0})),M=Math.min(F.getOptions().tabSize-1,7);setTimeout(()=>{k.pick(W,{placeHolder:t.localize(3,null),activeItem:W[M]}).then(z=>{z&&F&&!F.isDisposed()&&F.updateOptions({tabSize:parseInt(z.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=c;class g extends c{constructor(){super(!1,{id:g.ID,label:t.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=g,g.ID="editor.action.indentUsingTabs";class m extends c{constructor(){super(!0,{id:m.ID,label:t.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=m,m.ID="editor.action.indentUsingSpaces";class S extends N.EditorAction{constructor(){super({id:S.ID,label:t.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(B,O){const k=B.get(i.IModelService);let A=O.getModel();if(!A)return;const F=k.getCreationOptions(A.getLanguageId(),A.uri,A.isForSimpleWidget);A.detectIndentation(F.insertSpaces,F.tabSize)}}e.DetectIndentation=S,S.ID="editor.action.detectIndentation";class p extends N.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:t.localize(7,null),alias:"Reindent Lines",precondition:u.EditorContextKeys.writable})}run(B,O){const k=B.get(h.ILanguageConfigurationService);let A=O.getModel();if(!A)return;let F=a(A,k,1,A.getLineCount());F.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,F),O.pushUndoStop())}}e.ReindentLinesAction=p;class v extends N.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:t.localize(8,null),alias:"Reindent Selected Lines",precondition:u.EditorContextKeys.writable})}run(B,O){const k=B.get(h.ILanguageConfigurationService);let A=O.getModel();if(!A)return;let F=O.getSelections();if(F===null)return;let P=[];for(let W of F){let M=W.startLineNumber,z=W.endLineNumber;if(M!==z&&W.endColumn===1&&z--,M===1){if(M===z)continue}else M--;let Q=a(A,k,M,z);P.push(...Q)}P.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,P),O.pushUndoStop())}}e.ReindentSelectedLinesAction=v;class _{constructor(B,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(let k of B)k.range&&typeof k.text=="string"&&this._edits.push(k)}getEditOperations(B,O){for(let A of this._edits)O.addEditOperation(b.Range.lift(A.range),A.text);let k=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(k=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(k=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),k||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(B,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=_;let w=class{constructor(B,O){this.editor=B,this._languageConfigurationService=O,this.callOnDispose=new y.DisposableStore,this.callOnModel=new y.DisposableStore,this.callOnDispose.add(B.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(B.onDidChangeModel(()=>this.update())),this.callOnDispose.add(B.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:B})=>{this.trigger(B)})))}trigger(B){let O=this.editor.getSelections();if(O===null||O.length>1)return;const k=this.editor.getModel();if(!k||!k.tokenization.isCheapToTokenize(B.getStartPosition().lineNumber))return;const A=this.editor.getOption(9),{tabSize:F,indentSize:P,insertSpaces:W}=k.getOptions();let M=[],z={shiftIndent:J=>D.ShiftCommand.shiftIndent(J,J.length+1,F,P,W),unshiftIndent:J=>D.ShiftCommand.unshiftIndent(J,J.length+1,F,P,W)},Q=B.startLineNumber;for(;Q<=B.endLineNumber;){if(this.shouldIgnoreLine(k,Q)){Q++;continue}break}if(Q>B.endLineNumber)return;let ne=k.getLineContent(Q);if(!/\S/.test(ne.substring(0,B.startColumn-1))){const J=(0,o.getGoodIndentForLine)(A,k,k.getLanguageId(),Q,z,this._languageConfigurationService);if(J!==null){let ie=f.getLeadingWhitespace(ne),le=n.getSpaceCnt(J,F),G=n.getSpaceCnt(ie,F);if(le!==G){let x=n.generateIndent(le,F,W);M.push({range:new b.Range(Q,1,Q,ie.length+1),text:x}),ne=x+ne.substr(ie.length)}else{let x=(0,o.getIndentMetadata)(k,Q,this._languageConfigurationService);if(x===0||x===8)return}}}const X=Q;for(;Q<B.endLineNumber;){if(!/\S/.test(k.getLineContent(Q+1))){Q++;continue}break}if(Q!==B.endLineNumber){let J={tokenization:{getLineTokens:le=>k.tokenization.getLineTokens(le),getLanguageId:()=>k.getLanguageId(),getLanguageIdAtPosition:(le,G)=>k.getLanguageIdAtPosition(le,G)},getLineContent:le=>le===X?ne:k.getLineContent(le)},ie=(0,o.getGoodIndentForLine)(A,J,k.getLanguageId(),Q+1,z,this._languageConfigurationService);if(ie!==null){let le=n.getSpaceCnt(ie,F),G=n.getSpaceCnt(f.getLeadingWhitespace(k.getLineContent(Q+1)),F);if(le!==G){let x=le-G;for(let V=Q+1;V<=B.endLineNumber;V++){let j=k.getLineContent(V),re=f.getLeadingWhitespace(j),Y=n.getSpaceCnt(re,F)+x,U=n.generateIndent(Y,F,W);U!==re&&M.push({range:new b.Range(V,1,V,re.length+1),text:U})}}}}if(M.length>0){this.editor.pushUndoStop();let J=new _(M,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",J),this.editor.pushUndoStop()}}shouldIgnoreLine(B,O){B.tokenization.forceTokenization(O);let k=B.getLineFirstNonWhitespaceColumn(O);if(k===0)return!0;let A=B.tokenization.getLineTokens(O);if(A.getCount()>0){let F=A.findTokenIndexAtOffset(k);if(F>=0&&A.getStandardTokenType(F)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};w.ID="editor.contrib.autoIndentOnPaste",w=De([fe(1,h.ILanguageConfigurationService)],w),e.AutoIndentOnPaste=w;function E(R,B,O,k){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return;let A="";for(let P=0;P<O;P++)A+=" ";let F=new RegExp(A,"gi");for(let P=1,W=R.getLineCount();P<=W;P++){let M=R.getLineFirstNonWhitespaceColumn(P);if(M===0&&(M=R.getLineMaxColumn(P)),M===1)continue;const z=new b.Range(P,1,P,M),Q=R.getValueInRange(z),ne=k?Q.replace(/\t/ig,A):Q.replace(F,"	");B.addEditOperation(z,ne)}}class I{constructor(B,O){this.selection=B,this.tabSize=O,this.selectionId=null}getEditOperations(B,O){this.selectionId=O.trackSelection(this.selection),E(B,O,this.tabSize,!0)}computeCursorState(B,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=I;class T{constructor(B,O){this.selection=B,this.tabSize=O,this.selectionId=null}getEditOperations(B,O){this.selectionId=O.trackSelection(this.selection),E(B,O,this.tabSize,!1)}computeCursorState(B,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=T,(0,N.registerEditorContribution)(w.ID,w),(0,N.registerEditorAction)(s),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(g),(0,N.registerEditorAction)(m),(0,N.registerEditorAction)(S),(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(v)}),define(oe[690],se([1,0,15,184,22,566]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class L extends y.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|42}})}run(C,u,h){if(h=h||{},!u.hasModel())return;const i=u._getViewModel();i.model.pushStackElement(),i.setCursorStates(h.source,3,f.CursorMoveCommands.expandLineSelection(i,i.getCursorStates())),i.revealPrimaryCursor(h.source,!0)}}e.ExpandLineSelectionAction=L,(0,y.registerEditorAction)(L)}),define(oe[691],se([1,0,59,160,15,103,414,210,61,11,3,24,22,478,639,479,567,41,31]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class l extends N.EditorAction{constructor(x,V){super(V);this.down=x}run(x,V){if(!V.hasModel())return;const j=V.getSelections().map((Y,U)=>({selection:Y,index:U,ignore:!1}));j.sort((Y,U)=>h.Range.compareRangesUsingStarts(Y.selection,U.selection));let re=j[0];for(let Y=1;Y<j.length;Y++){const U=j[Y];re.selection.endLineNumber===U.selection.startLineNumber&&(re.index<U.index?U.ignore=!0:(re.ignore=!0,re=U))}const ae=[];for(const Y of j)ae.push(new t.CopyLinesCommand(Y.selection,this.down,Y.ignore));V.pushUndoStop(),V.executeCommands(this.id,ae),V.pushUndoStop()}}class c extends l{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:o.localize(0,null),alias:"Copy Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:o.localize(1,null),order:1}})}}class g extends l{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:o.localize(2,null),alias:"Copy Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:o.localize(3,null),order:2}})}}class m extends N.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:o.localize(4,null),alias:"Duplicate Selection",precondition:n.EditorContextKeys.writable,menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:o.localize(5,null),order:5}})}run(x,V,j){if(!V.hasModel())return;const re=[],ae=V.getSelections(),Y=V.getModel();for(const U of ae)if(U.isEmpty())re.push(new t.CopyLinesCommand(U,!0));else{const Z=new i.Selection(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn);re.push(new D.ReplaceCommandThatSelectsText(Z,Y.getValueInRange(U)))}V.pushUndoStop(),V.executeCommands(this.id,re),V.pushUndoStop()}}e.DuplicateSelectionAction=m;class S extends N.EditorAction{constructor(x,V){super(V);this.down=x}run(x,V){const j=x.get(s.ILanguageConfigurationService);let re=[],ae=V.getSelections()||[];const Y=V.getOption(9);for(const U of ae)re.push(new r.MoveLinesCommand(U,this.down,Y,j));V.pushUndoStop(),V.executeCommands(this.id,re),V.pushUndoStop()}}class p extends S{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:o.localize(6,null),alias:"Move Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:o.localize(7,null),order:3}})}}class v extends S{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:o.localize(8,null),alias:"Move Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:o.localize(9,null),order:4}})}}class _ extends N.EditorAction{constructor(x,V){super(V);this.descending=x}run(x,V){const j=V.getSelections()||[];for(const ae of j)if(!d.SortLinesCommand.canRun(V.getModel(),ae,this.descending))return;let re=[];for(let ae=0,Y=j.length;ae<Y;ae++)re[ae]=new d.SortLinesCommand(j[ae],this.descending);V.pushUndoStop(),V.executeCommands(this.id,re),V.pushUndoStop()}}e.AbstractSortLinesAction=_;class w extends _{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:o.localize(10,null),alias:"Sort Lines Ascending",precondition:n.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class E extends _{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:o.localize(11,null),alias:"Sort Lines Descending",precondition:n.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends N.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:o.localize(12,null),alias:"Delete Duplicate Lines",precondition:n.EditorContextKeys.writable})}run(x,V){if(!V.hasModel())return;let j=V.getModel();if(j.getLineCount()===1&&j.getLineMaxColumn(1)===1)return;let re=[],ae=[],Y=0;for(let U of V.getSelections()){let Z=new Set,q=[];for(let te=U.startLineNumber;te<=U.endLineNumber;te++){let de=j.getLineContent(te);Z.has(de)||(q.push(de),Z.add(de))}let $=new i.Selection(U.startLineNumber,1,U.endLineNumber,j.getLineMaxColumn(U.endLineNumber)),H=U.startLineNumber-Y,ee=new i.Selection(H,1,H+q.length-1,q[q.length-1].length);re.push(C.EditOperation.replace($,q.join(`
`))),ae.push(ee),Y+=U.endLineNumber-U.startLineNumber+1-q.length}V.pushUndoStop(),V.executeEdits(this.id,re,ae),V.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class T extends N.EditorAction{constructor(){super({id:T.ID,label:o.localize(13,null),alias:"Trim Trailing Whitespace",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|54),weight:100}})}run(x,V,j){let re=[];j.reason==="auto-save"&&(re=(V.getSelections()||[]).map(U=>new u.Position(U.positionLineNumber,U.positionColumn)));let ae=V.getSelection();if(ae===null)return;let Y=new L.TrimTrailingWhitespaceCommand(ae,re);V.pushUndoStop(),V.executeCommands(this.id,[Y]),V.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class R extends N.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:o.localize(14,null),alias:"Delete Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(x,V){if(!V.hasModel())return;let j=this._getLinesToRemove(V),re=V.getModel();if(re.getLineCount()===1&&re.getLineMaxColumn(1)===1)return;let ae=0,Y=[],U=[];for(let Z=0,q=j.length;Z<q;Z++){const $=j[Z];let H=$.startLineNumber,ee=$.endLineNumber,te=1,de=re.getLineMaxColumn(ee);ee<re.getLineCount()?(ee+=1,de=1):H>1&&(H-=1,te=re.getLineMaxColumn(H)),Y.push(C.EditOperation.replace(new i.Selection(H,te,ee,de),"")),U.push(new i.Selection(H-ae,$.positionColumn,H-ae,$.positionColumn)),ae+=$.endLineNumber-$.startLineNumber+1}V.pushUndoStop(),V.executeEdits(this.id,Y,U),V.pushUndoStop()}_getLinesToRemove(x){let V=x.getSelections().map(ae=>{let Y=ae.endLineNumber;return ae.startLineNumber<ae.endLineNumber&&ae.endColumn===1&&(Y-=1),{startLineNumber:ae.startLineNumber,selectionStartColumn:ae.selectionStartColumn,endLineNumber:Y,positionColumn:ae.positionColumn}});V.sort((ae,Y)=>ae.startLineNumber===Y.startLineNumber?ae.endLineNumber-Y.endLineNumber:ae.startLineNumber-Y.startLineNumber);let j=[],re=V[0];for(let ae=1;ae<V.length;ae++)re.endLineNumber+1>=V[ae].startLineNumber?re.endLineNumber=V[ae].endLineNumber:(j.push(re),re=V[ae]);return j.push(re),j}}e.DeleteLinesAction=R;class B extends N.EditorAction{constructor(){super({id:"editor.action.indentLines",label:o.localize(15,null),alias:"Indent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(x,V){const j=V._getViewModel();!j||(V.pushUndoStop(),V.executeCommands(this.id,b.TypeOperations.indent(j.cursorConfig,V.getModel(),V.getSelections())),V.pushUndoStop())}}e.IndentLinesAction=B;class O extends N.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:o.localize(16,null),alias:"Outdent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(x,V){f.CoreEditingCommands.Outdent.runEditorCommand(x,V,null)}}class k extends N.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:o.localize(17,null),alias:"Insert Line Above",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(x,V){const j=V._getViewModel();!j||(V.pushUndoStop(),V.executeCommands(this.id,b.TypeOperations.lineInsertBefore(j.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineBeforeAction=k;class A extends N.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:o.localize(18,null),alias:"Insert Line Below",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(x,V){const j=V._getViewModel();!j||(V.pushUndoStop(),V.executeCommands(this.id,b.TypeOperations.lineInsertAfter(j.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineAfterAction=A;class F extends N.EditorAction{run(x,V){if(!V.hasModel())return;const j=V.getSelection();let re=this._getRangesToDelete(V),ae=[];for(let Z=0,q=re.length-1;Z<q;Z++){let $=re[Z],H=re[Z+1];h.Range.intersectRanges($,H)===null?ae.push($):re[Z+1]=h.Range.plusRange($,H)}ae.push(re[re.length-1]);let Y=this._getEndCursorState(j,ae),U=ae.map(Z=>C.EditOperation.replace(Z,""));V.pushUndoStop(),V.executeEdits(this.id,U,Y),V.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=F;class P extends F{constructor(){super({id:"deleteAllLeft",label:o.localize(19,null),alias:"Delete All Left",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(x,V){let j=null,re=[],ae=0;return V.forEach(Y=>{let U;if(Y.endColumn===1&&ae>0){let Z=Y.startLineNumber-ae;U=new i.Selection(Z,Y.startColumn,Z,Y.startColumn)}else U=new i.Selection(Y.startLineNumber,Y.startColumn,Y.startLineNumber,Y.startColumn);ae+=Y.endLineNumber-Y.startLineNumber,Y.intersectRanges(x)?j=U:re.push(U)}),j&&re.unshift(j),re}_getRangesToDelete(x){let V=x.getSelections();if(V===null)return[];let j=V,re=x.getModel();return re===null?[]:(j.sort(h.Range.compareRangesUsingStarts),j=j.map(ae=>{if(ae.isEmpty())if(ae.startColumn===1){let Y=Math.max(1,ae.startLineNumber-1),U=ae.startLineNumber===1?1:re.getLineContent(Y).length+1;return new h.Range(Y,U,ae.startLineNumber,1)}else return new h.Range(ae.startLineNumber,1,ae.startLineNumber,ae.startColumn);else return new h.Range(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn)}),j)}}e.DeleteAllLeftAction=P;class W extends F{constructor(){super({id:"deleteAllRight",label:o.localize(20,null),alias:"Delete All Right",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(x,V){let j=null,re=[];for(let ae=0,Y=V.length,U=0;ae<Y;ae++){let Z=V[ae],q=new i.Selection(Z.startLineNumber-U,Z.startColumn,Z.startLineNumber-U,Z.startColumn);Z.intersectRanges(x)?j=q:re.push(q)}return j&&re.unshift(j),re}_getRangesToDelete(x){let V=x.getModel();if(V===null)return[];let j=x.getSelections();if(j===null)return[];let re=j.map(ae=>{if(ae.isEmpty()){const Y=V.getLineMaxColumn(ae.startLineNumber);return ae.startColumn===Y?new h.Range(ae.startLineNumber,ae.startColumn,ae.startLineNumber+1,1):new h.Range(ae.startLineNumber,ae.startColumn,ae.startLineNumber,Y)}return ae});return re.sort(h.Range.compareRangesUsingStarts),re}}e.DeleteAllRightAction=W;class M extends N.EditorAction{constructor(){super({id:"editor.action.joinLines",label:o.localize(21,null),alias:"Join Lines",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(x,V){const j=V.getSelections();if(j===null)return;let re=V.getSelection();if(re===null)return;j.sort(h.Range.compareRangesUsingStarts);let ae=[],Y=j.reduce((ee,te)=>ee.isEmpty()?ee.endLineNumber===te.startLineNumber?(re.equalsSelection(ee)&&(re=te),te):te.startLineNumber>ee.endLineNumber+1?(ae.push(ee),te):new i.Selection(ee.startLineNumber,ee.startColumn,te.endLineNumber,te.endColumn):te.startLineNumber>ee.endLineNumber?(ae.push(ee),te):new i.Selection(ee.startLineNumber,ee.startColumn,te.endLineNumber,te.endColumn));ae.push(Y);let U=V.getModel();if(U===null)return;let Z=[],q=[],$=re,H=0;for(let ee=0,te=ae.length;ee<te;ee++){let de=ae[ee],he=de.startLineNumber,pe=1,ve=0,ue,Ce,me=U.getLineContent(de.endLineNumber).length-de.endColumn;if(de.isEmpty()||de.startLineNumber===de.endLineNumber){let ge=de.getStartPosition();ge.lineNumber<U.getLineCount()?(ue=he+1,Ce=U.getLineMaxColumn(ue)):(ue=ge.lineNumber,Ce=U.getLineMaxColumn(ge.lineNumber))}else ue=de.endLineNumber,Ce=U.getLineMaxColumn(ue);let be=U.getLineContent(he);for(let ge=he+1;ge<=ue;ge++){let we=U.getLineContent(ge),ye=U.getLineFirstNonWhitespaceColumn(ge);if(ye>=1){let Te=!0;be===""&&(Te=!1),Te&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Te=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));let ke=we.substr(ye-1);be+=(Te?" ":"")+ke,Te?ve=ke.length+1:ve=ke.length}else ve=0}let ce=new h.Range(he,pe,ue,Ce);if(!ce.isEmpty()){let ge;de.isEmpty()?(Z.push(C.EditOperation.replace(ce,be)),ge=new i.Selection(ce.startLineNumber-H,be.length-ve+1,he-H,be.length-ve+1)):de.startLineNumber===de.endLineNumber?(Z.push(C.EditOperation.replace(ce,be)),ge=new i.Selection(de.startLineNumber-H,de.startColumn,de.endLineNumber-H,de.endColumn)):(Z.push(C.EditOperation.replace(ce,be)),ge=new i.Selection(de.startLineNumber-H,de.startColumn,de.startLineNumber-H,be.length-me)),h.Range.intersectRanges(ce,re)!==null?$=ge:q.push(ge)}H+=ce.endLineNumber-ce.startLineNumber}q.unshift($),V.pushUndoStop(),V.executeEdits(this.id,Z,q),V.pushUndoStop()}}e.JoinLinesAction=M;class z extends N.EditorAction{constructor(){super({id:"editor.action.transpose",label:o.localize(22,null),alias:"Transpose characters around the cursor",precondition:n.EditorContextKeys.writable})}run(x,V){let j=V.getSelections();if(j===null)return;let re=V.getModel();if(re===null)return;let ae=[];for(let Y=0,U=j.length;Y<U;Y++){let Z=j[Y];if(!Z.isEmpty())continue;let q=Z.getStartPosition(),$=re.getLineMaxColumn(q.lineNumber);if(q.column>=$){if(q.lineNumber===re.getLineCount())continue;let H=new h.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),ee=re.getValueInRange(H).split("").reverse().join("");ae.push(new D.ReplaceCommand(new i.Selection(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),ee))}else{let H=new h.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber,q.column+1),ee=re.getValueInRange(H).split("").reverse().join("");ae.push(new D.ReplaceCommandThatPreservesSelection(H,ee,new i.Selection(q.lineNumber,q.column+1,q.lineNumber,q.column+1)))}}V.pushUndoStop(),V.executeCommands(this.id,ae),V.pushUndoStop()}}e.TransposeAction=z;class Q extends N.EditorAction{run(x,V){const j=V.getSelections();if(j===null)return;const re=V.getModel();if(re===null)return;const ae=V.getOption(117),Y=[];for(const U of j)if(U.isEmpty()){const Z=U.getStartPosition(),q=V.getConfiguredWordAtPosition(Z);if(!q)continue;const $=new h.Range(Z.lineNumber,q.startColumn,Z.lineNumber,q.endColumn),H=re.getValueInRange($);Y.push(C.EditOperation.replace($,this._modifyText(H,ae)))}else{const Z=re.getValueInRange(U);Y.push(C.EditOperation.replace(U,this._modifyText(Z,ae)))}V.pushUndoStop(),V.executeEdits(this.id,Y),V.pushUndoStop()}}e.AbstractCaseAction=Q;class ne extends Q{constructor(){super({id:"editor.action.transformToUppercase",label:o.localize(23,null),alias:"Transform to Uppercase",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){return x.toLocaleUpperCase()}}e.UpperCaseAction=ne;class X extends Q{constructor(){super({id:"editor.action.transformToLowercase",label:o.localize(24,null),alias:"Transform to Lowercase",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){return x.toLocaleLowerCase()}}e.LowerCaseAction=X;class J{constructor(x,V){this._pattern=x,this._flags=V,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class ie extends Q{constructor(){super({id:"editor.action.transformToTitlecase",label:o.localize(25,null),alias:"Transform to Title Case",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){const j=ie.titleBoundary.get();return j?x.toLocaleLowerCase().replace(j,re=>re.toLocaleUpperCase()):x}}e.TitleCaseAction=ie,ie.titleBoundary=new J("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class le extends Q{constructor(){super({id:"editor.action.transformToSnakecase",label:o.localize(26,null),alias:"Transform to Snake Case",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){const j=le.caseBoundary.get(),re=le.singleLetters.get();return!j||!re?x:x.replace(j,"$1_$2").replace(re,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=le,le.caseBoundary=new J("(\\p{Ll})(\\p{Lu})","gmu"),le.singleLetters=new J("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,N.registerEditorAction)(c),(0,N.registerEditorAction)(g),(0,N.registerEditorAction)(m),(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(v),(0,N.registerEditorAction)(w),(0,N.registerEditorAction)(E),(0,N.registerEditorAction)(I),(0,N.registerEditorAction)(T),(0,N.registerEditorAction)(R),(0,N.registerEditorAction)(B),(0,N.registerEditorAction)(O),(0,N.registerEditorAction)(k),(0,N.registerEditorAction)(A),(0,N.registerEditorAction)(P),(0,N.registerEditorAction)(W),(0,N.registerEditorAction)(M),(0,N.registerEditorAction)(z),(0,N.registerEditorAction)(ne),(0,N.registerEditorAction)(X),le.caseBoundary.isSupported()&&le.singleLetters.isSupported()&&(0,N.registerEditorAction)(le),ie.titleBoundary.isSupported()&&(0,N.registerEditorAction)(ie)}),define(oe[162],se([1,0,45,10,2,15,3,570,16,393]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class ni{constructor(t,r){this._messageWidget=new N.MutableDisposable,this._messageListeners=new N.DisposableStore,this._editor=t,this._visible=ni.MESSAGE_VISIBLE.bindTo(r),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(ni.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,r){(0,y.alert)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new i(this._editor,r,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new f.TimeoutTimer(()=>this.closeMessage(),3e3));let d;this._messageListeners.add(this._editor.onMouseMove(o=>{!o.target.position||(d?d.containsPosition(o.target.position)||this.closeMessage():d=new L.Range(r.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(i.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(b.localize(1,null),this._editor.getPosition())}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,b.localize(0,null)),u=De([fe(1,C.IContextKeyService)],u),e.MessageController=u;const h=D.EditorCommand.bindToContribution(u.get);(0,D.registerEditorCommand)(new h({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class i{constructor(t,{lineNumber:r,column:d},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(r,r,0),this._position={lineNumber:r,column:d},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const a=document.createElement("div");a.classList.add("anchor","top"),this._domNode.appendChild(a);const s=document.createElement("div");s.classList.add("message"),s.textContent=o,this._domNode.appendChild(s);const l=document.createElement("div");l.classList.add("anchor","below"),this._domNode.appendChild(l),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){let r;const d=()=>{t.dispose(),clearTimeout(r),t.getDomNode().removeEventListener("animationend",d)};return r=setTimeout(d,110),t.getDomNode().addEventListener("animationend",d),t.getDomNode().classList.add("fadeOut"),{dispose:d}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}}(0,D.registerEditorContribution)(u.ID,u)});var ei=this&&this.__classPrivateFieldSet||function(K,e,y,f,N){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!N:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?N.call(K,y):N?N.value=y:e.set(K,y),y},Tt=this&&this.__classPrivateFieldGet||function(K,e,y,f){if(y==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!f:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?f:y==="a"?f.call(K):f?f.value:e.get(K)};define(oe[692],se([1,0,13,137,2,162,9,684,665]),function(K,e,y,f,N,D,L,b,C){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let h=class extends N.Disposable{constructor(n,t,r,d,o){super();this._editor=n,this.delegate=d,this._activeCodeActions=this._register(new N.MutableDisposable),u.set(this,!1),this._codeActionWidget=new f.Lazy(()=>this._register(o.createInstance(b.CodeActionMenu,this._editor,{onSelectCodeAction:a=>Le(this,void 0,void 0,function*(){this.delegate.applyCodeAction(a,!0)})}))),this._lightBulbWidget=new f.Lazy(()=>{const a=this._register(o.createInstance(C.LightBulbWidget,this._editor,t,r));return this._register(a.onClick(s=>this.showCodeActionList(s.trigger,s.actions,s,{includeDisabledActions:!1}))),a})}dispose(){ei(this,u,!0,"f"),super.dispose()}update(n){var t,r,d,o,a;return Le(this,void 0,void 0,function*(){if(n.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let s;try{s=yield n.actions}catch(l){(0,y.onUnexpectedError)(l);return}if(!Tt(this,u,"f"))if(this._lightBulbWidget.getValue().update(s,n.trigger,n.position),n.trigger.type===1){if((r=n.trigger.filter)===null||r===void 0?void 0:r.include){const c=this.tryGetValidActionToApply(n.trigger,s);if(c){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(c,!1)}finally{s.dispose()}return}if(n.trigger.context){const g=this.getInvalidActionThatWouldHaveBeenApplied(n.trigger,s);if(g&&g.action.disabled){(d=D.MessageController.get(this._editor))===null||d===void 0||d.showMessage(g.action.disabled,n.trigger.context.position),s.dispose();return}}}const l=!!((o=n.trigger.filter)===null||o===void 0?void 0:o.include);if(n.trigger.context&&(!s.allActions.length||!l&&!s.validActions.length)){(a=D.MessageController.get(this._editor))===null||a===void 0||a.showMessage(n.trigger.context.notAvailableMessage,n.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(n.trigger,s,n.position,{includeDisabledActions:l})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(n,t){if(!!t.allActions.length&&(n.autoApply==="first"&&t.validActions.length===0||n.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:r})=>r.disabled)}tryGetValidActionToApply(n,t){if(!!t.validActions.length&&(n.autoApply==="first"&&t.validActions.length>0||n.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(n,t,r,d){return Le(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(n,t,r,d)})}};u=new WeakMap,h=De([fe(4,L.IInstantiationService)],h),e.CodeActionUi=h}),define(oe[300],se([1,0,21,137,2,8,15,202,22,20,161,692,162,534,26,16,9,81,40,76,90,685,156]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function S(F){return d.ContextKeyExpr.regex(g.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,D.escapeRegExpCharacters)(F.value)+"\\b"))}const p={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(0,null)},apply:{type:"string",description:t.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(2,null),t.localize(3,null),t.localize(4,null)]},preferred:{type:"boolean",default:!1,description:t.localize(5,null)}}};let v=class Mi extends N.Disposable{constructor(P,W,M,z,Q,ne){super();this._instantiationService=Q,this._editor=P,this._model=this._register(new g.CodeActionModel(this._editor,ne.codeActionProvider,W,M,z)),this._register(this._model.onDidChangeState(X=>this.update(X))),this._ui=new f.Lazy(()=>this._register(new i.CodeActionUi(P,I.Id,A.Id,{applyCodeAction:(X,J)=>Le(this,void 0,void 0,function*(){try{yield this._applyCodeAction(X)}finally{J&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(P){return P.getContribution(Mi.ID)}update(P){this._ui.getValue().update(P)}showCodeActions(P,W,M){return this._ui.getValue().showCodeActionList(P,W,M,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(P,W,M){var z;if(!this._editor.hasModel())return;(z=n.MessageController.get(this._editor))===null||z===void 0||z.closeMessage();const Q=this._editor.getPosition();this._trigger({type:1,filter:W,autoApply:M,context:{notAvailableMessage:P,position:Q}})}_trigger(P){return this._model.trigger(P)}_applyCodeAction(P){return this._instantiationService.invokeFunction(_,P,this._editor)}};v.ID="editor.contrib.quickFixController",v=De([fe(1,a.IMarkerService),fe(2,d.IContextKeyService),fe(3,l.IEditorProgressService),fe(4,o.IInstantiationService),fe(5,u.ILanguageFeaturesService)],v),e.QuickFixController=v;function _(F,P,W){return Le(this,void 0,void 0,function*(){const M=F.get(b.IBulkEditService),z=F.get(r.ICommandService),Q=F.get(c.ITelemetryService),ne=F.get(s.INotificationService);if(Q.publicLog2("codeAction.applyCodeAction",{codeActionTitle:P.action.title,codeActionKind:P.action.kind,codeActionIsPreferred:!!P.action.isPreferred}),yield P.resolve(y.CancellationToken.None),P.action.edit&&(yield M.apply(b.ResourceEdit.convert(P.action.edit),{editor:W,label:P.action.title,quotableLabel:P.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0})),P.action.command)try{yield z.executeCommand(P.action.command.id,...P.action.command.arguments||[])}catch(X){const J=w(X);ne.error(typeof J=="string"?J:t.localize(6,null))}})}e.applyCodeAction=_;function w(F){return typeof F=="string"?F:F instanceof Error&&typeof F.message=="string"?F.message:void 0}function E(F,P,W,M){if(F.hasModel()){const z=v.get(F);z&&z.manualTriggerAtCurrentPosition(P,W,M)}}class I extends L.EditorAction{constructor(){super({id:I.Id,label:t.localize(7,null),alias:"Quick Fix...",precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(P,W){return E(W,t.localize(8,null),void 0,void 0)}}e.QuickFixAction=I,I.Id="editor.action.quickFix";class T extends L.EditorCommand{constructor(){super({id:h.codeActionCommandId,precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:p}]}})}runEditorCommand(P,W,M){const z=m.CodeActionCommandArgs.fromUser(M,{kind:m.CodeActionKind.Empty,apply:"ifSingle"});return E(W,typeof(M==null?void 0:M.kind)=="string"?z.preferred?t.localize(9,null,M.kind):t.localize(10,null,M.kind):z.preferred?t.localize(11,null):t.localize(12,null),{include:z.kind,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.CodeActionCommand=T;class R extends L.EditorAction{constructor(){super({id:h.refactorCommandId,label:t.localize(13,null),alias:"Refactor...",precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:d.ContextKeyExpr.and(C.EditorContextKeys.writable,S(m.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:p}]}})}run(P,W,M){const z=m.CodeActionCommandArgs.fromUser(M,{kind:m.CodeActionKind.Refactor,apply:"never"});return E(W,typeof(M==null?void 0:M.kind)=="string"?z.preferred?t.localize(14,null,M.kind):t.localize(15,null,M.kind):z.preferred?t.localize(16,null):t.localize(17,null),{include:m.CodeActionKind.Refactor.contains(z.kind)?z.kind:m.CodeActionKind.None,onlyIncludePreferredActions:z.preferred},z.apply)}}e.RefactorAction=R;class B extends L.EditorAction{constructor(){super({id:h.sourceActionCommandId,label:t.localize(18,null),alias:"Source Action...",precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:d.ContextKeyExpr.and(C.EditorContextKeys.writable,S(m.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:p}]}})}run(P,W,M){const z=m.CodeActionCommandArgs.fromUser(M,{kind:m.CodeActionKind.Source,apply:"never"});return E(W,typeof(M==null?void 0:M.kind)=="string"?z.preferred?t.localize(19,null,M.kind):t.localize(20,null,M.kind):z.preferred?t.localize(21,null):t.localize(22,null),{include:m.CodeActionKind.Source.contains(z.kind)?z.kind:m.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.SourceAction=B;class O extends L.EditorAction{constructor(){super({id:h.organizeImportsCommandId,label:t.localize(23,null),alias:"Organize Imports",precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,S(m.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(P,W){return E(W,t.localize(24,null),{include:m.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=O;class k extends L.EditorAction{constructor(){super({id:h.fixAllCommandId,label:t.localize(25,null),alias:"Fix All",precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,S(m.CodeActionKind.SourceFixAll))})}run(P,W){return E(W,t.localize(26,null),{include:m.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=k;class A extends L.EditorAction{constructor(){super({id:A.Id,label:t.localize(27,null),alias:"Auto Fix...",precondition:d.ContextKeyExpr.and(C.EditorContextKeys.writable,S(m.CodeActionKind.QuickFix)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(P,W){return E(W,t.localize(28,null),{include:m.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=A,A.Id="editor.action.autoFix"}),define(oe[693],se([1,0,15,300]),function(K,e,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(f.QuickFixController.ID,f.QuickFixController),(0,y.registerEditorAction)(f.QuickFixAction),(0,y.registerEditorAction)(f.RefactorAction),(0,y.registerEditorAction)(f.SourceAction),(0,y.registerEditorAction)(f.OrganizeImportsAction),(0,y.registerEditorAction)(f.AutoFixAction),(0,y.registerEditorAction)(f.FixAllAction),(0,y.registerEditorCommand)(new f.CodeActionCommand)}),define(oe[694],se([1,0,45,10,21,13,2,19,25,113,15,202,29,11,3,22,158,162,577,110,16,9,70,40,76,38,671,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(k,A,F){this.model=k,this.position=A,this._providerRenameIdx=0,this._providers=F.ordered(k)}hasProvider(){return this._providers.length>0}resolveRenameLocation(k){return Le(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const P=this._providers[this._providerRenameIdx];if(!P.resolveRenameLocation)break;let W=yield P.resolveRenameLocation(this.model,this.position,k);if(!!W){if(W.rejectReason){A.push(W.rejectReason);continue}return W}}const F=this.model.getWordAtPosition(this.position);return F?{range:new r.Range(this.position.lineNumber,F.startColumn,this.position.lineNumber,F.endColumn),text:F.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:r.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(k,A){return Le(this,void 0,void 0,function*(){return this._provideRenameEdits(k,this._providerRenameIdx,[],A)})}_provideRenameEdits(k,A,F,P){return Le(this,void 0,void 0,function*(){const W=this._providers[A];if(!W)return{edits:[],rejectReason:F.join(`
`)};const M=yield W.provideRenameEdits(this.model,this.position,k,P);if(M){if(M.rejectReason)return this._provideRenameEdits(k,A+1,F.concat(M.rejectReason),P)}else return this._provideRenameEdits(k,A+1,F.concat(s.localize(0,null)),P);return M})}}function I(O,k,A,F){return Le(this,void 0,void 0,function*(){const P=new E(k,A,O),W=yield P.resolveRenameLocation(N.CancellationToken.None);return(W==null?void 0:W.rejectReason)?{edits:[],rejectReason:W.rejectReason}:P.provideRenameEdits(F,N.CancellationToken.None)})}e.rename=I;let T=class Ai{constructor(k,A,F,P,W,M,z,Q){this.editor=k,this._instaService=A,this._notificationService=F,this._bulkEditService=P,this._progressService=W,this._logService=M,this._configService=z,this._languageFeaturesService=Q,this._disposableStore=new L.DisposableStore,this._cts=new N.CancellationTokenSource,this._renameInputField=this._disposableStore.add(new f.IdleValue(()=>this._disposableStore.add(this._instaService.createInstance(_.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(k){return k.getContribution(Ai.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var k,A;return Le(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const F=this.editor.getPosition(),P=new E(this.editor.getModel(),F,this._languageFeaturesService.renameProvider);if(!P.hasProvider())return;this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1);let W;try{const ie=P.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ie,250),W=yield ie}catch(ie){(k=a.MessageController.get(this.editor))===null||k===void 0||k.showMessage(ie||s.localize(1,null),F);return}if(!W)return;if(W.rejectReason){(A=a.MessageController.get(this.editor))===null||A===void 0||A.showMessage(W.rejectReason,F);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1,W.range);let M=this.editor.getSelection(),z=0,Q=W.text.length;!r.Range.isEmpty(M)&&!r.Range.spansMultipleLines(M)&&r.Range.containsRange(W.range,M)&&(z=Math.max(0,M.startColumn-W.range.startColumn),Q=Math.min(W.range.endColumn,M.endColumn)-W.range.startColumn);const ne=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),X=yield this._renameInputField.value.getInput(W.range,W.text,z,Q,ne,this._cts.token);if(typeof X=="boolean"){X&&this.editor.focus();return}this.editor.focus();const J=(0,f.raceCancellation)(P.provideRenameEdits(X.newName,this._cts.token),this._cts.token).then(ie=>Le(this,void 0,void 0,function*(){if(!(!ie||!this.editor.hasModel())){if(ie.rejectReason){this._notificationService.info(ie.rejectReason);return}this.editor.setSelection(r.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(i.ResourceEdit.convert(ie),{editor:this.editor,showPreview:X.wantsPreview,label:s.localize(2,null,W==null?void 0:W.text,X.newName),code:"undoredo.rename",quotableLabel:s.localize(3,null,W==null?void 0:W.text,X.newName),respectAutoSaveConfig:!0}).then(le=>{le.ariaSummary&&(0,y.alert)(s.localize(4,null,W.text,X.newName,le.ariaSummary))}).catch(le=>{this._notificationService.error(s.localize(5,null)),this._logService.error(le)})}}),ie=>{this._notificationService.error(s.localize(6,null)),this._logService.error(ie)});return this._progressService.showWhile(J,250),J})}acceptRenameInput(k){this._renameInputField.value.acceptInput(k)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};T.ID="editor.contrib.renameController",T=De([fe(1,g.IInstantiationService),fe(2,S.INotificationService),fe(3,i.IBulkEditService),fe(4,p.IEditorProgressService),fe(5,m.ILogService),fe(6,o.ITextResourceConfigurationService),fe(7,w.ILanguageFeaturesService)],T);class R extends h.EditorAction{constructor(){super({id:"editor.action.rename",label:s.localize(7,null),alias:"Rename Symbol",precondition:c.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(k,A){const F=k.get(n.ICodeEditorService),[P,W]=Array.isArray(A)&&A||[void 0,void 0];return C.URI.isUri(P)&&t.Position.isIPosition(W)?F.openCodeEditor({resource:P},F.getActiveCodeEditor()).then(M=>{!M||(M.setPosition(W),M.invokeWithinContext(z=>(this.reportTelemetry(z,M),this.run(z,M))))},D.onUnexpectedError):super.runCommand(k,A)}run(k,A){const F=T.get(A);return F?F.run():Promise.resolve()}}e.RenameAction=R,(0,h.registerEditorContribution)(T.ID,T),(0,h.registerEditorAction)(R);const B=h.EditorCommand.bindToContribution(T.get);(0,h.registerEditorCommand)(new B({id:"acceptRenameInput",precondition:_.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:3}})),(0,h.registerEditorCommand)(new B({id:"acceptRenameInputWithPreview",precondition:c.ContextKeyExpr.and(_.CONTEXT_RENAME_INPUT_VISIBLE,c.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:1024+3}})),(0,h.registerEditorCommand)(new B({id:"cancelRenameInput",precondition:_.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,h.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,k,A,...F){const[P]=F;(0,b.assertType)(typeof P=="string");const{renameProvider:W}=O.get(w.ILanguageFeaturesService);return I(W,k,A,P)}),(0,h.registerModelAndPositionCommand)("_executePrepareRename",function(O,k,A){return Le(this,void 0,void 0,function*(){const{renameProvider:F}=O.get(w.ILanguageFeaturesService),W=yield new E(k,A,F).resolveRenameLocation(N.CancellationToken.None);if(W==null?void 0:W.rejectReason)throw new Error(W.rejectReason);return W})}),v.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s.localize(8,null),default:!0,type:"boolean"}}})}),define(oe[695],se([1,0,18,21,13,15,11,3,24,22,266,480,579,41,26,20,58,19,25]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class l{constructor(_,w){this.index=_,this.ranges=w}mov(_){let w=this.index+(_?1:-1);if(w<0||w>=this.ranges.length)return this;const E=new l(w,this.ranges);return E.ranges[w].equalsRange(this.ranges[this.index])?E.mov(_):E}}let c=class Ri{constructor(_,w){this._editor=_,this._languageFeaturesService=w,this._ignoreSelection=!1}static get(_){return _.getContribution(Ri.ID)}dispose(){var _;(_=this._selectionListener)===null||_===void 0||_.dispose()}run(_){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const w=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield p(this._languageFeaturesService.selectionRangeProvider,E,w.map(T=>T.getPosition()),this._editor.getOption(102),f.CancellationToken.None).then(T=>{var R;if(!(!y.isNonEmptyArray(T)||T.length!==w.length)&&!(!this._editor.hasModel()||!y.equals(this._editor.getSelections(),w,(B,O)=>B.equalsSelection(O)))){for(let B=0;B<T.length;B++)T[B]=T[B].filter(O=>O.containsPosition(w[B].getStartPosition())&&O.containsPosition(w[B].getEndPosition())),T[B].unshift(w[B]);this._state=T.map(B=>new l(0,B)),(R=this._selectionListener)===null||R===void 0||R.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var B;this._ignoreSelection||((B=this._selectionListener)===null||B===void 0||B.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(T=>T.mov(_));const I=this._state.map(T=>C.Selection.fromPositions(T.ranges[T.index].getStartPosition(),T.ranges[T.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(I)}finally{this._ignoreSelection=!1}})}};c.ID="editor.contrib.smartSelectController",c=De([fe(1,d.ILanguageFeaturesService)],c);class g extends D.EditorAction{constructor(_,w){super(w);this._forward=_}run(_,w){return Le(this,void 0,void 0,function*(){let E=c.get(w);E&&(yield E.run(this._forward))})}}class m extends g{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}r.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class S extends g{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(c.ID,c),(0,D.registerEditorAction)(m),(0,D.registerEditorAction)(S);function p(v,_,w,E,I){return Le(this,void 0,void 0,function*(){const T=v.all(_).concat(new i.WordSelectionRangeProvider);T.length===1&&T.unshift(new h.BracketSelectionRangeProvider);let R=[],B=[];for(const O of T)R.push(Promise.resolve(O.provideSelectionRanges(_,w,I)).then(k=>{if(y.isNonEmptyArray(k)&&k.length===w.length)for(let A=0;A<w.length;A++){B[A]||(B[A]=[]);for(const F of k[A])b.Range.isIRange(F.range)&&b.Range.containsPosition(F.range,w[A])&&B[A].push(b.Range.lift(F.range))}},N.onUnexpectedExternalError));return yield Promise.all(R),B.map(O=>{if(O.length===0)return[];O.sort((P,W)=>L.Position.isBefore(P.getStartPosition(),W.getStartPosition())?1:L.Position.isBefore(W.getStartPosition(),P.getStartPosition())||L.Position.isBefore(P.getEndPosition(),W.getEndPosition())?-1:L.Position.isBefore(W.getEndPosition(),P.getEndPosition())?1:0);let k=[],A;for(const P of O)(!A||b.Range.containsRange(P,A)&&!b.Range.equalsRange(P,A))&&(k.push(P),A=P);if(!E.selectLeadingAndTrailingWhitespace)return k;let F=[k[0]];for(let P=1;P<k.length;P++){const W=k[P-1],M=k[P];if(M.startLineNumber!==W.startLineNumber||M.endLineNumber!==W.endLineNumber){const z=new b.Range(W.startLineNumber,_.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,_.getLineLastNonWhitespaceColumn(W.endLineNumber));z.containsRange(W)&&!z.equalsRange(W)&&M.containsRange(z)&&!M.equalsRange(z)&&F.push(z);const Q=new b.Range(W.startLineNumber,1,W.endLineNumber,_.getLineMaxColumn(W.endLineNumber));Q.containsRange(W)&&!Q.equalsRange(z)&&M.containsRange(Q)&&!M.equalsRange(Q)&&F.push(Q)}F.push(M)}return F})})}e.provideSelectionRanges=p,r.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(v,..._){return Le(this,void 0,void 0,function*(){const[w,E]=_;(0,a.assertType)(s.URI.isUri(w));const I=v.get(d.ILanguageFeaturesService).selectionRangeProvider,T=yield v.get(o.ITextModelService).createModelReference(w);try{return p(I,T.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0},f.CancellationToken.None)}finally{T.dispose()}})})}),define(oe[98],se([1,0,21,13,64,2,57,19,25,11,3,58,107,582,41,26,16,20,288]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:s.historyNavigationVisible,DetailsVisible:new o.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(0,null)),MultipleSuggestions:new o.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(1,null)),MakesTextEdit:new o.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(2,null)),AcceptSuggestionsOnEnter:new o.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(3,null)),HasInsertAndReplaceRange:new o.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(4,null)),InsertMode:new o.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(5,null)}),CanResolve:new o.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(6,null))},e.suggestWidgetStatusbarMenu=new r.MenuId("suggestWidgetStatusBar");class l{constructor(O,k,A,F){this.position=O,this.completion=k,this.container=A,this.provider=F,this.isInvalid=!1,this.score=N.FuzzyScore.Default,this.distance=0,this.textLabel=typeof k.label=="string"?k.label:k.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=k.sortText&&k.sortText.toLowerCase(),this.filterTextLow=k.filterText&&k.filterText.toLowerCase(),this.extensionId=k.extensionId,h.Range.isIRange(k.range)?(this.editStart=new u.Position(k.range.startLineNumber,k.range.startColumn),this.editInsertEnd=new u.Position(k.range.endLineNumber,k.range.endColumn),this.editReplaceEnd=new u.Position(k.range.endLineNumber,k.range.endColumn),this.isInvalid=this.isInvalid||h.Range.spansMultipleLines(k.range)||k.range.startLineNumber!==O.lineNumber):(this.editStart=new u.Position(k.range.insert.startLineNumber,k.range.insert.startColumn),this.editInsertEnd=new u.Position(k.range.insert.endLineNumber,k.range.insert.endColumn),this.editReplaceEnd=new u.Position(k.range.replace.endLineNumber,k.range.replace.endColumn),this.isInvalid=this.isInvalid||h.Range.spansMultipleLines(k.range.insert)||h.Range.spansMultipleLines(k.range.replace)||k.range.insert.startLineNumber!==O.lineNumber||k.range.replace.startLineNumber!==O.lineNumber||k.range.insert.startColumn!==k.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(O){return Le(this,void 0,void 0,function*(){if(!this._resolveCache){const k=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(A=>{Object.assign(this.completion,A),this._isResolved=!0,k.dispose()},A=>{(0,f.isCancellationError)(A)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=l;class c{constructor(O=2,k=new Set,A=new Set,F=!0){this.snippetSortOrder=O,this.kindFilter=k,this.providerFilter=A,this.showDeprecated=F}}e.CompletionOptions=c,c.default=new c;let g;function m(){return g}e.getSnippetSuggestSupport=m;class S{constructor(O,k,A,F){this.items=O,this.needsClipboard=k,this.durations=A,this.disposable=F}}e.CompletionItemModel=S;function p(B,O,k,A=c.default,F={triggerKind:0},P=y.CancellationToken.None){return Le(this,void 0,void 0,function*(){const W=new L.StopWatch(!0);k=k.clone();const M=O.getWordAtPosition(k),z=M?new h.Range(k.lineNumber,M.startColumn,k.lineNumber,M.endColumn):h.Range.fromPositions(k),Q={replace:z,insert:z.setEndPosition(k.lineNumber,k.column)},ne=[],X=new D.DisposableStore,J=[];let ie=!1;const le=(x,V,j)=>{var re,ae,Y;let U=!1;if(!V)return U;for(let Z of V.suggestions)if(!A.kindFilter.has(Z.kind)){if(!A.showDeprecated&&((re=Z==null?void 0:Z.tags)===null||re===void 0?void 0:re.includes(1)))continue;Z.range||(Z.range=Q),Z.sortText||(Z.sortText=typeof Z.label=="string"?Z.label:Z.label.label),!ie&&Z.insertTextRules&&Z.insertTextRules&4&&(ie=n.SnippetParser.guessNeedsClipboard(Z.insertText)),ne.push(new l(k,Z,V,x)),U=!0}return(0,D.isDisposable)(V)&&X.add(V),J.push({providerName:(ae=x._debugDisplayName)!==null&&ae!==void 0?ae:"unknown_provider",elapsedProvider:(Y=V.duration)!==null&&Y!==void 0?Y:-1,elapsedOverall:j.elapsed()}),U},G=(()=>Le(this,void 0,void 0,function*(){if(!g||A.kindFilter.has(27)||A.providerFilter.size>0&&!A.providerFilter.has(g))return;const x=new L.StopWatch(!0),V=yield g.provideCompletionItems(O,k,F,P);le(g,V,x)}))();for(let x of B.orderedGroups(O)){let V=!1;if(yield Promise.all(x.map(j=>Le(this,void 0,void 0,function*(){if(!(A.providerFilter.size>0&&!A.providerFilter.has(j)))try{const re=new L.StopWatch(!0),ae=yield j.provideCompletionItems(O,k,F,P);V=le(j,ae,re)||V}catch(re){(0,f.onUnexpectedExternalError)(re)}}))),V||P.isCancellationRequested)break}return yield G,P.isCancellationRequested?(X.dispose(),Promise.reject(new f.CancellationError)):new S(ne.sort(I(A.snippetSortOrder)),ie,{entries:J,elapsed:W.elapsed()},X)})}e.provideSuggestionItems=p;function v(B,O){if(B.sortTextLow&&O.sortTextLow){if(B.sortTextLow<O.sortTextLow)return-1;if(B.sortTextLow>O.sortTextLow)return 1}return B.completion.label<O.completion.label?-1:B.completion.label>O.completion.label?1:B.completion.kind-O.completion.kind}function _(B,O){if(B.completion.kind!==O.completion.kind){if(B.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return v(B,O)}function w(B,O){if(B.completion.kind!==O.completion.kind){if(B.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return v(B,O)}const E=new Map;E.set(0,_),E.set(2,w),E.set(1,v);function I(B){return E.get(B)}e.getSuggestionComparator=I,d.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(B,...O)=>Le(void 0,void 0,void 0,function*(){const[k,A,F,P]=O;(0,b.assertType)(C.URI.isUri(k)),(0,b.assertType)(u.Position.isIPosition(A)),(0,b.assertType)(typeof F=="string"||!F),(0,b.assertType)(typeof P=="number"||!P);const{completionProvider:W}=B.get(a.ILanguageFeaturesService),M=yield B.get(i.ITextModelService).createModelReference(k);try{const z={incomplete:!1,suggestions:[]},Q=[],ne=yield p(W,M.object.textEditorModel,u.Position.lift(A),void 0,{triggerCharacter:F,triggerKind:F?1:0});for(const X of ne.items)Q.length<(P??0)&&Q.push(X.resolve(y.CancellationToken.None)),z.incomplete=z.incomplete||X.container.incomplete,z.suggestions.push(X.completion);try{return yield Promise.all(Q),z}finally{setTimeout(()=>ne.disposable.dispose(),100)}}finally{M.dispose()}}));function T(B,O){var k;(k=B.getContribution("editor.contrib.suggestController"))===null||k===void 0||k.triggerSuggest(new Set().add(O),void 0,!0)}e.showSimpleSuggestions=T;class R{static isAllOff(O){return O.other==="off"&&O.comments==="off"&&O.strings==="off"}static isAllOn(O){return O.other==="on"&&O.comments==="on"&&O.strings==="on"}static valueFor(O,k){switch(k){case 1:return O.comments;case 2:return O.strings;default:return O.other}}}e.QuickSuggestionsOptions=R}),define(oe[696],se([1,0,21,64,56,2,15,29,3,20,154,267,98,289,269,96,9]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class a{constructor(m,S,p,v,_,w){this.range=m,this.insertText=S,this.filterText=p,this.additionalTextEdits=v,this.command=_,this.completion=w}}let s=class extends D.RefCountedDisposable{constructor(m,S,p,v,_,w){super(_.disposable);this.model=m,this.line=S,this.word=p,this.completionModel=v,this._suggestMemoryService=w}canBeReused(m,S,p){return this.model===m&&this.line===S&&this.word.word.length>0&&this.word.startColumn===p.startColumn&&this.word.endColumn<p.endColumn&&this.completionModel.incomplete.size===0}get items(){var m;const S=[],{items:p}=this.completionModel,v=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},p),_=N.Iterable.slice(p,v),w=N.Iterable.slice(p,0,v);let E=5;for(const I of N.Iterable.concat(_,w)){if(I.score===f.FuzzyScore.Default)continue;const T=new C.Range(I.editStart.lineNumber,I.editStart.column,I.editInsertEnd.lineNumber,I.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),R=I.completion.insertTextRules&&I.completion.insertTextRules&h.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:I.completion.insertText}:I.completion.insertText;S.push(new a(T,R,(m=I.filterTextLow)!==null&&m!==void 0?m:I.labelLow,I.completion.additionalTextEdits,I.completion.command,I)),E-->=0&&I.resolve(y.CancellationToken.None)}return S}};s=De([fe(5,t.ISuggestMemoryService)],s);let l=class{constructor(m,S,p,v){this._getEditorOption=m,this._languageFeatureService=S,this._clipboardService=p,this._suggestMemoryService=v}provideInlineCompletions(m,S,p,v){var _;return Le(this,void 0,void 0,function*(){if(p.selectedSuggestionInfo)return;const w=this._getEditorOption(79,m);if(n.QuickSuggestionsOptions.isAllOff(w))return;m.tokenization.tokenizeIfCheap(S.lineNumber);const E=m.tokenization.getLineTokens(S.lineNumber),I=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(S.column-1-1,0)));if(n.QuickSuggestionsOptions.valueFor(w,I)!=="inline")return;let T=m.getWordAtPosition(S),R;if((T==null?void 0:T.word)||(R=this._getTriggerCharacterInfo(m,S)),!(T==null?void 0:T.word)&&!R||(T||(T=m.getWordUntilPosition(S)),T.endColumn!==S.column))return;let B;const O=m.getValueInRange(new C.Range(S.lineNumber,1,S.lineNumber,S.column));if(!R&&((_=this._lastResult)===null||_===void 0?void 0:_.canBeReused(m,S.lineNumber,T))){const k=new i.LineContext(O,S.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=k,this._lastResult.acquire(),B=this._lastResult}else{const k=yield(0,n.provideSuggestionItems)(this._languageFeatureService.completionProvider,m,S,new n.CompletionOptions(void 0,void 0,R==null?void 0:R.providers),R&&{triggerKind:1,triggerCharacter:R.ch},v);let A;k.needsClipboard&&(A=yield this._clipboardService.readText());const F=new i.CompletionModel(k.items,S.column,new i.LineContext(O,0),r.WordDistance.None,this._getEditorOption(106,m),this._getEditorOption(101,m),{boostFullMatch:!1,firstMatchCanBeWeak:!1},A);B=new s(m,S.lineNumber,T,F,k,this._suggestMemoryService)}return this._lastResult=B,B})}handleItemDidShow(m,S){S.completion.resolve(y.CancellationToken.None)}freeInlineCompletions(m){m.release()}_getTriggerCharacterInfo(m,S){var p;const v=m.getValueInRange(C.Range.fromPositions({lineNumber:S.lineNumber,column:S.column-1},S)),_=new Set;for(const w of this._languageFeatureService.completionProvider.all(m))((p=w.triggerCharacters)===null||p===void 0?void 0:p.includes(v))&&_.add(w);if(_.size!==0)return{providers:_,ch:v}}};l=De([fe(1,u.ILanguageFeaturesService),fe(2,d.IClipboardService),fe(3,t.ISuggestMemoryService)],l),e.SuggestInlineCompletions=l;let c=class Dt{constructor(m,S,p,v){if(++Dt._counter==1){const _=v.createInstance(l,(w,E)=>{var I;return((I=p.listCodeEditors().find(R=>R.getModel()===E))!==null&&I!==void 0?I:m).getOption(w)});Dt._disposable=S.inlineCompletionsProvider.register("*",_)}}dispose(){var m;--Dt._counter==0&&((m=Dt._disposable)===null||m===void 0||m.dispose(),Dt._disposable=void 0)}};c._counter=0,c=De([fe(1,u.ILanguageFeaturesService),fe(2,b.ICodeEditorService),fe(3,o.IInstantiationService)],c),(0,L.registerEditorContribution)("suggest.inlineCompletionsProvider",c)}),define(oe[301],se([1,0,45,236,15,589]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class L extends N.EditorAction{constructor(){super({id:L.ID,label:D.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(C,u){const i=!f.TabFocus.getTabFocusMode();f.TabFocus.setTabFocusMode(i),i?(0,y.alert)(D.localize(1,null)):(0,y.alert)(D.localize(2,null))}}e.ToggleTabFocusModeAction=L,L.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(L)}),define(oe[697],se([1,0,57,15,590]),function(K,e,y,f,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends f.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:N.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(b,C){if(!C.hasModel())return;const u=C.getModel();u.tokenization.resetTokenization();const h=new y.StopWatch(!0);u.tokenization.forceTokenization(u.getLineCount()),h.stop(),console.log(`tokenization took ${h.elapsed()}`)}}(0,f.registerEditorAction)(D)}),define(oe[698],se([1,0,2,42,15,29,592,132]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const C="ignoreUnusualLineTerminators";function u(n,t,r){n.setModelProperty(t.uri,C,r)}function h(n,t){return n.getModelProperty(t.uri,C)}let i=class extends y.Disposable{constructor(t,r,d){super();this._editor=t,this._dialogService=r,this._codeEditorService=d,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Le(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||h(this._codeEditorService,t)===!0||this._editor.getOption(81))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:L.localize(0,null),message:L.localize(1,null),detail:L.localize(2,null,(0,f.basename)(t.uri)),primaryButton:L.localize(3,null),secondaryButton:L.localize(4,null)})).confirmed){u(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};i.ID="editor.contrib.unusualLineTerminatorsDetector",i=De([fe(1,b.IDialogService),fe(2,D.ICodeEditorService)],i),e.UnusualLineTerminatorsDetector=i,(0,N.registerEditorContribution)(i.ID,i)}),define(oe[302],se([1,0,15,103,33,62,151,125,11,3,24,22,31,594,69,16,282]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class a extends y.EditorCommand{constructor(G){super(G);this._inSelectionMode=G.inSelectionMode,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,x,V){if(!x.hasModel())return;const j=(0,b.getMapForWordSeparators)(x.getOption(117)),re=x.getModel(),Y=x.getSelections().map(U=>{const Z=new C.Position(U.positionLineNumber,U.positionColumn),q=this._move(j,re,Z,this._wordNavigationType);return this._moveTo(U,q,this._inSelectionMode)});if(re.pushStackElement(),x._getViewModel().setCursorStates("moveWordCommand",3,Y.map(U=>D.CursorState.fromModelSelection(U))),Y.length===1){const U=new C.Position(Y[0].positionLineNumber,Y[0].positionColumn);x.revealPosition(U,0)}}_moveTo(G,x,V){return V?new h.Selection(G.selectionStartLineNumber,G.selectionStartColumn,x.lineNumber,x.column):new h.Selection(x.lineNumber,x.column,x.lineNumber,x.column)}}e.MoveWordCommand=a;class s extends a{_move(G,x,V,j){return L.WordOperations.moveWordLeft(G,x,V,j)}}e.WordLeftCommand=s;class l extends a{_move(G,x,V,j){return L.WordOperations.moveWordRight(G,x,V,j)}}e.WordRightCommand=l;class c extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=c;class g extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=g;class m extends s{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,o.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=m;class S extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=S;class p extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=p;class v extends s{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,o.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=v;class _ extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(G,x,V,j){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,V,j)}}e.CursorWordAccessibilityLeft=_;class w extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(G,x,V,j){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,V,j)}}e.CursorWordAccessibilityLeftSelect=w;class E extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends l{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,o.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=I;class T extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class R extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class B extends l{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,o.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=B;class O extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class k extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(G,x,V,j){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,V,j)}}e.CursorWordAccessibilityRight=k;class A extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(G,x,V,j){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),x,V,j)}}e.CursorWordAccessibilityRightSelect=A;class F extends y.EditorCommand{constructor(G){super(G);this._whitespaceHeuristics=G.whitespaceHeuristics,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,x,V){const j=G.get(n.ILanguageConfigurationService);if(!x.hasModel())return;const re=(0,b.getMapForWordSeparators)(x.getOption(117)),ae=x.getModel(),Y=x.getSelections(),U=x.getOption(5),Z=x.getOption(8),q=j.getLanguageConfiguration(ae.getLanguageId()).getAutoClosingPairs(),$=x._getViewModel(),H=Y.map(ee=>{const te=this._delete({wordSeparators:re,model:ae,selection:ee,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:x.getOption(6),autoClosingBrackets:U,autoClosingQuotes:Z,autoClosingPairs:q,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new f.ReplaceCommand(te,"")});x.pushUndoStop(),x.executeCommands(this.id,H),x.pushUndoStop()}}e.DeleteWordCommand=F;class P extends F{_delete(G,x){let V=L.WordOperations.deleteWordLeft(G,x);return V||new u.Range(1,1,1,1)}}e.DeleteWordLeftCommand=P;class W extends F{_delete(G,x){let V=L.WordOperations.deleteWordRight(G,x);if(V)return V;const j=G.model.getLineCount(),re=G.model.getLineMaxColumn(j);return new u.Range(j,re,j,re)}}e.DeleteWordRightCommand=W;class M extends P{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartLeft=M;class z extends P{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndLeft=z;class Q extends P{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=Q;class ne extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartRight=ne;class X extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndRight=X;class J extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=J;class ie extends y.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:i.EditorContextKeys.writable,label:t.localize(0,null),alias:"Delete Word"})}run(G,x,V){if(!x.hasModel())return;const j=(0,b.getMapForWordSeparators)(x.getOption(117)),re=x.getModel(),Y=x.getSelections().map(U=>{const Z=L.WordOperations.deleteInsideWord(j,re,U);return new f.ReplaceCommand(Z,"")});x.pushUndoStop(),x.executeCommands(this.id,Y),x.pushUndoStop()}}e.DeleteInsideWord=ie,(0,y.registerEditorCommand)(new c),(0,y.registerEditorCommand)(new g),(0,y.registerEditorCommand)(new m),(0,y.registerEditorCommand)(new S),(0,y.registerEditorCommand)(new p),(0,y.registerEditorCommand)(new v),(0,y.registerEditorCommand)(new E),(0,y.registerEditorCommand)(new I),(0,y.registerEditorCommand)(new T),(0,y.registerEditorCommand)(new R),(0,y.registerEditorCommand)(new B),(0,y.registerEditorCommand)(new O),(0,y.registerEditorCommand)(new _),(0,y.registerEditorCommand)(new w),(0,y.registerEditorCommand)(new k),(0,y.registerEditorCommand)(new A),(0,y.registerEditorCommand)(new M),(0,y.registerEditorCommand)(new z),(0,y.registerEditorCommand)(new Q),(0,y.registerEditorCommand)(new ne),(0,y.registerEditorCommand)(new X),(0,y.registerEditorCommand)(new J),(0,y.registerEditorAction)(ie)}),define(oe[699],se([1,0,15,151,3,22,302,26]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(a,s){let l=f.WordPartOperations.deleteWordPartLeft(a);return l||new N.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class u extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(a,s){let l=f.WordPartOperations.deleteWordPartRight(a);if(l)return l;const c=a.model.getLineCount(),g=a.model.getLineMaxColumn(c);return new N.Range(c,g,c,g)}}e.DeleteWordPartRight=u;class h extends L.MoveWordCommand{_move(a,s,l,c){return f.WordPartOperations.moveWordPartLeft(a,s,l)}}e.WordPartLeftCommand=h;class i extends h{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=i,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class n extends h{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=n,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends L.MoveWordCommand{_move(a,s,l,c){return f.WordPartOperations.moveWordPartRight(a,s,l)}}e.WordPartRightCommand=t;class r extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=r;class d extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,(0,y.registerEditorCommand)(new C),(0,y.registerEditorCommand)(new u),(0,y.registerEditorCommand)(new i),(0,y.registerEditorCommand)(new n),(0,y.registerEditorCommand)(new r),(0,y.registerEditorCommand)(new d)}),define(oe[700],se([1,0,7,32,174,45,66,2,17,8,25,15,22,301,16,9,43,49,23,14,75,402]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const g=new r.RawContextKey("accessibilityHelpWidgetVisible",!1);let m=class Pi extends b.Disposable{constructor(E,I){super();this._editor=E,this._widget=this._register(I.createInstance(p,this._editor))}static get(E){return E.getContribution(Pi.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};m.ID="editor.contrib.accessibilityHelpController",m=De([fe(1,d.IInstantiationService)],m);function S(w,E){return!w||w.length===0?c.AccessibilityHelpNLS.noSelection:w.length===1?E?u.format(c.AccessibilityHelpNLS.singleSelectionRange,w[0].positionLineNumber,w[0].positionColumn,E):u.format(c.AccessibilityHelpNLS.singleSelection,w[0].positionLineNumber,w[0].positionColumn):E?u.format(c.AccessibilityHelpNLS.multiSelectionRange,w.length,E):w.length>0?u.format(c.AccessibilityHelpNLS.multiSelection,w.length):""}let p=class Ht extends L.Widget{constructor(E,I,T,R){super();this._contextKeyService=I,this._keybindingService=T,this._openerService=R,this._editor=E,this._isVisibleKey=g.bindTo(this._contextKeyService),this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,f.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(y.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",B=>{if(!!this._isVisible&&(B.equals(2048|35)&&((0,D.alert)(c.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),y.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),B.preventDefault(),B.stopPropagation()),B.equals(2048|38))){(0,D.alert)(c.AccessibilityHelpNLS.openingDocs);let O=this._editor.getRawOptions().accessibilityHelpUrl;typeof O=="undefined"&&(O="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(h.URI.parse(O)),B.preventDefault(),B.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ht.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,I,T){const R=this._keybindingService.lookupKeybinding(E);return R?u.format(I,R.getAriaLabel()):u.format(T,E)}_buildContent(){const E=this._editor.getOptions(),I=this._editor.getSelections();let T=0;if(I){const k=this._editor.getModel();k&&I.forEach(A=>{T+=k.getValueLengthInRange(A)})}let R=S(I,T);E.get(54)?E.get(81)?R+=c.AccessibilityHelpNLS.readonlyDiffEditor:R+=c.AccessibilityHelpNLS.editableDiffEditor:E.get(81)?R+=c.AccessibilityHelpNLS.readonlyEditor:R+=c.AccessibilityHelpNLS.editableEditor;const B=C.isMacintosh?c.AccessibilityHelpNLS.changeConfigToOnMac:c.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:R+=`

 - `+B;break;case 2:R+=`

 - `+c.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+c.AccessibilityHelpNLS.auto_off,R+=" "+B;break}E.get(130)?R+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,c.AccessibilityHelpNLS.tabFocusModeOnMsg,c.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,c.AccessibilityHelpNLS.tabFocusModeOffMsg,c.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const O=C.isMacintosh?c.AccessibilityHelpNLS.openDocMac:c.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+O,R+=`

`+c.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,N.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,y.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),I=Math.max(5,Math.min(Ht.WIDTH,E.width-40)),T=Math.max(5,Math.min(Ht.HEIGHT,E.height-40));this._domNode.setWidth(I),this._domNode.setHeight(T);const R=Math.round((E.height-T)/2);this._domNode.setTop(R);const B=Math.round((E.width-I)/2);this._domNode.setLeft(B)}};p.ID="editor.contrib.accessibilityHelpWidget",p.WIDTH=500,p.HEIGHT=300,p=De([fe(1,r.IContextKeyService),fe(2,o.IKeybindingService),fe(3,a.IOpenerService)],p);class v extends i.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:c.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,I){const T=m.get(I);T&&T.show()}}(0,i.registerEditorContribution)(m.ID,m),(0,i.registerEditorAction)(v);const _=i.EditorCommand.bindToContribution(m.get);(0,i.registerEditorCommand)(new _({id:"closeAccessibilityHelp",precondition:g,handler:w=>w.hide(),kbOpts:{weight:100+100,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,l.registerThemingParticipant)((w,E)=>{const I=w.getColor(s.editorWidgetBackground);I&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${I}; }`);const T=w.getColor(s.editorWidgetForeground);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${T}; }`);const R=w.getColor(s.widgetShadow);R&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const B=w.getColor(s.contrastBorder);B&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${B}; }`)})}),define(oe[701],se([1,0,7,2,15,17,403]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class L extends f.Disposable{constructor(u){super();this.editor=u,this.widget=null,D.isIOS&&(this._register(u.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const u=!this.editor.getOption(81);!this.widget&&u?this.widget=new b(this.editor):this.widget&&!u&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=L,L.ID="editor.contrib.iPadShowKeyboard";class b extends f.Disposable{constructor(u){super();this.editor=u,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(y.addDisposableListener(this._domNode,"touchstart",h=>{this.editor.focus()})),this._register(y.addDisposableListener(this._domNode,"focus",h=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,N.registerEditorContribution)(L.ID,L)}),define(oe[702],se([1,0,7,30,2,15,27,127,36,108,23,14,75,55,404]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=class Oi extends N.Disposable{constructor(c,g,m){super();this._editor=c,this._languageService=m,this._widget=null,this._register(this._editor.onDidChangeModel(S=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(S=>this.stop())),this._register(L.TokenizationRegistry.onDidChange(S=>this.stop())),this._register(this._editor.onKeyUp(S=>S.keyCode===9&&this.stop()))}static get(c){return c.getContribution(Oi.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new s(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};r.ID="editor.contrib.inspectTokens",r=De([fe(1,u.IStandaloneThemeService),fe(2,C.ILanguageService)],r);class d extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:n.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(c,g){const m=r.get(g);m&&m.launch()}}function o(l){let c="";for(let g=0,m=l.length;g<m;g++){const S=l.charCodeAt(g);switch(S){case 9:c+="\u2192";break;case 32:c+="\xB7";break;default:c+=String.fromCharCode(S)}}return c}function a(l,c){const g=L.TokenizationRegistry.get(c);if(g)return g;const m=l.encodeLanguageId(c);return{getInitialState:()=>b.NullState,tokenize:(S,p,v)=>(0,b.nullTokenize)(c,v),tokenizeEncoded:(S,p,v)=>(0,b.nullTokenizeEncoded)(m,v)}}class s extends N.Disposable{constructor(c,g){super();this.allowEditorOverflow=!0,this._editor=c,this._languageService=g,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=a(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(m=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return s._ID}_compute(c){const g=this._getTokensAtLine(c.lineNumber);let m=0;for(let w=g.tokens1.length-1;w>=0;w--){const E=g.tokens1[w];if(c.column-1>=E.offset){m=w;break}}let S=0;for(let w=g.tokens2.length>>>1;w>=0;w--)if(c.column-1>=g.tokens2[w<<1]){S=w;break}const p=this._model.getLineContent(c.lineNumber);let v="";if(m<g.tokens1.length){const w=g.tokens1[m].offset,E=m+1<g.tokens1.length?g.tokens1[m+1].offset:p.length;v=p.substring(w,E)}(0,y.reset)(this._domNode,(0,y.$)("h2.tm-token",void 0,o(v),(0,y.$)("span.tm-token-length",void 0,`${v.length} ${v.length===1?"char":"chars"}`))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const _=(S<<1)+1<g.tokens2.length?this._decodeMetadata(g.tokens2[(S<<1)+1]):null;(0,y.append)(this._domNode,(0,y.$)("table.tm-metadata-table",void 0,(0,y.$)("tbody",void 0,(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"language"),(0,y.$)("td.tm-metadata-value",void 0,`${_?_.languageId:"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"token type"),(0,y.$)("td.tm-metadata-value",void 0,`${_?this._tokenTypeToString(_.tokenType):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"font style"),(0,y.$)("td.tm-metadata-value",void 0,`${_?this._fontStyleToString(_.fontStyle):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"foreground"),(0,y.$)("td.tm-metadata-value",void 0,`${_?f.Color.Format.CSS.formatHex(_.foreground):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"background"),(0,y.$)("td.tm-metadata-value",void 0,`${_?f.Color.Format.CSS.formatHex(_.background):"-?-"}`))))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator")),m<g.tokens1.length&&(0,y.append)(this._domNode,(0,y.$)("span.tm-token-type",void 0,g.tokens1[m].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(c){const g=L.TokenizationRegistry.getColorMap(),m=L.TokenMetadata.getLanguageId(c),S=L.TokenMetadata.getTokenType(c),p=L.TokenMetadata.getFontStyle(c),v=L.TokenMetadata.getForeground(c),_=L.TokenMetadata.getBackground(c);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(m),tokenType:S,fontStyle:p,foreground:g[v],background:g[_]}}_tokenTypeToString(c){switch(c){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(c){let g="";return c&1&&(g+="italic "),c&2&&(g+="bold "),c&4&&(g+="underline "),c&8&&(g+="strikethrough "),g.length===0&&(g="---"),g}_getTokensAtLine(c){const g=this._getStateBeforeLine(c),m=this._tokenizationSupport.tokenize(this._model.getLineContent(c),!0,g),S=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(c),!0,g);return{startState:g,tokens1:m.tokens,tokens2:S.tokens,endState:m.endState}}_getStateBeforeLine(c){let g=this._tokenizationSupport.getInitialState();for(let m=1;m<c;m++)g=this._tokenizationSupport.tokenize(this._model.getLineContent(m),!0,g).endState;return g}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}s._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(r.ID,r),(0,D.registerEditorAction)(d),(0,i.registerThemingParticipant)((l,c)=>{const g=l.getColor(h.editorHoverBorder);if(g){const p=(0,t.isHighContrast)(l.type)?2:1;c.addRule(`.monaco-editor .tokens-inspect-widget { border: ${p}px solid ${g}; }`),c.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${g}; }`)}const m=l.getColor(h.editorHoverBackground);m&&c.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${m}; }`);const S=l.getColor(h.editorHoverForeground);S&&c.addRule(`.monaco-editor .tokens-inspect-widget { color: ${S}; }`)})}),define(oe[703],se([1,0,38,112,75,29,647,19,9,43,26,90,132,15,22,82]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let o=class extends L.AbstractEditorCommandsQuickAccessProvider{constructor(l,c,g,m,S,p){super({showAlias:!1},l,g,m,S,p);this.codeEditorService=c}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Le(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};o=De([fe(0,C.IInstantiationService),fe(1,D.ICodeEditorService),fe(2,u.IKeybindingService),fe(3,h.ICommandService),fe(4,i.ITelemetryService),fe(5,n.IDialogService)],o),e.StandaloneCommandsQuickAccessProvider=o,y.Registry.as(f.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:o.PREFIX,helpEntries:[{description:N.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class a extends t.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:N.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(l){l.get(d.IQuickInputService).quickAccess.show(o.PREFIX)}}e.GotoLineAction=a,(0,t.registerEditorAction)(a)}),define(oe[704],se([1,0,669,38,112,29,19,75,4,15,22,82]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let n=class extends y.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};n=De([fe(0,D.ICodeEditorService)],n),e.StandaloneGotoLineQuickAccessProvider=n,f.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:b.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class t extends u.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:b.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(i.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=t,(0,u.registerEditorAction)(t)}),define(oe[705],se([1,0,670,38,112,29,19,75,4,15,22,82,205,20,143,295]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let r=class extends y.AbstractGotoSymbolQuickAccessProvider{constructor(a,s,l){super(s,l);this.editorService=a,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};r=De([fe(0,D.ICodeEditorService),fe(1,t.ILanguageFeaturesService),fe(2,n.IOutlineModelService)],r),e.StandaloneGotoSymbolQuickAccessProvider=r,f.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:b.QuickOutlineNLS.quickOutlineActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:b.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class d extends u.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:b.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:h.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(a){a.get(i.IQuickInputService).quickAccess.show(y.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=d,(0,u.registerEditorAction)(d)}),define(oe[706],se([1,0,15,108,75,55]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends y.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:N.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(C,u){const h=C.get(f.IStandaloneThemeService);(0,D.isHighContrast)(h.getColorTheme().type)?(h.setTheme(this._originalThemeName||"vs"),this._originalThemeName=null):(this._originalThemeName=h.getColorTheme().themeName,h.setTheme("hc-black"))}}(0,y.registerEditorAction)(L)}),define(oe[212],se([1,0,7,44,130,497,47,200,2,17,595,41,16,80,9,43,40,83,14,55,407]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function c(w,E,I,T,R,B,O){const k=w.getActions(E);return m(k,I,!1,typeof T=="string"?F=>F===T:T,R,B,O),g(k)}e.createAndFillInActionBarActions=c;function g(w){const E=new C.DisposableStore;for(const[,I]of w)for(const T of I)E.add(T);return E}function m(w,E,I,T=k=>k==="navigation",R=Number.MAX_SAFE_INTEGER,B=()=>!1,O=!1){let k,A;Array.isArray(E)?(k=E,A=E):(k=E.primary,A=E.secondary);const F=new Set;for(const[P,W]of w){let M;T(P)?(M=k,M.length>0&&O&&M.push(new L.Separator)):(M=A,M.length>0&&M.push(new L.Separator));for(let z of W){I&&(z=z instanceof i.MenuItemAction&&z.alt?z.alt:z);const Q=M.push(z);z instanceof L.SubmenuAction&&F.add({group:P,action:z,index:Q-1})}}for(const{group:P,action:W,index:M}of F){const z=T(P)?k:A,Q=W.actions;(Q.length<=1||z.length+Q.length-2<=R)&&B(W,P,z.length)&&z.splice(M,1,...Q)}if(k!==A&&k.length>R){const P=k.splice(R,k.length-R);A.unshift(...P,new L.Separator)}}let S=class extends N.ActionViewItem{constructor(E,I,T,R,B,O){super(void 0,E,{icon:!!(E.class||E.item.icon),label:!E.class&&!E.item.icon,draggable:I==null?void 0:I.draggable,keybinding:I==null?void 0:I.keybinding,hoverDelegate:I==null?void 0:I.hoverDelegate});this._keybindingService=T,this._notificationService=R,this._contextKeyService=B,this._themeService=O,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new C.MutableDisposable),this._altKey=y.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(E){return Le(this,void 0,void 0,function*(){E.preventDefault(),E.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(I){this._notificationService.error(I)}})}render(E){super.render(E),E.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let I=!1,T=this._altKey.keyStatus.altKey||(u.isWindows||u.isLinux)&&this._altKey.keyStatus.shiftKey;const R=()=>{var B;const O=I&&T&&!!((B=this._commandAction.alt)===null||B===void 0?void 0:B.enabled);O!==this._wantsAltCommand&&(this._wantsAltCommand=O,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(B=>{T=B.altKey||(u.isWindows||u.isLinux)&&B.shiftKey,R()})),this._register((0,y.addDisposableListener)(E,"mouseleave",B=>{I=!1,R()})),this._register((0,y.addDisposableListener)(E,"mouseenter",B=>{I=!0,R()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){var E;const I=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),T=I&&I.getLabel(),R=this._commandAction.tooltip||this._commandAction.label;let B=T?(0,h.localize)(0,null,R,T):R;if(!this._wantsAltCommand&&((E=this._menuItemAction.alt)===null||E===void 0?void 0:E.enabled)){const O=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,k=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),A=k&&k.getLabel(),F=A?(0,h.localize)(1,null,O,A):O;B=(0,h.localize)(2,null,B,b.UILabelProvider.modifierLabels[u.OS].altKey,F)}this._applyUpdateTooltip(B)}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(E){var I;this._itemClassDispose.value=void 0;const{element:T,label:R}=this;if(!T||!R)return;const B=this._commandAction.checked&&((I=E.toggled)===null||I===void 0?void 0:I.icon)?E.toggled.icon:E.icon;if(!!B)if(s.ThemeIcon.isThemeIcon(B)){const O=s.ThemeIcon.asClassNameArray(B);R.classList.add(...O),this._itemClassDispose.value=(0,C.toDisposable)(()=>{R.classList.remove(...O)})}else R.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,y.asCSSUrl)(B.dark):(0,y.asCSSUrl)(B.light),R.classList.add("icon"),this._itemClassDispose.value=(0,C.combinedDisposable)((0,C.toDisposable)(()=>{R.style.backgroundImage="",R.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};S=De([fe(2,d.IKeybindingService),fe(3,o.INotificationService),fe(4,n.IContextKeyService),fe(5,s.IThemeService)],S),e.MenuEntryActionViewItem=S;let p=class extends D.DropdownMenuActionViewItem{constructor(E,I,T,R){var B,O;const k=Object.assign({},I??Object.create(null),{menuAsChild:(B=I==null?void 0:I.menuAsChild)!==null&&B!==void 0?B:!1,classNames:(O=I==null?void 0:I.classNames)!==null&&O!==void 0?O:s.ThemeIcon.isThemeIcon(E.item.icon)?s.ThemeIcon.asClassName(E.item.icon):void 0});super(E,{getActions:()=>E.actions},T,k);this._themeService=R}render(E){if(super.render(E),this.element){E.classList.add("menu-entry");const{icon:I}=this._action.item;if(I&&!s.ThemeIcon.isThemeIcon(I)){this.element.classList.add("icon");const T=()=>{this.element&&(this.element.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,y.asCSSUrl)(I.dark):(0,y.asCSSUrl)(I.light))};T(),this._register(this._themeService.onDidColorThemeChange(()=>{T()}))}}}};p=De([fe(2,t.IContextMenuService),fe(3,s.IThemeService)],p),e.SubmenuEntryActionViewItem=p;let v=class extends N.BaseActionViewItem{constructor(E,I,T,R,B,O,k,A){var F,P,W;super(null,E);this._keybindingService=T,this._notificationService=R,this._contextMenuService=B,this._menuService=O,this._instaService=k,this._storageService=A,this._container=null,this._options=I,this._storageKey=`${E.item.submenu._debugName}_lastActionId`;let M,z=A.get(this._storageKey,1);z&&(M=E.actions.find(ne=>z===ne.id)),M||(M=E.actions[0]),this._defaultAction=this._instaService.createInstance(S,M,{keybinding:this._getDefaultActionKeybindingLabel(M)});const Q=Object.assign({},I??Object.create(null),{menuAsChild:(F=I==null?void 0:I.menuAsChild)!==null&&F!==void 0?F:!0,classNames:(P=I==null?void 0:I.classNames)!==null&&P!==void 0?P:["codicon","codicon-chevron-down"],actionRunner:(W=I==null?void 0:I.actionRunner)!==null&&W!==void 0?W:new L.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(E,E.actions,this._contextMenuService,Q),this._dropdown.actionRunner.onDidRun(ne=>{ne.action instanceof i.MenuItemAction&&this.update(ne.action)})}update(E){this._storageService.store(this._storageKey,E.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(S,E,{keybinding:this._getDefaultActionKeybindingLabel(E)}),this._defaultAction.actionRunner=new class extends L.ActionRunner{runAction(I,T){return Le(this,void 0,void 0,function*(){yield I.run(void 0)})}},this._container&&this._defaultAction.render((0,y.prepend)(this._container,(0,y.$)(".action-container")))}_getDefaultActionKeybindingLabel(E){var I;let T;if((I=this._options)===null||I===void 0?void 0:I.renderKeybindingWithDefaultActionLabel){const R=this._keybindingService.lookupKeybinding(E.id);R&&(T=`(${R.getLabel()})`)}return T}setActionContext(E){super.setActionContext(E),this._defaultAction.setActionContext(E),this._dropdown.setActionContext(E)}render(E){this._container=E,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const I=(0,y.$)(".action-container");this._defaultAction.render((0,y.append)(this._container,I)),this._register((0,y.addDisposableListener)(I,y.EventType.KEY_DOWN,R=>{const B=new f.StandardKeyboardEvent(R);B.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),B.stopPropagation())}));const T=(0,y.$)(".dropdown-action-container");this._dropdown.render((0,y.append)(this._container,T)),this._register((0,y.addDisposableListener)(T,y.EventType.KEY_DOWN,R=>{var B;const O=new f.StandardKeyboardEvent(R);O.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(B=this._defaultAction.element)===null||B===void 0||B.focus(),O.stopPropagation())}))}focus(E){E?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(E){E?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};v=De([fe(2,d.IKeybindingService),fe(3,o.INotificationService),fe(4,t.IContextMenuService),fe(5,i.IMenuService),fe(6,r.IInstantiationService),fe(7,a.IStorageService)],v),e.DropdownWithDefaultActionViewItem=v;function _(w,E,I){return E instanceof i.MenuItemAction?w.createInstance(S,E,I):E instanceof i.SubmenuItemAction?E.item.rememberDefaultAction?w.createInstance(v,E,I):w.createInstance(p,E,I):void 0}e.createActionViewItem=_}),define(oe[707],se([1,0,7,88,2,98,587,212,41,16,9]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class i extends b.MenuEntryActionViewItem{updateLabel(){const r=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!r)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,i.symbolPrintEnter(r)))}static symbolPrintEnter(r){var d;return(d=r.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let n=class{constructor(r,d,o,a){this._menuService=o,this._contextKeyService=a,this._menuDisposables=new N.DisposableStore,this.element=y.append(r,y.$(".suggest-status-bar"));const s=l=>l instanceof C.MenuItemAction?d.createInstance(i,l,void 0):void 0;this._leftActions=new f.ActionBar(this.element,{actionViewItemProvider:s}),this._rightActions=new f.ActionBar(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const r=this._menuService.createMenu(D.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const o=[],a=[];for(let[s,l]of r.getActions())s==="left"?o.push(...l):a.push(...l);this._leftActions.clear(),this._leftActions.push(o),this._rightActions.clear(),this._rightActions.push(a)};this._menuDisposables.add(r.onDidChange(()=>d())),this._menuDisposables.add(r)}hide(){this._menuDisposables.clear()}};n=De([fe(1,h.IInstantiationService),fe(2,C.IMenuService),fe(3,u.IContextKeyService)],n),e.SuggestWidgetStatus=n}),define(oe[708],se([1,0,10,4,2,41,26,16]),function(K,e,y,f,N,D,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let C=class{constructor(i){this._commandService=i}createMenu(i,n,t){return new u(i,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},t),this._commandService,n,this)}};C=De([fe(0,L.ICommandService)],C),e.MenuService=C;let u=class It{constructor(i,n,t,r,d){this._id=i,this._options=n,this._commandService=t,this._contextKeyService=r,this._menuService=d,this._disposables=new N.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const o=new y.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},n.eventDebounceDelay);this._disposables.add(o),this._disposables.add(D.MenuRegistry.onDidChangeMenu(l=>{l.has(i)&&o.schedule()}));const a=this._disposables.add(new N.DisposableStore),s=()=>{const l=new y.RunOnceScheduler(()=>this._onDidChange.fire(this),n.eventDebounceDelay);a.add(l),a.add(r.onDidChangeContext(c=>{c.affectsSome(this._contextKeys)&&l.schedule()}))};this._onDidChange=new f.Emitter({onFirstListenerAdd:s,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=D.MenuRegistry.getMenuItems(this._id);let n;i.sort(It._compareMenuItems);for(const t of i){const r=t.group||"";(!n||n[0]!==r)&&(n=[r,[]],this._menuGroups.push(n)),n[1].push(t),this._collectContextKeys(t)}}_collectContextKeys(i){if(It._fillInKbExprKeys(i.when,this._contextKeys),(0,D.isIMenuItem)(i)){if(i.command.precondition&&It._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled){const n=i.command.toggled.condition||i.command.toggled;It._fillInKbExprKeys(n,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&D.MenuRegistry.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const n=[];for(let t of this._menuGroups){const[r,d]=t,o=[];for(const a of d)if(this._contextKeyService.contextMatchesRules(a.when)){const s=(0,D.isIMenuItem)(a)?new D.MenuItemAction(a.command,a.alt,i,this._contextKeyService,this._commandService):new D.SubmenuItemAction(a,this._menuService,this._contextKeyService,i);o.push(s)}o.length>0&&n.push([r,o])}return n}static _fillInKbExprKeys(i,n){if(i)for(let t of i.keys())n.add(t)}static _compareMenuItems(i,n){let t=i.group,r=n.group;if(t!==r){if(t){if(!r)return-1}else return 1;if(t==="navigation")return-1;if(r==="navigation")return 1;let a=t.localeCompare(r);if(a!==0)return a}let d=i.order||0,o=n.order||0;return d<o?-1:d>o?1:It._compareTitles((0,D.isIMenuItem)(i)?i.command.title:i.title,(0,D.isIMenuItem)(n)?n.command.title:n.title)}static _compareTitles(i,n){const t=typeof i=="string"?i:i.original,r=typeof n=="string"?n:n.original;return t.localeCompare(r)}};u=De([fe(2,L.ICommandService),fe(3,b.IContextKeyService),fe(4,D.IMenuService)],u)}),define(oe[709],se([1,0,7,4,2,43,40,90,14,648,80]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let i=class extends N.Disposable{constructor(t,r,d,o,a){super();this._onDidShowContextMenu=new f.Emitter,this._onDidHideContextMenu=new f.Emitter,this.contextMenuHandler=new u.ContextMenuHandler(d,t,r,o,a)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:r=>{t.onHide&&t.onHide(r),this._onDidHideContextMenu.fire()}})),y.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};i=De([fe(0,b.ITelemetryService),fe(1,L.INotificationService),fe(2,h.IContextViewService),fe(3,D.IKeybindingService),fe(4,C.IThemeService)],i),e.ContextMenuService=i}),define(oe[163],se([1,0,7,356,122,359,494,493,274,4,2,601,69,37,110,16,282,9,43,38,135,14]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,a.createDecorator)("listService");let m=class{constructor(q){this._themeService=q,this.disposables=new h.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(q){var $,H;q!==this._lastFocusedWidget&&(($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=q,(H=this._lastFocusedWidget)===null||H===void 0||H.getHTMLElement().classList.add("last-focused"))}register(q,$){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ee=new N.DefaultStyleController((0,y.createStyleSheet)(),"");this.disposables.add((0,c.attachListStyler)(ee,this._themeService))}if(this.lists.some(ee=>ee.widget===q))throw new Error("Cannot register the same widget multiple times");const H={widget:q,extraContextKeys:$};return this.lists.push(H),q.getHTMLElement()===document.activeElement&&this.setLastFocusedList(q),(0,h.combinedDisposable)(q.onDidFocus(()=>this.setLastFocusedList(q)),(0,h.toDisposable)(()=>this.lists.splice(this.lists.indexOf(H),1)),q.onDidDispose(()=>{this.lists=this.lists.filter(ee=>ee!==H),this._lastFocusedWidget===q&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};m=De([fe(0,g.IThemeService)],m),e.ListService=m;const S=new d.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new d.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=d.ContextKeyExpr.and(S,d.ContextKeyExpr.not(o.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new d.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new d.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new d.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new d.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new d.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new d.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new d.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new d.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function p(Z,q){const $=Z.createScoped(q.getHTMLElement());return S.bindTo($),$}const v="workbench.list.multiSelectModifier",_="workbench.list.openMode",w="workbench.list.horizontalScrolling",E="workbench.list.keyboardNavigation",I="workbench.list.automaticKeyboardNavigation",T="workbench.tree.indent",R="workbench.tree.renderIndentGuides",B="workbench.list.smoothScrolling",O="workbench.list.mouseWheelScrollSensitivity",k="workbench.list.fastScrollSensitivity",A="workbench.tree.expandMode";function F(Z){return Z.getValue(v)==="alt"}class P extends h.Disposable{constructor(q){super();this.configurationService=q,this.useAltAsMultipleSelectionModifier=F(q),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(q=>{q.affectsConfiguration(v)&&(this.useAltAsMultipleSelectionModifier=F(this.configurationService))}))}isSelectionSingleChangeEvent(q){return this.useAltAsMultipleSelectionModifier?q.browserEvent.altKey:(0,N.isSelectionSingleChangeEvent)(q)}isSelectionRangeChangeEvent(q){return(0,N.isSelectionRangeChangeEvent)(q)}}function W(Z,q,$){var H;const ee=new h.DisposableStore;return[Object.assign(Object.assign({},Z),{keyboardNavigationDelegate:{mightProducePrintableCharacter(de){return $.mightProducePrintableCharacter(de)}},smoothScrolling:Boolean(q.getValue(B)),mouseWheelScrollSensitivity:q.getValue(O),fastScrollSensitivity:q.getValue(k),multipleSelectionController:(H=Z.multipleSelectionController)!==null&&H!==void 0?H:ee.add(new P(q))}),ee]}let M=class extends N.List{constructor(q,$,H,ee,te,de,he,pe,ve,ue){const Ce=typeof te.horizontalScrolling!="undefined"?te.horizontalScrolling:Boolean(ve.getValue(w)),[me,be]=W(te,ve,ue);super(q,$,H,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(pe.getColorTheme(),c.defaultListStyles)),me),{horizontalScrolling:Ce}));this.disposables.add(be),this.contextKeyService=p(de,this),this.themeService=pe,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(te.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(te.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=te.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(ve),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),te.overrideStyles&&this.updateStyles(te.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ge=this.getSelection(),we=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ge.length>0||we.length>0),this.listMultiSelection.set(ge.length>1),this.listDoubleSelection.set(ge.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ge=this.getSelection(),we=this.getFocus();this.listHasSelectionOrFocus.set(ge.length>0||we.length>0)})),this.disposables.add(ve.onDidChangeConfiguration(ge=>{ge.affectsConfiguration(v)&&(this._useAltAsMultipleSelectionModifier=F(ve));let we={};if(ge.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const ye=Boolean(ve.getValue(w));we=Object.assign(Object.assign({},we),{horizontalScrolling:ye})}if(ge.affectsConfiguration(B)){const ye=Boolean(ve.getValue(B));we=Object.assign(Object.assign({},we),{smoothScrolling:ye})}if(ge.affectsConfiguration(O)){const ye=ve.getValue(O);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:ye})}if(ge.affectsConfiguration(k)){const ye=ve.getValue(k);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:ye})}Object.keys(we).length>0&&this.updateOptions(we)})),this.navigator=new X(this,Object.assign({configurationService:ve},te)),this.disposables.add(this.navigator)}updateOptions(q){super.updateOptions(q),q.overrideStyles&&this.updateStyles(q.overrideStyles),q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyles(q){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,q)}dispose(){var q;(q=this._styler)===null||q===void 0||q.dispose(),super.dispose()}};M=De([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,g.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService)],M),e.WorkbenchList=M;let z=class extends f.PagedList{constructor(q,$,H,ee,te,de,he,pe,ve,ue){const Ce=typeof te.horizontalScrolling!="undefined"?te.horizontalScrolling:Boolean(ve.getValue(w)),[me,be]=W(te,ve,ue);super(q,$,H,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(pe.getColorTheme(),c.defaultListStyles)),me),{horizontalScrolling:Ce}));this.disposables=new h.DisposableStore,this.disposables.add(be),this.contextKeyService=p(de,this),this.themeService=pe,this.horizontalScrolling=te.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(te.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(te.selectionNavigation)),this._useAltAsMultipleSelectionModifier=F(ve),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),te.overrideStyles&&this.updateStyles(te.overrideStyles),te.overrideStyles&&this.disposables.add((0,c.attachListStyler)(this,pe,te.overrideStyles)),this.disposables.add(ve.onDidChangeConfiguration(ge=>{ge.affectsConfiguration(v)&&(this._useAltAsMultipleSelectionModifier=F(ve));let we={};if(ge.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const ye=Boolean(ve.getValue(w));we=Object.assign(Object.assign({},we),{horizontalScrolling:ye})}if(ge.affectsConfiguration(B)){const ye=Boolean(ve.getValue(B));we=Object.assign(Object.assign({},we),{smoothScrolling:ye})}if(ge.affectsConfiguration(O)){const ye=ve.getValue(O);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:ye})}if(ge.affectsConfiguration(k)){const ye=ve.getValue(k);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:ye})}Object.keys(we).length>0&&this.updateOptions(we)})),this.navigator=new X(this,Object.assign({configurationService:ve},te)),this.disposables.add(this.navigator)}updateOptions(q){super.updateOptions(q),q.overrideStyles&&this.updateStyles(q.overrideStyles),q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyles(q){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,q)}dispose(){var q;(q=this._styler)===null||q===void 0||q.dispose(),this.disposables.dispose(),super.dispose()}};z=De([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,g.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService)],z),e.WorkbenchPagedList=z;let Q=class extends D.Table{constructor(q,$,H,ee,te,de,he,pe,ve,ue,Ce){const me=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(ue.getValue(w)),[be,ce]=W(de,ue,Ce);super(q,$,H,ee,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(ve.getColorTheme(),c.defaultListStyles)),be),{horizontalScrolling:me}));this.disposables.add(ce),this.contextKeyService=p(he,this),this.themeService=ve,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=de.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(ue),this.disposables.add(this.contextKeyService),this.disposables.add(pe.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const we=this.getSelection(),ye=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(we.length>0||ye.length>0),this.listMultiSelection.set(we.length>1),this.listDoubleSelection.set(we.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const we=this.getSelection(),ye=this.getFocus();this.listHasSelectionOrFocus.set(we.length>0||ye.length>0)})),this.disposables.add(ue.onDidChangeConfiguration(we=>{we.affectsConfiguration(v)&&(this._useAltAsMultipleSelectionModifier=F(ue));let ye={};if(we.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const Te=Boolean(ue.getValue(w));ye=Object.assign(Object.assign({},ye),{horizontalScrolling:Te})}if(we.affectsConfiguration(B)){const Te=Boolean(ue.getValue(B));ye=Object.assign(Object.assign({},ye),{smoothScrolling:Te})}if(we.affectsConfiguration(O)){const Te=ue.getValue(O);ye=Object.assign(Object.assign({},ye),{mouseWheelScrollSensitivity:Te})}if(we.affectsConfiguration(k)){const Te=ue.getValue(k);ye=Object.assign(Object.assign({},ye),{fastScrollSensitivity:Te})}Object.keys(ye).length>0&&this.updateOptions(ye)})),this.navigator=new J(this,Object.assign({configurationService:ue},de)),this.disposables.add(this.navigator)}updateOptions(q){super.updateOptions(q),q.overrideStyles&&this.updateStyles(q.overrideStyles),q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyles(q){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,q)}dispose(){var q;(q=this._styler)===null||q===void 0||q.dispose(),this.disposables.dispose(),super.dispose()}};Q=De([fe(6,d.IContextKeyService),fe(7,e.IListService),fe(8,g.IThemeService),fe(9,t.IConfigurationService),fe(10,s.IKeybindingService)],Q),e.WorkbenchTable=Q;class ne extends h.Disposable{constructor(q,$){var H;super();this.widget=q,this._onDidOpen=this._register(new u.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(u.Event.filter(this.widget.onDidChangeSelection,ee=>ee.browserEvent instanceof KeyboardEvent)(ee=>this.onSelectionFromKeyboard(ee))),this._register(this.widget.onPointer(ee=>this.onPointer(ee.element,ee.browserEvent))),this._register(this.widget.onMouseDblClick(ee=>this.onMouseDblClick(ee.element,ee.browserEvent))),typeof($==null?void 0:$.openOnSingleClick)!="boolean"&&($==null?void 0:$.configurationService)?(this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(_))!=="doubleClick",this._register($==null?void 0:$.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(_))!=="doubleClick"}))):this.openOnSingleClick=(H=$==null?void 0:$.openOnSingleClick)!==null&&H!==void 0?H:!0}onSelectionFromKeyboard(q){if(q.elements.length!==1)return;const $=q.browserEvent,H=typeof $.preserveFocus=="boolean"?$.preserveFocus:!0,ee=typeof $.pinned=="boolean"?$.pinned:!H,te=!1;this._open(this.getSelectedElement(),H,ee,te,q.browserEvent)}onPointer(q,$){if(!this.openOnSingleClick||$.detail===2)return;const ee=$.button===1,te=!0,de=ee,he=$.ctrlKey||$.metaKey||$.altKey;this._open(q,te,de,he,$)}onMouseDblClick(q,$){if(!$)return;const H=$.target;if(H.classList.contains("monaco-tl-twistie")||H.classList.contains("monaco-icon-label")&&H.classList.contains("folder-icon")&&$.offsetX<16)return;const te=!1,de=!0,he=$.ctrlKey||$.metaKey||$.altKey;this._open(q,te,de,he,$)}_open(q,$,H,ee,te){!q||this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:H,revealIfVisible:!0},sideBySide:ee,element:q,browserEvent:te})}}class X extends ne{constructor(q,$){super(q,$);this.widget=q}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class J extends ne{constructor(q,$){super(q,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends ne{constructor(q,$){super(q,$)}getSelectedElement(){var q;return(q=this.widget.getSelection()[0])!==null&&q!==void 0?q:void 0}}function le(Z,q){let $=!1;return H=>{if(H.toKeybinding().isModifierKey())return!1;if($)return $=!1,!1;const ee=q.softDispatch(H,Z);return ee&&ee.enterChord?($=!0,!1):($=!1,!0)}}let G=class extends C.ObjectTree{constructor(q,$,H,ee,te,de,he,pe,ve,ue,Ce){const{options:me,getAutomaticKeyboardNavigation:be,disposable:ce}=ae($,te,de,ve,ue,Ce);super(q,$,H,ee,me);this.disposables.add(ce),this.internals=new Y(this,te,be,te.overrideStyles,de,he,pe,ve,Ce),this.disposables.add(this.internals)}updateOptions(q){super.updateOptions(q),this.internals.updateOptions(q)}};G=De([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,g.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService),fe(10,n.IAccessibilityService)],G),e.WorkbenchObjectTree=G;let x=class extends C.CompressibleObjectTree{constructor(q,$,H,ee,te,de,he,pe,ve,ue,Ce){const{options:me,getAutomaticKeyboardNavigation:be,disposable:ce}=ae($,te,de,ve,ue,Ce);super(q,$,H,ee,me);this.disposables.add(ce),this.internals=new Y(this,te,be,te.overrideStyles,de,he,pe,ve,Ce),this.disposables.add(this.internals)}updateOptions(q={}){super.updateOptions(q),q.overrideStyles&&this.internals.updateStyleOverrides(q.overrideStyles),this.internals.updateOptions(q)}};x=De([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,g.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService),fe(10,n.IAccessibilityService)],x),e.WorkbenchCompressibleObjectTree=x;let V=class extends b.DataTree{constructor(q,$,H,ee,te,de,he,pe,ve,ue,Ce,me){const{options:be,getAutomaticKeyboardNavigation:ce,disposable:ge}=ae($,de,he,ue,Ce,me);super(q,$,H,ee,te,be);this.disposables.add(ge),this.internals=new Y(this,de,ce,de.overrideStyles,he,pe,ve,ue,me),this.disposables.add(this.internals)}updateOptions(q={}){super.updateOptions(q),q.overrideStyles&&this.internals.updateStyleOverrides(q.overrideStyles),this.internals.updateOptions(q)}};V=De([fe(6,d.IContextKeyService),fe(7,e.IListService),fe(8,g.IThemeService),fe(9,t.IConfigurationService),fe(10,s.IKeybindingService),fe(11,n.IAccessibilityService)],V),e.WorkbenchDataTree=V;let j=class extends L.AsyncDataTree{constructor(q,$,H,ee,te,de,he,pe,ve,ue,Ce,me){const{options:be,getAutomaticKeyboardNavigation:ce,disposable:ge}=ae($,de,he,ue,Ce,me);super(q,$,H,ee,te,be);this.disposables.add(ge),this.internals=new Y(this,de,ce,de.overrideStyles,he,pe,ve,ue,me),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(q={}){super.updateOptions(q),q.overrideStyles&&this.internals.updateStyleOverrides(q.overrideStyles),this.internals.updateOptions(q)}};j=De([fe(6,d.IContextKeyService),fe(7,e.IListService),fe(8,g.IThemeService),fe(9,t.IConfigurationService),fe(10,s.IKeybindingService),fe(11,n.IAccessibilityService)],j),e.WorkbenchAsyncDataTree=j;let re=class extends L.CompressibleAsyncDataTree{constructor(q,$,H,ee,te,de,he,pe,ve,ue,Ce,me,be){const{options:ce,getAutomaticKeyboardNavigation:ge,disposable:we}=ae($,he,pe,Ce,me,be);super(q,$,H,ee,te,de,ce);this.disposables.add(we),this.internals=new Y(this,he,ge,he.overrideStyles,pe,ve,ue,Ce,be),this.disposables.add(this.internals)}updateOptions(q){super.updateOptions(q),this.internals.updateOptions(q)}};re=De([fe(7,d.IContextKeyService),fe(8,e.IListService),fe(9,g.IThemeService),fe(10,t.IConfigurationService),fe(11,s.IKeybindingService),fe(12,n.IAccessibilityService)],re),e.WorkbenchCompressibleAsyncDataTree=re;function ae(Z,q,$,H,ee,te){var de;const he=()=>{let ce=Boolean($.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return ce&&(ce=Boolean(H.getValue(I))),ce},pe=te.isScreenReaderOptimized(),ve=q.simpleKeyboardNavigation||pe?"simple":H.getValue(E),ue=q.horizontalScrolling!==void 0?q.horizontalScrolling:Boolean(H.getValue(w)),[Ce,me]=W(q,H,ee),be=q.additionalScrollHeight;return{getAutomaticKeyboardNavigation:he,disposable:me,options:Object.assign(Object.assign({keyboardSupport:!1},Ce),{indent:typeof H.getValue(T)=="number"?H.getValue(T):void 0,renderIndentGuides:H.getValue(R),smoothScrolling:Boolean(H.getValue(B)),automaticKeyboardNavigation:he(),simpleKeyboardNavigation:ve==="simple",filterOnType:ve==="filter",horizontalScrolling:ue,keyboardNavigationEventFilter:le(Z,ee),additionalScrollHeight:be,hideTwistiesOfChildlessElements:q.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(de=q.expandOnlyOnTwistieClick)!==null&&de!==void 0?de:H.getValue(A)==="doubleClick"})}}let Y=class{constructor(q,$,H,ee,te,de,he,pe,ve){this.tree=q,this.themeService=he,this.disposables=[],this.contextKeyService=p(te,q),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean($.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=F(pe);const Ce=new Set;Ce.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const me=()=>{const ge=ve.isScreenReaderOptimized()?"simple":pe.getValue(E);q.updateOptions({simpleKeyboardNavigation:ge==="simple",filterOnType:ge==="filter"})};this.updateStyleOverrides(ee);const be=()=>{const ce=q.getFocus()[0];if(!ce)return;const ge=q.getNode(ce);this.treeElementCanCollapse.set(ge.collapsible&&!ge.collapsed),this.treeElementHasParent.set(!!q.getParentElement(ce)),this.treeElementCanExpand.set(ge.collapsible&&ge.collapsed),this.treeElementHasChild.set(!!q.getFirstElementChild(ce))};this.disposables.push(this.contextKeyService,de.register(q),q.onDidChangeSelection(()=>{const ce=q.getSelection(),ge=q.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ce.length>0||ge.length>0),this.hasMultiSelection.set(ce.length>1),this.hasDoubleSelection.set(ce.length===2)})}),q.onDidChangeFocus(()=>{const ce=q.getSelection(),ge=q.getFocus();this.hasSelectionOrFocus.set(ce.length>0||ge.length>0),be()}),q.onDidChangeCollapseState(be),q.onDidChangeModel(be),pe.onDidChangeConfiguration(ce=>{let ge={};if(ce.affectsConfiguration(v)&&(this._useAltAsMultipleSelectionModifier=F(pe)),ce.affectsConfiguration(T)){const we=pe.getValue(T);ge=Object.assign(Object.assign({},ge),{indent:we})}if(ce.affectsConfiguration(R)){const we=pe.getValue(R);ge=Object.assign(Object.assign({},ge),{renderIndentGuides:we})}if(ce.affectsConfiguration(B)){const we=Boolean(pe.getValue(B));ge=Object.assign(Object.assign({},ge),{smoothScrolling:we})}if(ce.affectsConfiguration(E)&&me(),ce.affectsConfiguration(I)&&(ge=Object.assign(Object.assign({},ge),{automaticKeyboardNavigation:H()})),ce.affectsConfiguration(w)&&$.horizontalScrolling===void 0){const we=Boolean(pe.getValue(w));ge=Object.assign(Object.assign({},ge),{horizontalScrolling:we})}if(ce.affectsConfiguration(A)&&$.expandOnlyOnTwistieClick===void 0&&(ge=Object.assign(Object.assign({},ge),{expandOnlyOnTwistieClick:pe.getValue(A)==="doubleClick"})),ce.affectsConfiguration(O)){const we=pe.getValue(O);ge=Object.assign(Object.assign({},ge),{mouseWheelScrollSensitivity:we})}if(ce.affectsConfiguration(k)){const we=pe.getValue(k);ge=Object.assign(Object.assign({},ge),{fastScrollSensitivity:we})}Object.keys(ge).length>0&&q.updateOptions(ge)}),this.contextKeyService.onDidChangeContext(ce=>{ce.affectsSome(Ce)&&q.updateOptions({automaticKeyboardNavigation:H()})}),ve.onDidChangeScreenReaderOptimized(()=>me())),this.navigator=new ie(q,Object.assign({configurationService:pe},$)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(q){q.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyleOverrides(q){(0,h.dispose)(this.styler),this.styler=q?(0,c.attachListStyler)(this.tree,this.themeService,q):h.Disposable.None}dispose(){this.disposables=(0,h.dispose)(this.disposables),(0,h.dispose)(this.styler),this.styler=void 0}};Y=De([fe(4,d.IContextKeyService),fe(5,e.IListService),fe(6,g.IThemeService),fe(7,t.IConfigurationService),fe(8,n.IAccessibilityService)],Y),l.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[v]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[_]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[w]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[T]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(6,null)},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[B]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[O]:{type:"number",default:1,markdownDescription:(0,i.localize)(9,null)},[k]:{type:"number",default:5,description:(0,i.localize)(10,null)},[E]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[I]:{type:"boolean",default:!0,markdownDescription:(0,i.localize)(15,null)},[A]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(16,null)}}})}),define(oe[710],se([1,0,7,92,44,60,4,2,49,23,14]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let i=class extends b.Disposable{constructor(t,r,d={},o){var a;super();this._link=r,this._enabled=!0,this.el=(0,y.append)(t,(0,y.$)("a.monaco-link",{tabIndex:(a=r.tabIndex)!==null&&a!==void 0?a:0,href:r.href,title:r.title},r.label)),this.el.setAttribute("role","button");const s=this._register(new f.DomEmitter(this.el,"click")),l=this._register(new f.DomEmitter(this.el,"keypress")),c=L.Event.chain(l.event).map(S=>new N.StandardKeyboardEvent(S)).filter(S=>S.keyCode===3).event,g=this._register(new f.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const m=L.Event.any(s.event,c,g);this._register(m(S=>{!this.enabled||(y.EventHelper.stop(S,!0),(d==null?void 0:d.opener)?d.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};i=De([fe(3,C.IOpenerService)],i),e.Link=i,(0,h.registerThemingParticipant)((n,t)=>{const r=n.getColor(u.textLinkForeground);r&&t.addRule(`.monaco-link { color: ${r}; }`);const d=n.getColor(u.textLinkActiveForeground);d&&t.addRule(`.monaco-link:hover { color: ${d}; }`)})}),define(oe[711],se([1,0,21,509,69,16,9,109,163,644,23,135,14]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends n.Themable{constructor(d,o,a,s,l){super(a);this.instantiationService=d,this.contextKeyService=o,this.accessibilityService=s,this.layoutService=l,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,o){const a={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:l=>this.setContextKey(l),returnFocus:()=>d.focus(),createList:(l,c,g,m,S)=>this.instantiationService.createInstance(C.WorkbenchList,l,c,g,m,S),styles:this.computeStyles()},s=this._register(new f.QuickInputController(Object.assign(Object.assign({},a),o)));return s.layout(d.dimension,d.offset.quickPickTop),this._register(d.onDidLayout(l=>s.layout(l,d.offset.quickPickTop))),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(d){let o;d&&(o=this.contexts.get(d),o||(o=new D.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,o))),!(o&&o.get())&&(this.resetContextKeys(),o&&o.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,o={},a=y.CancellationToken.None){return this.controller.pick(d,o,a)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,i.computeStyles)(this.theme,{quickInputBackground:h.quickInputBackground,quickInputForeground:h.quickInputForeground,quickInputTitleBackground:h.quickInputTitleBackground,contrastBorder:h.contrastBorder,widgetShadow:h.widgetShadow})),inputBox:(0,i.computeStyles)(this.theme,{inputForeground:h.inputForeground,inputBackground:h.inputBackground,inputBorder:h.inputBorder,inputValidationInfoBackground:h.inputValidationInfoBackground,inputValidationInfoForeground:h.inputValidationInfoForeground,inputValidationInfoBorder:h.inputValidationInfoBorder,inputValidationWarningBackground:h.inputValidationWarningBackground,inputValidationWarningForeground:h.inputValidationWarningForeground,inputValidationWarningBorder:h.inputValidationWarningBorder,inputValidationErrorBackground:h.inputValidationErrorBackground,inputValidationErrorForeground:h.inputValidationErrorForeground,inputValidationErrorBorder:h.inputValidationErrorBorder}),countBadge:(0,i.computeStyles)(this.theme,{badgeBackground:h.badgeBackground,badgeForeground:h.badgeForeground,badgeBorder:h.contrastBorder}),button:(0,i.computeStyles)(this.theme,{buttonForeground:h.buttonForeground,buttonBackground:h.buttonBackground,buttonHoverBackground:h.buttonHoverBackground,buttonBorder:h.contrastBorder}),progressBar:(0,i.computeStyles)(this.theme,{progressBarBackground:h.progressBarBackground}),keybindingLabel:(0,i.computeStyles)(this.theme,{keybindingLabelBackground:h.keybindingLabelBackground,keybindingLabelForeground:h.keybindingLabelForeground,keybindingLabelBorder:h.keybindingLabelBorder,keybindingLabelBottomBorder:h.keybindingLabelBottomBorder,keybindingLabelShadow:h.widgetShadow}),list:(0,i.computeStyles)(this.theme,{listBackground:h.quickInputBackground,listInactiveFocusForeground:h.quickInputListFocusForeground,listInactiveSelectionIconForeground:h.quickInputListFocusIconForeground,listInactiveFocusBackground:h.quickInputListFocusBackground,listFocusOutline:h.activeContrastBorder,listInactiveFocusOutline:h.activeContrastBorder,pickerGroupBorder:h.pickerGroupBorder,pickerGroupForeground:h.pickerGroupForeground})}}};t=De([fe(0,L.IInstantiationService),fe(1,D.IContextKeyService),fe(2,n.IThemeService),fe(3,N.IAccessibilityService),fe(4,b.ILayoutService)],t),e.QuickInputService=t}),define(oe[712],se([1,0,15,14,21,9,16,69,284,29,711,91,405]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let n=class extends h.QuickInputService{constructor(a,s,l,c,g,m){super(s,l,c,g,new C.EditorScopedLayoutService(a.getContainerDomNode(),m));this.host=void 0;const S=r.get(a);if(S){const p=S.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return p.getDomNode()},get dimension(){return a.getLayoutInfo()},get onDidLayout(){return a.onDidLayoutChange},focus:()=>a.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};n=De([fe(1,D.IInstantiationService),fe(2,L.IContextKeyService),fe(3,f.IThemeService),fe(4,b.IAccessibilityService),fe(5,u.ICodeEditorService)],n),e.EditorScopedQuickInputService=n;let t=class{constructor(a,s){this.instantiationService=a,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const a=this.codeEditorService.getFocusedCodeEditor();if(!a)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(a);if(!s){const l=s=this.instantiationService.createInstance(n,a);this.mapEditorToService.set(a,s),(0,i.once)(a.onDidDispose)(()=>{l.dispose(),this.mapEditorToService.delete(a)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(a,s={},l=N.CancellationToken.None){return this.activeService.pick(a,s,l)}createQuickPick(){return this.activeService.createQuickPick()}};t=De([fe(0,D.IInstantiationService),fe(1,u.ICodeEditorService)],t),e.StandaloneQuickInputService=t;class r{constructor(a){this.editor=a,this.widget=new d(this.editor)}static get(a){return a.getContribution(r.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=r,r.ID="editor.controller.quickInput";class d{constructor(a){this.codeEditor=a,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",(0,y.registerEditorContribution)(r.ID,r)}),define(oe[713],se([1,0,28,78,23,14]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(b){function C(u){switch(u){case f.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case f.default.Info:return y.Codicon.info.classNames;case f.default.Warning:return y.Codicon.warning.classNames;case f.default.Error:return y.Codicon.error.classNames;default:return""}}b.className=C})(L=e.SeverityIcon||(e.SeverityIcon={})),(0,D.registerThemingParticipant)((b,C)=>{const u=b.getColor(N.problemsErrorIconForeground);if(u){const n=y.Codicon.error.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.text-search-provider-messages .providerMessage ${n},
			.extensions-viewlet > .extensions ${n} {
				color: ${u};
			}
		`)}const h=b.getColor(N.problemsWarningIconForeground);if(h){const n=y.Codicon.warning.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.extensions-viewlet > .extensions ${n},
			.extension-editor ${n},
			.text-search-provider-messages .providerMessage ${n},
			.preferences-editor ${n} {
				color: ${h};
			}
		`)}const i=b.getColor(N.problemsInfoIconForeground);if(i){const n=y.Codicon.info.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.extensions-viewlet > .extensions ${n},
			.text-search-provider-messages .providerMessage ${n},
			.extension-editor ${n} {
				color: ${i};
			}
		`)}})}),define(oe[77],se([1,0,10,28,4,606,206,38,14]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var u;(function(a){function s(l,c){let g=l.defaults;for(;C.ThemeIcon.isThemeIcon(g);){const m=i.getIcon(g.id);if(!m)return;g=m.defaults}return g}a.getDefinition=s})(u=e.IconContribution||(e.IconContribution={}));class h{constructor(){this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,D.localize)(0,null)},fontCharacter:{type:"string",description:(0,D.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${f.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(s,l,c,g){const m=this.iconsById[s];if(m){if(c&&!m.description){m.description=c,this.iconSchema.properties[s].markdownDescription=`${c} $(${s})`;const v=this.iconReferenceSchema.enum.indexOf(s);v!==-1&&(this.iconReferenceSchema.enumDescriptions[v]=c),this._onDidChange.fire()}return m}let S={id:s,description:c,defaults:l,deprecationMessage:g};this.iconsById[s]=S;let p={$ref:"#/definitions/icons"};return g&&(p.deprecationMessage=g),c&&(p.markdownDescription=`${c}: $(${s})`),this.iconSchema.properties[s]=p,this.iconReferenceSchema.enum.push(s),this.iconReferenceSchema.enumDescriptions.push(c||""),this._onDidChange.fire(),{id:s}}getIcons(){return Object.keys(this.iconsById).map(s=>this.iconsById[s])}getIcon(s){return this.iconsById[s]}getIconSchema(){return this.iconSchema}toString(){const s=(m,S)=>m.id.localeCompare(S.id),l=m=>{for(;C.ThemeIcon.isThemeIcon(m.defaults);)m=this.iconsById[m.defaults.id];return`codicon codicon-${m?m.id:""}`};let c=[];c.push("| preview     | identifier                        | default codicon ID                | description"),c.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const g=Object.keys(this.iconsById).map(m=>this.iconsById[m]);for(const m of g.filter(S=>!!S.description).sort(s))c.push(`|<i class="${l(m)}"></i>|${m.id}|${C.ThemeIcon.isThemeIcon(m.defaults)?m.defaults.id:m.id}|${m.description||""}|`);c.push("| preview     | identifier                        "),c.push("| ----------- | --------------------------------- |");for(const m of g.filter(S=>!C.ThemeIcon.isThemeIcon(S.defaults)).sort(s))c.push(`|<i class="${l(m)}"></i>|${m.id}|`);return c.join(`
`)}}const i=new h;b.Registry.add(e.Extensions.IconContribution,i);function n(a,s,l,c){return i.registerIcon(a,s,l,c)}e.registerIcon=n;function t(){return i}e.getIconRegistry=t;function r(){for(const a of f.Codicon.getAll())i.registerIcon(a.id,a.definition,a.description)}r(),e.iconsSchemaId="vscode://schemas/icons";let d=b.Registry.as(L.Extensions.JSONContribution);d.registerSchema(e.iconsSchemaId,i.getIconSchema());const o=new y.RunOnceScheduler(()=>d.notifySchemaChanged(e.iconsSchemaId),200);i.onDidChange(()=>{o.isScheduled()||o.schedule()}),e.widgetClose=n("widget-close",f.Codicon.close,(0,D.localize)(2,null)),e.gotoPreviousLocation=n("goto-previous-location",f.Codicon.arrowUp,(0,D.localize)(3,null)),e.gotoNextLocation=n("goto-next-location",f.Codicon.arrowDown,(0,D.localize)(4,null)),e.syncing=C.ThemeIcon.modify(f.Codicon.sync,"spin"),e.spinningLoading=C.ThemeIcon.modify(f.Codicon.loading,"spin")}),define(oe[714],se([1,0,515,7,32,88,73,47,2,68,15,29,33,79,11,54,129,74,16,23,14,28,77,36,378]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const v=3;class _{constructor(F,P,W,M){this.originalLineStart=F,this.originalLineEnd=P,this.modifiedLineStart=W,this.modifiedLineEnd=M}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class w{constructor(F){this.entries=F}}const E=(0,m.registerIcon)("diff-review-insert",g.Codicon.add,y.localize(0,null)),I=(0,m.registerIcon)("diff-review-remove",g.Codicon.remove,y.localize(1,null)),T=(0,m.registerIcon)("diff-review-close",g.Codicon.close,y.localize(2,null));let R=class yt extends C.Disposable{constructor(F,P){super();this._languageService=P,this._width=0,this._diffEditor=F,this._isVisible=!1,this.shadow=(0,N.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,N.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new b.Action("diffreview.close",y.localize(3,null),"close-diff-review "+c.ThemeIcon.asClassName(T),!0,()=>Le(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,N.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new L.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(F.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(F.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(f.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const M=f.findParentWithClass(W.target,"diff-review-row");M&&this._goToRow(M)})),this._register(f.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2048|18)||W.equals(512|18))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2048|16)||W.equals(512|16))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2048|9)||W.equals(512|9)||W.equals(1024|9))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let M=0,z=this._diffs.length;M<z;M++)if(this._diffs[M]===this._currentDiff){W=M;break}F=this._diffs.length+W-1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;F=F%this._diffs.length;const P=this._diffs[F].entries;this._diffEditor.setPosition(new r.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let M=0,z=this._diffs.length;M<z;M++)if(this._diffs[M]===this._currentDiff){W=M;break}F=W+1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;F=F%this._diffs.length;const P=this._diffs[F].entries;this._diffEditor.setPosition(new r.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let F=-1;const P=this._getCurrentFocusedRow();if(P){const W=parseInt(P.getAttribute("data-line"),10);isNaN(W)||(F=W)}this.hide(),F!==-1&&(this._diffEditor.setPosition(new r.Position(F,1)),this._diffEditor.revealPosition(new r.Position(F,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const F=this._getCurrentFocusedRow();return F?F.previousElementSibling?F.previousElementSibling:F:this._getFirstRow()}_getNextRow(){const F=this._getCurrentFocusedRow();return F?F.nextElementSibling?F.nextElementSibling:F:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const F=document.activeElement;return F&&/diff-review-row/.test(F.className)?F:null}_goToRow(F){const P=this._getCurrentFocusedRow();F.tabIndex=0,F.focus(),P&&P!==F&&(P.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(F,P,W){this._width=P,this.shadow.setTop(F-6),this.shadow.setWidth(P),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(F),this.domNode.setWidth(P),this.domNode.setHeight(W),this._content.setHeight(W),this._content.setWidth(P),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const F=this._diffEditor.getLineChanges();if(!F||F.length===0)return[];const P=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel();return!P||!W?[]:yt._mergeAdjacent(F,P.getLineCount(),W.getLineCount())}static _mergeAdjacent(F,P,W){if(!F||F.length===0)return[];const M=[];let z=0;for(let J=0,ie=F.length;J<ie;J++){const le=F[J],G=le.originalStartLineNumber,x=le.originalEndLineNumber,V=le.modifiedStartLineNumber,j=le.modifiedEndLineNumber,re=[];let ae=0;{const Y=x===0?G:G-1,U=j===0?V:V-1;let Z=1,q=1;if(J>0){const ee=F[J-1];ee.originalEndLineNumber===0?Z=ee.originalStartLineNumber+1:Z=ee.originalEndLineNumber+1,ee.modifiedEndLineNumber===0?q=ee.modifiedStartLineNumber+1:q=ee.modifiedEndLineNumber+1}let $=Y-v+1,H=U-v+1;if($<Z){const ee=Z-$;$=$+ee,H=H+ee}if(H<q){const ee=q-H;$=$+ee,H=H+ee}re[ae++]=new _($,Y,H,U)}x!==0&&(re[ae++]=new _(G,x,0,0)),j!==0&&(re[ae++]=new _(0,0,V,j));{const Y=x===0?G+1:x+1,U=j===0?V+1:j+1;let Z=P,q=W;if(J+1<ie){const ee=F[J+1];ee.originalEndLineNumber===0?Z=ee.originalStartLineNumber:Z=ee.originalStartLineNumber-1,ee.modifiedEndLineNumber===0?q=ee.modifiedStartLineNumber:q=ee.modifiedStartLineNumber-1}let $=Y+v-1,H=U+v-1;if($>Z){const ee=Z-$;$=$+ee,H=H+ee}if(H>q){const ee=q-H;$=$+ee,H=H+ee}re[ae++]=new _(Y,$,U,H)}M[z++]=new w(re)}let Q=M[0].entries;const ne=[];let X=0;for(let J=1,ie=M.length;J<ie;J++){const le=M[J].entries,G=Q[Q.length-1],x=le[0];if(G.getType()===0&&x.getType()===0&&x.originalLineStart<=G.originalLineEnd){Q[Q.length-1]=new _(G.originalLineStart,x.originalLineEnd,G.modifiedLineStart,x.modifiedLineEnd),Q=Q.concat(le.slice(1));continue}ne[X++]=new w(Q),Q=le}return ne[X++]=new w(Q),ne}_findDiffIndex(F){const P=F.lineNumber;for(let W=0,M=this._diffs.length;W<M;W++){const z=this._diffs[W].entries,Q=z[z.length-1].modifiedLineEnd;if(P<=Q)return W}return 0}_render(){const F=this._diffEditor.getOriginalEditor().getOptions(),P=this._diffEditor.getModifiedEditor().getOptions(),W=this._diffEditor.getOriginalEditor().getModel(),M=this._diffEditor.getModifiedEditor().getModel(),z=W.getOptions(),Q=M.getOptions();if(!this._isVisible||!W||!M){f.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const ne=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ne]===this._currentDiff)return;this._currentDiff=this._diffs[ne];const X=this._diffs[ne].entries,J=document.createElement("div");J.className="diff-review-table",J.setAttribute("role","list"),J.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.applyFontInfo)(J,P.get(44));let ie=0,le=0,G=0,x=0;for(let H=0,ee=X.length;H<ee;H++){const te=X[H],de=te.originalLineStart,he=te.originalLineEnd,pe=te.modifiedLineStart,ve=te.modifiedLineEnd;de!==0&&(ie===0||de<ie)&&(ie=de),he!==0&&(le===0||he>le)&&(le=he),pe!==0&&(G===0||pe<G)&&(G=pe),ve!==0&&(x===0||ve>x)&&(x=ve)}const V=document.createElement("div");V.className="diff-review-row";const j=document.createElement("div");j.className="diff-review-cell diff-review-summary";const re=le-ie+1,ae=x-G+1;j.appendChild(document.createTextNode(`${ne+1}/${this._diffs.length}: @@ -${ie},${re} +${G},${ae} @@`)),V.setAttribute("data-line",String(G));const Y=H=>H===0?y.localize(4,null):H===1?y.localize(5,null):y.localize(6,null,H),U=Y(re),Z=Y(ae);V.setAttribute("aria-label",y.localize(7,null,ne+1,this._diffs.length,ie,U,G,Z)),V.appendChild(j),V.setAttribute("role","listitem"),J.appendChild(V);const q=P.get(59);let $=G;for(let H=0,ee=X.length;H<ee;H++){const te=X[H];yt._renderSection(J,te,$,q,this._width,F,W,z,P,M,Q,this._languageService.languageIdCodec),te.modifiedLineStart!==0&&($=te.modifiedLineEnd)}f.clearNode(this._content.domNode),this._content.domNode.appendChild(J),this.scrollbar.scanDomNode()}static _renderSection(F,P,W,M,z,Q,ne,X,J,ie,le,G){const x=P.getType();let V="diff-review-row",j="";const re="diff-review-spacer";let ae=null;switch(x){case 1:V="diff-review-row line-insert",j=" char-insert",ae=E;break;case 2:V="diff-review-row line-delete",j=" char-delete",ae=I;break}const Y=P.originalLineStart,U=P.originalLineEnd,Z=P.modifiedLineStart,q=P.modifiedLineEnd,$=Math.max(q-Z,U-Y),H=Q.get(131),ee=H.glyphMarginWidth+H.lineNumbersWidth,te=J.get(131),de=10+te.glyphMarginWidth+te.lineNumbersWidth;for(let he=0;he<=$;he++){const pe=Y===0?0:Y+he,ve=Z===0?0:Z+he,ue=document.createElement("div");ue.style.minWidth=z+"px",ue.className=V,ue.setAttribute("role","listitem"),ve!==0&&(W=ve),ue.setAttribute("data-line",String(W));const Ce=document.createElement("div");Ce.className="diff-review-cell",Ce.style.height=`${M}px`,ue.appendChild(Ce);const me=document.createElement("span");me.style.width=ee+"px",me.style.minWidth=ee+"px",me.className="diff-review-line-number"+j,pe!==0?me.appendChild(document.createTextNode(String(pe))):me.innerText="\xA0",Ce.appendChild(me);const be=document.createElement("span");be.style.width=de+"px",be.style.minWidth=de+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+j,ve!==0?be.appendChild(document.createTextNode(String(ve))):be.innerText="\xA0",Ce.appendChild(be);const ce=document.createElement("span");if(ce.className=re,ae){const ye=document.createElement("span");ye.className=c.ThemeIcon.asClassName(ae),ye.innerText="\xA0\xA0",ce.appendChild(ye)}else ce.innerText="\xA0\xA0";Ce.appendChild(ce);let ge;if(ve!==0){let ye=this._renderLine(ie,J,le.tabSize,ve,G);yt._ttPolicy&&(ye=yt._ttPolicy.createHTML(ye)),Ce.insertAdjacentHTML("beforeend",ye),ge=ie.getLineContent(ve)}else{let ye=this._renderLine(ne,Q,X.tabSize,pe,G);yt._ttPolicy&&(ye=yt._ttPolicy.createHTML(ye)),Ce.insertAdjacentHTML("beforeend",ye),ge=ne.getLineContent(pe)}ge.length===0&&(ge=y.localize(8,null));let we="";switch(x){case 0:pe===ve?we=y.localize(9,null,ge,pe):we=y.localize(10,null,ge,pe,ve);break;case 1:we=y.localize(11,null,ge,ve);break;case 2:we=y.localize(12,null,ge,pe);break}ue.setAttribute("aria-label",we),F.appendChild(ue)}}static _renderLine(F,P,W,M,z){const Q=F.getLineContent(M),ne=P.get(44),X=t.LineTokens.createEmpty(Q,z),J=a.ViewLineRenderingData.isBasicASCII(Q,F.mightContainNonBasicASCII()),ie=a.ViewLineRenderingData.containsRTL(Q,J,F.mightContainRTL());return(0,o.renderViewLine2)(new o.RenderLineInput(ne.isMonospace&&!P.get(29),ne.canUseHalfwidthRightwardsArrow,Q,!1,J,ie,0,X,[],W,0,ne.spaceWidth,ne.middotWidth,ne.wsmiddotWidth,P.get(105),P.get(88),P.get(83),P.get(45)!==n.EditorFontLigatures.OFF,null)).html}};R._ttPolicy=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("diffReview",{createHTML:A=>A}),R=De([fe(1,S.ILanguageService)],R),e.DiffReview=R,(0,c.registerThemingParticipant)((A,F)=>{const P=A.getColor(d.editorLineNumbers);P&&F.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${P}; }`);const W=A.getColor(l.scrollbarShadow);W&&F.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${W} 0 -6px 6px -6px inset; }`)});class B extends h.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:y.localize(13,null),alias:"Go to Next Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(F,P){const W=k(F);W&&W.diffReviewNext()}}class O extends h.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:y.localize(14,null),alias:"Go to Previous Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(F,P){const W=k(F);W&&W.diffReviewPrev()}}function k(A){const F=A.get(i.ICodeEditorService),P=F.listDiffEditors(),W=F.getActiveCodeEditor();if(!W)return null;for(let M=0,z=P.length;M<z;M++){const Q=P[M];if(Q.getModifiedEditor().getId()===W.getId()||Q.getOriginalEditor().getId()===W.getId())return Q}return null}(0,h.registerEditorAction)(B),(0,h.registerEditorAction)(O)}),define(oe[715],se([1,0,7,45,73,28,4,2,8,19,36,20,111,615,204,573,16,49,23,77,55,14,394]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const m=y.$,S=(0,l.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,d.localize(0,null)),p=(0,l.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,d.localize(1,null));let v=class Fi extends b.Disposable{constructor(w,E,I,T,R){super();this.editor=w,this.renderDisposeables=this._register(new b.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new n.MarkdownRenderer({editor:w},T,I)),this.model=this._register(new t.ParameterHintsModel(w,R.signatureHelpProvider)),this.keyVisible=r.Context.Visible.bindTo(E),this.keyMultipleSignatures=r.Context.MultipleSignatures.bindTo(E),this._register(this.model.onChangedHints(B=>{B?(this.show(),this.render(B)):this.hide()}))}createParameterHintDOMNodes(){const w=m(".editor-widget.parameter-hints-widget"),E=y.append(w,m(".phwrapper"));E.tabIndex=-1;const I=y.append(E,m(".controls")),T=y.append(I,m(".button"+g.ThemeIcon.asCSSSelector(p))),R=y.append(I,m(".overloads")),B=y.append(I,m(".button"+g.ThemeIcon.asCSSSelector(S)));this._register(y.addDisposableListener(T,"click",W=>{y.EventHelper.stop(W),this.previous()})),this._register(y.addDisposableListener(B,"click",W=>{y.EventHelper.stop(W),this.next()}));const O=m(".body"),k=new N.DomScrollableElement(O,{});this._register(k),E.appendChild(k.getDomNode());const A=y.append(O,m(".signature")),F=y.append(O,m(".docs"));w.style.userSelect="text",this.domNodes={element:w,signature:A,overloads:R,docs:F,scrollbar:k},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(W=>{this.visible&&this.editor.layoutContentWidget(this)}));const P=()=>{if(!this.domNodes)return;const W=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${W.fontSize}px`,this.domNodes.element.style.lineHeight=`${W.lineHeight/W.fontSize}`};P(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(W=>W.hasChanged(44)).on(P,null)),this._register(this.editor.onDidLayoutChange(W=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(w){var E;if(this.renderDisposeables.clear(),!this.domNodes)return;const I=w.signatures.length>1;this.domNodes.element.classList.toggle("multiple",I),this.keyMultipleSignatures.set(I),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const T=w.signatures[w.activeSignature];if(!T)return;const R=y.append(this.domNodes.signature,m(".code")),B=this.editor.getOption(44);R.style.fontSize=`${B.fontSize}px`,R.style.fontFamily=B.fontFamily;const O=T.parameters.length>0,k=(E=T.activeParameter)!==null&&E!==void 0?E:w.activeParameter;if(O)this.renderParameters(R,T,k);else{const P=y.append(R,m("span"));P.textContent=T.label}const A=T.parameters[k];if(A==null?void 0:A.documentation){const P=m("span.documentation");if(typeof A.documentation=="string")P.textContent=A.documentation;else{const W=this.renderMarkdownDocs(A.documentation);P.appendChild(W.element)}y.append(this.domNodes.docs,m("p",{},P))}if(T.documentation!==void 0)if(typeof T.documentation=="string")y.append(this.domNodes.docs,m("p",{},T.documentation));else{const P=this.renderMarkdownDocs(T.documentation);y.append(this.domNodes.docs,P.element)}const F=this.hasDocs(T,A);if(this.domNodes.signature.classList.toggle("has-docs",F),this.domNodes.docs.classList.toggle("empty",!F),this.domNodes.overloads.textContent=String(w.activeSignature+1).padStart(w.signatures.length.toString().length,"0")+"/"+w.signatures.length,A){let P="";const W=T.parameters[k];Array.isArray(W.label)?P=T.label.substring(W.label[0],W.label[1]):P=W.label,W.documentation&&(P+=typeof W.documentation=="string"?`, ${W.documentation}`:`, ${W.documentation.value}`),T.documentation&&(P+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),this.announcedLabel!==P&&(f.alert(d.localize(2,null,P)),this.announcedLabel=P)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(w){const E=this.renderDisposeables.add(this.markdownRenderer.render(w,{asyncRenderCallback:()=>{var I;(I=this.domNodes)===null||I===void 0||I.scrollbar.scanDomNode()}}));return E.element.classList.add("markdown-docs"),E}hasDocs(w,E){return!!(E&&typeof E.documentation=="string"&&(0,u.assertIsDefined)(E.documentation).length>0||E&&typeof E.documentation=="object"&&(0,u.assertIsDefined)(E.documentation).value.length>0||w.documentation&&typeof w.documentation=="string"&&(0,u.assertIsDefined)(w.documentation).length>0||w.documentation&&typeof w.documentation=="object"&&(0,u.assertIsDefined)(w.documentation.value).length>0)}renderParameters(w,E,I){const[T,R]=this.getParameterLabelOffsets(E,I),B=document.createElement("span");B.textContent=E.label.substring(0,T);const O=document.createElement("span");O.textContent=E.label.substring(T,R),O.className="parameter active";const k=document.createElement("span");k.textContent=E.label.substring(R),y.append(w,B,O,k)}getParameterLabelOffsets(w,E){const I=w.parameters[E];if(I){if(Array.isArray(I.label))return I.label;if(I.label.length){const T=new RegExp(`(\\W|^)${(0,C.escapeRegExpCharacters)(I.label)}(?=\\W|$)`,"g");T.test(w.label);const R=T.lastIndex-I.label.length;return R>=0?[R,T.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Fi.ID}trigger(w){this.model.trigger(w,0)}updateMaxHeight(){if(!this.domNodes)return;const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const I=this.domNodes.element.getElementsByClassName("phwrapper");I.length&&(I[0].style.maxHeight=E)}};v.ID="editor.widget.parameterHintsWidget",v=De([fe(1,o.IContextKeyService),fe(2,a.IOpenerService),fe(3,h.ILanguageService),fe(4,i.ILanguageFeaturesService)],v),e.ParameterHintsWidget=v,e.editorHoverWidgetHighlightForeground=(0,s.registerColor)("editorHoverWidget.highlightForeground",{dark:s.listHighlightForeground,light:s.listHighlightForeground,hcDark:s.listHighlightForeground,hcLight:s.listHighlightForeground},d.localize(3,null)),(0,g.registerThemingParticipant)((_,w)=>{const E=_.getColor(s.editorHoverBorder);if(E){const A=(0,c.isHighContrast)(_.type)?2:1;w.addRule(`.monaco-editor .parameter-hints-widget { border: ${A}px solid ${E}; }`),w.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${E.transparent(.5)}; }`),w.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${E.transparent(.5)}; }`)}const I=_.getColor(s.editorHoverBackground);I&&w.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${I}; }`);const T=_.getColor(s.textLinkForeground);T&&w.addRule(`.monaco-editor .parameter-hints-widget a { color: ${T}; }`);const R=_.getColor(s.textLinkActiveForeground);R&&w.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${R}; }`);const B=_.getColor(s.editorHoverForeground);B&&w.addRule(`.monaco-editor .parameter-hints-widget { color: ${B}; }`);const O=_.getColor(s.textCodeBlockBackground);O&&w.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`);const k=_.getColor(e.editorHoverWidgetHighlightForeground);k&&w.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${k}}`)})}),define(oe[716],se([1,0,2,15,22,27,204,572,16,9,715]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let i=class Bi extends y.Disposable{constructor(o,a){super();this.editor=o,this.widget=this._register(a.createInstance(h.ParameterHintsWidget,this.editor))}static get(o){return o.getContribution(Bi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(o){this.widget.trigger(o)}};i.ID="editor.controller.parameterHints",i=De([fe(1,u.IInstantiationService)],i);class n extends f.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:N.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(o,a){const s=i.get(a);s&&s.trigger({triggerKind:D.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=n,(0,f.registerEditorContribution)(i.ID,i),(0,f.registerEditorAction)(n);const t=100+75,r=f.EditorCommand.bindToContribution(i.get);(0,f.registerEditorCommand)(new r({id:"closeParameterHints",precondition:L.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:t,kbExpr:N.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,f.registerEditorCommand)(new r({id:"showPrevParameterHint",precondition:C.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:t,kbExpr:N.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,f.registerEditorCommand)(new r({id:"showNextParameterHint",precondition:C.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:t,kbExpr:N.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(oe[717],se([1,0,34,7,197,28,4,64,2,25,33,27,635,48,36,586,278,77,14,287]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function g(v){return`suggest-aria-id:${v}`}e.getAriaId=g,e.suggestMoreInfoIcon=(0,a.registerIcon)("suggest-more-info",D.Codicon.chevronRight,d.localize(0,null));const m=new(c=class Ut{extract(_,w){if(_.textLabel.match(Ut._regexStrict))return w[0]=_.textLabel,!0;if(_.completion.detail&&_.completion.detail.match(Ut._regexStrict))return w[0]=_.completion.detail,!0;if(typeof _.completion.documentation=="string"){const E=Ut._regexRelaxed.exec(_.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===_.completion.documentation.length))return w[0]=E[0],!0}return!1}},c._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,c._regexStrict=new RegExp(`^${c._regexRelaxed.source}$`,"i"),c);let S=class{constructor(_,w,E,I){this._editor=_,this._modelService=w,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new L.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(_){const w=Object.create(null);w.disposables=new C.DisposableStore,w.root=_,w.root.classList.add("show-file-icons"),w.icon=(0,f.append)(_,(0,f.$)(".icon")),w.colorspan=(0,f.append)(w.icon,(0,f.$)("span.colorspan"));const E=(0,f.append)(_,(0,f.$)(".contents")),I=(0,f.append)(E,(0,f.$)(".main"));w.iconContainer=(0,f.append)(I,(0,f.$)(".icon-label.codicon")),w.left=(0,f.append)(I,(0,f.$)("span.left")),w.right=(0,f.append)(I,(0,f.$)("span.right")),w.iconLabel=new N.IconLabel(w.left,{supportHighlights:!0,supportIcons:!0}),w.disposables.add(w.iconLabel),w.parametersLabel=(0,f.append)(w.left,(0,f.$)("span.signature-label")),w.qualifierLabel=(0,f.append)(w.left,(0,f.$)("span.qualifier-label")),w.detailsLabel=(0,f.append)(w.right,(0,f.$)("span.details-label")),w.readMore=(0,f.append)(w.right,(0,f.$)("span.readMore"+s.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),w.readMore.title=d.localize(1,null);const T=()=>{const R=this._editor.getOptions(),B=R.get(44),O=B.getMassagedFontFamily(y.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),k=B.fontFeatureSettings,A=R.get(107)||B.fontSize,F=R.get(108)||B.lineHeight,P=B.fontWeight,W=B.letterSpacing,M=`${A}px`,z=`${F}px`,Q=`${W}px`;w.root.style.fontSize=M,w.root.style.fontWeight=P,w.root.style.letterSpacing=Q,I.style.fontFamily=O,I.style.fontFeatureSettings=k,I.style.lineHeight=z,w.icon.style.height=z,w.icon.style.width=z,w.readMore.style.height=z,w.readMore.style.width=z};return T(),w.disposables.add(this._editor.onDidChangeConfiguration(R=>{(R.hasChanged(44)||R.hasChanged(107)||R.hasChanged(108))&&T()})),w}renderElement(_,w,E){const{completion:I}=_;E.root.id=g(w),E.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,b.createMatches)(_.score)};let R=[];if(I.kind===19&&m.extract(_,R))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=R[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const B=(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:_.textLabel}),o.FileKind.FILE),O=(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:I.detail}),o.FileKind.FILE);T.extraClasses=B.length>O.length?B:O}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",T.extraClasses=[(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:_.textLabel}),o.FileKind.FOLDER),(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:I.detail}),o.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.CSSIcon.asClassNameArray(i.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),E.iconLabel.setLabel(_.textLabel,void 0,T),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=p(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=p(I.label.detail||""),E.detailsLabel.textContent=p(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,f.show)(E.detailsLabel):(0,f.hide)(E.detailsLabel),(0,l.canExpandCompletionItem)(_)?(E.right.classList.add("can-expand-details"),(0,f.show)(E.readMore),E.readMore.onmousedown=B=>{B.stopPropagation(),B.preventDefault()},E.readMore.onclick=B=>{B.stopPropagation(),B.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,f.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(_){_.disposables.dispose()}};S=De([fe(1,t.IModelService),fe(2,r.ILanguageService),fe(3,s.IThemeService)],S),e.ItemRenderer=S;function p(v){return v.replace(/\r\n|\r|\n/g,"")}}),define(oe[718],se([1,0,7,88,47,2,111,9,710,77,14,399]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const i=26;let n=class extends D.Disposable{constructor(d,o){super();this._editor=d,this.instantiationService=o,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(d){this.banner.show(Object.assign(Object.assign({},d),{onClose:()=>{this.hide(),d.onClose&&d.onClose()}})),this._editor.setBanner(this.banner.element,i)}};n=De([fe(1,b.IInstantiationService)],n),e.BannerController=n;let t=class extends D.Disposable{constructor(d){super();this.instantiationService=d,this.markdownRenderer=this.instantiationService.createInstance(L.MarkdownRenderer,{}),this.element=(0,y.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(d){if(d.ariaLabel)return d.ariaLabel;if(typeof d.message=="string")return d.message}getBannerMessage(d){if(typeof d=="string"){const o=(0,y.$)("span");return o.innerText=d,o}return this.markdownRenderer.render(d).element}clear(){(0,y.clearNode)(this.element)}show(d){(0,y.clearNode)(this.element);const o=this.getAriaLabel(d);o&&this.element.setAttribute("aria-label",o);const a=(0,y.append)(this.element,(0,y.$)("div.icon-container"));a.setAttribute("aria-hidden","true"),d.icon&&a.appendChild((0,y.$)(`div${h.ThemeIcon.asCSSSelector(d.icon)}`));const s=(0,y.append)(this.element,(0,y.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(d.message)),this.messageActionsContainer=(0,y.append)(this.element,(0,y.$)("div.message-actions-container")),d.actions)for(const c of d.actions)this._register(this.instantiationService.createInstance(C.Link,this.messageActionsContainer,Object.assign(Object.assign({},c),{tabIndex:-1}),{}));const l=(0,y.append)(this.element,(0,y.$)("div.action-container"));this.actionBar=this._register(new f.ActionBar(l)),this.actionBar.push(this._register(new N.Action("banner.close","Close Banner",h.ThemeIcon.asClassName(u.widgetClose),!0,()=>{typeof d.onClose=="function"&&d.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=De([fe(0,b.IInstantiationService)],t)}),define(oe[719],se([1,0,7,4,77,14]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function L(C){const u=new f.Emitter,h=(0,N.getIconRegistry)();return h.onDidChange(()=>u.fire()),C==null||C.onDidProductIconThemeChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const i=C?C.getProductIconTheme():new b,n={},t=d=>{const o=i.getIcon(d);if(!o)return;const a=o.font;return a?(n[a.id]=a.definition,`.codicon-${d.id}:before { content: '${o.fontCharacter}'; font-family: ${(0,y.asCSSPropertyValue)(a.id)}; }`):`.codicon-${d.id}:before { content: '${o.fontCharacter}'; }`},r=[];for(let d of h.getIcons()){const o=t(d);o&&r.push(o)}for(let d in n){const o=n[d],a=o.weight?`font-weight: ${o.weight};`:"",s=o.style?`font-style: ${o.style};`:"",l=o.src.map(c=>`${(0,y.asCSSUrl)(c.location)} format('${c.format}')`).join(", ");r.push(`@font-face { src: ${l}; font-family: ${(0,y.asCSSPropertyValue)(d)};${a}${s} font-display: block; }`)}return r.join(`
`)}}}e.getIconsStyleSheet=L;class b{getIcon(u){const h=(0,N.getIconRegistry)();let i=u.defaults;for(;D.ThemeIcon.isThemeIcon(i);){const n=h.getIcon(i.id);if(!n)return;i=n.defaults}return i}}e.UnthemedProductIconTheme=b}),define(oe[720],se([1,0,7,34,30,4,27,430,672,38,23,14,2,55,719]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=void 0;const d="vs",o="vs-dark",a="hc-black",s="hc-light",l=u.Registry.as(h.Extensions.ColorContribution),c=u.Registry.as(i.Extensions.ThemingContribution);class g{constructor(w,E){this.semanticHighlighting=!1,this.themeData=E;const I=E.base;w.length>0?(m(w)?this.id=w:this.id=I+" "+w,this.themeName=w):(this.id=I,this.themeName=I),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const w=new Map;for(let E in this.themeData.colors)w.set(E,N.Color.fromHex(this.themeData.colors[E]));if(this.themeData.inherit){const E=S(this.themeData.base);for(let I in E.colors)w.has(I)||w.set(I,N.Color.fromHex(E.colors[I]))}this.colors=w}return this.colors}getColor(w,E){const I=this.getColors().get(w);if(I)return I;if(E!==!1)return this.getDefault(w)}getDefault(w){let E=this.defaultColors[w];return E||(E=l.resolveDefaultColor(w,this),this.defaultColors[w]=E,E)}defines(w){return Object.prototype.hasOwnProperty.call(this.getColors(),w)}get type(){switch(this.base){case d:return t.ColorScheme.LIGHT;case a:return t.ColorScheme.HIGH_CONTRAST_DARK;case s:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let w=[],E=[];if(this.themeData.inherit){const R=S(this.themeData.base);w=R.rules,R.encodedTokensColors&&(E=R.encodedTokensColors)}const I=this.themeData.colors["editor.foreground"],T=this.themeData.colors["editor.background"];if(I||T){const R={token:""};I&&(R.foreground=I),T&&(R.background=T),w.push(R)}w=w.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(E=this.themeData.encodedTokensColors),this._tokenTheme=b.TokenTheme.createFromRawTokenTheme(w,E)}return this._tokenTheme}getTokenStyleMetadata(w,E,I){const R=this.tokenTheme._match([w].concat(E).join(".")).metadata,B=L.TokenMetadata.getForeground(R),O=L.TokenMetadata.getFontStyle(R);return{foreground:B,italic:Boolean(O&1),bold:Boolean(O&2),underline:Boolean(O&4),strikethrough:Boolean(O&8)}}}function m(_){return _===d||_===o||_===a||_===s}function S(_){switch(_){case d:return C.vs;case o:return C.vs_dark;case a:return C.hc_black;case s:return C.hc_light}}function p(_){const w=S(_);return new g(_,w)}class v extends n.Disposable{constructor(){super();this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new r.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(d,p(d)),this._knownThemes.set(o,p(o)),this._knownThemes.set(a,p(a)),this._knownThemes.set(s,p(s));const w=(0,r.getIconsStyleSheet)(this);this._codiconCSS=w.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(d),w.onDidChange(()=>{this._codiconCSS=w.getCSS(),this._updateCSS()}),(0,f.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(w){return y.isInShadowDOM(w)?this._registerShadowDomContainer(w):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=y.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),n.Disposable.None}_registerShadowDomContainer(w){const E=y.createStyleSheet(w);return E.className="monaco-colors",E.textContent=this._allCSS,this._styleElements.push(E),{dispose:()=>{for(let I=0;I<this._styleElements.length;I++)if(this._styleElements[I]===E){this._styleElements.splice(I,1);return}}}}defineTheme(w,E){if(!/^[a-z0-9\-]+$/i.test(w))throw new Error("Illegal theme name!");if(!m(E.base)&&!m(w))throw new Error("Illegal theme base!");this._knownThemes.set(w,new g(w,E)),m(w)&&this._knownThemes.forEach(I=>{I.base===w&&I.notifyBaseUpdated()}),this._theme.themeName===w&&this.setTheme(w)}getColorTheme(){return this._theme}setColorMapOverride(w){this._colorMapOverride=w,this._updateThemeOrColorMap()}setTheme(w){let E;this._knownThemes.has(w)?E=this._knownThemes.get(w):E=this._knownThemes.get(d),this._desiredTheme=E,this._updateActualTheme()}getHighContrastTheme(){return(0,t.isDark)(this._desiredTheme.type)?a:s}_updateActualTheme(){const w=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(this.getHighContrastTheme()):this._desiredTheme;this._theme!==w&&(this._theme=w,this._updateThemeOrColorMap())}setAutoDetectHighContrast(w){this._autoDetectHighContrast=w,this._updateActualTheme()}_updateThemeOrColorMap(){const w=[],E={},I={addRule:B=>{E[B]||(w.push(B),E[B]=!0)}};c.getThemingParticipants().forEach(B=>B(this._theme,I,this._environment));const T=[];for(const B of l.getColors()){const O=this._theme.getColor(B.id,!0);O&&T.push(`${(0,h.asCssVariableName)(B.id)}: ${O.toString()};`)}I.addRule(`.monaco-editor { ${T.join(`
`)} }`);const R=this._colorMapOverride||this._theme.tokenTheme.getColorMap();I.addRule((0,b.generateTokensCSSForColorMap)(R)),this._themeCSS=w.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(R),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(w=>w.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=v}),define(oe[164],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,y.createDecorator)("undoRedoService");class f{constructor(b,C){this.resource=b,this.elements=C}}e.ResourceEditStackSnapshot=f;class N{constructor(){this.id=N._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=N,N._ID=0,N.None=new N;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(oe[35],se([1,0,18,30,13,4,2,8,25,124,179,11,3,24,148,36,31,46,443,663,277,253,434,435,250,438,153,453,95,164]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function T(){return new v.PieceTreeTextBufferBuilder}function R(ae){const Y=T();return Y.acceptChunk(ae),Y.finish()}e.createTextBufferFactory=R;function B(ae,Y){return(typeof ae=="string"?R(ae):ae).create(Y)}e.createTextBuffer=B;let O=0;const k=999;e.LONG_LINE_BOUNDARY=1e4;class A{constructor(Y){this._source=Y,this._eos=!1}read(){if(this._eos)return null;const Y=[];let U=0,Z=0;do{const q=this._source.read();if(q===null)return this._eos=!0,U===0?null:Y.join("");if(q.length>0&&(Y[U++]=q,Z+=q.length),Z>=64*1024)return Y.join("")}while(!0)}}const F=()=>{throw new Error("Invalid change accessor")};let P=class Mt extends L.Disposable{constructor(Y,U,Z,q=null,$,H,ee){super();this._undoRedoService=$,this._languageService=H,this._languageConfigurationService=ee,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new j(ve=>this.handleBeforeFireDecorationsChangedEvent(ve))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new re),this._deltaDecorationCallCnt=0,O++,this.id="$model"+O,this.isForSimpleWidget=Z.isForSimpleWidget,typeof q=="undefined"||q===null?this._associatedResource=C.URI.parse("inmemory://model/"+O):this._associatedResource=q,this._attachedEditorCount=0;const{textBuffer:te,disposable:de}=B(Y,Z.defaultEOL);this._buffer=te,this._bufferDisposable=de,this._options=Mt.resolveOptions(this._buffer,Z),this._bracketPairs=this._register(new s.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new g.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new l.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new w.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,U);const he=this._buffer.getLineCount(),pe=this._buffer.getValueLengthInRange(new n.Range(1,1,he,this._buffer.getLineLength(he)+1),0);Z.largeFileOptimizations?this._isTooLargeForTokenization=pe>Mt.LARGE_FILE_SIZE_THRESHOLD||he>Mt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=pe>Mt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=b.singleLetterHash(O),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager=new c.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(Y,U){if(U.detectIndentation){const Z=(0,m.guessIndentation)(Y,U.tabSize,U.insertSpaces);return new a.TextModelResolvedOptions({tabSize:Z.tabSize,indentSize:Z.tabSize,insertSpaces:Z.insertSpaces,trimAutoWhitespace:U.trimAutoWhitespace,defaultEOL:U.defaultEOL,bracketPairColorizationOptions:U.bracketPairColorizationOptions})}return new a.TextModelResolvedOptions({tabSize:U.tabSize,indentSize:U.indentSize,insertSpaces:U.insertSpaces,trimAutoWhitespace:U.trimAutoWhitespace,defaultEOL:U.defaultEOL,bracketPairColorizationOptions:U.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(Y){return this._eventEmitter.slowEvent(U=>Y(U.contentChangedEvent))}onDidChangeContentOrInjectedText(Y){return(0,L.combinedDisposable)(this._eventEmitter.fastEvent(U=>Y(U)),this._onDidChangeInjectedText.event(U=>Y(U)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const Y=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);Y.dispose(),this._buffer=Y,this._bufferDisposable=L.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(Y,U){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(U),this._bracketPairs.handleDidChangeContent(U),this._eventEmitter.fire(new E.InternalModelContentChangeEvent(Y,U)))}setValue(Y){if(this._assertNotDisposed(),Y===null)return;const{textBuffer:U,disposable:Z}=B(Y,this._options.defaultEOL);this._setValueFromTextBuffer(U,Z)}_createContentChanged2(Y,U,Z,q,$,H,ee){return{changes:[{range:Y,rangeOffset:U,rangeLength:Z,text:q}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:$,isRedoing:H,isFlush:ee}}_setValueFromTextBuffer(Y,U){this._assertNotDisposed();const Z=this.getFullModelRange(),q=this.getValueLengthInRange(Z),$=this.getLineCount(),H=this.getLineMaxColumn($);this._buffer=Y,this._bufferDisposable.dispose(),this._bufferDisposable=U,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,$,H),0,q,this.getValue(),!1,!1,!0))}setEOL(Y){this._assertNotDisposed();const U=Y===1?`\r
`:`
`;if(this._buffer.getEOL()===U)return;const Z=this.getFullModelRange(),q=this.getValueLengthInRange(Z),$=this.getLineCount(),H=this.getLineMaxColumn($);this._onBeforeEOLChange(),this._buffer.setEOL(U),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,$,H),0,q,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const Y=this.getVersionId(),U=this._decorationsTree.collectNodesPostOrder();for(let Z=0,q=U.length;Z<q;Z++){const $=U[Z],H=$.range,ee=$.cachedAbsoluteStart-$.start,te=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),de=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);$.cachedAbsoluteStart=te,$.cachedAbsoluteEnd=de,$.cachedVersionId=Y,$.start=te-ee,$.end=de-ee,(0,S.recomputeMaxEnd)($)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let Y=0,U=0;const Z=this._buffer.getLineCount();for(let q=1;q<=Z;q++){const $=this._buffer.getLineLength(q);$>=e.LONG_LINE_BOUNDARY?U+=$:Y+=$}return U>Y}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(Y){this._assertNotDisposed();const U=typeof Y.tabSize!="undefined"?Y.tabSize:this._options.tabSize,Z=typeof Y.indentSize!="undefined"?Y.indentSize:this._options.indentSize,q=typeof Y.insertSpaces!="undefined"?Y.insertSpaces:this._options.insertSpaces,$=typeof Y.trimAutoWhitespace!="undefined"?Y.trimAutoWhitespace:this._options.trimAutoWhitespace,H=typeof Y.bracketColorizationOptions!="undefined"?Y.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ee=new a.TextModelResolvedOptions({tabSize:U,indentSize:Z,insertSpaces:q,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:$,bracketPairColorizationOptions:H});if(this._options.equals(ee))return;const te=this._options.createChangeEvent(ee);this._options=ee,this._bracketPairs.handleDidChangeOptions(te),this._decorationProvider.handleDidChangeOptions(te),this._onDidChangeOptions.fire(te)}detectIndentation(Y,U){this._assertNotDisposed();const Z=(0,m.guessIndentation)(this._buffer,U,Y);this.updateOptions({insertSpaces:Z.insertSpaces,tabSize:Z.tabSize,indentSize:Z.tabSize})}normalizeIndentation(Y){return this._assertNotDisposed(),(0,h.normalizeIndentation)(Y,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(Y=null){const U=this.findMatches(b.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(Y,U.map(Z=>({range:Z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(Y){this._assertNotDisposed();const U=this._validatePosition(Y.lineNumber,Y.column,0);return this._buffer.getOffsetAt(U.lineNumber,U.column)}getPositionAt(Y){this._assertNotDisposed();const U=Math.min(this._buffer.getLength(),Math.max(0,Y));return this._buffer.getPositionAt(U)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(Y){this._versionId=Y}_overwriteAlternativeVersionId(Y){this._alternativeVersionId=Y}_overwriteInitialUndoRedoSnapshot(Y){this._initialUndoRedoSnapshot=Y}getValue(Y,U=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),q=this.getValueInRange(Z,Y);return U?this._buffer.getBOM()+q:q}createSnapshot(Y=!1){return new A(this._buffer.createSnapshot(Y))}getValueLength(Y,U=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),q=this.getValueLengthInRange(Z,Y);return U?this._buffer.getBOM().length+q:q}getValueInRange(Y,U=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(Y),U)}getValueLengthInRange(Y,U=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(Y),U)}getCharacterCountInRange(Y,U=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(Y),U)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(Y)}getLineLength(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(Y)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(Y){return this._assertNotDisposed(),1}getLineMaxColumn(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(Y)+1}getLineFirstNonWhitespaceColumn(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(Y)}getLineLastNonWhitespaceColumn(Y){if(this._assertNotDisposed(),Y<1||Y>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(Y)}_validateRangeRelaxedNoAllocations(Y){const U=this._buffer.getLineCount(),Z=Y.startLineNumber,q=Y.startColumn;let $=Math.floor(typeof Z=="number"&&!isNaN(Z)?Z:1),H=Math.floor(typeof q=="number"&&!isNaN(q)?q:1);if($<1)$=1,H=1;else if($>U)$=U,H=this.getLineMaxColumn($);else if(H<=1)H=1;else{const pe=this.getLineMaxColumn($);H>=pe&&(H=pe)}const ee=Y.endLineNumber,te=Y.endColumn;let de=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1),he=Math.floor(typeof te=="number"&&!isNaN(te)?te:1);if(de<1)de=1,he=1;else if(de>U)de=U,he=this.getLineMaxColumn(de);else if(he<=1)he=1;else{const pe=this.getLineMaxColumn(de);he>=pe&&(he=pe)}return Z===$&&q===H&&ee===de&&te===he&&Y instanceof n.Range&&!(Y instanceof t.Selection)?Y:new n.Range($,H,de,he)}_isValidPosition(Y,U,Z){if(typeof Y!="number"||typeof U!="number"||isNaN(Y)||isNaN(U)||Y<1||U<1||(Y|0)!==Y||(U|0)!==U)return!1;const q=this._buffer.getLineCount();if(Y>q)return!1;if(U===1)return!0;const $=this.getLineMaxColumn(Y);if(U>$)return!1;if(Z===1){const H=this._buffer.getLineCharCode(Y,U-2);if(b.isHighSurrogate(H))return!1}return!0}_validatePosition(Y,U,Z){const q=Math.floor(typeof Y=="number"&&!isNaN(Y)?Y:1),$=Math.floor(typeof U=="number"&&!isNaN(U)?U:1),H=this._buffer.getLineCount();if(q<1)return new i.Position(1,1);if(q>H)return new i.Position(H,this.getLineMaxColumn(H));if($<=1)return new i.Position(q,1);const ee=this.getLineMaxColumn(q);if($>=ee)return new i.Position(q,ee);if(Z===1){const te=this._buffer.getLineCharCode(q,$-2);if(b.isHighSurrogate(te))return new i.Position(q,$-1)}return new i.Position(q,$)}validatePosition(Y){const U=1;return this._assertNotDisposed(),Y instanceof i.Position&&this._isValidPosition(Y.lineNumber,Y.column,U)?Y:this._validatePosition(Y.lineNumber,Y.column,U)}_isValidRange(Y,U){const Z=Y.startLineNumber,q=Y.startColumn,$=Y.endLineNumber,H=Y.endColumn;if(!this._isValidPosition(Z,q,0)||!this._isValidPosition($,H,0))return!1;if(U===1){const ee=q>1?this._buffer.getLineCharCode(Z,q-2):0,te=H>1&&H<=this._buffer.getLineLength($)?this._buffer.getLineCharCode($,H-2):0,de=b.isHighSurrogate(ee),he=b.isHighSurrogate(te);return!de&&!he}return!0}validateRange(Y){const U=1;if(this._assertNotDisposed(),Y instanceof n.Range&&!(Y instanceof t.Selection)&&this._isValidRange(Y,U))return Y;const Z=this._validatePosition(Y.startLineNumber,Y.startColumn,0),q=this._validatePosition(Y.endLineNumber,Y.endColumn,0),$=Z.lineNumber,H=Z.column,ee=q.lineNumber,te=q.column;if(U===1){const de=H>1?this._buffer.getLineCharCode($,H-2):0,he=te>1&&te<=this._buffer.getLineLength(ee)?this._buffer.getLineCharCode(ee,te-2):0,pe=b.isHighSurrogate(de),ve=b.isHighSurrogate(he);return!pe&&!ve?new n.Range($,H,ee,te):$===ee&&H===te?new n.Range($,H-1,ee,te-1):pe&&ve?new n.Range($,H-1,ee,te+1):pe?new n.Range($,H-1,ee,te):new n.Range($,H,ee,te+1)}return new n.Range($,H,ee,te)}modifyPosition(Y,U){this._assertNotDisposed();const Z=this.getOffsetAt(Y)+U;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Z)))}getFullModelRange(){this._assertNotDisposed();const Y=this.getLineCount();return new n.Range(1,1,Y,this.getLineMaxColumn(Y))}findMatchesLineByLine(Y,U,Z,q){return this._buffer.findMatchesLineByLine(Y,U,Z,q)}findMatches(Y,U,Z,q,$,H,ee=k){this._assertNotDisposed();let te=null;U!==null&&(Array.isArray(U)||(U=[U]),U.every(pe=>n.Range.isIRange(pe))&&(te=U.map(pe=>this.validateRange(pe)))),te===null&&(te=[this.getFullModelRange()]),te=te.sort((pe,ve)=>pe.startLineNumber-ve.startLineNumber||pe.startColumn-ve.startColumn);const de=[];de.push(te.reduce((pe,ve)=>n.Range.areIntersecting(pe,ve)?pe.plusRange(ve):(de.push(pe),ve)));let he;if(!Z&&Y.indexOf(`
`)<0){const ve=new _.SearchParams(Y,Z,q,$).parseSearchRequest();if(!ve)return[];he=ue=>this.findMatchesLineByLine(ue,ve,H,ee)}else he=pe=>_.TextModelSearch.findMatches(this,new _.SearchParams(Y,Z,q,$),pe,H,ee);return de.map(he).reduce((pe,ve)=>pe.concat(ve),[])}findNextMatch(Y,U,Z,q,$,H){this._assertNotDisposed();const ee=this.validatePosition(U);if(!Z&&Y.indexOf(`
`)<0){const de=new _.SearchParams(Y,Z,q,$).parseSearchRequest();if(!de)return null;const he=this.getLineCount();let pe=new n.Range(ee.lineNumber,ee.column,he,this.getLineMaxColumn(he)),ve=this.findMatchesLineByLine(pe,de,H,1);return _.TextModelSearch.findNextMatch(this,new _.SearchParams(Y,Z,q,$),ee,H),ve.length>0||(pe=new n.Range(1,1,ee.lineNumber,this.getLineMaxColumn(ee.lineNumber)),ve=this.findMatchesLineByLine(pe,de,H,1),ve.length>0)?ve[0]:null}return _.TextModelSearch.findNextMatch(this,new _.SearchParams(Y,Z,q,$),ee,H)}findPreviousMatch(Y,U,Z,q,$,H){this._assertNotDisposed();const ee=this.validatePosition(U);return _.TextModelSearch.findPreviousMatch(this,new _.SearchParams(Y,Z,q,$),ee,H)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(Y){if((this.getEOL()===`
`?0:1)!==Y)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(Y)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(Y){return Y instanceof a.ValidAnnotatedEditOperation?Y:new a.ValidAnnotatedEditOperation(Y.identifier||null,this.validateRange(Y.range),Y.text,Y.forceMoveMarkers||!1,Y.isAutoWhitespaceEdit||!1,Y._isTracked||!1)}_validateEditOperations(Y){const U=[];for(let Z=0,q=Y.length;Z<q;Z++)U[Z]=this._validateEditOperation(Y[Z]);return U}pushEditOperations(Y,U,Z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(Y,this._validateEditOperations(U),Z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(Y,U,Z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const q=U.map(H=>({range:this.validateRange(H.range),text:H.text}));let $=!0;if(Y)for(let H=0,ee=Y.length;H<ee;H++){const te=Y[H];let de=!1;for(let he=0,pe=q.length;he<pe;he++){const ve=q[he].range,ue=ve.startLineNumber>te.endLineNumber,Ce=te.startLineNumber>ve.endLineNumber;if(!ue&&!Ce){de=!0;break}}if(!de){$=!1;break}}if($)for(let H=0,ee=this._trimAutoWhitespaceLines.length;H<ee;H++){const te=this._trimAutoWhitespaceLines[H],de=this.getLineMaxColumn(te);let he=!0;for(let pe=0,ve=q.length;pe<ve;pe++){const ue=q[pe].range,Ce=q[pe].text;if(!(te<ue.startLineNumber||te>ue.endLineNumber)&&!(te===ue.startLineNumber&&ue.startColumn===de&&ue.isEmpty()&&Ce&&Ce.length>0&&Ce.charAt(0)===`
`)&&!(te===ue.startLineNumber&&ue.startColumn===1&&ue.isEmpty()&&Ce&&Ce.length>0&&Ce.charAt(Ce.length-1)===`
`)){he=!1;break}}if(he){const pe=new n.Range(te,1,te,de);U.push(new a.ValidAnnotatedEditOperation(null,pe,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(Y,U,Z)}_applyUndo(Y,U,Z,q){const $=Y.map(H=>{const ee=this.getPositionAt(H.newPosition),te=this.getPositionAt(H.newEnd);return{range:new n.Range(ee.lineNumber,ee.column,te.lineNumber,te.column),text:H.oldText}});this._applyUndoRedoEdits($,U,!0,!1,Z,q)}_applyRedo(Y,U,Z,q){const $=Y.map(H=>{const ee=this.getPositionAt(H.oldPosition),te=this.getPositionAt(H.oldEnd);return{range:new n.Range(ee.lineNumber,ee.column,te.lineNumber,te.column),text:H.newText}});this._applyUndoRedoEdits($,U,!1,!0,Z,q)}_applyUndoRedoEdits(Y,U,Z,q,$,H){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Z,this._isRedoing=q,this.applyEdits(Y,!1),this.setEOL(U),this._overwriteAlternativeVersionId($)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(H),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(Y,U=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Z=this._validateEditOperations(Y);return this._doApplyEdits(Z,U)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(Y,U){const Z=this._buffer.getLineCount(),q=this._buffer.applyEdits(Y,this._options.trimAutoWhitespace,U),$=this._buffer.getLineCount(),H=q.changes;if(this._trimAutoWhitespaceLines=q.trimAutoWhitespaceLineNumbers,H.length!==0){for(let de=0,he=H.length;de<he;de++){const pe=H[de],[ve,ue,Ce]=(0,u.countEOL)(pe.text);this._tokenizationTextModelPart.acceptEdit(pe.range,pe.text,ve,ue,Ce),this._decorationsTree.acceptReplace(pe.rangeOffset,pe.rangeLength,pe.text.length,pe.forceMoveMarkers)}const ee=[];this._increaseVersionId();let te=Z;for(let de=0,he=H.length;de<he;de++){const pe=H[de],[ve]=(0,u.countEOL)(pe.text);this._onDidChangeDecorations.fire();const ue=pe.range.startLineNumber,Ce=pe.range.endLineNumber,me=Ce-ue,be=ve,ce=Math.min(me,be),ge=be-me,we=$-te-ge+ue,ye=we,Te=we+be,ke=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(ye,1)),this.getOffsetAt(new i.Position(Te,this.getLineMaxColumn(Te))),0),Me=E.LineInjectedText.fromDecorations(ke),_e=new y.ArrayQueue(Me);for(let Se=ce;Se>=0;Se--){const Ee=ue+Se,Ae=we+Se;_e.takeFromEndWhile(xe=>xe.lineNumber>Ae);const Pe=_e.takeFromEndWhile(xe=>xe.lineNumber===Ae);ee.push(new E.ModelRawLineChanged(Ee,this.getLineContent(Ae),Pe))}if(ce<me){const Se=ue+ce;ee.push(new E.ModelRawLinesDeleted(Se+1,Ce))}if(ce<be){const Se=new y.ArrayQueue(Me),Ee=ue+ce,Ae=be-ce,Pe=$-te-Ae+Ee+1,xe=[],Ue=[];for(let He=0;He<Ae;He++){const Ke=Pe+He;Ue[He]=this.getLineContent(Ke),Se.takeWhile(et=>et.lineNumber<Ke),xe[He]=Se.takeWhile(et=>et.lineNumber===Ke)}ee.push(new E.ModelRawLinesInserted(Ee+1,ue+be,Ue,xe))}te+=ge}this._emitContentChangedEvent(new E.ModelRawContentChangedEvent(ee,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:H,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return q.reverseEdits===null?void 0:q.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(Y){if(Y===null||Y.size===0)return;const Z=Array.from(Y).map(q=>new E.ModelRawLineChanged(q,this.getLineContent(q),this._getInjectedTextInLine(q)));this._onDidChangeInjectedText.fire(new E.ModelInjectedTextChangedEvent(Z))}changeDecorations(Y,U=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(U,Y)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(Y,U){const Z={addDecoration:($,H)=>this._deltaDecorationsImpl(Y,[],[{range:$,options:H}])[0],changeDecoration:($,H)=>{this._changeDecorationImpl($,H)},changeDecorationOptions:($,H)=>{this._changeDecorationOptionsImpl($,V(H))},removeDecoration:$=>{this._deltaDecorationsImpl(Y,[$],[])},deltaDecorations:($,H)=>$.length===0&&H.length===0?[]:this._deltaDecorationsImpl(Y,$,H)};let q=null;try{q=U(Z)}catch($){(0,N.onUnexpectedError)($)}return Z.addDecoration=F,Z.changeDecoration=F,Z.changeDecorationOptions=F,Z.removeDecoration=F,Z.deltaDecorations=F,q}deltaDecorations(Y,U,Z=0){if(this._assertNotDisposed(),Y||(Y=[]),Y.length===0&&U.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,N.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Z,Y,U)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(Y){return this.getDecorationRange(Y)}_setTrackedRange(Y,U,Z){const q=Y?this._decorations[Y]:null;if(!q)return U?this._deltaDecorationsImpl(0,[],[{range:U,options:x[Z]}])[0]:null;if(!U)return this._decorationsTree.delete(q),delete this._decorations[q.id],null;const $=this._validateRangeRelaxedNoAllocations(U),H=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),ee=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.delete(q),q.reset(this.getVersionId(),H,ee,$),q.setOptions(x[Z]),this._decorationsTree.insert(q),q.id}removeAllDecorationsWithOwnerId(Y){if(this._isDisposed)return;const U=this._decorationsTree.collectNodesFromOwner(Y);for(let Z=0,q=U.length;Z<q;Z++){const $=U[Z];this._decorationsTree.delete($),delete this._decorations[$.id]}}getDecorationOptions(Y){const U=this._decorations[Y];return U?U.options:null}getDecorationRange(Y){const U=this._decorations[Y];return U?this._decorationsTree.getNodeRange(this,U):null}getLineDecorations(Y,U=0,Z=!1){return Y<1||Y>this.getLineCount()?[]:this.getLinesDecorations(Y,Y,U,Z)}getLinesDecorations(Y,U,Z=0,q=!1){const $=this.getLineCount(),H=Math.min($,Math.max(1,Y)),ee=Math.min($,Math.max(1,U)),te=this.getLineMaxColumn(ee),de=new n.Range(H,1,ee,te),he=this._getDecorationsInRange(de,Z,q);return(0,y.pushMany)(he,this._decorationProvider.getDecorationsInRange(de,Z,q)),he}getDecorationsInRange(Y,U=0,Z=!1){const q=this.validateRange(Y),$=this._getDecorationsInRange(q,U,Z);return(0,y.pushMany)($,this._decorationProvider.getDecorationsInRange(q,U,Z)),$}getOverviewRulerDecorations(Y=0,U=!1){return this._decorationsTree.getAll(this,Y,U,!0)}getInjectedTextDecorations(Y=0){return this._decorationsTree.getAllInjectedText(this,Y)}_getInjectedTextInLine(Y){const U=this._buffer.getOffsetAt(Y,1),Z=U+this._buffer.getLineLength(Y),q=this._decorationsTree.getInjectedTextInInterval(this,U,Z,0);return E.LineInjectedText.fromDecorations(q).filter($=>$.lineNumber===Y)}getAllDecorations(Y=0,U=!1){let Z=this._decorationsTree.getAll(this,Y,U,!1);return Z=Z.concat(this._decorationProvider.getAllDecorations(Y,U)),Z}_getDecorationsInRange(Y,U,Z){const q=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),$=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);return this._decorationsTree.getAllInInterval(this,q,$,U,Z)}getRangeAt(Y,U){return this._buffer.getRangeAt(Y,U-Y)}_changeDecorationImpl(Y,U){const Z=this._decorations[Y];if(!Z)return;if(Z.options.after){const ee=this.getDecorationRange(Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.endLineNumber)}if(Z.options.before){const ee=this.getDecorationRange(Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.startLineNumber)}const q=this._validateRangeRelaxedNoAllocations(U),$=this._buffer.getOffsetAt(q.startLineNumber,q.startColumn),H=this._buffer.getOffsetAt(q.endLineNumber,q.endColumn);this._decorationsTree.delete(Z),Z.reset(this.getVersionId(),$,H,q),this._decorationsTree.insert(Z),this._onDidChangeDecorations.checkAffectedAndFire(Z.options),Z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.endLineNumber),Z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.startLineNumber)}_changeDecorationOptionsImpl(Y,U){const Z=this._decorations[Y];if(!Z)return;const q=!!(Z.options.overviewRuler&&Z.options.overviewRuler.color),$=!!(U.overviewRuler&&U.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Z.options),this._onDidChangeDecorations.checkAffectedAndFire(U),Z.options.after||U.after){const H=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.endLineNumber)}if(Z.options.before||U.before){const H=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.startLineNumber)}q!==$?(this._decorationsTree.delete(Z),Z.setOptions(U),this._decorationsTree.insert(Z)):Z.setOptions(U)}_deltaDecorationsImpl(Y,U,Z){const q=this.getVersionId(),$=U.length;let H=0;const ee=Z.length;let te=0;const de=new Array(ee);for(;H<$||te<ee;){let he=null;if(H<$){do he=this._decorations[U[H++]];while(!he&&H<$);if(he){if(he.options.after){const pe=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(pe.endLineNumber)}if(he.options.before){const pe=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(pe.startLineNumber)}this._decorationsTree.delete(he),this._onDidChangeDecorations.checkAffectedAndFire(he.options)}}if(te<ee){if(!he){const be=++this._lastDecorationId,ce=`${this._instanceId};${be}`;he=new S.IntervalNode(ce,0,0),this._decorations[ce]=he}const pe=Z[te],ve=this._validateRangeRelaxedNoAllocations(pe.range),ue=V(pe.options),Ce=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),me=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);he.ownerId=Y,he.reset(q,Ce,me,ve),he.setOptions(ue),he.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),he.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ue),this._decorationsTree.insert(he),de[te]=he.id,te++}else he&&delete this._decorations[he.id]}return de}getLanguageId(){return this.tokenization.getLanguageId()}setMode(Y){this.tokenization.setLanguageId(Y)}getLanguageIdAtPosition(Y,U){return this.tokenization.getLanguageIdAtPosition(Y,U)}getWordAtPosition(Y){return this._tokenizationTextModelPart.getWordAtPosition(Y)}getWordUntilPosition(Y){return this._tokenizationTextModelPart.getWordUntilPosition(Y)}normalizePosition(Y,U){return Y}getLineIndentColumn(Y){return W(this.getLineContent(Y))+1}};P.MODEL_SYNC_LIMIT=50*1024*1024,P.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,P.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,P.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:r.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:r.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:r.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:r.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:r.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:r.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},P=De([fe(4,I.IUndoRedoService),fe(5,d.ILanguageService),fe(6,o.ILanguageConfigurationService)],P),e.TextModel=P;function W(ae){let Y=0;for(const U of ae)if(U===" "||U==="	")Y++;else break;return Y}function M(ae){return!!(ae.options.overviewRuler&&ae.options.overviewRuler.color)}function z(ae){return!!ae.options.after||!!ae.options.before}class Q{constructor(){this._decorationsTree0=new S.IntervalTree,this._decorationsTree1=new S.IntervalTree,this._injectedTextDecorationsTree=new S.IntervalTree}ensureAllNodesHaveRanges(Y){this.getAll(Y,0,!1,!1)}_ensureNodesHaveRanges(Y,U){for(const Z of U)Z.range===null&&(Z.range=Y.getRangeAt(Z.cachedAbsoluteStart,Z.cachedAbsoluteEnd));return U}getAllInInterval(Y,U,Z,q,$){const H=Y.getVersionId(),ee=this._intervalSearch(U,Z,q,$,H);return this._ensureNodesHaveRanges(Y,ee)}_intervalSearch(Y,U,Z,q,$){const H=this._decorationsTree0.intervalSearch(Y,U,Z,q,$),ee=this._decorationsTree1.intervalSearch(Y,U,Z,q,$),te=this._injectedTextDecorationsTree.intervalSearch(Y,U,Z,q,$);return H.concat(ee).concat(te)}getInjectedTextInInterval(Y,U,Z,q){const $=Y.getVersionId(),H=this._injectedTextDecorationsTree.intervalSearch(U,Z,q,!1,$);return this._ensureNodesHaveRanges(Y,H).filter(ee=>ee.options.showIfCollapsed||!ee.range.isEmpty())}getAllInjectedText(Y,U){const Z=Y.getVersionId(),q=this._injectedTextDecorationsTree.search(U,!1,Z);return this._ensureNodesHaveRanges(Y,q).filter($=>$.options.showIfCollapsed||!$.range.isEmpty())}getAll(Y,U,Z,q){const $=Y.getVersionId(),H=this._search(U,Z,q,$);return this._ensureNodesHaveRanges(Y,H)}_search(Y,U,Z,q){if(Z)return this._decorationsTree1.search(Y,U,q);{const $=this._decorationsTree0.search(Y,U,q),H=this._decorationsTree1.search(Y,U,q),ee=this._injectedTextDecorationsTree.search(Y,U,q);return $.concat(H).concat(ee)}}collectNodesFromOwner(Y){const U=this._decorationsTree0.collectNodesFromOwner(Y),Z=this._decorationsTree1.collectNodesFromOwner(Y),q=this._injectedTextDecorationsTree.collectNodesFromOwner(Y);return U.concat(Z).concat(q)}collectNodesPostOrder(){const Y=this._decorationsTree0.collectNodesPostOrder(),U=this._decorationsTree1.collectNodesPostOrder(),Z=this._injectedTextDecorationsTree.collectNodesPostOrder();return Y.concat(U).concat(Z)}insert(Y){z(Y)?this._injectedTextDecorationsTree.insert(Y):M(Y)?this._decorationsTree1.insert(Y):this._decorationsTree0.insert(Y)}delete(Y){z(Y)?this._injectedTextDecorationsTree.delete(Y):M(Y)?this._decorationsTree1.delete(Y):this._decorationsTree0.delete(Y)}getNodeRange(Y,U){const Z=Y.getVersionId();return U.cachedVersionId!==Z&&this._resolveNode(U,Z),U.range===null&&(U.range=Y.getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd)),U.range}_resolveNode(Y,U){z(Y)?this._injectedTextDecorationsTree.resolveNode(Y,U):M(Y)?this._decorationsTree1.resolveNode(Y,U):this._decorationsTree0.resolveNode(Y,U)}acceptReplace(Y,U,Z,q){this._decorationsTree0.acceptReplace(Y,U,Z,q),this._decorationsTree1.acceptReplace(Y,U,Z,q),this._injectedTextDecorationsTree.acceptReplace(Y,U,Z,q)}}function ne(ae){return ae.replace(/[^a-z0-9\-_]/gi," ")}class X{constructor(Y){this.color=Y.color||"",this.darkColor=Y.darkColor||""}}class J extends X{constructor(Y){super(Y);this._resolvedColor=null,this.position=typeof Y.position=="number"?Y.position:a.OverviewRulerLane.Center}getColor(Y){return this._resolvedColor||(Y.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,Y):this._resolvedColor=this._resolveColor(this.color,Y)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(Y,U){if(typeof Y=="string")return Y;const Z=Y?U.getColor(Y.id):null;return Z?Z.toString():""}}e.ModelDecorationOverviewRulerOptions=J;class ie extends X{constructor(Y){super(Y);this.position=Y.position}getColor(Y){return this._resolvedColor||(Y.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,Y):this._resolvedColor=this._resolveColor(this.color,Y)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(Y,U){return typeof Y=="string"?f.Color.fromHex(Y):U.getColor(Y.id)}}e.ModelDecorationMinimapOptions=ie;class le{constructor(Y){this.content=Y.content||"",this.inlineClassName=Y.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=Y.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=Y.attachedData||null,this.cursorStops=Y.cursorStops||null}static from(Y){return Y instanceof le?Y:new le(Y)}}e.ModelDecorationInjectedTextOptions=le;class G{constructor(Y){var U,Z;this.description=Y.description,this.stickiness=Y.stickiness||0,this.zIndex=Y.zIndex||0,this.className=Y.className?ne(Y.className):null,this.hoverMessage=Y.hoverMessage||null,this.glyphMarginHoverMessage=Y.glyphMarginHoverMessage||null,this.isWholeLine=Y.isWholeLine||!1,this.showIfCollapsed=Y.showIfCollapsed||!1,this.collapseOnReplaceEdit=Y.collapseOnReplaceEdit||!1,this.overviewRuler=Y.overviewRuler?new J(Y.overviewRuler):null,this.minimap=Y.minimap?new ie(Y.minimap):null,this.glyphMarginClassName=Y.glyphMarginClassName?ne(Y.glyphMarginClassName):null,this.linesDecorationsClassName=Y.linesDecorationsClassName?ne(Y.linesDecorationsClassName):null,this.firstLineDecorationClassName=Y.firstLineDecorationClassName?ne(Y.firstLineDecorationClassName):null,this.marginClassName=Y.marginClassName?ne(Y.marginClassName):null,this.inlineClassName=Y.inlineClassName?ne(Y.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=Y.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=Y.beforeContentClassName?ne(Y.beforeContentClassName):null,this.afterContentClassName=Y.afterContentClassName?ne(Y.afterContentClassName):null,this.after=Y.after?le.from(Y.after):null,this.before=Y.before?le.from(Y.before):null,this.hideInCommentTokens=(U=Y.hideInCommentTokens)!==null&&U!==void 0?U:!1,this.hideInStringTokens=(Z=Y.hideInStringTokens)!==null&&Z!==void 0?Z:!1}static register(Y){return new G(Y)}static createDynamic(Y){return new G(Y)}}e.ModelDecorationOptions=G,G.EMPTY=G.register({description:"empty"});const x=[G.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),G.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),G.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),G.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function V(ae){return ae instanceof G?ae:G.createDynamic(ae)}class j extends L.Disposable{constructor(Y){super();this.handleBeforeFire=Y,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var Y;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const U={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(U)}(Y=this._affectedInjectedTextLines)===null||Y===void 0||Y.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(Y){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(Y)}checkAffectedAndFire(Y){this._affectsMinimap||(this._affectsMinimap=!!(Y.minimap&&Y.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(Y.overviewRuler&&Y.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=j;class re extends L.Disposable{constructor(){super();this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(Y=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=Y;const U=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(U),this._slowEmitter.fire(U)}}fire(Y){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(Y):this._deferredEvent=Y;return}this._fastEmitter.fire(Y),this._slowEmitter.fire(Y)}}e.DidChangeContentEmitter=re}),define(oe[303],se([1,0,4,2,17,13,35,148,72,36,48,158,37,10,21,14,70,164,118,277,51,293,279,39,31,71,57,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function E(M){return M.toString()}function I(M){const z=new s.StringSHA1,Q=M.createSnapshot();let ne;for(;ne=Q.read();)z.update(ne);return z.digest()}class T{constructor(z,Q,ne){this._modelEventListeners=new f.DisposableStore,this.model=z,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(z.onWillDispose(()=>Q(z))),this._modelEventListeners.add(z.onDidChangeLanguage(X=>ne(z,X)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(z){this._disposeLanguageSelection(),this._languageSelection=z,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(z.languageId)),this.model.setMode(z.languageId)}}const R=N.isLinux||N.isMacintosh?1:2;class B{constructor(z,Q,ne,X,J,ie,le,G){this.uri=z,this.initialUndoRedoSnapshot=Q,this.time=ne,this.sharesUndoRedoStack=X,this.heapSize=J,this.sha1=ie,this.versionId=le,this.alternativeVersionId=G}}let O=class At extends f.Disposable{constructor(z,Q,ne,X,J,ie,le,G,x){super();this._configurationService=z,this._resourcePropertiesService=Q,this._themeService=ne,this._logService=X,this._undoRedoService=J,this._languageService=ie,this._languageConfigurationService=le,this._languageFeatureDebounceService=G,this._onModelAdded=this._register(new y.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new F(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new A(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,x))}static _readModelOptions(z,Q){var ne;let X=b.EDITOR_MODEL_DEFAULTS.tabSize;if(z.editor&&typeof z.editor.tabSize!="undefined"){const ae=parseInt(z.editor.tabSize,10);isNaN(ae)||(X=ae),X<1&&(X=1)}let J=X;if(z.editor&&typeof z.editor.indentSize!="undefined"&&z.editor.indentSize!=="tabSize"){const ae=parseInt(z.editor.indentSize,10);isNaN(ae)||(J=ae),J<1&&(J=1)}let ie=b.EDITOR_MODEL_DEFAULTS.insertSpaces;z.editor&&typeof z.editor.insertSpaces!="undefined"&&(ie=z.editor.insertSpaces==="false"?!1:Boolean(z.editor.insertSpaces));let le=R;const G=z.eol;G===`\r
`?le=2:G===`
`&&(le=1);let x=b.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;z.editor&&typeof z.editor.trimAutoWhitespace!="undefined"&&(x=z.editor.trimAutoWhitespace==="false"?!1:Boolean(z.editor.trimAutoWhitespace));let V=b.EDITOR_MODEL_DEFAULTS.detectIndentation;z.editor&&typeof z.editor.detectIndentation!="undefined"&&(V=z.editor.detectIndentation==="false"?!1:Boolean(z.editor.detectIndentation));let j=b.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;z.editor&&typeof z.editor.largeFileOptimizations!="undefined"&&(j=z.editor.largeFileOptimizations==="false"?!1:Boolean(z.editor.largeFileOptimizations));let re=b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((ne=z.editor)===null||ne===void 0?void 0:ne.bracketPairColorization)&&typeof z.editor.bracketPairColorization=="object"&&(re={enabled:!!z.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!z.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Q,tabSize:X,indentSize:J,insertSpaces:ie,detectIndentation:V,defaultEOL:le,trimAutoWhitespace:x,largeFileOptimizations:j,bracketPairColorizationOptions:re}}_getEOL(z,Q){if(z)return this._resourcePropertiesService.getEOL(z,Q);const ne=this._configurationService.getValue("files.eol",{overrideIdentifier:Q});return ne&&typeof ne=="string"&&ne!=="auto"?ne:N.OS===3||N.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const z=this._configurationService.getValue("files.restoreUndoStack");return typeof z=="boolean"?z:!0}getCreationOptions(z,Q,ne){let X=this._modelCreationOptionsByLanguageAndResource[z+Q];if(!X){const J=this._configurationService.getValue("editor",{overrideIdentifier:z,resource:Q}),ie=this._getEOL(Q,z);X=At._readModelOptions({editor:J,eol:ie},ne),this._modelCreationOptionsByLanguageAndResource[z+Q]=X}return X}_updateModelOptions(){const z=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Q=Object.keys(this._models);for(let ne=0,X=Q.length;ne<X;ne++){const J=Q[ne],ie=this._models[J],le=ie.model.getLanguageId(),G=ie.model.uri,x=z[le+G],V=this.getCreationOptions(le,G,ie.model.isForSimpleWidget);At._setModelOptionsForModel(ie.model,V,x)}}static _setModelOptionsForModel(z,Q,ne){ne&&ne.defaultEOL!==Q.defaultEOL&&z.getLineCount()===1&&z.setEOL(Q.defaultEOL===1?0:1),!(ne&&ne.detectIndentation===Q.detectIndentation&&ne.insertSpaces===Q.insertSpaces&&ne.tabSize===Q.tabSize&&ne.indentSize===Q.indentSize&&ne.trimAutoWhitespace===Q.trimAutoWhitespace&&(0,S.equals)(ne.bracketPairColorizationOptions,Q.bracketPairColorizationOptions))&&(Q.detectIndentation?(z.detectIndentation(Q.insertSpaces,Q.tabSize),z.updateOptions({trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions})):z.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.indentSize,trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions}))}_insertDisposedModel(z){this._disposedModels.set(E(z.uri),z),this._disposedModelsHeapSize+=z.heapSize}_removeDisposedModel(z){const Q=this._disposedModels.get(E(z));return Q&&(this._disposedModelsHeapSize-=Q.heapSize),this._disposedModels.delete(E(z)),Q}_ensureDisposedModelsHeapSize(z){if(this._disposedModelsHeapSize>z){const Q=[];for(this._disposedModels.forEach(ne=>{ne.sharesUndoRedoStack||Q.push(ne)}),Q.sort((ne,X)=>ne.time-X.time);Q.length>0&&this._disposedModelsHeapSize>z;){const ne=Q.shift();this._removeDisposedModel(ne.uri),ne.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ne.initialUndoRedoSnapshot)}}}_createModelData(z,Q,ne,X){const J=this.getCreationOptions(Q,ne,X),ie=new L.TextModel(z,Q,J,ne,this._undoRedoService,this._languageService,this._languageConfigurationService);if(ne&&this._disposedModels.has(E(ne))){const x=this._removeDisposedModel(ne),V=this._undoRedoService.getElements(ne),j=I(ie)===x.sha1;if(j||x.sharesUndoRedoStack){for(const re of V.past)(0,l.isEditStackElement)(re)&&re.matchesResource(ne)&&re.setModel(ie);for(const re of V.future)(0,l.isEditStackElement)(re)&&re.matchesResource(ne)&&re.setModel(ie);this._undoRedoService.setElementsValidFlag(ne,!0,re=>(0,l.isEditStackElement)(re)&&re.matchesResource(ne)),j&&(ie._overwriteVersionId(x.versionId),ie._overwriteAlternativeVersionId(x.alternativeVersionId),ie._overwriteInitialUndoRedoSnapshot(x.initialUndoRedoSnapshot))}else x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}const le=E(ie.uri);if(this._models[le])throw new Error("ModelService: Cannot add model because it already exists!");const G=new T(ie,x=>this._onWillDispose(x),(x,V)=>this._onDidChangeLanguage(x,V));return this._models[le]=G,G}createModel(z,Q,ne,X=!1){let J;return Q?(J=this._createModelData(z,Q.languageId,ne,X),this.setMode(J.model,Q)):J=this._createModelData(z,C.PLAINTEXT_LANGUAGE_ID,ne,X),this._onModelAdded.fire(J.model),J.model}setMode(z,Q){if(!Q)return;const ne=this._models[E(z.uri)];!ne||ne.setLanguage(Q)}getModels(){const z=[],Q=Object.keys(this._models);for(let ne=0,X=Q.length;ne<X;ne++){const J=Q[ne];z.push(this._models[J].model)}return z}getModel(z){const Q=E(z),ne=this._models[Q];return ne?ne.model:null}getSemanticTokensProviderStyling(z){return this._semanticStyling.get(z)}_schemaShouldMaintainUndoRedoElements(z){return z.scheme===c.Schemas.file||z.scheme===c.Schemas.vscodeRemote||z.scheme===c.Schemas.vscodeUserData||z.scheme===c.Schemas.vscodeNotebookCell||z.scheme==="fake-fs"}_onWillDispose(z){const Q=E(z.uri),ne=this._models[Q],X=this._undoRedoService.getUriComparisonKey(z.uri)!==z.uri.toString();let J=!1,ie=0;if(X||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(z.uri)){const G=this._undoRedoService.getElements(z.uri);if(G.past.length>0||G.future.length>0){for(const x of G.past)(0,l.isEditStackElement)(x)&&x.matchesResource(z.uri)&&(J=!0,ie+=x.heapSize(z.uri),x.setModel(z.uri));for(const x of G.future)(0,l.isEditStackElement)(x)&&x.matchesResource(z.uri)&&(J=!0,ie+=x.heapSize(z.uri),x.setModel(z.uri))}}const le=At.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(J)if(!X&&ie>le){const G=ne.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}else this._ensureDisposedModelsHeapSize(le-ie),this._undoRedoService.setElementsValidFlag(z.uri,!1,G=>(0,l.isEditStackElement)(G)&&G.matchesResource(z.uri)),this._insertDisposedModel(new B(z.uri,ne.model.getInitialUndoRedoSnapshot(),Date.now(),X,ie,I(z),z.getVersionId(),z.getAlternativeVersionId()));else if(!X){const G=ne.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}delete this._models[Q],ne.dispose(),delete this._modelCreationOptionsByLanguageAndResource[z.getLanguageId()+z.uri],this._onModelRemoved.fire(z)}_onDidChangeLanguage(z,Q){const ne=Q.oldLanguage,X=z.getLanguageId(),J=this.getCreationOptions(ne,z.uri,z.isForSimpleWidget),ie=this.getCreationOptions(X,z.uri,z.isForSimpleWidget);At._setModelOptionsForModel(z,ie,J),this._onModelModeChanged.fire({model:z,oldLanguageId:ne})}};O.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,O=De([fe(0,n.IConfigurationService),fe(1,i.ITextResourcePropertiesService),fe(2,d.IThemeService),fe(3,o.ILogService),fe(4,a.IUndoRedoService),fe(5,u.ILanguageService),fe(6,p.ILanguageConfigurationService),fe(7,v.ILanguageFeatureDebounceService),fe(8,w.ILanguageFeaturesService)],O),e.ModelService=O,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function k(M,z,Q){var ne;const X=(ne=Q.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:M.getLanguageId(),resource:M.uri}))===null||ne===void 0?void 0:ne.enabled;return typeof X=="boolean"?X:z.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=k;let A=class extends f.Disposable{constructor(z,Q,ne,X,J,ie){super();this._watchers=Object.create(null),this._semanticStyling=z;const le=V=>{this._watchers[V.uri.toString()]=new W(V,this._semanticStyling,ne,J,ie)},G=(V,j)=>{j.dispose(),delete this._watchers[V.uri.toString()]},x=()=>{for(let V of Q.getModels()){const j=this._watchers[V.uri.toString()];k(V,ne,X)?j||le(V):j&&G(V,j)}};this._register(Q.onModelAdded(V=>{k(V,ne,X)&&le(V)})),this._register(Q.onModelRemoved(V=>{const j=this._watchers[V.uri.toString()];j&&G(V,j)})),this._register(X.onDidChangeConfiguration(V=>{V.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&x()})),this._register(ne.onDidColorThemeChange(x))}dispose(){for(const z of Object.values(this._watchers))z.dispose();super.dispose()}};A=De([fe(1,h.IModelService),fe(2,d.IThemeService),fe(3,n.IConfigurationService),fe(4,v.ILanguageFeatureDebounceService),fe(5,w.ILanguageFeaturesService)],A);class F extends f.Disposable{constructor(z,Q,ne){super();this._themeService=z,this._languageService=Q,this._logService=ne,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(z){return this._caches.has(z)||this._caches.set(z,new g.SemanticTokensProviderStyling(z.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(z)}}class P{constructor(z,Q,ne){this.provider=z,this.resultId=Q,this.data=ne}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class Et extends f.Disposable{constructor(z,Q,ne,X,J){super();this._isDisposed=!1,this._model=z,this._semanticStyling=Q,this._provider=J.documentSemanticTokensProvider,this._debounceInformation=X.for(this._provider,"DocumentSemanticTokens",{min:Et.REQUEST_MIN_DELAY,max:Et.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new t.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),Et.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const ie=()=>{(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const le of this._provider.all(z))typeof le.onDidChange=="function"&&this._documentProvidersChangeListeners.push(le.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};ie(),this._register(this._provider.onDidChange(()=>{ie(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(ne.onDidColorThemeChange(le=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,m.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const z=new r.CancellationTokenSource,Q=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,ne=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,X=(0,m.getDocumentSemanticTokens)(this._provider,this._model,Q,ne,z.token);this._currentDocumentRequestCancellationTokenSource=z;const J=[],ie=this._model.onDidChangeContent(G=>{J.push(G)}),le=new _.StopWatch(!1);X.then(G=>{if(this._debounceInformation.update(this._model,le.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,ie.dispose(),!G)this._setDocumentSemanticTokens(null,null,null,J);else{const{provider:x,tokens:V}=G,j=this._semanticStyling.get(x);this._setDocumentSemanticTokens(x,V||null,j,J)}},G=>{G&&(D.isCancellationError(G)||typeof G.message=="string"&&G.message.indexOf("busy")!==-1)||D.onUnexpectedError(G),this._currentDocumentRequestCancellationTokenSource=null,ie.dispose(),J.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(z,Q,ne,X,J){J=Math.min(J,ne.length-X,z.length-Q);for(let ie=0;ie<J;ie++)ne[X+ie]=z[Q+ie]}_setDocumentSemanticTokens(z,Q,ne,X){const J=this._currentDocumentResponse,ie=()=>{X.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){z&&Q&&z.releaseDocumentSemanticTokens(Q.resultId);return}if(!z||!ne){this._model.tokenization.setSemanticTokens(null,!1);return}if(!Q){this._model.tokenization.setSemanticTokens(null,!0),ie();return}if((0,m.isSemanticTokensEdits)(Q)){if(!J){this._model.tokenization.setSemanticTokens(null,!0);return}if(Q.edits.length===0)Q={resultId:Q.resultId,data:J.data};else{let le=0;for(const re of Q.edits)le+=(re.data?re.data.length:0)-re.deleteCount;const G=J.data,x=new Uint32Array(G.length+le);let V=G.length,j=x.length;for(let re=Q.edits.length-1;re>=0;re--){const ae=Q.edits[re];if(ae.start>G.length){ne.warnInvalidEditStart(J.resultId,Q.resultId,re,ae.start,G.length),this._model.tokenization.setSemanticTokens(null,!0);return}const Y=V-(ae.start+ae.deleteCount);Y>0&&(Et._copy(G,V-Y,x,j-Y,Y),j-=Y),ae.data&&(Et._copy(ae.data,0,x,j-ae.data.length,ae.data.length),j-=ae.data.length),V=ae.start}V>0&&Et._copy(G,0,x,0,V),Q={resultId:Q.resultId,data:x}}}if((0,m.isSemanticTokens)(Q)){this._currentDocumentResponse=new P(z,Q.resultId,Q.data);const le=(0,g.toMultilineTokens2)(Q,ne,this._model.getLanguageId());if(X.length>0)for(const G of X)for(const x of le)for(const V of G.changes)x.applyEdit(V.range,V.text);this._model.tokenization.setSemanticTokens(le,!0)}else this._model.tokenization.setSemanticTokens(null,!0);ie()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=De([fe(2,d.IThemeService),fe(3,v.ILanguageFeatureDebounceService),fe(4,w.ILanguageFeaturesService)],W),e.ModelSemanticColoring=W}),define(oe[721],se([1,0,18,11,3,187,35,95,190,462,247,74]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class n{constructor(c,g,m,S,p,v,_,w,E){this._editorId=c,this.model=g,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=S,this.fontInfo=p,this.tabSize=v,this.wrappingStrategy=_,this.wrappingColumn=w,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new o(this)}_constructLines(c,g){this.modelLineProjections=[],c&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const m=this.model.getLinesContent(),S=this.model.getInjectedTextDecorations(this._editorId),p=m.length,v=this.createLineBreaksComputer(),_=new y.ArrayQueue(b.LineInjectedText.fromDecorations(S));for(let k=0;k<p;k++){const A=_.takeWhile(F=>F.lineNumber===k+1);v.addRequest(m[k],A,g?g[k]:null)}const w=v.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(k=>this.model.getDecorationRange(k)).sort(N.Range.compareRangesUsingStarts);let T=1,R=0,B=-1,O=B+1<I.length?R+1:p+2;for(let k=0;k<p;k++){const A=k+1;A===O&&(B++,T=I[B].startLineNumber,R=I[B].endLineNumber,O=B+1<I.length?R+1:p+2);const F=A>=T&&A<=R,P=(0,u.createModelLineProjection)(w[k],!F);E[k]=P.getViewLineCount(),this.modelLineProjections[k]=P}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new h.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(c=>this.model.getDecorationRange(c))}setHiddenAreas(c){const g=c.map(R=>this.model.validateRange(R)),m=t(g),S=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(N.Range.compareRangesUsingStarts);if(m.length===S.length){let R=!1;for(let B=0;B<m.length;B++)if(!m[B].equalsRange(S[B])){R=!0;break}if(!R)return!1}const p=m.map(R=>({range:R,options:L.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,p);const v=m;let _=1,w=0,E=-1,I=E+1<v.length?w+1:this.modelLineProjections.length+2,T=!1;for(let R=0;R<this.modelLineProjections.length;R++){const B=R+1;B===I&&(E++,_=v[E].startLineNumber,w=v[E].endLineNumber,I=E+1<v.length?w+1:this.modelLineProjections.length+2);let O=!1;if(B>=_&&B<=w?this.modelLineProjections[R].isVisible()&&(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!1),O=!0):(T=!0,this.modelLineProjections[R].isVisible()||(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!0),O=!0)),O){const k=this.modelLineProjections[R].getViewLineCount();this.projectedModelLineLineCounts.setValue(R,k)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(c,g){return c<1||c>this.modelLineProjections.length?!1:this.modelLineProjections[c-1].isVisible()}getModelLineViewLineCount(c){return c<1||c>this.modelLineProjections.length?1:this.modelLineProjections[c-1].getViewLineCount()}setTabSize(c){return this.tabSize===c?!1:(this.tabSize=c,this._constructLines(!1,null),!0)}setWrappingSettings(c,g,m,S){const p=this.fontInfo.equals(c),v=this.wrappingStrategy===g,_=this.wrappingColumn===m,w=this.wrappingIndent===S;if(p&&v&&_&&w)return!1;const E=p&&v&&!_&&w;this.fontInfo=c,this.wrappingStrategy=g,this.wrappingColumn=m,this.wrappingIndent=S;let I=null;if(E){I=[];for(let T=0,R=this.modelLineProjections.length;T<R;T++)I[T]=this.modelLineProjections[T].getProjectionData()}return this._constructLines(!1,I),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(c,g,m){if(!c||c<=this._validModelVersionId)return null;const S=g===1?1:this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,p=this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections.splice(g-1,m-g+1),this.projectedModelLineLineCounts.removeValues(g-1,m-g+1),new C.ViewLinesDeletedEvent(S,p)}onModelLinesInserted(c,g,m,S){if(!c||c<=this._validModelVersionId)return null;const p=g>2&&!this.modelLineProjections[g-2].isVisible(),v=g===1?1:this.projectedModelLineLineCounts.getPrefixSum(g-1)+1;let _=0;const w=[],E=[];for(let I=0,T=S.length;I<T;I++){const R=(0,u.createModelLineProjection)(S[I],!p);w.push(R);const B=R.getViewLineCount();_+=B,E[I]=B}return this.modelLineProjections=this.modelLineProjections.slice(0,g-1).concat(w).concat(this.modelLineProjections.slice(g-1)),this.projectedModelLineLineCounts.insertValues(g-1,E),new C.ViewLinesInsertedEvent(v,v+_-1)}onModelLineChanged(c,g,m){if(c!==null&&c<=this._validModelVersionId)return[!1,null,null,null];const S=g-1,p=this.modelLineProjections[S].getViewLineCount(),v=this.modelLineProjections[S].isVisible(),_=(0,u.createModelLineProjection)(m,v);this.modelLineProjections[S]=_;const w=this.modelLineProjections[S].getViewLineCount();let E=!1,I=0,T=-1,R=0,B=-1,O=0,k=-1;p>w?(I=this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,T=I+w-1,O=T+1,k=O+(p-w)-1,E=!0):p<w?(I=this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,T=I+p-1,R=T+1,B=R+(w-p)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(g-1)+1,T=I+w-1),this.projectedModelLineLineCounts.setValue(S,w);const A=I<=T?new C.ViewLinesChangedEvent(I,T-I+1):null,F=R<=B?new C.ViewLinesInsertedEvent(R,B):null,P=O<=k?new C.ViewLinesDeletedEvent(O,k):null;return[E,A,F,P]}acceptVersionId(c){this._validModelVersionId=c,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(c){if(c<1)return 1;const g=this.getViewLineCount();return c>g?g:c|0}getActiveIndentGuide(c,g,m){c=this._toValidViewLineNumber(c),g=this._toValidViewLineNumber(g),m=this._toValidViewLineNumber(m);const S=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),p=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),v=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),_=this.model.guides.getActiveIndentGuide(S.lineNumber,p.lineNumber,v.lineNumber),w=this.convertModelPositionToViewPosition(_.startLineNumber,1),E=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:w.lineNumber,endLineNumber:E.lineNumber,indent:_.indent}}getViewLineInfo(c){c=this._toValidViewLineNumber(c);const g=this.projectedModelLineLineCounts.getIndexOf(c-1),m=g.index,S=g.remainder;return new r(m+1,S)}getMinColumnOfViewLine(c){return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(c){return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(c){const g=this.modelLineProjections[c.modelLineNumber-1],m=g.getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx),S=g.getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,m);return new f.Position(c.modelLineNumber,S)}getModelEndPositionOfViewLine(c){const g=this.modelLineProjections[c.modelLineNumber-1],m=g.getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx),S=g.getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,m);return new f.Position(c.modelLineNumber,S)}getViewLineInfosGroupedByModelRanges(c,g){const m=this.getViewLineInfo(c),S=this.getViewLineInfo(g),p=new Array;let v=this.getModelStartPositionOfViewLine(m),_=new Array;for(let w=m.modelLineNumber;w<=S.modelLineNumber;w++){const E=this.modelLineProjections[w-1];if(E.isVisible()){const I=w===m.modelLineNumber?m.modelLineWrappedLineIdx:0,T=w===S.modelLineNumber?S.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let R=I;R<T;R++)_.push(new r(w,R))}if(!E.isVisible()&&v){const I=new f.Position(w-1,this.model.getLineMaxColumn(w-1)+1),T=N.Range.fromPositions(v,I);p.push(new d(T,_)),_=[],v=null}else E.isVisible()&&!v&&(v=new f.Position(w,1))}if(v){const w=N.Range.fromPositions(v,this.getModelEndPositionOfViewLine(S));p.push(new d(w,_))}return p}getViewLinesBracketGuides(c,g,m,S){const p=m?this.convertViewPositionToModelPosition(m.lineNumber,m.column):null,v=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(c,g)){const w=_.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(w,_.modelRange.endLineNumber,p,S);for(const I of _.viewLines)if(I.isWrappedLineContinuation&&this.getMinColumnOfViewLine(I)===1)v.push([]);else{const R=E[I.modelLineNumber-w].map(B=>{if(B.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||B.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!B.horizontalLine)return B;let O=-1;if(B.column!==-1){const F=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.column);if(F.lineNumber===I.modelLineWrappedLineIdx)O=F.column;else if(F.lineNumber<I.modelLineWrappedLineIdx)O=this.getMinColumnOfViewLine(I);else if(F.lineNumber>I.modelLineWrappedLineIdx)return}const k=this.convertModelPositionToViewPosition(I.modelLineNumber,B.horizontalLine.endColumn),A=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,B.horizontalLine.endColumn);return A.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(B.visibleColumn,O,B.className,new D.IndentGuideHorizontalLine(B.horizontalLine.top,k.column),-1,-1):A.lineNumber<I.modelLineWrappedLineIdx||B.visibleColumn!==-1?void 0:new D.IndentGuide(B.visibleColumn,O,B.className,new D.IndentGuideHorizontalLine(B.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});v.push(R.filter(B=>!!B))}}return v}getViewLinesIndentGuides(c,g){c=this._toValidViewLineNumber(c),g=this._toValidViewLineNumber(g);const m=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),S=this.convertViewPositionToModelPosition(g,this.getViewLineMaxColumn(g));let p=[];const v=[],_=[],w=m.lineNumber-1,E=S.lineNumber-1;let I=null;for(let O=w;O<=E;O++){const k=this.modelLineProjections[O];if(k.isVisible()){const A=k.getViewLineNumberOfModelPosition(0,O===w?m.column:1),F=k.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(O+1)),P=F-A+1;let W=0;P>1&&k.getViewLineMinColumn(this.model,O+1,F)===1&&(W=A===0?1:2),v.push(P),_.push(W),I===null&&(I=new f.Position(O+1,0))}else I!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,O)),I=null)}I!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,S.lineNumber)),I=null);const T=g-c+1,R=new Array(T);let B=0;for(let O=0,k=p.length;O<k;O++){let A=p[O];const F=Math.min(T-B,v[O]),P=_[O];let W;P===2?W=0:P===1?W=1:W=F;for(let M=0;M<F;M++)M===W&&(A=0),R[B++]=A}return R}getViewLineContent(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineContent(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineLength(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineLength(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineMinColumn(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineMinColumn(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineMaxColumn(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineMaxColumn(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLineData(c){const g=this.getViewLineInfo(c);return this.modelLineProjections[g.modelLineNumber-1].getViewLineData(this.model,g.modelLineNumber,g.modelLineWrappedLineIdx)}getViewLinesData(c,g,m){c=this._toValidViewLineNumber(c),g=this._toValidViewLineNumber(g);const S=this.projectedModelLineLineCounts.getIndexOf(c-1);let p=c;const v=S.index,_=S.remainder,w=[];for(let E=v,I=this.model.getLineCount();E<I;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const R=E===v?_:0;let B=T.getViewLineCount()-R,O=!1;if(p+B>g&&(O=!0,B=g-p+1),T.getViewLinesData(this.model,E+1,R,B,p-c,m,w),p+=B,O)break}return w}validateViewPosition(c,g,m){c=this._toValidViewLineNumber(c);const S=this.projectedModelLineLineCounts.getIndexOf(c-1),p=S.index,v=S.remainder,_=this.modelLineProjections[p],w=_.getViewLineMinColumn(this.model,p+1,v),E=_.getViewLineMaxColumn(this.model,p+1,v);g<w&&(g=w),g>E&&(g=E);const I=_.getModelColumnOfViewPosition(v,g);return this.model.validatePosition(new f.Position(p+1,I)).equals(m)?new f.Position(c,g):this.convertModelPositionToViewPosition(m.lineNumber,m.column)}validateViewRange(c,g){const m=this.validateViewPosition(c.startLineNumber,c.startColumn,g.getStartPosition()),S=this.validateViewPosition(c.endLineNumber,c.endColumn,g.getEndPosition());return new N.Range(m.lineNumber,m.column,S.lineNumber,S.column)}convertViewPositionToModelPosition(c,g){const m=this.getViewLineInfo(c),S=this.modelLineProjections[m.modelLineNumber-1].getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,g);return this.model.validatePosition(new f.Position(m.modelLineNumber,S))}convertViewRangeToModelRange(c){const g=this.convertViewPositionToModelPosition(c.startLineNumber,c.startColumn),m=this.convertViewPositionToModelPosition(c.endLineNumber,c.endColumn);return new N.Range(g.lineNumber,g.column,m.lineNumber,m.column)}convertModelPositionToViewPosition(c,g,m=2){const S=this.model.validatePosition(new f.Position(c,g)),p=S.lineNumber,v=S.column;let _=p-1,w=!1;for(;_>0&&!this.modelLineProjections[_].isVisible();)_--,w=!0;if(_===0&&!this.modelLineProjections[_].isVisible())return new f.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(_);let I;return w?I=this.modelLineProjections[_].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(_+1),m):I=this.modelLineProjections[p-1].getViewPositionOfModelPosition(E,v,m),I}convertModelRangeToViewRange(c,g=0){if(c.isEmpty()){const m=this.convertModelPositionToViewPosition(c.startLineNumber,c.startColumn,g);return N.Range.fromPositions(m)}else{const m=this.convertModelPositionToViewPosition(c.startLineNumber,c.startColumn,1),S=this.convertModelPositionToViewPosition(c.endLineNumber,c.endColumn,0);return new N.Range(m.lineNumber,m.column,S.lineNumber,S.column)}}getViewLineNumberOfModelPosition(c,g){let m=c-1;if(this.modelLineProjections[m].isVisible()){const p=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(p,g)}for(;m>0&&!this.modelLineProjections[m].isVisible();)m--;if(m===0&&!this.modelLineProjections[m].isVisible())return 1;const S=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(S,this.model.getLineMaxColumn(m+1))}getDecorationsInRange(c,g,m){const S=this.convertViewPositionToModelPosition(c.startLineNumber,c.startColumn),p=this.convertViewPositionToModelPosition(c.endLineNumber,c.endColumn);if(p.lineNumber-S.lineNumber<=c.endLineNumber-c.startLineNumber)return this.model.getDecorationsInRange(new N.Range(S.lineNumber,1,p.lineNumber,p.column),g,m);let v=[];const _=S.lineNumber-1,w=p.lineNumber-1;let E=null;for(let B=_;B<=w;B++)if(this.modelLineProjections[B].isVisible())E===null&&(E=new f.Position(B+1,B===_?S.column:1));else if(E!==null){const k=this.model.getLineMaxColumn(B);v=v.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,B,k),g,m)),E=null}E!==null&&(v=v.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,p.lineNumber,p.column),g,m)),E=null),v.sort((B,O)=>{const k=N.Range.compareRangesUsingStarts(B.range,O.range);return k===0?B.id<O.id?-1:B.id>O.id?1:0:k});let I=[],T=0,R=null;for(const B of v){const O=B.id;R!==O&&(R=O,I[T++]=B)}return I}getInjectedTextAt(c){const g=this.getViewLineInfo(c.lineNumber);return this.modelLineProjections[g.modelLineNumber-1].getInjectedTextAt(g.modelLineWrappedLineIdx,c.column)}normalizePosition(c,g){const m=this.getViewLineInfo(c.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].normalizePosition(m.modelLineWrappedLineIdx,c,g)}getLineIndentColumn(c){const g=this.getViewLineInfo(c);return g.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(g.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=n;function t(l){if(l.length===0)return[];const c=l.slice();c.sort(N.Range.compareRangesUsingStarts);const g=[];let m=c[0].startLineNumber,S=c[0].endLineNumber;for(let p=1,v=c.length;p<v;p++){const _=c[p];_.startLineNumber>S+1?(g.push(new N.Range(m,1,S,1)),m=_.startLineNumber,S=_.endLineNumber):_.endLineNumber>S&&(S=_.endLineNumber)}return g.push(new N.Range(m,1,S,1)),g}class r{constructor(c,g){this.modelLineNumber=c,this.modelLineWrappedLineIdx=g}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class d{constructor(c,g){this.modelRange=c,this.viewLines=g}}class o{constructor(c){this._lines=c}convertViewPositionToModelPosition(c){return this._lines.convertViewPositionToModelPosition(c.lineNumber,c.column)}convertViewRangeToModelRange(c){return this._lines.convertViewRangeToModelRange(c)}validateViewPosition(c,g){return this._lines.validateViewPosition(c.lineNumber,c.column,g)}validateViewRange(c,g){return this._lines.validateViewRange(c,g)}convertModelPositionToViewPosition(c,g){return this._lines.convertModelPositionToViewPosition(c.lineNumber,c.column,g)}convertModelRangeToViewRange(c,g){return this._lines.convertModelRangeToViewRange(c,g)}modelPositionIsVisible(c){return this._lines.modelPositionIsVisible(c.lineNumber,c.column)}getModelLineViewLineCount(c){return this._lines.getModelLineViewLineCount(c)}getViewLineNumberOfModelPosition(c,g){return this._lines.getViewLineNumberOfModelPosition(c,g)}}class a{constructor(c){this.model=c}dispose(){}createCoordinatesConverter(){return new s(this)}getHiddenAreas(){return[]}setHiddenAreas(c){return!1}setTabSize(c){return!1}setWrappingSettings(c,g,m,S){return!1}createLineBreaksComputer(){const c=[];return{addRequest:(g,m,S)=>{c.push(null)},finalize:()=>c}}onModelFlushed(){}onModelLinesDeleted(c,g,m){return new C.ViewLinesDeletedEvent(g,m)}onModelLinesInserted(c,g,m,S){return new C.ViewLinesInsertedEvent(g,m)}onModelLineChanged(c,g,m){return[!1,new C.ViewLinesChangedEvent(g,1),null,null]}acceptVersionId(c){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(c,g,m){return{startLineNumber:c,endLineNumber:c,indent:0}}getViewLinesBracketGuides(c,g,m){return new Array(g-c+1).fill([])}getViewLinesIndentGuides(c,g){const m=g-c+1,S=new Array(m);for(let p=0;p<m;p++)S[p]=0;return S}getViewLineContent(c){return this.model.getLineContent(c)}getViewLineLength(c){return this.model.getLineLength(c)}getViewLineMinColumn(c){return this.model.getLineMinColumn(c)}getViewLineMaxColumn(c){return this.model.getLineMaxColumn(c)}getViewLineData(c){const g=this.model.tokenization.getLineTokens(c),m=g.getLineContent();return new i.ViewLineData(m,!1,1,m.length+1,0,g.inflate(),null)}getViewLinesData(c,g,m){const S=this.model.getLineCount();c=Math.min(Math.max(1,c),S),g=Math.min(Math.max(1,g),S);const p=[];for(let v=c;v<=g;v++){const _=v-c;p[_]=m[_]?this.getViewLineData(v):null}return p}getDecorationsInRange(c,g,m){return this.model.getDecorationsInRange(c,g,m)}normalizePosition(c,g){return this.model.normalizePosition(c,g)}getLineIndentColumn(c){return this.model.getLineIndentColumn(c)}getInjectedTextAt(c){return null}}e.ViewModelLinesFromModelAsIs=a;class s{constructor(c){this._lines=c}_validPosition(c){return this._lines.model.validatePosition(c)}_validRange(c){return this._lines.model.validateRange(c)}convertViewPositionToModelPosition(c){return this._validPosition(c)}convertViewRangeToModelRange(c){return this._validRange(c)}validateViewPosition(c,g){return this._validPosition(g)}validateViewRange(c,g){return this._validRange(g)}convertModelPositionToViewPosition(c){return this._validPosition(c)}convertModelRangeToViewRange(c){return this._validRange(c)}modelPositionIsVisible(c){const g=this._lines.model.getLineCount();return!(c.lineNumber<1||c.lineNumber>g)}getModelLineViewLineCount(c){return 1}getViewLineNumberOfModelPosition(c,g){return c}}}),define(oe[722],se([1,0,18,10,30,2,17,8,33,286,62,11,3,95,27,72,256,190,466,258,74,276,191,721]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class v extends D.Disposable{constructor(I,T,R,B,O,k,A,F){super();if(this.languageConfigurationService=A,this._themeService=F,this._editorId=I,this._configuration=T,this.model=R,this._eventDispatcher=new m.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new f.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new f.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=_.create(this.model),p&&this.model.isTooLargeForTokenization())this._lines=new S.ViewModelLinesFromModelAsIs(this.model);else{const P=this._configuration.options,W=P.get(44),M=P.get(125),z=P.get(132),Q=P.get(124);this._lines=new S.ViewModelLinesFromProjectedModel(this._editorId,this.model,B,O,W,this.model.getOptions().tabSize,M,z.wrappingColumn,Q)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new u.CursorsController(R,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new s.ViewLayout(this._configuration,this.getLineCount(),k)),this._register(this.viewLayout.onDidScroll(P=>{P.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),P.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new a.ViewScrollChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new m.ScrollChangedEvent(P.oldScrollWidth,P.oldScrollLeft,P.oldScrollHeight,P.oldScrollTop,P.scrollWidth,P.scrollLeft,P.scrollHeight,P.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(P=>{this._eventDispatcher.emitOutgoingEvent(P)})),this._decorations=new g.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(P=>{try{const W=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(W,P)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(l.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(P=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new a.ViewThemeChangedEvent(P))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(I){this._eventDispatcher.addViewEventHandler(I)}removeViewEventHandler(I){this._eventDispatcher.removeViewEventHandler(I)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const I=this.viewLayout.getLinesViewportData(),T=new n.Range(I.startLineNumber,this.getLineMinColumn(I.startLineNumber),I.endLineNumber,this.getLineMaxColumn(I.endLineNumber)),R=this._toModelVisibleRanges(T);for(const B of R)this.model.tokenization.tokenizeViewport(B.startLineNumber,B.endLineNumber)}setHasFocus(I){this._hasFocus=I,this._cursor.setHasFocus(I),this._eventDispatcher.emitSingleViewEvent(new a.ViewFocusChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new m.FocusChangedEvent(!I,I))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionEndEvent)}_onConfigurationChanged(I,T){let R=null;if(this._viewportStart.isValid){const W=new i.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));R=this.coordinatesConverter.convertViewPositionToModelPosition(W)}let B=!1;const O=this._configuration.options,k=O.get(44),A=O.get(125),F=O.get(132),P=O.get(124);if(this._lines.setWrappingSettings(k,A,F.wrappingColumn,P)&&(I.emitViewEvent(new a.ViewFlushedEvent),I.emitViewEvent(new a.ViewLineMappingChangedEvent),I.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(I),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(B=!0),this._updateConfigurationViewLineCount.schedule()),T.hasChanged(81)&&(this._decorations.reset(),I.emitViewEvent(new a.ViewDecorationsChangedEvent(null))),I.emitViewEvent(new a.ViewConfigurationChangedEvent(T)),this.viewLayout.onConfigurationChanged(T),B&&R){const W=this.coordinatesConverter.convertModelPositionToViewPosition(R),M=this.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber);this.viewLayout.setScrollPosition({scrollTop:M+this._viewportStart.startLineDelta},1)}h.CursorConfiguration.shouldRecreate(T)&&(this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(I=>{try{const R=this._eventDispatcher.beginEmitViewEvents();let B=!1,O=!1;const k=I instanceof t.InternalModelContentChangeEvent?I.rawContentChangedEvent.changes:I.changes,A=I instanceof t.InternalModelContentChangeEvent?I.rawContentChangedEvent.versionId:null,F=this._lines.createLineBreaksComputer();for(const M of k)switch(M.changeType){case 4:{for(let z=0;z<M.detail.length;z++){const Q=M.detail[z];let ne=M.injectedTexts[z];ne&&(ne=ne.filter(X=>!X.ownerId||X.ownerId===this._editorId)),F.addRequest(Q,ne,null)}break}case 2:{let z=null;M.injectedText&&(z=M.injectedText.filter(Q=>!Q.ownerId||Q.ownerId===this._editorId)),F.addRequest(M.detail,z,null);break}}const P=F.finalize(),W=new y.ArrayQueue(P);for(const M of k)switch(M.changeType){case 1:{this._lines.onModelFlushed(),R.emitViewEvent(new a.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),B=!0;break}case 3:{const z=this._lines.onModelLinesDeleted(A,M.fromLineNumber,M.toLineNumber);z!==null&&(R.emitViewEvent(z),this.viewLayout.onLinesDeleted(z.fromLineNumber,z.toLineNumber)),B=!0;break}case 4:{const z=W.takeCount(M.detail.length),Q=this._lines.onModelLinesInserted(A,M.fromLineNumber,M.toLineNumber,z);Q!==null&&(R.emitViewEvent(Q),this.viewLayout.onLinesInserted(Q.fromLineNumber,Q.toLineNumber)),B=!0;break}case 2:{const z=W.dequeue(),[Q,ne,X,J]=this._lines.onModelLineChanged(A,M.lineNumber,z);O=Q,ne&&R.emitViewEvent(ne),X&&(R.emitViewEvent(X),this.viewLayout.onLinesInserted(X.fromLineNumber,X.toLineNumber)),J&&(R.emitViewEvent(J),this.viewLayout.onLinesDeleted(J.fromLineNumber,J.toLineNumber));break}case 5:break}A!==null&&this._lines.acceptVersionId(A),this.viewLayout.onHeightMaybeChanged(),!B&&O&&(R.emitViewEvent(new a.ViewLineMappingChangedEvent),R.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const T=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&T){const R=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(R){const B=this.coordinatesConverter.convertModelPositionToViewPosition(R.getStartPosition()),O=this.viewLayout.getVerticalOffsetForLineNumber(B.lineNumber);this.viewLayout.setScrollPosition({scrollTop:O+this._viewportStart.startLineDelta},1)}}try{const R=this._eventDispatcher.beginEmitViewEvents();I instanceof t.InternalModelContentChangeEvent&&R.emitOutgoingEvent(new m.ModelContentChangedEvent(I.contentChangedEvent)),this._cursor.onModelContentChanged(R,I)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(I=>{const T=[];for(let R=0,B=I.ranges.length;R<B;R++){const O=I.ranges[R],k=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(O.fromLineNumber,1)).lineNumber,A=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(O.toLineNumber,this.model.getLineMaxColumn(O.toLineNumber))).lineNumber;T[R]={fromLineNumber:k,toLineNumber:A}}this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensChangedEvent(T)),I.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new m.ModelTokensChangedEvent(I))})),this._register(this.model.onDidChangeLanguageConfiguration(I=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewLanguageConfigurationEvent),this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new m.ModelLanguageConfigurationChangedEvent(I))})),this._register(this.model.onDidChangeLanguage(I=>{this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new m.ModelLanguageChangedEvent(I))})),this._register(this.model.onDidChangeOptions(I=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const T=this._eventDispatcher.beginEmitViewEvents();T.emitViewEvent(new a.ViewFlushedEvent),T.emitViewEvent(new a.ViewLineMappingChangedEvent),T.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new m.ModelOptionsChangedEvent(I))})),this._register(this.model.onDidChangeDecorations(I=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new a.ViewDecorationsChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new m.ModelDecorationsChangedEvent(I))}))}setHiddenAreas(I){let T=!1;try{const R=this._eventDispatcher.beginEmitViewEvents();T=this._lines.setHiddenAreas(I),T&&(R.emitViewEvent(new a.ViewFlushedEvent),R.emitViewEvent(new a.ViewLineMappingChangedEvent),R.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),T&&this._eventDispatcher.emitOutgoingEvent(new m.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const I=this._configuration.options.get(131),T=this._configuration.options.get(59),R=Math.max(20,Math.round(I.height/T)),B=this.viewLayout.getLinesViewportData(),O=Math.max(1,B.completelyVisibleStartLineNumber-R),k=Math.min(this.getLineCount(),B.completelyVisibleEndLineNumber+R);return this._toModelVisibleRanges(new n.Range(O,this.getLineMinColumn(O),k,this.getLineMaxColumn(k)))}getVisibleRanges(){const I=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(I)}_toModelVisibleRanges(I){const T=this.coordinatesConverter.convertViewRangeToModelRange(I),R=this._lines.getHiddenAreas();if(R.length===0)return[T];const B=[];let O=0,k=T.startLineNumber,A=T.startColumn;const F=T.endLineNumber,P=T.endColumn;for(let W=0,M=R.length;W<M;W++){const z=R[W].startLineNumber,Q=R[W].endLineNumber;Q<k||z>F||(k<z&&(B[O++]=new n.Range(k,A,z-1,this.model.getLineMaxColumn(z-1))),k=Q+1,A=1)}return(k<F||k===F&&A<P)&&(B[O++]=new n.Range(k,A,F,P)),B}getCompletelyVisibleViewRange(){const I=this.viewLayout.getLinesViewportData(),T=I.completelyVisibleStartLineNumber,R=I.completelyVisibleEndLineNumber;return new n.Range(T,this.getLineMinColumn(T),R,this.getLineMaxColumn(R))}getCompletelyVisibleViewRangeAtScrollTop(I){const T=this.viewLayout.getLinesViewportDataAtScrollTop(I),R=T.completelyVisibleStartLineNumber,B=T.completelyVisibleEndLineNumber;return new n.Range(R,this.getLineMinColumn(R),B,this.getLineMaxColumn(B))}saveState(){const I=this.viewLayout.saveState(),T=I.scrollTop,R=this.viewLayout.getLineNumberAtVerticalOffset(T),B=this.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(R,this.getLineMinColumn(R))),O=this.viewLayout.getVerticalOffsetForLineNumber(R)-T;return{scrollLeft:I.scrollLeft,firstPosition:B,firstPositionDeltaTop:O}}reduceRestoreState(I){if(typeof I.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(I);const T=this.model.validatePosition(I.firstPosition),R=this.coordinatesConverter.convertModelPositionToViewPosition(T),B=this.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber)-I.firstPositionDeltaTop;return{scrollLeft:I.scrollLeft,scrollTop:B}}_reduceRestoreStateCompatibility(I){return{scrollLeft:I.scrollLeft,scrollTop:I.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(I,T,R){this._viewportStart.update(this,I)}getActiveIndentGuide(I,T,R){return this._lines.getActiveIndentGuide(I,T,R)}getLinesIndentGuides(I,T){return this._lines.getViewLinesIndentGuides(I,T)}getBracketGuidesInRangeByLine(I,T,R,B){return this._lines.getViewLinesBracketGuides(I,T,R,B)}getLineContent(I){return this._lines.getViewLineContent(I)}getLineLength(I){return this._lines.getViewLineLength(I)}getLineMinColumn(I){return this._lines.getViewLineMinColumn(I)}getLineMaxColumn(I){return this._lines.getViewLineMaxColumn(I)}getLineFirstNonWhitespaceColumn(I){const T=b.firstNonWhitespaceIndex(this.getLineContent(I));return T===-1?0:T+1}getLineLastNonWhitespaceColumn(I){const T=b.lastNonWhitespaceIndex(this.getLineContent(I));return T===-1?0:T+2}getDecorationsInViewport(I){return this._decorations.getDecorationsViewportData(I).decorations}getInjectedTextAt(I){return this._lines.getInjectedTextAt(I)}getViewLineRenderingData(I,T){const R=this.model.mightContainRTL(),B=this.model.mightContainNonBasicASCII(),O=this.getTabSize(),k=this._lines.getViewLineData(T);let F=this._decorations.getDecorationsViewportData(I).inlineDecorations[T-I.startLineNumber];return k.inlineDecorations&&(F=[...F,...k.inlineDecorations.map(P=>P.toInlineDecoration(T))]),new c.ViewLineRenderingData(k.minColumn,k.maxColumn,k.content,k.continuesWithWrappedLine,R,B,k.tokens,F,O,k.startVisibleColumn)}getViewLineData(I){return this._lines.getViewLineData(I)}getMinimapLinesRenderingData(I,T,R){const B=this._lines.getViewLinesData(I,T,R);return new c.MinimapLinesRenderingData(this.getTabSize(),B)}getAllOverviewRulerDecorations(I){const T=this.model.getOverviewRulerDecorations(this._editorId,(0,C.filterValidationDecorations)(this._configuration.options)),R=new w;for(const B of T){const O=B.options,k=O.overviewRuler;if(!k)continue;const A=k.position;if(A===0)continue;const F=k.getColor(I.value),P=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.startLineNumber,B.range.startColumn),W=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.endLineNumber,B.range.endColumn);R.accept(F,O.zIndex,P,W,A)}return R.asArray}_invalidateDecorationsColorCache(){const I=this.model.getOverviewRulerDecorations();for(const T of I){const R=T.options.overviewRuler;R&&R.invalidateCachedColor();const B=T.options.minimap;B&&B.invalidateCachedColor()}}getValueInRange(I,T){const R=this.coordinatesConverter.convertViewRangeToModelRange(I);return this.model.getValueInRange(R,T)}deduceModelPositionRelativeToViewPosition(I,T,R){const B=this.coordinatesConverter.convertViewPositionToModelPosition(I);this.model.getEOL().length===2&&(T<0?T-=R:T+=R);const k=this.model.getOffsetAt(B)+T;return this.model.getPositionAt(k)}getPlainTextToCopy(I,T,R){const B=R?`\r
`:this.model.getEOL();I=I.slice(0),I.sort(n.Range.compareRangesUsingStarts);let O=!1,k=!1;for(const F of I)F.isEmpty()?O=!0:k=!0;if(!k){if(!T)return"";const F=I.map(W=>W.startLineNumber);let P="";for(let W=0;W<F.length;W++)W>0&&F[W-1]===F[W]||(P+=this.model.getLineContent(F[W])+B);return P}if(O&&T){const F=[];let P=0;for(const W of I){const M=W.startLineNumber;W.isEmpty()?M!==P&&F.push(this.model.getLineContent(M)):F.push(this.model.getValueInRange(W,R?2:0)),P=M}return F.length===1?F[0]:F}const A=[];for(const F of I)F.isEmpty()||A.push(this.model.getValueInRange(F,R?2:0));return A.length===1?A[0]:A}getRichTextToCopy(I,T){const R=this.model.getLanguageId();if(R===d.PLAINTEXT_LANGUAGE_ID||I.length!==1)return null;let B=I[0];if(B.isEmpty()){if(!T)return null;const W=B.startLineNumber;B=new n.Range(W,this.model.getLineMinColumn(W),W,this.model.getLineMaxColumn(W))}const O=this._configuration.options.get(44),k=this._getColorMap(),F=/[:;\\\/<>]/.test(O.fontFamily)||O.fontFamily===C.EDITOR_FONT_DEFAULTS.fontFamily;let P;return F?P=C.EDITOR_FONT_DEFAULTS.fontFamily:(P=O.fontFamily,P=P.replace(/"/g,"'"),/[,']/.test(P)||/[+ ]/.test(P)&&(P=`'${P}'`),P=`${P}, ${C.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:R,html:`<div style="color: ${k[1]};background-color: ${k[2]};font-family: ${P};font-weight: ${O.fontWeight};font-size: ${O.fontSize}px;line-height: ${O.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(B,k)+"</div>"}}_getHTMLToCopy(I,T){const R=I.startLineNumber,B=I.startColumn,O=I.endLineNumber,k=I.endColumn,A=this.getTabSize();let F="";for(let P=R;P<=O;P++){const W=this.model.tokenization.getLineTokens(P),M=W.getLineContent(),z=P===R?B-1:0,Q=P===O?k-1:M.length;M===""?F+="<br>":F+=(0,o.tokenizeLineToHTML)(M,W.inflate(),T,z,Q,A,L.isWindows)}return F}_getColorMap(){const I=r.TokenizationRegistry.getColorMap(),T=["#000000"];if(I)for(let R=1,B=I.length;R<B;R++)T[R]=N.Color.Format.CSS.formatHex(I[R]);return T}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(I,T,R){return this._withViewEventsCollector(B=>this._cursor.setStates(B,I,T,R))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(I){this._cursor.setCursorColumnSelectData(I)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(I){this._cursor.setPrevEditOperationType(I)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(I,T,R=0){this._withViewEventsCollector(B=>this._cursor.setSelections(B,I,T,R))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(I){this._withViewEventsCollector(T=>this._cursor.restoreState(T,I))}_executeCursorEdit(I){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new m.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(I)}executeEdits(I,T,R){this._executeCursorEdit(B=>this._cursor.executeEdits(B,I,T,R))}startComposition(){this._executeCursorEdit(I=>this._cursor.startComposition(I))}endComposition(I){this._executeCursorEdit(T=>this._cursor.endComposition(T,I))}type(I,T){this._executeCursorEdit(R=>this._cursor.type(R,I,T))}compositionType(I,T,R,B,O){this._executeCursorEdit(k=>this._cursor.compositionType(k,I,T,R,B,O))}paste(I,T,R,B){this._executeCursorEdit(O=>this._cursor.paste(O,I,T,R,B))}cut(I){this._executeCursorEdit(T=>this._cursor.cut(T,I))}executeCommand(I,T){this._executeCursorEdit(R=>this._cursor.executeCommand(R,I,T))}executeCommands(I,T){this._executeCursorEdit(R=>this._cursor.executeCommands(R,I,T))}revealPrimaryCursor(I,T,R=!1){this._withViewEventsCollector(B=>this._cursor.revealPrimary(B,I,R,0,T,0))}revealTopMostCursor(I){const T=this._cursor.getTopMostViewPosition(),R=new n.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(B=>B.emitViewEvent(new a.ViewRevealRangeRequestEvent(I,!1,R,null,0,!0,0)))}revealBottomMostCursor(I){const T=this._cursor.getBottomMostViewPosition(),R=new n.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(B=>B.emitViewEvent(new a.ViewRevealRangeRequestEvent(I,!1,R,null,0,!0,0)))}revealRange(I,T,R,B,O){this._withViewEventsCollector(k=>k.emitViewEvent(new a.ViewRevealRangeRequestEvent(I,!1,R,null,B,T,O)))}changeWhitespace(I){this.viewLayout.changeWhitespace(I)&&(this._eventDispatcher.emitSingleViewEvent(new a.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new m.ViewZonesChangedEvent))}_withViewEventsCollector(I){try{const T=this._eventDispatcher.beginEmitViewEvents();return I(T)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(I,T){return this._lines.normalizePosition(I,T)}getLineIndentColumn(I){return this._lines.getLineIndentColumn(I)}}e.ViewModel=v;class _{constructor(I,T,R,B,O){this._model=I,this._viewLineNumber=T,this._isValid=R,this._modelTrackedRange=B,this._startLineDelta=O}static create(I){const T=I._setTrackedRange(null,new n.Range(1,1,1,1),1);return new _(I,1,!1,T,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(I,T){const R=I.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(T,I.getLineMinColumn(T))),B=I.model._setTrackedRange(this._modelTrackedRange,new n.Range(R.lineNumber,R.column,R.lineNumber,R.column),1),O=I.viewLayout.getVerticalOffsetForLineNumber(T),k=I.viewLayout.getCurrentScrollTop();this._viewLineNumber=T,this._isValid=!0,this._modelTrackedRange=B,this._startLineDelta=k-O}invalidate(){this._isValid=!1}}class w{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(I,T,R,B,O){const k=this._asMap[I];if(k){const A=k.data,F=A[A.length-3],P=A[A.length-1];if(F===O&&P+1>=R){B>P&&(A[A.length-1]=B);return}A.push(O,R,B)}else{const A=new c.OverviewRulerDecorationsGroup(I,T,[O,R,B]);this._asMap[I]=A,this.asArray.push(A)}}}}),define(oe[165],se([1,0,513,7,13,4,2,51,618,15,29,675,237,33,286,67,11,3,24,244,149,22,35,54,23,722,26,16,9,159,40,14,69,19,463,521,151,31,68,20,673,379]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I,T,R,B,O,k,A,F,P,W,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let z=0;class Q{constructor(U,Z,q,$,H){this.model=U,this.viewModel=Z,this.view=q,this.hasRealView=$,this.listenersToRemove=H}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ne=class Rt extends L.Disposable{constructor(U,Z,q,$,H,ee,te,de,he,pe,ve,ue){super();this.languageConfigurationService=ve,this._deliveryQueue=new D.EventDeliveryQueue,this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new X({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new X({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this._onContextMenu=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorationIds=[];const Ce=Object.assign({},Z);this._domElement=U,this._overflowWidgetsDomNode=Ce.overflowWidgetsDomNode,delete Ce.overflowWidgetsDomNode,this._id=++z,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=q.telemetryData,this._configuration=this._register(this._createConfiguration(q.isSimpleWidget||!1,Ce,pe)),this._register(this._configuration.onDidChange(be=>{this._onDidChangeConfiguration.fire(be);const ce=this._configuration.options;if(be.hasChanged(131)){const ge=ce.get(131);this._onDidLayoutChange.fire(ge)}})),this._contextKeyService=this._register(te.createScoped(this._domElement)),this._notificationService=he,this._codeEditorService=H,this._commandService=ee,this._themeService=de,this._register(new J(this,this._contextKeyService)),this._register(new ie(this,this._contextKeyService,ue)),this._instantiationService=$.createChild(new I.ServiceCollection([w.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new le(U),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let me;Array.isArray(q.contributions)?me=q.contributions:me=u.EditorExtensionsRegistry.getEditorContributions();for(const be of me){if(this._contributions[be.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${be.id}`));continue}try{const ce=this._instantiationService.createInstance(be.ctor,this);this._contributions[be.id]=ce}catch(ce){(0,N.onUnexpectedError)(ce)}}u.EditorExtensionsRegistry.getEditorActions().forEach(be=>{if(this._actions[be.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${be.id}`));return}const ce=new l.InternalEditorAction(be.id,be.label,be.alias,(0,O.withNullAsUndefined)(be.precondition),()=>this._instantiationService.invokeFunction(ge=>Promise.resolve(be.runEditorCommand(ge,this,null))),this._contextKeyService);this._actions[ce.id]=ce}),Z.enableDropIntoEditor&&this._register(new f.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:be=>{const ce=this.getTargetAtClientPoint(be.clientX,be.clientY);(ce==null?void 0:ce.position)&&this.showDropIndicatorAt(ce.position)},onDrop:be=>Le(this,void 0,void 0,function*(){if(this.removeDropIndicator(),!be.dataTransfer)return;const ce=this.getTargetAtClientPoint(be.clientX,be.clientY);(ce==null?void 0:ce.position)&&this._onDropIntoEditor.fire({position:ce.position,event:be})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(U,Z,q){return new C.EditorConfiguration(U,Z,this._domElement,q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const U=Object.keys(this._contributions);for(let Z=0,q=U.length;Z<q;Z++){const $=U[Z];this._contributions[$].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(U){return this._instantiationService.invokeFunction(U)}updateOptions(U){this._configuration.updateOptions(U||{})}getOptions(){return this._configuration.options}getOption(U){return this._configuration.options.get(U)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(U){return this._modelData?F.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),U):null}getValue(U=null){if(!this._modelData)return"";const Z=!!(U&&U.preserveBOM);let q=0;return U&&U.lineEnding&&U.lineEnding===`
`?q=1:U&&U.lineEnding&&U.lineEnding===`\r
`&&(q=2),this._modelData.model.getValue(q,Z)}setValue(U){!this._modelData||this._modelData.model.setValue(U)}getModel(){return this._modelData?this._modelData.model:null}setModel(U=null){const Z=U;if(this._modelData===null&&Z===null||this._modelData&&this._modelData.model===Z)return;const q=this.hasTextFocus(),$=this._detachModel();this._attachModel(Z),q&&this.hasModel()&&this.focus();const H={oldModelUrl:$?$.uri:null,newModelUrl:Z?Z.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(H),this._postDetachModelCleanup($)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let U in this._decorationTypeSubtypes){const Z=this._decorationTypeSubtypes[U];for(let q in Z)this._removeDecorationType(U+"-"+q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(U,Z,q){const $=U.model.validatePosition({lineNumber:Z,column:q}),H=U.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return U.viewModel.viewLayout.getVerticalOffsetForLineNumber(H.lineNumber)}getTopForLineNumber(U){return this._modelData?Rt._getVerticalOffsetForPosition(this._modelData,U,1):-1}getTopForPosition(U,Z){return this._modelData?Rt._getVerticalOffsetForPosition(this._modelData,U,Z):-1}setHiddenAreas(U){this._modelData&&this._modelData.viewModel.setHiddenAreas(U.map(Z=>a.Range.lift(Z)))}getVisibleColumnFromPosition(U){if(!this._modelData)return U.column;const Z=this._modelData.model.validatePosition(U),q=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(Z.lineNumber),Z.column,q)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(U,Z="api"){if(!!this._modelData){if(!o.Position.isIPosition(U))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Z,[{selectionStartLineNumber:U.lineNumber,selectionStartColumn:U.column,positionLineNumber:U.lineNumber,positionColumn:U.column}])}}_sendRevealRange(U,Z,q,$){if(!this._modelData)return;if(!a.Range.isIRange(U))throw new Error("Invalid arguments");const H=this._modelData.model.validateRange(U),ee=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(H);this._modelData.viewModel.revealRange("api",q,ee,Z,$)}revealLine(U,Z=0){this._revealLine(U,0,Z)}revealLineInCenter(U,Z=0){this._revealLine(U,1,Z)}revealLineInCenterIfOutsideViewport(U,Z=0){this._revealLine(U,2,Z)}revealLineNearTop(U,Z=0){this._revealLine(U,5,Z)}_revealLine(U,Z,q){if(typeof U!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(U,1,U,1),Z,!1,q)}revealPosition(U,Z=0){this._revealPosition(U,0,!0,Z)}revealPositionInCenter(U,Z=0){this._revealPosition(U,1,!0,Z)}revealPositionInCenterIfOutsideViewport(U,Z=0){this._revealPosition(U,2,!0,Z)}revealPositionNearTop(U,Z=0){this._revealPosition(U,5,!0,Z)}_revealPosition(U,Z,q,$){if(!o.Position.isIPosition(U))throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(U.lineNumber,U.column,U.lineNumber,U.column),Z,q,$)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(U,Z="api"){const q=s.Selection.isISelection(U),$=a.Range.isIRange(U);if(!q&&!$)throw new Error("Invalid arguments");if(q)this._setSelectionImpl(U,Z);else if($){const H={selectionStartLineNumber:U.startLineNumber,selectionStartColumn:U.startColumn,positionLineNumber:U.endLineNumber,positionColumn:U.endColumn};this._setSelectionImpl(H,Z)}}_setSelectionImpl(U,Z){if(!this._modelData)return;const q=new s.Selection(U.selectionStartLineNumber,U.selectionStartColumn,U.positionLineNumber,U.positionColumn);this._modelData.viewModel.setSelections(Z,[q])}revealLines(U,Z,q=0){this._revealLines(U,Z,0,q)}revealLinesInCenter(U,Z,q=0){this._revealLines(U,Z,1,q)}revealLinesInCenterIfOutsideViewport(U,Z,q=0){this._revealLines(U,Z,2,q)}revealLinesNearTop(U,Z,q=0){this._revealLines(U,Z,5,q)}_revealLines(U,Z,q,$){if(typeof U!="number"||typeof Z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(U,1,Z,1),q,!1,$)}revealRange(U,Z=0,q=!1,$=!0){this._revealRange(U,q?1:0,$,Z)}revealRangeInCenter(U,Z=0){this._revealRange(U,1,!0,Z)}revealRangeInCenterIfOutsideViewport(U,Z=0){this._revealRange(U,2,!0,Z)}revealRangeNearTop(U,Z=0){this._revealRange(U,5,!0,Z)}revealRangeNearTopIfOutsideViewport(U,Z=0){this._revealRange(U,6,!0,Z)}revealRangeAtTop(U,Z=0){this._revealRange(U,3,!0,Z)}_revealRange(U,Z,q,$){if(!a.Range.isIRange(U))throw new Error("Invalid arguments");this._sendRevealRange(a.Range.lift(U),Z,q,$)}setSelections(U,Z="api",q=0){if(!!this._modelData){if(!U||U.length===0)throw new Error("Invalid arguments");for(let $=0,H=U.length;$<H;$++)if(!s.Selection.isISelection(U[$]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Z,U,q)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(U,Z=1){if(!!this._modelData){if(typeof U!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:U},Z)}}setScrollTop(U,Z=1){if(!!this._modelData){if(typeof U!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:U},Z)}}setScrollPosition(U,Z=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(U,Z)}saveViewState(){if(!this._modelData)return null;const U={},Z=Object.keys(this._contributions);for(const H of Z){const ee=this._contributions[H];typeof ee.saveViewState=="function"&&(U[H]=ee.saveViewState())}const q=this._modelData.viewModel.saveCursorState(),$=this._modelData.viewModel.saveState();return{cursorState:q,viewState:$,contributionsState:U}}restoreViewState(U){if(!this._modelData||!this._modelData.hasRealView)return;const Z=U;if(Z&&Z.cursorState&&Z.viewState){const q=Z.cursorState;Array.isArray(q)?q.length>0&&this._modelData.viewModel.restoreCursorState(q):this._modelData.viewModel.restoreCursorState([q]);const $=Z.contributionsState||{},H=Object.keys(this._contributions);for(let te=0,de=H.length;te<de;te++){const he=H[te],pe=this._contributions[he];typeof pe.restoreViewState=="function"&&pe.restoreViewState($[he])}const ee=this._modelData.viewModel.reduceRestoreState(Z.viewState);this._modelData.view.restoreState(ee)}}getContribution(U){return this._contributions[U]||null}getActions(){const U=[],Z=Object.keys(this._actions);for(let q=0,$=Z.length;q<$;q++){const H=Z[q];U.push(this._actions[H])}return U}getSupportedActions(){let U=this.getActions();return U=U.filter(Z=>Z.isSupported()),U}getAction(U){return this._actions[U]||null}trigger(U,Z,q){switch(q=q||{},Z){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(U);return;case"type":{const H=q;this._type(U,H.text||"");return}case"replacePreviousChar":{const H=q;this._compositionType(U,H.text||"",H.replaceCharCnt||0,0,0);return}case"compositionType":{const H=q;this._compositionType(U,H.text||"",H.replacePrevCharCnt||0,H.replaceNextCharCnt||0,H.positionDelta||0);return}case"paste":{const H=q;this._paste(U,H.text||"",H.pasteOnNewLine||!1,H.multicursorText||null,H.mode||null);return}case"cut":this._cut(U);return}const $=this.getAction(Z);if($){Promise.resolve($.run()).then(void 0,N.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(U,Z,q)||this._triggerCommand(Z,q)}_triggerCommand(U,Z){this._commandService.executeCommand(U,Z)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(U){!this._modelData||(this._modelData.viewModel.endComposition(U),this._onDidCompositionEnd.fire())}_type(U,Z){!this._modelData||Z.length===0||(U==="keyboard"&&this._onWillType.fire(Z),this._modelData.viewModel.type(Z,U),U==="keyboard"&&this._onDidType.fire(Z))}_compositionType(U,Z,q,$,H){!this._modelData||this._modelData.viewModel.compositionType(Z,q,$,H,U)}_paste(U,Z,q,$,H){if(!this._modelData||Z.length===0)return;const ee=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(Z,q,$,U);const te=this._modelData.viewModel.getSelection().getStartPosition();U==="keyboard"&&this._onDidPaste.fire({range:new a.Range(ee.lineNumber,ee.column,te.lineNumber,te.column),languageId:H})}_cut(U){!this._modelData||this._modelData.viewModel.cut(U)}_triggerEditorCommand(U,Z,q){const $=u.EditorExtensionsRegistry.getEditorCommand(Z);return $?(q=q||{},q.source=U,this._instantiationService.invokeFunction(H=>{Promise.resolve($.runEditorCommand(H,this,q)).then(void 0,N.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(U,Z,q){if(!this._modelData||this._configuration.options.get(81))return!1;let $;return q?Array.isArray(q)?$=()=>q:$=q:$=()=>null,this._modelData.viewModel.executeEdits(U,Z,$),!0}executeCommand(U,Z){!this._modelData||this._modelData.viewModel.executeCommand(Z,U)}executeCommands(U,Z){!this._modelData||this._modelData.viewModel.executeCommands(Z,U)}changeDecorations(U){return this._modelData?this._modelData.model.changeDecorations(U,this._id):null}getLineDecorations(U){return this._modelData?this._modelData.model.getLineDecorations(U,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(U){return this._modelData?this._modelData.model.getDecorationsInRange(U,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(U,Z){return this._modelData?U.length===0&&Z.length===0?U:this._modelData.model.deltaDecorations(U,Z,this._id):[]}removeDecorations(U){const Z=this._decorationTypeKeysToIds[U];Z&&this.deltaDecorations(Z,[]),this._decorationTypeKeysToIds.hasOwnProperty(U)&&delete this._decorationTypeKeysToIds[U],this._decorationTypeSubtypes.hasOwnProperty(U)&&delete this._decorationTypeSubtypes[U]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(U){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(U)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(U){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(U)}layout(U){this._configuration.observeContainer(U),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(U){const Z={widget:U,position:U.getPosition()};this._contentWidgets.hasOwnProperty(U.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[U.getId()]=Z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(Z)}layoutContentWidget(U){const Z=U.getId();if(this._contentWidgets.hasOwnProperty(Z)){const q=this._contentWidgets[Z];q.position=U.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(q)}}removeContentWidget(U){const Z=U.getId();if(this._contentWidgets.hasOwnProperty(Z)){const q=this._contentWidgets[Z];delete this._contentWidgets[Z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(q)}}addOverlayWidget(U){const Z={widget:U,position:U.getPosition()};this._overlayWidgets.hasOwnProperty(U.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[U.getId()]=Z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(Z)}layoutOverlayWidget(U){const Z=U.getId();if(this._overlayWidgets.hasOwnProperty(Z)){const q=this._overlayWidgets[Z];q.position=U.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(q)}}removeOverlayWidget(U){const Z=U.getId();if(this._overlayWidgets.hasOwnProperty(Z)){const q=this._overlayWidgets[Z];delete this._overlayWidgets[Z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(q)}}changeViewZones(U){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(U)}getTargetAtClientPoint(U,Z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(U,Z)}getScrolledVisiblePosition(U){if(!this._modelData||!this._modelData.hasRealView)return null;const Z=this._modelData.model.validatePosition(U),q=this._configuration.options,$=q.get(131),H=Rt._getVerticalOffsetForPosition(this._modelData,Z.lineNumber,Z.column)-this.getScrollTop(),ee=this._modelData.view.getOffsetForColumn(Z.lineNumber,Z.column)+$.glyphMarginWidth+$.lineNumbersWidth+$.decorationsWidth-this.getScrollLeft();return{top:H,left:ee,height:q.get(59)}}getOffsetForColumn(U,Z){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(U,Z)}render(U=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,U)}setAriaOptions(U){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(U)}applyFontInfo(U){(0,W.applyFontInfo)(U,this._configuration.options.get(44))}setBanner(U,Z){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=U,this._configuration.setReservedHeight(U?Z:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(U){if(!U){this._modelData=null;return}const Z=[];this._domElement.setAttribute("data-mode-id",U.getLanguageId()),this._configuration.setIsDominatedByLongLines(U.isDominatedByLongLines()),this._configuration.setModelLineCount(U.getLineCount()),U.onBeforeAttached();const q=new v.ViewModel(this._id,this._configuration,U,A.DOMLineBreaksComputerFactory.create(),k.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ee=>f.scheduleAtNextAnimationFrame(ee),this.languageConfigurationService,this._themeService);Z.push(U.onWillDispose(()=>this.setModel(null))),Z.push(q.onEvent(ee=>{switch(ee.kind){case 0:this._onDidContentSizeChange.fire(ee);break;case 1:this._editorTextFocus.setValue(ee.hasFocus);break;case 2:this._onDidScrollChange.fire(ee);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ee.reachedMaxCursorCount&&this._notificationService.warn(y.localize(0,null,r.CursorsController.MAX_CURSOR_COUNT));const te=[];for(let pe=0,ve=ee.selections.length;pe<ve;pe++)te[pe]=ee.selections[pe].getPosition();const de={position:te[0],secondaryPositions:te.slice(1),reason:ee.reason,source:ee.source};this._onDidChangeCursorPosition.fire(de);const he={selection:ee.selections[0],secondarySelections:ee.selections.slice(1),modelVersionId:ee.modelVersionId,oldSelections:ee.oldSelections,oldModelVersionId:ee.oldModelVersionId,source:ee.source,reason:ee.reason};this._onDidChangeCursorSelection.fire(he);break}case 7:this._onDidChangeModelDecorations.fire(ee.event);break;case 8:this._domElement.setAttribute("data-mode-id",U.getLanguageId()),this._onDidChangeModelLanguage.fire(ee.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ee.event);break;case 10:this._onDidChangeModelContent.fire(ee.event);break;case 11:this._onDidChangeModelOptions.fire(ee.event);break;case 12:this._onDidChangeModelTokens.fire(ee.event);break}}));const[$,H]=this._createView(q);if(H){this._domElement.appendChild($.domNode.domNode);let ee=Object.keys(this._contentWidgets);for(let te=0,de=ee.length;te<de;te++){const he=ee[te];$.addContentWidget(this._contentWidgets[he])}ee=Object.keys(this._overlayWidgets);for(let te=0,de=ee.length;te<de;te++){const he=ee[te];$.addOverlayWidget(this._overlayWidgets[he])}$.render(!1,!0),$.domNode.domNode.setAttribute("data-uri",U.uri.toString())}this._modelData=new Q(U,q,$,H,Z)}_createView(U){let Z;this.isSimpleWidget?Z={paste:(H,ee,te,de)=>{this._paste("keyboard",H,ee,te,de)},type:H=>{this._type("keyboard",H)},compositionType:(H,ee,te,de)=>{this._compositionType("keyboard",H,ee,te,de)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:Z={paste:(H,ee,te,de)=>{const he={text:H,pasteOnNewLine:ee,multicursorText:te,mode:de};this._commandService.executeCommand("paste",he)},type:H=>{const ee={text:H};this._commandService.executeCommand("type",ee)},compositionType:(H,ee,te,de)=>{if(te||de){const he={text:H,replacePrevCharCnt:ee,replaceNextCharCnt:te,positionDelta:de};this._commandService.executeCommand("compositionType",he)}else{const he={text:H,replaceCharCnt:ee};this._commandService.executeCommand("replacePreviousChar",he)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const q=new n.ViewUserInputEvents(U.coordinatesConverter);return q.onKeyDown=H=>this._onKeyDown.fire(H),q.onKeyUp=H=>this._onKeyUp.fire(H),q.onContextMenu=H=>this._onContextMenu.fire(H),q.onMouseMove=H=>this._onMouseMove.fire(H),q.onMouseLeave=H=>this._onMouseLeave.fire(H),q.onMouseDown=H=>this._onMouseDown.fire(H),q.onMouseUp=H=>this._onMouseUp.fire(H),q.onMouseDrag=H=>this._onMouseDrag.fire(H),q.onMouseDrop=H=>this._onMouseDrop.fire(H),q.onMouseDropCanceled=H=>this._onMouseDropCanceled.fire(H),q.onMouseWheel=H=>this._onMouseWheel.fire(H),[new i.View(Z,this._configuration,this._themeService.getColorTheme(),U,q,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(U){U&&U.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const U=this._modelData.model,Z=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),Z&&this._domElement.contains(Z)&&this._domElement.removeChild(Z),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),U}_removeDecorationType(U){this._codeEditorService.removeDecorationType(U)}hasModel(){return this._modelData!==null}showDropIndicatorAt(U){let Z=[{range:new a.Range(U.lineNumber,U.column,U.lineNumber,U.column),options:Rt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorationIds=this.deltaDecorations(this._dropIntoEditorDecorationIds,Z),this.revealPosition(U,1)}removeDropIndicator(){this._dropIntoEditorDecorationIds=this.deltaDecorations(this._dropIntoEditorDecorationIds,[])}};ne.dropIntoEditorDecorationOptions=m.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),ne=De([fe(3,E.IInstantiationService),fe(4,h.ICodeEditorService),fe(5,_.ICommandService),fe(6,w.IContextKeyService),fe(7,R.IThemeService),fe(8,T.INotificationService),fe(9,B.IAccessibilityService),fe(10,P.ILanguageConfigurationService),fe(11,M.ILanguageFeaturesService)],ne),e.CodeEditorWidget=ne;class X extends L.Disposable{constructor(U){super();this._emitterOptions=U,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(U){const Z=U?2:1;this._value!==Z&&(this._value=Z,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=X;class J extends L.Disposable{constructor(U,Z){super();this._editor=U,Z.createKey("editorId",U.getId()),this._editorSimpleInput=g.EditorContextKeys.editorSimpleInput.bindTo(Z),this._editorFocus=g.EditorContextKeys.focus.bindTo(Z),this._textInputFocus=g.EditorContextKeys.textInputFocus.bindTo(Z),this._editorTextFocus=g.EditorContextKeys.editorTextFocus.bindTo(Z),this._editorTabMovesFocus=g.EditorContextKeys.tabMovesFocus.bindTo(Z),this._editorReadonly=g.EditorContextKeys.readOnly.bindTo(Z),this._inDiffEditor=g.EditorContextKeys.inDiffEditor.bindTo(Z),this._editorColumnSelection=g.EditorContextKeys.columnSelection.bindTo(Z),this._hasMultipleSelections=g.EditorContextKeys.hasMultipleSelections.bindTo(Z),this._hasNonEmptySelection=g.EditorContextKeys.hasNonEmptySelection.bindTo(Z),this._canUndo=g.EditorContextKeys.canUndo.bindTo(Z),this._canRedo=g.EditorContextKeys.canRedo.bindTo(Z),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const U=this._editor.getOptions();this._editorTabMovesFocus.set(U.get(130)),this._editorReadonly.set(U.get(81)),this._inDiffEditor.set(U.get(54)),this._editorColumnSelection.set(U.get(18))}_updateFromSelection(){const U=this._editor.getSelections();U?(this._hasMultipleSelections.set(U.length>1),this._hasNonEmptySelection.set(U.some(Z=>!Z.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const U=this._editor.getModel();this._canUndo.set(Boolean(U&&U.canUndo())),this._canRedo.set(Boolean(U&&U.canRedo()))}}class ie extends L.Disposable{constructor(U,Z,q){super();this._editor=U,this._contextKeyService=Z,this._languageFeaturesService=q,this._langId=g.EditorContextKeys.languageId.bindTo(Z),this._hasCompletionItemProvider=g.EditorContextKeys.hasCompletionItemProvider.bindTo(Z),this._hasCodeActionsProvider=g.EditorContextKeys.hasCodeActionsProvider.bindTo(Z),this._hasCodeLensProvider=g.EditorContextKeys.hasCodeLensProvider.bindTo(Z),this._hasDefinitionProvider=g.EditorContextKeys.hasDefinitionProvider.bindTo(Z),this._hasDeclarationProvider=g.EditorContextKeys.hasDeclarationProvider.bindTo(Z),this._hasImplementationProvider=g.EditorContextKeys.hasImplementationProvider.bindTo(Z),this._hasTypeDefinitionProvider=g.EditorContextKeys.hasTypeDefinitionProvider.bindTo(Z),this._hasHoverProvider=g.EditorContextKeys.hasHoverProvider.bindTo(Z),this._hasDocumentHighlightProvider=g.EditorContextKeys.hasDocumentHighlightProvider.bindTo(Z),this._hasDocumentSymbolProvider=g.EditorContextKeys.hasDocumentSymbolProvider.bindTo(Z),this._hasReferenceProvider=g.EditorContextKeys.hasReferenceProvider.bindTo(Z),this._hasRenameProvider=g.EditorContextKeys.hasRenameProvider.bindTo(Z),this._hasSignatureHelpProvider=g.EditorContextKeys.hasSignatureHelpProvider.bindTo(Z),this._hasInlayHintsProvider=g.EditorContextKeys.hasInlayHintsProvider.bindTo(Z),this._hasDocumentFormattingProvider=g.EditorContextKeys.hasDocumentFormattingProvider.bindTo(Z),this._hasDocumentSelectionFormattingProvider=g.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(Z),this._hasMultipleDocumentFormattingProvider=g.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(Z),this._hasMultipleDocumentSelectionFormattingProvider=g.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(Z),this._isInWalkThrough=g.EditorContextKeys.isInWalkThroughSnippet.bindTo(Z);const $=()=>this._update();this._register(U.onDidChangeModel($)),this._register(U.onDidChangeModelLanguage($)),this._register(q.completionProvider.onDidChange($)),this._register(q.codeActionProvider.onDidChange($)),this._register(q.codeLensProvider.onDidChange($)),this._register(q.definitionProvider.onDidChange($)),this._register(q.declarationProvider.onDidChange($)),this._register(q.implementationProvider.onDidChange($)),this._register(q.typeDefinitionProvider.onDidChange($)),this._register(q.hoverProvider.onDidChange($)),this._register(q.documentHighlightProvider.onDidChange($)),this._register(q.documentSymbolProvider.onDidChange($)),this._register(q.referenceProvider.onDidChange($)),this._register(q.renameProvider.onDidChange($)),this._register(q.documentFormattingEditProvider.onDidChange($)),this._register(q.documentRangeFormattingEditProvider.onDidChange($)),this._register(q.signatureHelpProvider.onDidChange($)),this._register(q.inlayHintsProvider.onDidChange($)),$()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const U=this._editor.getModel();if(!U){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(U.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(U)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(U)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(U)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(U)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(U)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(U)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(U)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(U)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(U)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(U)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(U)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(U)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(U)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(U)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(U)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(U)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(U)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(U).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(U).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(U).length>1),this._isInWalkThrough.set(U.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=ie;class le extends L.Disposable{constructor(U){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(f.trackFocus(U)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const G=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),x=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function V(Y){return G+encodeURIComponent(Y.toString())+x}const j=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),re=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ae(Y){return j+encodeURIComponent(Y.toString())+re}(0,R.registerThemingParticipant)((Y,U)=>{const Z=Y.getColor(p.editorErrorBorder);Z&&U.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${Z}; }`);const q=Y.getColor(p.editorErrorForeground);q&&U.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${V(q)}") repeat-x bottom left; }`);const $=Y.getColor(p.editorErrorBackground);$&&U.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${$}; }`);const H=Y.getColor(p.editorWarningBorder);H&&U.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${H}; }`);const ee=Y.getColor(p.editorWarningForeground);ee&&U.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${V(ee)}") repeat-x bottom left; }`);const te=Y.getColor(p.editorWarningBackground);te&&U.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${te}; }`);const de=Y.getColor(p.editorInfoBorder);de&&U.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${de}; }`);const he=Y.getColor(p.editorInfoForeground);he&&U.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${V(he)}") repeat-x bottom left; }`);const pe=Y.getColor(p.editorInfoBackground);pe&&U.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${pe}; }`);const ve=Y.getColor(p.editorHintBorder);ve&&U.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ve}; }`);const ue=Y.getColor(p.editorHintForeground);ue&&U.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ae(ue)}") no-repeat bottom left; }`);const Ce=Y.getColor(S.editorUnnecessaryCodeOpacity);Ce&&U.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Ce.rgba.a}; }`);const me=Y.getColor(S.editorUnnecessaryCodeBorder);me&&U.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${me}; }`);const be=Y.getColor(p.editorForeground)||"inherit";U.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${be}}`)})}),define(oe[304],se([1,0,514,7,32,121,10,4,2,68,146,29,165,714,33,3,93,149,35,89,259,155,129,74,16,9,159,40,23,14,80,517,96,15,13,76,235,28,144,77,55,377]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I,T,R,B,O,k,A,F,P,W,M,z){"use strict";var Q;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class ne{constructor(ue,Ce){this._contextMenuService=ue,this._clipboardService=Ce,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(ue){return ue.filter(Ce=>!this._zonesMap[String(Ce.id)])}clean(ue){this._zones.length>0&&ue.changeViewZones(Ce=>{for(const me of this._zones)Ce.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=ue.deltaDecorations(this._decorations,[])}apply(ue,Ce,me,be){const ce=be?h.StableEditorScrollState.capture(ue):null;ue.changeViewZones(ge=>{var we;for(const ye of this._zones)ge.removeZone(ye);for(const ye of this._inlineDiffMargins)ye.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ye=0,Te=me.zones.length;ye<Te;ye++){const ke=me.zones[ye];ke.suppressMouseDown=!0;const Me=ge.addZone(ke);this._zones.push(Me),this._zonesMap[String(Me)]=!0,me.zones[ye].diff&&ke.marginDomNode&&(ke.suppressMouseDown=!1,((we=me.zones[ye].diff)===null||we===void 0?void 0:we.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new R.InlineDiffMargin(Me,ke.marginDomNode,ue,me.zones[ye].diff,this._contextMenuService,this._clipboardService)))}}),ce&&ce.restore(ue),this._decorations=ue.deltaDecorations(this._decorations,me.decorations),Ce&&Ce.setZones(me.overviewZones)}}let X=0;const J=(0,M.registerIcon)("diff-insert",P.Codicon.add,y.localize(0,null)),ie=(0,M.registerIcon)("diff-remove",P.Codicon.remove,y.localize(1,null)),le=(Q=window.trustedTypes)===null||Q===void 0?void 0:Q.createPolicy("diffEditorWidget",{createHTML:ve=>ve});let G=class st extends C.Disposable{constructor(ue,Ce,me,be,ce,ge,we,ye,Te,ke,Me,_e){super();this._editorProgressService=_e,this._onDidDispose=this._register(new b.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new b.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new b.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=ce,this._codeEditorService=ye,this._contextKeyService=this._register(ge.createScoped(ue)),this._instantiationService=we.createChild(new _.ServiceCollection([p.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Te,this._notificationService=ke,this._id=++X,this._state=0,this._updatingDiffProgress=null,this._domElement=ue,Ce=Ce||{},this._options=he(Ce,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Ce.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Ce.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new L.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=st._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,N.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(f.addStandardDisposableListener(this._overviewDomElement,f.EventType.POINTER_DOWN,Ee=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Ee)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new ne(Me,be),this._modifiedEditorState=new ne(Me,be),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new F.ElementSizeObserver(this._containerDomElement,Ce.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ce.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ce,me.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ce,me.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=we.createInstance(t.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Y(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Z(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Te.onDidColorThemeChange(Ee=>{this._strategy&&this._strategy.applyColors(Ee)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=st._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Se=O.EditorExtensionsRegistry.getDiffEditorContributions();for(const Ee of Se)try{this._register(we.createInstance(Ee.ctor,this))}catch(Ae){(0,k.onUnexpectedError)(Ae)}this._codeEditorService.addDiffEditor(this)}_setState(ue){this._state!==ue&&(this._state=ue,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(ue,Ce){let me="monaco-diff-editor monaco-editor-background ";return Ce&&(me+="side-by-side "),me+=(0,I.getThemeTypeSelector)(ue.type),me}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(ue,Ce){const me=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(ue),Ce);this._register(me.onDidScrollChange(ce=>{this._isHandlingScrollEvent||!ce.scrollTopChanged&&!ce.scrollLeftChanged&&!ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(ce=>{!me.getModel()||(ce.hasChanged(44)&&this._updateDecorationsRunner.schedule(),ce.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const be=this._contextKeyService.createKey("isInDiffLeftEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(ce=>{const ge=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+st.ONE_OVERVIEW_WIDTH,we=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:we,contentWidth:ge,contentHeightChanged:ce.contentHeightChanged,contentWidthChanged:ce.contentWidthChanged})})),me}_createRightHandSideEditor(ue,Ce){const me=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(ue),Ce);this._register(me.onDidScrollChange(ce=>{this._isHandlingScrollEvent||!ce.scrollTopChanged&&!ce.scrollLeftChanged&&!ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(ce=>{!me.getModel()||(ce.hasChanged(44)&&this._updateDecorationsRunner.schedule(),ce.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(me.onDidChangeModelOptions(ce=>{ce.tabSize&&this._updateDecorationsRunner.schedule()}));const be=this._contextKeyService.createKey("isInDiffRightEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(ce=>{const ge=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+st.ONE_OVERVIEW_WIDTH,we=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:we,contentWidth:ge,contentHeightChanged:ce.contentHeightChanged,contentWidthChanged:ce.contentWidthChanged})})),me}_createInnerEditor(ue,Ce,me,be){return ue.createInstance(n.CodeEditorWidget,Ce,Object.assign({enableDropIntoEditor:!0},me),be)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return a.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(ue){const Ce=he(ue,this._options),me=pe(this._options,Ce);this._options=Ce;const be=me.ignoreTrimWhitespace||me.renderIndicators,ce=this._isVisible&&(me.maxComputationTime||me.maxFileSize);be?this._beginUpdateDecorations():ce&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(ue)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(ue)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),me.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Y(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Z(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=st._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),me.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(ue){if(ue&&(!ue.original||!ue.modified))throw new Error(ue.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(ue?ue.original:null),this._modifiedEditor.setModel(ue?ue.modified:null),this._updateDecorationsRunner.cancel(),ue&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),ue&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(ue){return this._modifiedEditor.getVisibleColumnFromPosition(ue)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(ue,Ce="api"){this._modifiedEditor.setPosition(ue,Ce)}revealLine(ue,Ce=0){this._modifiedEditor.revealLine(ue,Ce)}revealLineInCenter(ue,Ce=0){this._modifiedEditor.revealLineInCenter(ue,Ce)}revealLineInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(ue,Ce)}revealLineNearTop(ue,Ce=0){this._modifiedEditor.revealLineNearTop(ue,Ce)}revealPosition(ue,Ce=0){this._modifiedEditor.revealPosition(ue,Ce)}revealPositionInCenter(ue,Ce=0){this._modifiedEditor.revealPositionInCenter(ue,Ce)}revealPositionInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(ue,Ce)}revealPositionNearTop(ue,Ce=0){this._modifiedEditor.revealPositionNearTop(ue,Ce)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(ue,Ce="api"){this._modifiedEditor.setSelection(ue,Ce)}setSelections(ue,Ce="api"){this._modifiedEditor.setSelections(ue,Ce)}revealLines(ue,Ce,me=0){this._modifiedEditor.revealLines(ue,Ce,me)}revealLinesInCenter(ue,Ce,me=0){this._modifiedEditor.revealLinesInCenter(ue,Ce,me)}revealLinesInCenterIfOutsideViewport(ue,Ce,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(ue,Ce,me)}revealLinesNearTop(ue,Ce,me=0){this._modifiedEditor.revealLinesNearTop(ue,Ce,me)}revealRange(ue,Ce=0,me=!1,be=!0){this._modifiedEditor.revealRange(ue,Ce,me,be)}revealRangeInCenter(ue,Ce=0){this._modifiedEditor.revealRangeInCenter(ue,Ce)}revealRangeInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(ue,Ce)}revealRangeNearTop(ue,Ce=0){this._modifiedEditor.revealRangeNearTop(ue,Ce)}revealRangeNearTopIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(ue,Ce)}revealRangeAtTop(ue,Ce=0){this._modifiedEditor.revealRangeAtTop(ue,Ce)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const ue=this._originalEditor.saveViewState(),Ce=this._modifiedEditor.saveViewState();return{original:ue,modified:Ce}}restoreViewState(ue){if(ue&&ue.original&&ue.modified){const Ce=ue;this._originalEditor.restoreViewState(Ce.original),this._modifiedEditor.restoreViewState(Ce.modified)}}layout(ue){this._elementSizeObserver.observe(ue)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(ue,Ce,me){this._modifiedEditor.trigger(ue,Ce,me)}changeDecorations(ue){return this._modifiedEditor.changeDecorations(ue)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const ue=this._elementSizeObserver.getHeight(),Ce=this._getReviewHeight(),me=st.ENTIRE_DIFF_OVERVIEW_WIDTH-2*st.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:st.ONE_OVERVIEW_WIDTH,right:me+st.ONE_OVERVIEW_WIDTH,height:ue-Ce}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:st.ONE_OVERVIEW_WIDTH,height:ue-Ce}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),st.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(ue,Ce){return!ue&&!Ce?!0:!ue||!Ce?!1:ue.toString()===Ce.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const ue=this._originalEditor.getModel(),Ce=this._modifiedEditor.getModel();if(!ue||!Ce)return;this._diffComputationToken++;const me=this._diffComputationToken,be=this._options.maxFileSize*1024*1024,ce=ge=>{const we=ge.getValueLength();return be===0||we<=be};if(!ce(ue)||!ce(Ce)){(!st._equals(ue.uri,this._lastOriginalWarning)||!st._equals(Ce.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=ue.uri,this._lastModifiedWarning=Ce.uri,this._notificationService.warn(y.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(ue.uri,Ce.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(ge=>{me===this._diffComputationToken&&ue===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ge,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ge=>{me===this._diffComputationToken&&ue===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const ue=this._diffComputationResult?this._diffComputationResult.changes:[],Ce=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),be=this._strategy.getEditorsDiffDecorations(ue,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ce,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(ue){const Ce=Object.assign({},ue);return Ce.inDiffEditor=!0,Ce.automaticLayout=!1,Ce.scrollbar=Object.assign({},Ce.scrollbar||{}),Ce.scrollbar.vertical="visible",Ce.folding=!1,Ce.codeLens=this._options.diffCodeLens,Ce.fixedOverflowWidgets=!0,Ce.minimap=Object.assign({},Ce.minimap||{}),Ce.minimap.enabled=!1,Ce}_adjustOptionsForLeftHandSide(ue){const Ce=this._adjustOptionsForSubEditor(ue);return this._options.renderSideBySide?Ce.wordWrapOverride1=this._options.diffWordWrap:(Ce.wordWrapOverride1="off",Ce.wordWrapOverride2="off"),ue.originalAriaLabel&&(Ce.ariaLabel=ue.originalAriaLabel),Ce.readOnly=!this._options.originalEditable,Ce.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(ue){const Ce=this._adjustOptionsForSubEditor(ue);return ue.modifiedAriaLabel&&(Ce.ariaLabel=ue.modifiedAriaLabel),Ce.wordWrapOverride1=this._options.diffWordWrap,Ce.revealHorizontalRightPadding=r.EditorOptions.revealHorizontalRightPadding.defaultValue+st.ENTIRE_DIFF_OVERVIEW_WIDTH,Ce.scrollbar.verticalHasArrows=!1,Ce.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const ue=this._elementSizeObserver.getWidth(),Ce=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),be=this._strategy.layout();this._originalDomNode.style.width=be+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=ue-be+"px",this._modifiedDomNode.style.left=be+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ce-me+"px",this._overviewDomElement.style.width=st.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=ue-st.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(st.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:be,height:Ce-me}),this._modifiedEditor.layout({width:ue-be-(this._options.renderOverviewRuler?st.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ce-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ce-me,ue,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const ue=this._computeOverviewViewport();ue?(this._overviewViewportDomElement.setTop(ue.top),this._overviewViewportDomElement.setHeight(ue.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const ue=this._modifiedEditor.getLayoutInfo();if(!ue)return null;const Ce=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),be=Math.max(0,ue.height),ce=Math.max(0,be-2*0),ge=me>0?ce/me:0,we=Math.max(0,Math.floor(ue.height*ge)),ye=Math.floor(Ce*ge);return{height:we,top:ye}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(ue){this._strategy&&this._strategy.dispose(),this._strategy=ue,ue.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(ue,Ce){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||ue<Ce(me[0]))return null;let be=0,ce=me.length-1;for(;be<ce;){const ge=Math.floor((be+ce)/2),we=Ce(me[ge]),ye=ge+1<=ce?Ce(me[ge+1]):1073741824;ue<we?ce=ge-1:ue>=ye?be=ge+1:(be=ge,ce=ge)}return me[be]}_getEquivalentLineForOriginalLineNumber(ue){const Ce=this._getLineChangeAtOrBeforeLineNumber(ue,ye=>ye.originalStartLineNumber);if(!Ce)return ue;const me=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),be=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),ce=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,ge=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,we=ue-me;return we<=ce?be+Math.min(we,ge):be+ge-ce+we}_getEquivalentLineForModifiedLineNumber(ue){const Ce=this._getLineChangeAtOrBeforeLineNumber(ue,ye=>ye.modifiedStartLineNumber);if(!Ce)return ue;const me=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),be=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),ce=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,ge=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,we=ue-be;return we<=ge?me+Math.min(we,ce):me+ce-ge+we}getDiffLineInformationForOriginal(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(ue)}:null}getDiffLineInformationForModified(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(ue)}:null}};G.ONE_OVERVIEW_WIDTH=15,G.ENTIRE_DIFF_OVERVIEW_WIDTH=30,G.UPDATE_DIFF_DECORATIONS_DELAY=200,G=De([fe(3,B.IClipboardService),fe(4,l.IEditorWorkerService),fe(5,p.IContextKeyService),fe(6,v.IInstantiationService),fe(7,i.ICodeEditorService),fe(8,I.IThemeService),fe(9,w.INotificationService),fe(10,T.IContextMenuService),fe(11,A.IEditorProgressService)],G),e.DiffEditorWidget=G;class x extends C.Disposable{constructor(ue){super();this._dataSource=ue,this._insertColor=null,this._removeColor=null}applyColors(ue){const Ce=ue.getColor(E.diffOverviewRulerInserted)||(ue.getColor(E.diffInserted)||E.defaultInsertColor).transparent(2),me=ue.getColor(E.diffOverviewRulerRemoved)||(ue.getColor(E.diffRemoved)||E.defaultRemoveColor).transparent(2),be=!Ce.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=Ce,this._removeColor=me,be}getEditorsDiffDecorations(ue,Ce,me,be,ce){ce=ce.sort((Te,ke)=>Te.afterLineNumber-ke.afterLineNumber),be=be.sort((Te,ke)=>Te.afterLineNumber-ke.afterLineNumber);const ge=this._getViewZones(ue,be,ce,me),we=this._getOriginalEditorDecorations(ge,ue,Ce,me),ye=this._getModifiedEditorDecorations(ge,ue,Ce,me);return{original:{decorations:we.decorations,overviewZones:we.overviewZones,zones:ge.original},modified:{decorations:ye.decorations,overviewZones:ye.overviewZones,zones:ge.modified}}}}class V{constructor(ue){this._source=ue,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class j{constructor(ue,Ce,me,be,ce){this._lineChanges=ue,this._originalForeignVZ=Ce,this._modifiedForeignVZ=me,this._originalEditor=be,this._modifiedEditor=ce}static _getViewLineCount(ue,Ce,me){const be=ue.getModel(),ce=ue._getViewModel();if(be&&ce){const ge=de(be,ce,Ce,me);return ge.endLineNumber-ge.startLineNumber+1}return me-Ce+1}getViewZones(){const ue=this._originalEditor.getOption(59),Ce=this._modifiedEditor.getOption(59),me=this._originalEditor.getOption(132).wrappingColumn!==-1,be=this._modifiedEditor.getOption(132).wrappingColumn!==-1,ce=me||be,ge=this._originalEditor.getModel(),we=this._originalEditor._getViewModel().coordinatesConverter,ye=this._modifiedEditor._getViewModel().coordinatesConverter,Te={original:[],modified:[]};let ke=0,Me=0,_e=0,Se=0,Ee=0,Ae=0;const Pe=(tt,it)=>tt.afterLineNumber-it.afterLineNumber,xe=(tt,it)=>{if(it.domNode===null&&tt.length>0){const je=tt[tt.length-1];if(je.afterLineNumber===it.afterLineNumber&&je.domNode===null){je.heightInLines+=it.heightInLines;return}}tt.push(it)},Ue=new V(this._modifiedForeignVZ),He=new V(this._originalForeignVZ);let Ke=1,et=1;for(let tt=0,it=this._lineChanges.length;tt<=it;tt++){const je=tt<it?this._lineChanges[tt]:null;je!==null?(_e=je.originalStartLineNumber+(je.originalEndLineNumber>0?-1:0),Se=je.modifiedStartLineNumber+(je.modifiedEndLineNumber>0?-1:0),Me=je.originalEndLineNumber>0?j._getViewLineCount(this._originalEditor,je.originalStartLineNumber,je.originalEndLineNumber):0,ke=je.modifiedEndLineNumber>0?j._getViewLineCount(this._modifiedEditor,je.modifiedStartLineNumber,je.modifiedEndLineNumber):0,Ee=Math.max(je.originalStartLineNumber,je.originalEndLineNumber),Ae=Math.max(je.modifiedStartLineNumber,je.modifiedEndLineNumber)):(_e+=1e7+Me,Se+=1e7+ke,Ee=_e,Ae=Se);let We=[],Ie=[];if(ce){let Fe;je?je.originalEndLineNumber>0?Fe=je.originalStartLineNumber-Ke:Fe=je.modifiedStartLineNumber-et:Fe=ge.getLineCount()-Ke+1;for(let Ge=0;Ge<Fe;Ge++){const Xe=Ke+Ge,Ze=et+Ge,ze=we.getModelLineViewLineCount(Xe),Ne=ye.getModelLineViewLineCount(Ze);ze<Ne?We.push({afterLineNumber:Xe,heightInLines:Ne-ze,domNode:null,marginDomNode:null}):ze>Ne&&Ie.push({afterLineNumber:Ze,heightInLines:ze-Ne,domNode:null,marginDomNode:null})}je&&(Ke=(je.originalEndLineNumber>0?je.originalEndLineNumber:je.originalStartLineNumber)+1,et=(je.modifiedEndLineNumber>0?je.modifiedEndLineNumber:je.modifiedStartLineNumber)+1)}for(;Ue.current&&Ue.current.afterLineNumber<=Ae;){let Fe;Ue.current.afterLineNumber<=Se?Fe=_e-Se+Ue.current.afterLineNumber:Fe=Ee;let Ge=null;je&&je.modifiedStartLineNumber<=Ue.current.afterLineNumber&&Ue.current.afterLineNumber<=je.modifiedEndLineNumber&&(Ge=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),We.push({afterLineNumber:Fe,heightInLines:Ue.current.height/Ce,domNode:null,marginDomNode:Ge}),Ue.advance()}for(;He.current&&He.current.afterLineNumber<=Ee;){let Fe;He.current.afterLineNumber<=_e?Fe=Se-_e+He.current.afterLineNumber:Fe=Ae,Ie.push({afterLineNumber:Fe,heightInLines:He.current.height/ue,domNode:null}),He.advance()}if(je!==null&&H(je)){const Fe=this._produceOriginalFromDiff(je,Me,ke);Fe&&We.push(Fe)}if(je!==null&&ee(je)){const Fe=this._produceModifiedFromDiff(je,Me,ke);Fe&&Ie.push(Fe)}let Re=0,Be=0;for(We=We.sort(Pe),Ie=Ie.sort(Pe);Re<We.length&&Be<Ie.length;){const Fe=We[Re],Ge=Ie[Be],Xe=Fe.afterLineNumber-_e,Ze=Ge.afterLineNumber-Se;Xe<Ze?(xe(Te.original,Fe),Re++):Ze<Xe?(xe(Te.modified,Ge),Be++):Fe.shouldNotShrink?(xe(Te.original,Fe),Re++):Ge.shouldNotShrink?(xe(Te.modified,Ge),Be++):Fe.heightInLines>=Ge.heightInLines?(Fe.heightInLines-=Ge.heightInLines,Be++):(Ge.heightInLines-=Fe.heightInLines,Re++)}for(;Re<We.length;)xe(Te.original,We[Re]),Re++;for(;Be<Ie.length;)xe(Te.modified,Ie[Be]),Be++}return{original:j._ensureDomNodes(Te.original),modified:j._ensureDomNodes(Te.modified)}}static _ensureDomNodes(ue){return ue.map(Ce=>(Ce.domNode||(Ce.domNode=te()),Ce))}}function re(ve,ue,Ce,me,be){return{range:new d.Range(ve,ue,Ce,me),options:be}}const ae={charDelete:s.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:s.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:s.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:s.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:s.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:s.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+I.ThemeIcon.asClassName(J),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:s.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:s.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+I.ThemeIcon.asClassName(ie),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:s.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Y extends x{constructor(ue,Ce){super(ue);this._disableSash=Ce===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new D.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(ue){const Ce=ue===!1;this._disableSash!==Ce&&(this._disableSash=Ce,this._sash.state=this._disableSash?0:3)}layout(ue=this._sashRatio){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?G.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let be=Math.floor((ue||.5)*me);const ce=Math.floor(.5*me);return be=this._disableSash?ce:be||ce,me>Y.MINIMUM_EDITOR_WIDTH*2?(be<Y.MINIMUM_EDITOR_WIDTH&&(be=Y.MINIMUM_EDITOR_WIDTH),be>me-Y.MINIMUM_EDITOR_WIDTH&&(be=me-Y.MINIMUM_EDITOR_WIDTH)):be=ce,this._sashPosition!==be&&(this._sashPosition=be),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(ue){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?G.ENTIRE_DIFF_OVERVIEW_WIDTH:0),be=this.layout((this._startSashPosition+(ue.currentX-ue.startX))/me);this._sashRatio=be/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(ue){return 0}getVerticalSashLeft(ue){return this._sashPosition}getVerticalSashHeight(ue){return this._dataSource.getHeight()}_getViewZones(ue,Ce,me){const be=this._dataSource.getOriginalEditor(),ce=this._dataSource.getModifiedEditor();return new U(ue,Ce,me,be,ce).getViewZones()}_getOriginalEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getOriginalEditor(),ge=String(this._removeColor),we={decorations:[],overviewZones:[]},ye=ce.getModel(),Te=ce._getViewModel();for(const ke of Ce)if(ee(ke)){we.decorations.push({range:new d.Range(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824),options:be?ae.lineDeleteWithSign:ae.lineDelete}),(!H(ke)||!ke.charChanges)&&we.decorations.push(re(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824,ae.charDeleteWholeLine));const Me=de(ye,Te,ke.originalStartLineNumber,ke.originalEndLineNumber);if(we.overviewZones.push(new c.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,0,ge)),ke.charChanges){for(const _e of ke.charChanges)if(ee(_e))if(me)for(let Se=_e.originalStartLineNumber;Se<=_e.originalEndLineNumber;Se++){let Ee,Ae;Se===_e.originalStartLineNumber?Ee=_e.originalStartColumn:Ee=ye.getLineFirstNonWhitespaceColumn(Se),Se===_e.originalEndLineNumber?Ae=_e.originalEndColumn:Ae=ye.getLineLastNonWhitespaceColumn(Se),we.decorations.push(re(Se,Ee,Se,Ae,ae.charDelete))}else we.decorations.push(re(_e.originalStartLineNumber,_e.originalStartColumn,_e.originalEndLineNumber,_e.originalEndColumn,ae.charDelete))}}return we}_getModifiedEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getModifiedEditor(),ge=String(this._insertColor),we={decorations:[],overviewZones:[]},ye=ce.getModel(),Te=ce._getViewModel();for(const ke of Ce)if(H(ke)){we.decorations.push({range:new d.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?ae.lineInsertWithSign:ae.lineInsert}),(!ee(ke)||!ke.charChanges)&&we.decorations.push(re(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,ae.charInsertWholeLine));const Me=de(ye,Te,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(we.overviewZones.push(new c.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,0,ge)),ke.charChanges){for(const _e of ke.charChanges)if(H(_e))if(me)for(let Se=_e.modifiedStartLineNumber;Se<=_e.modifiedEndLineNumber;Se++){let Ee,Ae;Se===_e.modifiedStartLineNumber?Ee=_e.modifiedStartColumn:Ee=ye.getLineFirstNonWhitespaceColumn(Se),Se===_e.modifiedEndLineNumber?Ae=_e.modifiedEndColumn:Ae=ye.getLineLastNonWhitespaceColumn(Se),we.decorations.push(re(Se,Ee,Se,Ae,ae.charInsert))}else we.decorations.push(re(_e.modifiedStartLineNumber,_e.modifiedStartColumn,_e.modifiedEndLineNumber,_e.modifiedEndColumn,ae.charInsert))}}return we}}Y.MINIMUM_EDITOR_WIDTH=100;class U extends j{constructor(ue,Ce,me,be,ce){super(ue,Ce,me,be,ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(ue,Ce,me){return me>Ce?{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:me-Ce,domNode:null}:null}_produceModifiedFromDiff(ue,Ce,me){return Ce>me?{afterLineNumber:Math.max(ue.modifiedStartLineNumber,ue.modifiedEndLineNumber),heightInLines:Ce-me,domNode:null}:null}}class Z extends x{constructor(ue,Ce){super(ue);this._decorationsLeft=ue.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(ue.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,ue.relayoutEditors())}))}setEnableSplitViewResizing(ue){}_getViewZones(ue,Ce,me,be){const ce=this._dataSource.getOriginalEditor(),ge=this._dataSource.getModifiedEditor();return new q(ue,Ce,me,ce,ge,be).getViewZones()}_getOriginalEditorDecorations(ue,Ce,me,be){const ce=String(this._removeColor),ge={decorations:[],overviewZones:[]},we=this._dataSource.getOriginalEditor(),ye=we.getModel(),Te=we._getViewModel();let ke=0;for(const Me of Ce)if(ee(Me)){for(ge.decorations.push({range:new d.Range(Me.originalStartLineNumber,1,Me.originalEndLineNumber,1073741824),options:ae.lineDeleteMargin});ke<ue.modified.length;){const Ee=ue.modified[ke];if(Ee.diff&&Ee.diff.originalStartLineNumber>=Me.originalStartLineNumber)break;ke++}let _e=0;if(ke<ue.modified.length){const Ee=ue.modified[ke];Ee.diff&&Ee.diff.originalStartLineNumber===Me.originalStartLineNumber&&Ee.diff.originalEndLineNumber===Me.originalEndLineNumber&&Ee.diff.modifiedStartLineNumber===Me.modifiedStartLineNumber&&Ee.diff.modifiedEndLineNumber===Me.modifiedEndLineNumber&&(_e=Ee.heightInLines)}const Se=de(ye,Te,Me.originalStartLineNumber,Me.originalEndLineNumber);ge.overviewZones.push(new c.OverviewRulerZone(Se.startLineNumber,Se.endLineNumber,_e,ce))}return ge}_getModifiedEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getModifiedEditor(),ge=String(this._insertColor),we={decorations:[],overviewZones:[]},ye=ce.getModel(),Te=ce._getViewModel();for(const ke of Ce)if(H(ke)){we.decorations.push({range:new d.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?ae.lineInsertWithSign:ae.lineInsert});const Me=de(ye,Te,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(we.overviewZones.push(new c.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,0,ge)),ke.charChanges){for(const _e of ke.charChanges)if(H(_e))if(me)for(let Se=_e.modifiedStartLineNumber;Se<=_e.modifiedEndLineNumber;Se++){let Ee,Ae;Se===_e.modifiedStartLineNumber?Ee=_e.modifiedStartColumn:Ee=ye.getLineFirstNonWhitespaceColumn(Se),Se===_e.modifiedEndLineNumber?Ae=_e.modifiedEndColumn:Ae=ye.getLineLastNonWhitespaceColumn(Se),we.decorations.push(re(Se,Ee,Se,Ae,ae.charInsert))}else we.decorations.push(re(_e.modifiedStartLineNumber,_e.modifiedStartColumn,_e.modifiedEndLineNumber,_e.modifiedEndColumn,ae.charInsert))}else we.decorations.push(re(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,ae.charInsertWholeLine))}return we}layout(){return Math.max(5,this._decorationsLeft)}}class q extends j{constructor(ue,Ce,me,be,ce,ge){super(ue,Ce,me,be,ce);this._originalModel=be.getModel(),this._renderIndicators=ge,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const ue=super.getViewZones();return this._finalize(ue),ue}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const ue=document.createElement("div");return ue.className="inline-added-margin-view-zone",ue}_produceOriginalFromDiff(ue,Ce,me){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:be}}_produceModifiedFromDiff(ue,Ce,me){const be=document.createElement("div");be.className=`view-lines line-delete ${W.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const ce=document.createElement("div");ce.className="inline-deleted-margin-view-zone";const ge={shouldNotShrink:!0,afterLineNumber:ue.modifiedEndLineNumber===0?ue.modifiedStartLineNumber:ue.modifiedStartLineNumber-1,heightInLines:Ce,minWidthInPx:0,domNode:be,marginDomNode:ce,diff:{originalStartLineNumber:ue.originalStartLineNumber,originalEndLineNumber:ue.originalEndLineNumber,modifiedStartLineNumber:ue.modifiedStartLineNumber,modifiedEndLineNumber:ue.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let we=ue.originalStartLineNumber;we<=ue.originalEndLineNumber;we++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(we),null,null);return this._pendingLineChange.push(ue),this._pendingViewZones.push(ge),ge}_finalize(ue){const Ce=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,be=Ce.get(44),ce=Ce.get(29),ge=be.typicalHalfwidthCharacterWidth,we=Ce.get(93),ye=this._originalModel.mightContainNonBasicASCII(),Te=this._originalModel.mightContainRTL(),ke=Ce.get(59),_e=Ce.get(131).decorationsWidth,Se=Ce.get(105),Ee=Ce.get(88),Ae=Ce.get(83),Pe=Ce.get(45),xe=this._lineBreaksComputer.finalize();let Ue=0;for(let He=0;He<this._pendingLineChange.length;He++){const Ke=this._pendingLineChange[He],et=this._pendingViewZones[He],tt=et.domNode;(0,u.applyFontInfo)(tt,be);const it=et.marginDomNode;(0,u.applyFontInfo)(it,be);const je=[];if(Ke.charChanges)for(const Ze of Ke.charChanges)ee(Ze)&&je.push(new S.InlineDecoration(new d.Range(Ze.originalStartLineNumber,Ze.originalStartColumn,Ze.originalEndLineNumber,Ze.originalEndColumn),"char-delete",0));const We=je.length>0,Ie=(0,o.createStringBuilder)(1e4);let Re=0,Be=0,Fe=null;for(let Ze=Ke.originalStartLineNumber;Ze<=Ke.originalEndLineNumber;Ze++){const ze=Ze-Ke.originalStartLineNumber,Ne=this._originalModel.tokenization.getLineTokens(Ze),Oe=Ne.getLineContent(),Ve=xe[Ue++],qe=g.LineDecoration.filter(je,Ze,1,Oe.length+1);if(Ve){let Je=0;for(const Ye of Ve.breakOffsets){const nt=Ne.sliceAndInflate(Je,Ye,0),dt=Oe.substring(Je,Ye);Re=Math.max(Re,this._renderOriginalLine(Be++,dt,nt,g.LineDecoration.extractWrapped(qe,Je,Ye),We,ye,Te,be,ce,ke,_e,Se,Ee,Ae,Pe,me,Ie,it)),Je=Ye}for(Fe||(Fe=[]);Fe.length<ze;)Fe[Fe.length]=1;Fe[ze]=Ve.breakOffsets.length,et.heightInLines+=Ve.breakOffsets.length-1;const $e=document.createElement("div");$e.className="gutter-delete",ue.original.push({afterLineNumber:Ze,afterColumn:0,heightInLines:Ve.breakOffsets.length-1,domNode:te(),marginDomNode:$e})}else Re=Math.max(Re,this._renderOriginalLine(Be++,Oe,Ne,qe,We,ye,Te,be,ce,ke,_e,Se,Ee,Ae,Pe,me,Ie,it))}Re+=we;const Ge=Ie.build(),Xe=le?le.createHTML(Ge):Ge;if(tt.innerHTML=Xe,et.minWidthInPx=Re*ge,Fe){const Ze=Ke.originalEndLineNumber-Ke.originalStartLineNumber;for(;Fe.length<=Ze;)Fe[Fe.length]=1}et.diff.viewLineCounts=Fe}ue.original.sort((He,Ke)=>He.afterLineNumber-Ke.afterLineNumber)}_renderOriginalLine(ue,Ce,me,be,ce,ge,we,ye,Te,ke,Me,_e,Se,Ee,Ae,Pe,xe,Ue){xe.appendASCIIString('<div class="view-line'),ce||xe.appendASCIIString(" char-delete"),xe.appendASCIIString('" style="top:'),xe.appendASCIIString(String(ue*ke)),xe.appendASCIIString('px;width:1000000px;">');const He=S.ViewLineRenderingData.isBasicASCII(Ce,ge),Ke=S.ViewLineRenderingData.containsRTL(Ce,He,we),et=(0,m.renderViewLine)(new m.RenderLineInput(ye.isMonospace&&!Te,ye.canUseHalfwidthRightwardsArrow,Ce,!1,He,Ke,0,me,be,Pe,0,ye.spaceWidth,ye.middotWidth,ye.wsmiddotWidth,_e,Se,Ee,Ae!==r.EditorFontLigatures.OFF,null),xe);if(xe.appendASCIIString("</div>"),this._renderIndicators){const tt=document.createElement("div");tt.className=`delete-sign ${I.ThemeIcon.asClassName(ie)}`,tt.setAttribute("style",`position:absolute;top:${ue*ke}px;width:${Me}px;height:${ke}px;right:0;`),Ue.appendChild(tt)}return et.characterMapping.getAbsoluteOffset(et.characterMapping.length)}}function $(ve,ue){return(0,r.stringSet)(ve,ue,["off","on","inherit"])}function H(ve){return ve.modifiedEndLineNumber>0}function ee(ve){return ve.originalEndLineNumber>0}function te(){const ve=document.createElement("div");return ve.className="diagonal-fill",ve}function de(ve,ue,Ce,me){const be=ve.getLineCount();return Ce=Math.min(be,Math.max(1,Ce)),me=Math.min(be,Math.max(1,me)),ue.coordinatesConverter.convertModelRangeToViewRange(new d.Range(Ce,ve.getLineMinColumn(Ce),me,ve.getLineMaxColumn(me)))}function he(ve,ue){return{enableSplitViewResizing:(0,r.boolean)(ve.enableSplitViewResizing,ue.enableSplitViewResizing),renderSideBySide:(0,r.boolean)(ve.renderSideBySide,ue.renderSideBySide),maxComputationTime:(0,r.clampedInt)(ve.maxComputationTime,ue.maxComputationTime,0,1073741824),maxFileSize:(0,r.clampedInt)(ve.maxFileSize,ue.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,r.boolean)(ve.ignoreTrimWhitespace,ue.ignoreTrimWhitespace),renderIndicators:(0,r.boolean)(ve.renderIndicators,ue.renderIndicators),originalEditable:(0,r.boolean)(ve.originalEditable,ue.originalEditable),diffCodeLens:(0,r.boolean)(ve.diffCodeLens,ue.diffCodeLens),renderOverviewRuler:(0,r.boolean)(ve.renderOverviewRuler,ue.renderOverviewRuler),diffWordWrap:$(ve.diffWordWrap,ue.diffWordWrap)}}function pe(ve,ue){return{enableSplitViewResizing:ve.enableSplitViewResizing!==ue.enableSplitViewResizing,renderSideBySide:ve.renderSideBySide!==ue.renderSideBySide,maxComputationTime:ve.maxComputationTime!==ue.maxComputationTime,maxFileSize:ve.maxFileSize!==ue.maxFileSize,ignoreTrimWhitespace:ve.ignoreTrimWhitespace!==ue.ignoreTrimWhitespace,renderIndicators:ve.renderIndicators!==ue.renderIndicators,originalEditable:ve.originalEditable!==ue.originalEditable,diffCodeLens:ve.diffCodeLens!==ue.diffCodeLens,renderOverviewRuler:ve.renderOverviewRuler!==ue.renderOverviewRuler,diffWordWrap:ve.diffWordWrap!==ue.diffWordWrap}}(0,I.registerThemingParticipant)((ve,ue)=>{const Ce=ve.getColor(E.diffInserted);Ce&&ue.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ce}; }`);const me=ve.getColor(E.diffInsertedLine)||Ce;me&&ue.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${me}; }`);const be=ve.getColor(E.diffInsertedLineGutter)||me;be&&(ue.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${be}; }`),ue.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${be}; }`));const ce=ve.getColor(E.diffRemoved);ce&&ue.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${ce}; }`);const ge=ve.getColor(E.diffRemovedLine)||ce;ge&&ue.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${ge}; }`);const we=ve.getColor(E.diffRemovedLineGutter)||ge;we&&(ue.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${we}; }`),ue.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${we}; }`));const ye=ve.getColor(E.diffInsertedOutline);ye&&ue.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,z.isHighContrast)(ve.type)?"dashed":"solid"} ${ye}; }`);const Te=ve.getColor(E.diffRemovedOutline);Te&&ue.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,z.isHighContrast)(ve.type)?"dashed":"solid"} ${Te}; }`);const ke=ve.getColor(E.scrollbarShadow);ke&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ke}; }`);const Me=ve.getColor(E.diffBorder);Me&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Me}; }`);const _e=ve.getColor(E.scrollbarSliderBackground);_e&&ue.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${_e};
			}
		`);const Se=ve.getColor(E.scrollbarSliderHoverBackground);Se&&ue.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Se};
			}
		`);const Ee=ve.getColor(E.scrollbarSliderActiveBackground);Ee&&ue.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ee};
			}
		`);const Ae=ve.getColor(E.diffDiagonalFill);ue.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Ae} 12.5%,
			#0000 12.5%, #0000 50%,
			${Ae} 50%, ${Ae} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(oe[166],se([1,0,39,29,165,26,16,9,40,14,69,31,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends N.CodeEditorWidget{constructor(d,o,a,s,l,c,g,m,S,p,v,_){super(d,Object.assign(Object.assign({},a.getRawOptions()),{overflowWidgetsDomNode:a.getOverflowWidgetsDomNode()}),{},s,l,c,g,m,S,p,v,_);this._parentEditor=a,this._overwriteOptions=o,super.updateOptions(this._overwriteOptions),this._register(a.onDidChangeConfiguration(w=>this._onParentConfigurationChanged(w)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(d){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(d){y.mixin(this._overwriteOptions,d,!0),super.updateOptions(this._overwriteOptions)}};t=De([fe(3,b.IInstantiationService),fe(4,f.ICodeEditorService),fe(5,D.ICommandService),fe(6,L.IContextKeyService),fe(7,u.IThemeService),fe(8,C.INotificationService),fe(9,h.IAccessibilityService),fe(10,i.ILanguageConfigurationService),fe(11,n.ILanguageFeaturesService)],t),e.EmbeddedCodeEditorWidget=t}),define(oe[723],se([1,0,10,2,15,11,3,24,22,46,35,54,530,41,23,14,381]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const o=(0,r.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},n.localize(0,null));class a extends N.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:n.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(m,S){var p;(p=c.get(S))===null||p===void 0||p.jumpToBracket()}}class s extends N.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:n.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,S,p){var v;let _=!0;p&&p.selectBrackets===!1&&(_=!1),(v=c.get(S))===null||v===void 0||v.selectToBracket(_)}}class l{constructor(m,S,p){this.position=m,this.brackets=S,this.options=p}}class c extends f.Disposable{constructor(m){super();this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new y.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(S=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(S=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(S=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(S=>{S.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(m.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(m){return m.getContribution(c.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),S=this._editor.getSelections().map(p=>{const v=p.getStartPosition(),_=m.bracketPairs.matchBracket(v);let w=null;if(_)_[0].containsPosition(v)&&!_[1].containsPosition(v)?w=_[1].getStartPosition():_[1].containsPosition(v)&&(w=_[0].getStartPosition());else{const E=m.bracketPairs.findEnclosingBrackets(v);if(E)w=E[1].getStartPosition();else{const I=m.bracketPairs.findNextBracket(v);I&&I.range&&(w=I.range.getStartPosition())}}return w?new b.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new b.Selection(v.lineNumber,v.column,v.lineNumber,v.column)});this._editor.setSelections(S),this._editor.revealRange(S[0])}selectToBracket(m){if(!this._editor.hasModel())return;const S=this._editor.getModel(),p=[];this._editor.getSelections().forEach(v=>{const _=v.getStartPosition();let w=S.bracketPairs.matchBracket(_);if(!w&&(w=S.bracketPairs.findEnclosingBrackets(_),!w)){const T=S.bracketPairs.findNextBracket(_);T&&T.range&&(w=S.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,I=null;if(w){w.sort(L.Range.compareRangesUsingStarts);const[T,R]=w;if(E=m?T.getStartPosition():T.getEndPosition(),I=m?R.getEndPosition():R.getStartPosition(),R.containsPosition(_)){const B=E;E=I,I=B}}E&&I&&p.push(new b.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),p.length>0&&(this._editor.setSelections(p),this._editor.revealRange(p[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let m=[],S=0;for(const p of this._lastBracketsData){let v=p.brackets;v&&(m[S++]={range:v[0],options:p.options},m[S++]={range:v[1],options:p.options})}this._decorations=this._editor.deltaDecorations(this._decorations,m)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getSelections();if(m.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const S=this._editor.getModel(),p=S.getVersionId();let v=[];this._lastVersionId===p&&(v=this._lastBracketsData);let _=[],w=0;for(let B=0,O=m.length;B<O;B++){let k=m[B];k.isEmpty()&&(_[w++]=k.getStartPosition())}_.length>1&&_.sort(D.Position.compare);let E=[],I=0,T=0,R=v.length;for(let B=0,O=_.length;B<O;B++){let k=_[B];for(;T<R&&v[T].position.isBefore(k);)T++;if(T<R&&v[T].position.equals(k))E[I++]=v[T];else{let A=S.bracketPairs.matchBracket(k,20),F=c._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=S.bracketPairs.findEnclosingBrackets(k,20),F=c._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new l(k,A,F)}}this._lastBracketsData=E,this._lastVersionId=p}}e.BracketMatchingController=c,c.ID="editor.contrib.bracketMatchingController",c._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,d.themeColorFromId)(o),position:u.OverviewRulerLane.Center}}),c._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,N.registerEditorContribution)(c.ID,c),(0,N.registerEditorAction)(s),(0,N.registerEditorAction)(a),(0,d.registerThemingParticipant)((g,m)=>{const S=g.getColor(i.editorBracketMatchBackground);S&&m.addRule(`.monaco-editor .bracket-match { background-color: ${S}; }`);const p=g.getColor(i.editorBracketMatchBorder);p&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${p}; }`)}),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:n.localize(3,null)},order:2})}),define(oe[724],se([1,0,7,120,3,35,383]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class L{constructor(i,n,t){this.afterColumn=1073741824,this.afterLineNumber=i,this.heightInPx=n,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(i,n,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${b._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(i,n){this._commands.clear();let t=[],r=!1;for(let d=0;d<i.length;d++){const o=i[d];if(!!o&&(r=!0,o.command)){const a=(0,f.renderLabelWithIcons)(o.command.title.trim());o.command.id?(t.push(y.$("a",{id:String(d),title:o.command.tooltip,role:"button"},...a)),this._commands.set(String(d),o.command)):t.push(y.$("span",{title:o.command.tooltip},...a)),d+1<i.length&&t.push(y.$("span",void 0,"\xA0|\xA0"))}}r?(y.reset(this._domNode,...t),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):y.reset(this._domNode,y.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;class C{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){let n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,r=n.length;t<r;t++)this._addDecorationsCallbacks[t](n[t])}}e.CodeLensHelper=C;class u{constructor(i,n,t,r,d,o,a){this._isDisposed=!1,this._editor=n,this._className=t,this._data=i,this._decorationIds=[];let s,l=[];this._data.forEach((c,g)=>{c.symbol.command&&l.push(c.symbol),r.addDecoration({range:c.symbol.range,options:D.ModelDecorationOptions.EMPTY},m=>this._decorationIds[g]=m),s?s=N.Range.plusRange(s,c.symbol.range):s=N.Range.lift(c.symbol.range)}),this._viewZone=new L(s.startLineNumber-1,o,a),this._viewZoneId=d.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n&&n.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{const t=this._editor.getModel().getDecorationRange(i),r=this._data[n].symbol;return!!(t&&N.Range.isEmpty(r.range)===t.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((t,r)=>{n.addDecoration({range:t.symbol.range,options:D.ModelDecorationOptions.EMPTY},d=>this._decorationIds[r]=d)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let n=0;n<this._decorationIds.length;n++){const t=i.getDecorationRange(this._decorationIds[n]);t&&(this._data[n].symbol.range=t)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){const t=i[n];if(t){const{symbol:r}=this._data[n];r.command=t.command||r.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=u}),define(oe[725],se([1,0,7,10,13,118,2,146,15,33,22,280,645,724,536,26,40,82,71,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let c=class{constructor(m,S,p,v,_,w){this._editor=m,this._languageFeaturesService=S,this._commandService=v,this._notificationService=_,this._codeLensCache=w,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=p.for(S.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=p.for(S.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(E=>{(E.hasChanged(44)||E.hasChanged(16)||E.hasChanged(15))&&this._updateLensStyle(),E.hasChanged(14)&&this._onModelChange()})),this._disposables.add(S.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,D.hash)(this._editor.getId()).toString(16),this._styleElement=y.createStyleSheet(y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var m;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose(),this._styleElement.remove()}_getLayoutInfo(){const m=Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46));let S=this._editor.getOption(16);return(!S||S<5)&&(S=this._editor.getOption(46)*.9|0),{fontSize:S,codeLensHeight:S*m|0}}_updateLensStyle(){const{codeLensHeight:m,fontSize:S}=this._getLayoutInfo(),p=this._editor.getOption(15),v=this._editor.getOption(44),_=`--codelens-font-family${this._styleClassName}`,w=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${m}px; font-size: ${S}px; padding-right: ${Math.round(S*.5)}px; font-feature-settings: var(${w}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${m}px; font-size: ${S}px; }
		`;p&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${_}), ${u.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(_,p??"inherit"),this._editor.getContainerDomNode().style.setProperty(w,v.fontFeatureSettings),this._editor.changeViewZones(I=>{for(let T of this._lenses)T.updateHeight(m,I)})}_localDispose(){var m,S,p;(m=this._getCodeLensModelPromise)===null||m===void 0||m.cancel(),this._getCodeLensModelPromise=void 0,(S=this._resolveCodeLensesPromise)===null||S===void 0||S.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose()}_onModelChange(){this._localDispose();const m=this._editor.getModel();if(!m||!this._editor.getOption(14))return;const S=this._codeLensCache.get(m);if(S&&this._renderCodeLensSymbols(S),!this._languageFeaturesService.codeLensProvider.has(m)){S&&this._localToDispose.add((0,f.disposableTimeout)(()=>{const v=this._codeLensCache.get(m);S===v&&(this._codeLensCache.delete(m),this._onModelChange())},30*1e3));return}for(const v of this._languageFeaturesService.codeLensProvider.all(m))if(typeof v.onDidChange=="function"){let _=v.onDidChange(()=>p.schedule());this._localToDispose.add(_)}const p=new f.RunOnceScheduler(()=>{var v;const _=Date.now();(v=this._getCodeLensModelPromise)===null||v===void 0||v.cancel(),this._getCodeLensModelPromise=(0,f.createCancelablePromise)(w=>(0,i.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,m,w)),this._getCodeLensModelPromise.then(w=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=w,this._codeLensCache.put(m,w);const E=this._provideCodeLensDebounce.update(m,Date.now()-_);p.delay=E,this._renderCodeLensSymbols(w),this._resolveCodeLensesInViewportSoon()},N.onUnexpectedError)},this._provideCodeLensDebounce.get(m));this._localToDispose.add(p),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(v=>{this._editor.changeViewZones(_=>{let w=[],E=-1;this._lenses.forEach(T=>{!T.isValid()||E===T.getLineNumber()?w.push(T):(T.update(_),E=T.getLineNumber())});let I=new t.CodeLensHelper;w.forEach(T=>{T.dispose(I,_),this._lenses.splice(this._lenses.indexOf(T),1)}),I.commit(v)})}),p.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{p.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(v=>{v.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const v=b.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(_=>{this._editor.changeViewZones(w=>{this._disposeAllLenses(_,w)})}),v.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(v=>{if(v.target.type!==9)return;let _=v.target.element;if((_==null?void 0:_.tagName)==="SPAN"&&(_=_.parentElement),(_==null?void 0:_.tagName)==="A")for(const w of this._lenses){let E=w.getCommand(_);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(I=>this._notificationService.error(I));break}}})),p.schedule()}_disposeAllLenses(m,S){const p=new t.CodeLensHelper;for(const v of this._lenses)v.dispose(p,S);m&&p.commit(m),this._lenses.length=0}_renderCodeLensSymbols(m){if(!this._editor.hasModel())return;let S=this._editor.getModel().getLineCount(),p=[],v;for(let E of m.lenses){let I=E.symbol.range.startLineNumber;I<1||I>S||(v&&v[v.length-1].symbol.range.startLineNumber===I?v.push(E):(v=[E],p.push(v)))}const _=b.StableEditorScrollState.capture(this._editor),w=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(I=>{const T=new t.CodeLensHelper;let R=0,B=0;for(;B<p.length&&R<this._lenses.length;){let O=p[B][0].symbol.range.startLineNumber,k=this._lenses[R].getLineNumber();k<O?(this._lenses[R].dispose(T,I),this._lenses.splice(R,1)):k===O?(this._lenses[R].updateCodeLensSymbols(p[B],T),B++,R++):(this._lenses.splice(R,0,new t.CodeLensWidget(p[B],this._editor,this._styleClassName,T,I,w.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++,B++)}for(;R<this._lenses.length;)this._lenses[R].dispose(T,I),this._lenses.splice(R,1);for(;B<p.length;)this._lenses.push(new t.CodeLensWidget(p[B],this._editor,this._styleClassName,T,I,w.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),B++;T.commit(E)})}),_.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var m;(m=this._resolveCodeLensesPromise)===null||m===void 0||m.cancel(),this._resolveCodeLensesPromise=void 0;const S=this._editor.getModel();if(!S)return;const p=[],v=[];if(this._lenses.forEach(E=>{const I=E.computeIfNecessary(S);I&&(p.push(I),v.push(E))}),p.length===0)return;const _=Date.now(),w=(0,f.createCancelablePromise)(E=>{const I=p.map((T,R)=>{const B=new Array(T.length),O=T.map((k,A)=>!k.symbol.command&&typeof k.provider.resolveCodeLens=="function"?Promise.resolve(k.provider.resolveCodeLens(S,k.symbol,E)).then(F=>{B[A]=F},N.onUnexpectedExternalError):(B[A]=k.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!E.isCancellationRequested&&!v[R].isDisposed()&&v[R].updateCommands(B)})});return Promise.all(I)});this._resolveCodeLensesPromise=w,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDebounce.update(S,Date.now()-_);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(S,this._currentCodeLensModel),this._oldCodeLensModels.clear(),w===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,N.onUnexpectedError)(E),w===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};c.ID="css.editor.codeLens",c=De([fe(1,l.ILanguageFeaturesService),fe(2,s.ILanguageFeatureDebounceService),fe(3,d.ICommandService),fe(4,o.INotificationService),fe(5,n.ICodeLensCache)],c),e.CodeLensContribution=c,(0,C.registerEditorContribution)(c.ID,c),(0,C.registerEditorAction)(class extends C.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:h.EditorContextKeys.hasCodeLensProvider,label:(0,r.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(m,S){return Le(this,void 0,void 0,function*(){if(!S.hasModel())return;const p=m.get(a.IQuickInputService),v=m.get(d.ICommandService),_=m.get(o.INotificationService),w=S.getSelection().positionLineNumber,E=S.getContribution(c.ID);if(!E)return;const I=E.getModel();if(!I)return;const T=[];for(const B of I.lenses)B.symbol.command&&B.symbol.range.startLineNumber===w&&T.push({label:B.symbol.command.title,command:B.symbol.command});if(T.length===0)return;const R=yield p.pick(T,{canPickMany:!1});if(!!R){if(I.isDisposed)return yield v.executeCommand(this.id);try{yield v.executeCommand(R.command.id,...R.command.arguments||[])}catch(B){_.error(B)}}})}})}),define(oe[305],se([1,0,10,30,13,2,57,8,134,15,3,35,71,20,281,37]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const o=500;let a=class Wi extends D.Disposable{constructor(l,c,g,m){super();this._editor=l,this._configurationService=c,this._languageFeaturesService=g,this._localToDispose=this._register(new D.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new C.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new D.DisposableStore),this._debounceInformation=m.for(g.colorProvider,"Document Colors",{min:Wi.RECOMPUTE_TIME}),this._register(l.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(l.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(g.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(l.onDidChangeConfiguration(()=>{let S=this._isEnabled;this._isEnabled=this.isEnabled(),S!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const l=this._editor.getModel();if(!l)return!1;const c=l.getLanguageId(),g=this._configurationService.getValue(c);if(g&&typeof g=="object"){const m=g.colorDecorators;if(m&&m.enable!==void 0&&!m.enable)return m.enable}return this._editor.getOption(17)}static get(l){return l.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const l=this._editor.getModel();!l||!this._languageFeaturesService.colorProvider.has(l)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new y.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(l)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,y.createCancelablePromise)(l=>Le(this,void 0,void 0,function*(){const c=this._editor.getModel();if(!c)return Promise.resolve([]);const g=new L.StopWatch(!1),m=yield(0,r.getColors)(this._languageFeaturesService.colorProvider,c,l);return this._debounceInformation.update(c,g.elapsed()),m})),this._computePromise.then(l=>{this.updateDecorations(l),this.updateColorDecorators(l),this._computePromise=null},N.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(l){const c=l.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,c),this._colorDatas=new Map,this._decorationsIds.forEach((g,m)=>this._colorDatas.set(g,l[m]))}updateColorDecorators(l){this._colorDecorationClassRefs.clear();let c=[];for(let g=0;g<l.length&&c.length<o;g++){const{red:m,green:S,blue:p,alpha:v}=l[g].colorInfo.color,_=new f.RGBA(Math.round(m*255),Math.round(S*255),Math.round(p*255),v);let w=`rgba(${_.r}, ${_.g}, ${_.b}, ${_.a})`;const E=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:w}));c.push({range:{startLineNumber:l[g].colorInfo.range.startLineNumber,startColumn:l[g].colorInfo.range.startColumn,endLineNumber:l[g].colorInfo.range.endLineNumber,endColumn:l[g].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:b.noBreakWhitespace,inlineClassName:`${E.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],c))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(l){const c=this._editor.getModel();if(!c)return null;const g=c.getDecorationsInRange(h.Range.fromPositions(l,l)).filter(m=>this._colorDatas.has(m.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecorationId(l){return this._colorDecoratorIds.has(l)}};a.ID="editor.contrib.colorDetector",a.RECOMPUTE_TIME=1e3,a=De([fe(1,d.IConfigurationService),fe(2,t.ILanguageFeaturesService),fe(3,n.ILanguageFeatureDebounceService)],a),e.ColorDetector=a,(0,u.registerEditorContribution)(a.ID,a)}),define(oe[726],se([1,0,10,21,30,2,3,281,305,468,666,14]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class n{constructor(d,o,a,s){this.owner=d,this.range=o,this.model=a,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.ColorHover=n;let t=class{constructor(d,o){this._editor=d,this._themeService=o,this.hoverOrdinal=1}computeSync(d,o){return[]}computeAsync(d,o,a){return y.AsyncIterableObject.fromPromise(this._computeAsync(d,o,a))}_computeAsync(d,o,a){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=C.ColorDetector.get(this._editor);if(!s)return[];for(const l of o){if(!s.isColorDecorationId(l.id))continue;const c=s.getColorData(l.range.getStartPosition());if(c)return[yield this._createColorHover(this._editor.getModel(),c.colorInfo,c.provider)]}return[]})}_createColorHover(d,o,a){return Le(this,void 0,void 0,function*(){const s=d.getValueInRange(o.range),{red:l,green:c,blue:g,alpha:m}=o.color,S=new N.RGBA(Math.round(l*255),Math.round(c*255),Math.round(g*255),m),p=new N.Color(S),v=yield(0,b.getColorPresentations)(d,o,a,f.CancellationToken.None),_=new u.ColorPickerModel(p,[],0);return _.colorPresentations=v||[],_.guessColorPresentation(p,s),new n(this,L.Range.lift(o.range),_,a)})}renderHoverParts(d,o){if(o.length===0||!this._editor.hasModel())return D.Disposable.None;const a=new D.DisposableStore,s=o[0],l=this._editor.getModel(),c=s.model,g=a.add(new h.ColorPickerWidget(d.fragment,c,this._editor.getOption(129),this._themeService));d.setColorPicker(g);let m=new L.Range(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const S=()=>{let v,_;if(c.presentation.textEdit){v=[c.presentation.textEdit],_=new L.Range(c.presentation.textEdit.range.startLineNumber,c.presentation.textEdit.range.startColumn,c.presentation.textEdit.range.endLineNumber,c.presentation.textEdit.range.endColumn);const w=this._editor.getModel()._setTrackedRange(null,_,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",v),_=this._editor.getModel()._getTrackedRange(w)||_}else v=[{range:m,text:c.presentation.label,forceMoveMarkers:!1}],_=m.setEndPosition(m.endLineNumber,m.startColumn+c.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",v);c.presentation.additionalTextEdits&&(v=[...c.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",v),d.hide()),this._editor.pushUndoStop(),m=_},p=v=>(0,b.getColorPresentations)(l,{range:m,color:{red:v.rgba.r/255,green:v.rgba.g/255,blue:v.rgba.b/255,alpha:v.rgba.a}},s.provider,f.CancellationToken.None).then(_=>{c.colorPresentations=_||[]});return a.add(c.onColorFlushed(v=>{p(v).then(S)})),a.add(c.onDidChangeColor(p)),a}};t=De([fe(1,i.IThemeService)],t),e.ColorHoverParticipant=t}),define(oe[727],se([1,0,2,17,15,11,3,24,35,470,385]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function h(n){return f.isMacintosh?n.altKey:n.ctrlKey}class i extends y.Disposable{constructor(t){super();this._editor=t,this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(r))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(r))),this._register(this._editor.onMouseDrag(r=>this._onEditorMouseDrag(r))),this._register(this._editor.onMouseDrop(r=>this._onEditorMouseDrop(r))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(r=>this.onEditorKeyDown(r))),this._register(this._editor.onKeyUp(r=>this.onEditorKeyUp(r))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(h(t)&&(this._modifierPressed=!0),this._mouseDown&&h(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(h(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let r=t.target;if(this._dragSelection===null){let o=(this._editor.getSelections()||[]).filter(a=>r.position&&a.containsPosition(r.position));if(o.length===1)this._dragSelection=o[0];else return}h(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),r.position&&(this._dragSelection.containsPosition(r.position)?this._removeDecoration():this.showAt(r.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let r=new D.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let d=null;if(t.event.shiftKey){let o=this._editor.getSelection();if(o){const{selectionStartLineNumber:a,selectionStartColumn:s}=o;d=[new b.Selection(a,s,r.lineNumber,r.column)]}}else d=(this._editor.getSelections()||[]).map(o=>o.containsPosition(r)?new b.Selection(r.lineNumber,r.column,r.lineNumber,r.column):o);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(r)||(h(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(r)||this._dragSelection.getStartPosition().equals(r)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new u.DragAndDropCommand(this._dragSelection,r,h(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){let r=[{range:new L.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:i._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,r),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=i,i.ID="editor.contrib.dragAndDrop",i.TRIGGER_KEY_VALUE=f.isMacintosh?6:5,i._DECORATION_OPTIONS=C.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,N.registerEditorContribution)(i.ID,i)}),define(oe[728],se([1,0,3,46,35,23,14]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class b{constructor(u){this._editor=u,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const u=this._findScopeDecorationIds.map(h=>this._editor.getModel().getDecorationRange(h)).filter(h=>!!h);if(u.length)return u}return null}getStartPosition(){return this._startPosition}setStartPosition(u){this._startPosition=u,this.setCurrentFindMatch(null)}_getDecorationIndex(u){const h=this._decorations.indexOf(u);return h>=0?h+1:1}getCurrentMatchesPosition(u){let h=this._editor.getModel().getDecorationsInRange(u);for(const i of h){const n=i.options;if(n===b._FIND_MATCH_DECORATION||n===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(u){let h=null,i=0;if(u)for(let n=0,t=this._decorations.length;n<t;n++){let r=this._editor.getModel().getDecorationRange(this._decorations[n]);if(u.equalsRange(r)){h=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||h!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),h!==null&&(this._highlightedDecorationId=h,n.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),h!==null){let t=this._editor.getModel().getDecorationRange(h);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){let r=t.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(r);t=new y.Range(t.startLineNumber,t.startColumn,r,d)}this._rangeHighlightDecorationId=n.addDecoration(t,b._RANGE_HIGHLIGHT_DECORATION)}}),i}set(u,h){this._editor.changeDecorations(i=>{let n=b._FIND_MATCH_DECORATION,t=[];if(u.length>1e3){n=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),a=this._editor.getLayoutInfo().height/d,s=Math.max(2,Math.ceil(3/a));let l=u[0].range.startLineNumber,c=u[0].range.endLineNumber;for(let g=1,m=u.length;g<m;g++){const S=u[g].range;c+s>=S.startLineNumber?S.endLineNumber>c&&(c=S.endLineNumber):(t.push({range:new y.Range(l,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),l=S.startLineNumber,c=S.endLineNumber)}t.push({range:new y.Range(l,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let r=new Array(u.length);for(let d=0,o=u.length;d<o;d++)r[d]={range:u[d].range,options:n};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>i.removeDecoration(d)),this._findScopeDecorationIds=[]),(h==null?void 0:h.length)&&(this._findScopeDecorationIds=h.map(d=>i.addDecoration(d,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(u){if(this._decorations.length===0)return null;for(let h=this._decorations.length-1;h>=0;h--){let i=this._decorations[h],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>u.lineNumber)){if(n.endLineNumber<u.lineNumber)return n;if(!(n.endColumn>u.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(u){if(this._decorations.length===0)return null;for(let h=0,i=this._decorations.length;h<i;h++){let n=this._decorations[h],t=this._editor.getModel().getDecorationRange(n);if(!(!t||t.startLineNumber<u.lineNumber)){if(t.startLineNumber>u.lineNumber)return t;if(!(t.startColumn<u.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let u=[];return u=u.concat(this._decorations),u=u.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&u.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&u.push(this._rangeHighlightDecorationId),u}}e.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(D.overviewRulerFindMatchForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(D.minimapFindMatch),position:f.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(D.overviewRulerFindMatchForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(D.minimapFindMatch),position:f.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,L.themeColorFromId)(D.overviewRulerFindMatchForeground),position:f.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=N.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=N.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(oe[167],se([1,0,18,10,2,103,11,3,24,153,728,471,472,16]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const r=240;class d{constructor(a,s){this._toDispose=new N.DisposableStore,this._editor=a,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new f.TimeoutTimer,this._decorations=new h.FindDecorations(a),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new f.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(l=>{(l.reason===3||l.reason===5||l.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(l=>{this._ignoreModelContentChanged||(l.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(l=>this._onStateChanged(l))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,N.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(a){this._isDisposed||!this._editor.hasModel()||(a.searchString||a.isReplaceRevealed||a.isRegex||a.wholeWord||a.matchCase||a.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor)},r)):a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor))}static _getSearchRange(a,s){return s||a.getFullModelRange()}research(a,s){let l=null;typeof s!="undefined"?s!==null&&(Array.isArray(s)?l=s:l=[s]):l=this._decorations.getFindScopes(),l!==null&&(l=l.map(S=>{if(S.startLineNumber!==S.endLineNumber){let p=S.endLineNumber;return S.endColumn===1&&(p=p-1),new b.Range(S.startLineNumber,1,p,this._editor.getModel().getLineMaxColumn(p))}return S}));let c=this._findMatches(l,!1,e.MATCHES_LIMIT);this._decorations.set(c,l);const g=this._editor.getSelection();let m=this._decorations.getCurrentMatchesPosition(g);if(m===0&&c.length>0){const S=(0,y.findFirstInSorted)(c.map(p=>p.range),p=>b.Range.compareRangesUsingStarts(p,g)>=0);m=S>0?S-1+1:m}this._state.changeMatchInfo(m,this._decorations.getCount(),void 0),a&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let a=this._decorations.getFindScope();return a&&this._editor.revealRangeInCenterIfOutsideViewport(a,0),!0}return!1}_setCurrentFindMatch(a){let s=this._decorations.setCurrentFindMatch(a);this._state.changeMatchInfo(s,this._decorations.getCount(),a),this._editor.setSelection(a),this._editor.revealRangeInCenterIfOutsideViewport(a,0)}_prevSearchPosition(a){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:l,column:c}=a,g=this._editor.getModel();return s||c===1?(l===1?l=g.getLineCount():l--,c=g.getLineMaxColumn(l)):c--,new L.Position(l,c)}_moveToPrevMatch(a,s=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(a);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(a);_&&_.isEmpty()&&_.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),_=this._decorations.matchBeforePosition(a)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;let l=this._decorations.getFindScope(),c=d._getSearchRange(this._editor.getModel(),l);c.getEndPosition().isBefore(a)&&(a=c.getEndPosition()),a.isBefore(c.getStartPosition())&&(a=c.getEndPosition());let{lineNumber:g,column:m}=a,S=this._editor.getModel(),p=new L.Position(g,m),v=S.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(v&&v.range.isEmpty()&&v.range.getStartPosition().equals(p)&&(p=this._prevSearchPosition(p),v=S.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!v){if(!s&&!c.containsRange(v.range))return this._moveToPrevMatch(v.range.getStartPosition(),!0);this._setCurrentFindMatch(v.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(a){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:l,column:c}=a,g=this._editor.getModel();return s||c===g.getLineMaxColumn(l)?(l===g.getLineCount()?l=1:l++,c=1):c++,new L.Position(l,c)}_moveToNextMatch(a){if(!this._state.canNavigateForward()){const l=this._decorations.matchBeforePosition(a);l&&this._setCurrentFindMatch(l);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let l=this._decorations.matchAfterPosition(a);l&&l.isEmpty()&&l.getStartPosition().equals(a)&&(a=this._nextSearchPosition(a),l=this._decorations.matchAfterPosition(a)),l&&this._setCurrentFindMatch(l);return}let s=this._getNextMatch(a,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(a,s,l,c=!1){if(this._cannotFind())return null;let g=this._decorations.getFindScope(),m=d._getSearchRange(this._editor.getModel(),g);m.getEndPosition().isBefore(a)&&(a=m.getStartPosition()),a.isBefore(m.getStartPosition())&&(a=m.getStartPosition());let{lineNumber:S,column:p}=a,v=this._editor.getModel(),_=new L.Position(S,p),w=v.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s);return l&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),w=v.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s)),w?!c&&!m.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),s,l,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,n.parseReplaceString)(this._state.replaceString):n.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let a=this._getReplacePattern(),s=this._editor.getSelection(),l=this._getNextMatch(s.getStartPosition(),!0,!1);if(l)if(s.equalsRange(l.range)){let c=a.buildReplaceString(l.matches,this._state.preserveCase),g=new D.ReplaceCommand(s,c);this._executeEditorCommand("replace",g),this._decorations.setStartPosition(new L.Position(s.startLineNumber,s.startColumn+c.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(l.range)}_findMatches(a,s,l){const c=(a||[null]).map(g=>d._getSearchRange(this._editor.getModel(),g));return this._editor.getModel().findMatches(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s,l)}replaceAll(){if(!this._hasMatches())return;const a=this._decorations.getFindScopes();a===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(a),this.research(!1)}_largeReplaceAll(){const s=new u.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!s)return;let l=s.regex;if(!l.multiline){let w="mu";l.ignoreCase&&(w+="i"),l.global&&(w+="g"),l=new RegExp(l.source,w)}const c=this._editor.getModel(),g=c.getValue(1),m=c.getFullModelRange(),S=this._getReplacePattern();let p;const v=this._state.preserveCase;S.hasReplacementPatterns||v?p=g.replace(l,function(){return S.buildReplaceString(arguments,v)}):p=g.replace(l,S.buildReplaceString(null,v));let _=new D.ReplaceCommandThatPreservesSelection(m,p,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(a){const s=this._getReplacePattern();let l=this._findMatches(a,s.hasReplacementPatterns||this._state.preserveCase,1073741824),c=[];for(let m=0,S=l.length;m<S;m++)c[m]=s.buildReplaceString(l[m].matches,this._state.preserveCase);let g=new i.ReplaceAllCommand(this._editor.getSelection(),l.map(m=>m.range),c);this._executeEditorCommand("replaceAll",g)}selectAllMatches(){if(!this._hasMatches())return;let a=this._decorations.getFindScopes(),l=this._findMatches(a,!1,1073741824).map(g=>new C.Selection(g.range.startLineNumber,g.range.startColumn,g.range.endLineNumber,g.range.endColumn)),c=this._editor.getSelection();for(let g=0,m=l.length;g<m;g++)if(l[g].equalsRange(c)){l=[c].concat(l.slice(0,g)).concat(l.slice(g+1));break}this._editor.setSelections(l)}_executeEditorCommand(a,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(a,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(oe[729],se([1,0,7,272,66,10,167,23,14]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class u extends N.Widget{constructor(i,n,t,r){super();this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=i,this._state=n,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=r.getColorTheme().getColor(b.inputActiveOptionBorder),o=r.getColorTheme().getColor(b.inputActiveOptionForeground),a=r.getColorTheme().getColor(b.inputActiveOptionBackground);this.caseSensitive=this._register(new f.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new f.WholeWordsToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new f.RegexToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(s=>{let l=!1;s.isRegex&&(this.regex.checked=this._state.isRegex,l=!0),s.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,l=!0),s.matchCase&&(this.caseSensitive.checked=this._state.matchCase,l=!0),!this._state.isRevealed&&l&&this._revealTemporarily()})),this._register(y.addDisposableNonBubblingMouseOutListener(this._domNode,s=>this._onMouseOut())),this._register(y.addDisposableListener(this._domNode,"mouseover",s=>this._onMouseOver())),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(i){let n=this._keybindingService.lookupKeybinding(i);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return u.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(i){let n={inputActiveOptionBorder:i.getColor(b.inputActiveOptionBorder),inputActiveOptionForeground:i.getColor(b.inputActiveOptionForeground),inputActiveOptionBackground:i.getColor(b.inputActiveOptionBackground)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}e.FindOptionsWidget=u,u.ID="editor.contrib.findOptionsWidget",(0,C.registerThemingParticipant)((h,i)=>{const n=h.getColor(b.editorWidgetBackground);n&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);const t=h.getColor(b.editorWidgetForeground);t&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${t}; }`);const r=h.getColor(b.widgetShadow);r&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);const d=h.getColor(b.contrastBorder);d&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(oe[730],se([1,0,4,2,3,167]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function L(C,u){return C===1?!0:C===2?!1:u}class b extends f.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new y.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return L(this._isRegexOverride,this._isRegex)}get wholeWord(){return L(this._wholeWordOverride,this._wholeWord)}get matchCase(){return L(this._matchCaseOverride,this._matchCase)}get preserveCase(){return L(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(u,h,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},t=!1;h===0&&(u=0),u>h&&(u=h),this._matchesPosition!==u&&(this._matchesPosition=u,n.matchesPosition=!0,t=!0),this._matchesCount!==h&&(this._matchesCount=h,n.matchesCount=!0,t=!0),typeof i!="undefined"&&(N.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(n)}change(u,h,i=!0){var n;let t={moveCursor:h,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1;const d=this.isRegex,o=this.wholeWord,a=this.matchCase,s=this.preserveCase;typeof u.searchString!="undefined"&&this._searchString!==u.searchString&&(this._searchString=u.searchString,t.searchString=!0,r=!0),typeof u.replaceString!="undefined"&&this._replaceString!==u.replaceString&&(this._replaceString=u.replaceString,t.replaceString=!0,r=!0),typeof u.isRevealed!="undefined"&&this._isRevealed!==u.isRevealed&&(this._isRevealed=u.isRevealed,t.isRevealed=!0,r=!0),typeof u.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==u.isReplaceRevealed&&(this._isReplaceRevealed=u.isReplaceRevealed,t.isReplaceRevealed=!0,r=!0),typeof u.isRegex!="undefined"&&(this._isRegex=u.isRegex),typeof u.wholeWord!="undefined"&&(this._wholeWord=u.wholeWord),typeof u.matchCase!="undefined"&&(this._matchCase=u.matchCase),typeof u.preserveCase!="undefined"&&(this._preserveCase=u.preserveCase),typeof u.searchScope!="undefined"&&(((n=u.searchScope)===null||n===void 0?void 0:n.every(l=>{var c;return(c=this._searchScope)===null||c===void 0?void 0:c.some(g=>!N.Range.equalsRange(g,l))}))||(this._searchScope=u.searchScope,t.searchScope=!0,r=!0)),typeof u.loop!="undefined"&&this._loop!==u.loop&&(this._loop=u.loop,t.loop=!0,r=!0),typeof u.isSearching!="undefined"&&this._isSearching!==u.isSearching&&(this._isSearching=u.isSearching,t.isSearching=!0,r=!0),typeof u.filters!="undefined"&&(this._filters?this._filters.update(u.filters):this._filters=u.filters,t.filters=!0,r=!0),this._isRegexOverride=typeof u.isRegexOverride!="undefined"?u.isRegexOverride:0,this._wholeWordOverride=typeof u.wholeWordOverride!="undefined"?u.wholeWordOverride:0,this._matchCaseOverride=typeof u.matchCaseOverride!="undefined"?u.matchCaseOverride:0,this._preserveCaseOverride=typeof u.preserveCaseOverride!="undefined"?u.preserveCaseOverride:0,d!==this.isRegex&&(r=!0,t.isRegex=!0),o!==this.wholeWord&&(r=!0,t.wholeWord=!0),a!==this.matchCase&&(r=!0,t.matchCase=!0),s!==this.preserveCase&&(r=!0,t.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=b}),define(oe[731],se([1,0,7,45,177,121,66,10,28,13,2,17,8,3,167,543,288,611,23,77,14,55,386]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const m=(0,l.registerIcon)("find-selection",C.Codicon.selection,d.localize(0,null)),S=(0,l.registerIcon)("find-collapsed",C.Codicon.chevronRight,d.localize(1,null)),p=(0,l.registerIcon)("find-expanded",C.Codicon.chevronDown,d.localize(2,null));e.findReplaceIcon=(0,l.registerIcon)("find-replace",C.Codicon.replace,d.localize(3,null)),e.findReplaceAllIcon=(0,l.registerIcon)("find-replace-all",C.Codicon.replaceAll,d.localize(4,null)),e.findPreviousMatchIcon=(0,l.registerIcon)("find-previous-match",C.Codicon.arrowUp,d.localize(5,null)),e.findNextMatchIcon=(0,l.registerIcon)("find-next-match",C.Codicon.arrowDown,d.localize(6,null));const v=d.localize(7,null),_=d.localize(8,null),w=d.localize(9,null),E=d.localize(10,null),I=d.localize(11,null),T=d.localize(12,null),R=d.localize(13,null),B=d.localize(14,null),O=d.localize(15,null),k=d.localize(16,null),A=d.localize(17,null),F=d.localize(18,null,r.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=d.localize(19,null),e.NLS_NO_RESULTS=d.localize(20,null);const P=419,M=275-54;let z=69;const Q=33,ne="ctrlEnterReplaceAll.windows.donotask",X=i.isMacintosh?256:2048;class J{constructor(j){this.afterLineNumber=j,this.heightInPx=Q,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=J;function ie(V,j,re){const ae=!!j.match(/\n/);if(re&&ae&&re.selectionStart>0){V.stopPropagation();return}}function le(V,j,re){const ae=!!j.match(/\n/);if(re&&ae&&re.selectionEnd<re.value.length){V.stopPropagation();return}}class G extends L.Widget{constructor(j,re,ae,Y,U,Z,q,$,H){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=j,this._controller=re,this._state=ae,this._contextViewProvider=Y,this._keybindingService=U,this._contextKeyService=Z,this._storageService=$,this._notificationService=H,this._ctrlEnterReplaceAllWarningPrompted=!!$.getBoolean(ne,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,h.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ee=>this._onStateChanged(ee))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ee=>{if(ee.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ee.hasChanged(131)&&this._tryUpdateWidgetWidth(),ee.hasChanged(2)&&this.updateAccessibilitySupport(),ee.hasChanged(35)){const te=this._codeEditor.getOption(35).addExtraSpaceOnTop;te&&!this._viewZone&&(this._viewZone=new J(0),this._showViewZone()),!te&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Le(this,void 0,void 0,function*(){if(this._isVisible){let ee=yield this._controller.getGlobalBufferTerm();ee&&ee!==this._state.searchString&&(this._state.change({searchString:ee},!1),this._findInput.select())}}))),this._findInputFocused=r.CONTEXT_FIND_INPUT_FOCUSED.bindTo(Z),this._findFocusTracker=this._register(y.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=r.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(Z),this._replaceFocusTracker=this._register(y.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new J(0)),this._applyTheme(q.getColorTheme()),this._register(q.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ee=>{if(ee.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return G.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(j){if(j.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(j.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),j.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),j.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(j.isRevealed||j.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),j.isRegex&&this._findInput.setRegex(this._state.isRegex),j.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),j.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),j.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),j.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),j.searchString||j.matchesCount||j.matchesPosition){let re=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",re),this._updateMatchesCount(),this._updateButtons()}(j.searchString||j.currentMatch)&&this._layoutViewZone(),j.updateHistory&&this._delayedUpdateHistory(),j.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=z+"px",this._state.matchesCount>=r.MATCHES_LIMIT?this._matchesCount.title=F:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let j;if(this._state.matchesCount>0){let re=String(this._state.matchesCount);this._state.matchesCount>=r.MATCHES_LIMIT&&(re+="+");let ae=String(this._state.matchesPosition);ae==="0"&&(ae="?"),j=n.format(e.NLS_MATCHES_LOCATION,ae,re)}else j=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(j)),(0,f.alert)(this._getAriaLabel(j,this._state.currentMatch,this._state.searchString)),z=Math.max(z,this._matchesCount.clientWidth)}_getAriaLabel(j,re,ae){if(j===e.NLS_NO_RESULTS)return ae===""?d.localize(21,null,j):d.localize(22,null,j,ae);if(re){const Y=d.localize(23,null,j,ae,re.startLineNumber+":"+re.startColumn),U=this._codeEditor.getModel();return U&&re.startLineNumber<=U.getLineCount()&&re.startLineNumber>=1?`${U.getLineContent(re.startLineNumber)}, ${Y}`:Y}return d.localize(24,null,j,ae)}_updateToggleSelectionFindButton(){let j=this._codeEditor.getSelection(),re=j?j.startLineNumber!==j.endLineNumber||j.startColumn!==j.endColumn:!1,ae=this._toggleSelectionFind.checked;this._isVisible&&(ae||re)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let j=this._state.searchString.length>0,re=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&j&&re&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&j&&re&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&j),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&j),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let ae=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&ae)}_reveal(){if(this._revealTimeouts.forEach(j=>{clearTimeout(j)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const j=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ae=!!j&&j.startLineNumber!==j.endLineNumber;this._toggleSelectionFind.checked=ae;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let re=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&j){const ae=this._codeEditor.getDomNode();if(ae){const Y=y.getDomNodePagePosition(ae),U=this._codeEditor.getScrolledVisiblePosition(j.getStartPosition()),Z=Y.left+(U?U.left:0),q=U?U.top:0;if(this._viewZone&&q<this._viewZone.heightInPx){j.endLineNumber>j.startLineNumber&&(re=!1);const $=y.getTopLeftOffset(this._domNode).left;Z>$&&(re=!1);const H=this._codeEditor.getScrolledVisiblePosition(j.getEndPosition());Y.left+(H?H.left:0)>$&&(re=!1)}}}this._showViewZone(re)}}_hide(j){this._revealTimeouts.forEach(re=>{clearTimeout(re)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),j&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(j){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ae=this._viewZone;this._viewZoneId!==void 0||!ae||this._codeEditor.changeViewZones(Y=>{ae.heightInPx=this._getHeight(),this._viewZoneId=Y.addZone(ae),this._codeEditor.setScrollTop(j||this._codeEditor.getScrollTop()+ae.heightInPx)})}_showViewZone(j=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new J(0));const ae=this._viewZone;this._codeEditor.changeViewZones(Y=>{if(this._viewZoneId!==void 0){const U=this._getHeight();if(U===ae.heightInPx)return;let Z=U-ae.heightInPx;ae.heightInPx=U,Y.layoutZone(this._viewZoneId),j&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Z);return}else{let U=this._getHeight();if(U-=this._codeEditor.getOption(75).top,U<=0)return;ae.heightInPx=U,this._viewZoneId=Y.addZone(ae),j&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+U)}})}_removeViewZone(){this._codeEditor.changeViewZones(j=>{this._viewZoneId!==void 0&&(j.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(j){let re={inputActiveOptionBorder:j.getColor(s.inputActiveOptionBorder),inputActiveOptionBackground:j.getColor(s.inputActiveOptionBackground),inputActiveOptionForeground:j.getColor(s.inputActiveOptionForeground),inputBackground:j.getColor(s.inputBackground),inputForeground:j.getColor(s.inputForeground),inputBorder:j.getColor(s.inputBorder),inputValidationInfoBackground:j.getColor(s.inputValidationInfoBackground),inputValidationInfoForeground:j.getColor(s.inputValidationInfoForeground),inputValidationInfoBorder:j.getColor(s.inputValidationInfoBorder),inputValidationWarningBackground:j.getColor(s.inputValidationWarningBackground),inputValidationWarningForeground:j.getColor(s.inputValidationWarningForeground),inputValidationWarningBorder:j.getColor(s.inputValidationWarningBorder),inputValidationErrorBackground:j.getColor(s.inputValidationErrorBackground),inputValidationErrorForeground:j.getColor(s.inputValidationErrorForeground),inputValidationErrorBorder:j.getColor(s.inputValidationErrorBorder)};this._findInput.style(re),this._replaceInput.style(re),this._toggleSelectionFind.style(re)}_tryUpdateWidgetWidth(){if(!this._isVisible||!y.isInDOM(this._domNode))return;const j=this._codeEditor.getLayoutInfo();if(j.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ae=j.width,Y=j.minimap.minimapWidth;let U=!1,Z=!1,q=!1;if(this._resized&&y.getTotalWidth(this._domNode)>P){this._domNode.style.maxWidth=`${ae-28-Y-15}px`,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode);return}if(P+28+Y>=ae&&(Z=!0),P+28+Y-z>=ae&&(q=!0),P+28+Y-z>=ae+50&&(U=!0),this._domNode.classList.toggle("collapsed-find-widget",U),this._domNode.classList.toggle("narrow-find-widget",q),this._domNode.classList.toggle("reduced-find-widget",Z),!q&&!U&&(this._domNode.style.maxWidth=`${ae-28-Y-15}px`),this._resized){this._findInput.inputBox.layout();let $=this._findInput.inputBox.element.clientWidth;$>0&&(this._replaceInput.width=$)}else this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode))}_getHeight(){let j=0;return j+=4,j+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(j+=4,j+=this._replaceInput.inputBox.height+2),j+=4,j}_tryUpdateHeight(){const j=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===j?!1:(this._cachedHeight=j,this._domNode.style.height=`${j}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let j=this._codeEditor.getSelections();j.map(re=>{re.endColumn===1&&re.endLineNumber>re.startLineNumber&&(re=re.setEndPosition(re.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(re.endLineNumber-1)));const ae=this._state.currentMatch;return re.startLineNumber!==re.endLineNumber&&!t.Range.equalsRange(re,ae)?re:null}).filter(re=>!!re),j.length&&this._state.change({searchScope:j},!0)}}_onFindInputMouseDown(j){j.middleButton&&j.stopPropagation()}_onFindInputKeyDown(j){if(j.equals(X|3))if(this._keybindingService.dispatchEvent(j,j.target)){j.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),j.preventDefault();return}if(j.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),j.preventDefault();return}if(j.equals(2048|18)){this._codeEditor.focus(),j.preventDefault();return}if(j.equals(16))return ie(j,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(j.equals(18))return le(j,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(j){if(j.equals(X|3))if(this._keybindingService.dispatchEvent(j,j.target)){j.preventDefault();return}else{i.isWindows&&i.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(d.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ne,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),j.preventDefault();return}if(j.equals(2)){this._findInput.focusOnCaseSensitive(),j.preventDefault();return}if(j.equals(1024|2)){this._findInput.focus(),j.preventDefault();return}if(j.equals(2048|18)){this._codeEditor.focus(),j.preventDefault();return}if(j.equals(16))return ie(j,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(j.equals(18))return le(j,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(j){return 0}_keybindingLabelFor(j){let re=this._keybindingService.lookupKeybinding(j);return re?` (${re.getLabel()})`:""}_buildDomNode(){const j=!0,re=!0;this._findInput=this._register(new o.ContextScopedFindInput(null,this._contextViewProvider,{width:M,label:v,placeholder:_,appendCaseSensitiveLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleRegexCommand),validation:$=>{if($.length===0||!this._findInput.getRegex())return null;try{return new RegExp($,"gu"),null}catch(H){return{content:H.message}}},flexibleHeight:j,flexibleWidth:re,flexibleMaxHeight:118,showHistoryHint:()=>(0,a.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown($=>this._onFindInputKeyDown($))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown($=>{$.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),$.preventDefault())})),this._register(this._findInput.onRegexKeyDown($=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),$.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange($=>{this._tryUpdateHeight()&&this._showViewZone()})),i.isLinux&&this._register(this._findInput.onMouseDown($=>this._onFindInputMouseDown($))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new x({label:w+this._keybindingLabelFor(r.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(r.FIND_IDS.PreviousMatchFindAction).run().then(void 0,u.onUnexpectedError)}})),this._nextBtn=this._register(new x({label:E+this._keybindingLabelFor(r.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(r.FIND_IDS.NextMatchFindAction).run().then(void 0,u.onUnexpectedError)}}));let ae=document.createElement("div");ae.className="find-part",ae.appendChild(this._findInput.domNode);const Y=document.createElement("div");Y.className="find-actions",ae.appendChild(Y),Y.appendChild(this._matchesCount),Y.appendChild(this._prevBtn.domNode),Y.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new N.Toggle({icon:m,title:I+this._keybindingLabelFor(r.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let $=this._codeEditor.getSelections();$.map(H=>(H.endColumn===1&&H.endLineNumber>H.startLineNumber&&(H=H.setEndPosition(H.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(H.endLineNumber-1))),H.isEmpty()?null:H)).filter(H=>!!H),$.length&&this._state.change({searchScope:$},!0)}}else this._state.change({searchScope:null},!0)})),Y.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new x({label:T+this._keybindingLabelFor(r.FIND_IDS.CloseFindWidgetCommand),icon:l.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:$=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),$.preventDefault())}})),Y.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new o.ContextScopedReplaceInput(null,void 0,{label:R,placeholder:B,appendPreserveCaseLabel:this._keybindingLabelFor(r.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:j,flexibleWidth:re,flexibleMaxHeight:118,showHistoryHint:()=>(0,a.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown($=>this._onReplaceInputKeyDown($))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange($=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown($=>{$.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),$.preventDefault())})),this._replaceBtn=this._register(new x({label:O+this._keybindingLabelFor(r.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:$=>{$.equals(1024|2)&&(this._closeBtn.focus(),$.preventDefault())}})),this._replaceAllBtn=this._register(new x({label:k+this._keybindingLabelFor(r.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let U=document.createElement("div");U.className="replace-part",U.appendChild(this._replaceInput.domNode);const Z=document.createElement("div");Z.className="replace-actions",U.appendChild(Z),Z.appendChild(this._replaceBtn.domNode),Z.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new x({label:A,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${P}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ae),this._domNode.appendChild(U),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let q=P;this._register(this._resizeSash.onDidStart(()=>{q=y.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange($=>{this._resized=!0;let H=q+$.startX-$.currentX;if(H<P)return;const ee=parseFloat(y.getComputedStyle(this._domNode).maxWidth)||0;H>ee||(this._domNode.style.width=`${H}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const $=y.getTotalWidth(this._domNode);if($<P)return;let H=P;if(!this._resized||$===P){const ee=this._codeEditor.getLayoutInfo();H=ee.width-28-ee.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${H}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const j=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(j!==2)}}e.FindWidget=G,G.ID="editor.contrib.findWidget";class x extends L.Widget{constructor(j){super();this._opts=j;let re="button";this._opts.className&&(re=re+" "+this._opts.className),this._opts.icon&&(re=re+" "+c.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=re,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ae=>{this._opts.onTrigger(),ae.preventDefault()}),this.onkeydown(this._domNode,ae=>{if(ae.equals(10)||ae.equals(3)){this._opts.onTrigger(),ae.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(ae)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(j){this._domNode.classList.toggle("disabled",!j),this._domNode.setAttribute("aria-disabled",String(!j)),this._domNode.tabIndex=j?0:-1}setExpanded(j){this._domNode.setAttribute("aria-expanded",String(!!j)),j?(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(p))):(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(p)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(S)))}}e.SimpleButton=x,(0,c.registerThemingParticipant)((V,j)=>{const re=(pe,ve)=>{ve&&j.addRule(`.monaco-editor ${pe} { background-color: ${ve}; }`)};re(".findMatch",V.getColor(s.editorFindMatchHighlight)),re(".currentFindMatch",V.getColor(s.editorFindMatch)),re(".findScope",V.getColor(s.editorFindRangeHighlight));const ae=V.getColor(s.editorWidgetBackground);re(".find-widget",ae);const Y=V.getColor(s.widgetShadow);Y&&j.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Y}; }`);const U=V.getColor(s.editorFindMatchHighlightBorder);U&&j.addRule(`.monaco-editor .findMatch { border: 1px ${(0,g.isHighContrast)(V.type)?"dotted":"solid"} ${U}; box-sizing: border-box; }`);const Z=V.getColor(s.editorFindMatchBorder);Z&&j.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Z}; padding: 1px; box-sizing: border-box; }`);const q=V.getColor(s.editorFindRangeHighlightBorder);q&&j.addRule(`.monaco-editor .findScope { border: 1px ${(0,g.isHighContrast)(V.type)?"dashed":"solid"} ${q}; }`);const $=V.getColor(s.contrastBorder);$&&j.addRule(`.monaco-editor .find-widget { border: 1px solid ${$}; }`);const H=V.getColor(s.editorWidgetForeground);H&&j.addRule(`.monaco-editor .find-widget { color: ${H}; }`);const ee=V.getColor(s.errorForeground);ee&&j.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ee}; }`);const te=V.getColor(s.editorWidgetResizeBorder);if(te)j.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${te}; }`);else{const pe=V.getColor(s.editorWidgetBorder);pe&&j.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${pe}; }`)}const de=V.getColor(s.toolbarHoverBackground);de&&j.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${de} !important;
		}
	`);const he=V.getColor(s.focusBorder);he&&j.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(oe[306],se([1,0,10,2,8,15,22,167,729,730,731,542,41,96,16,80,43,40,83,14]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const c=524288;function g(k,A="single",F=!1){if(!k.hasModel())return null;const P=k.getSelection();if(A==="single"&&P.startLineNumber===P.endLineNumber||A==="multiple"){if(P.isEmpty()){const W=k.getConfiguredWordAtPosition(P.getStartPosition());if(W&&F===!1)return W.word}else if(k.getModel().getValueLengthInRange(P)<c)return k.getModel().getValueInRange(P)}return null}e.getSelectionSearchString=g;let m=class xi extends f.Disposable{constructor(A,F,P,W){super();this._editor=A,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(F),this._contextKeyService=F,this._storageService=P,this._clipboardService=W,this._updateHistoryDelayer=new y.Delayer(500),this._state=this._register(new u.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(M=>this._onStateChanged(M))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let M=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),M&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(xi.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let A=this._editor.getSelections();A.map(F=>(F.endColumn===1&&F.endLineNumber>F.startLineNumber&&(F=F.setEndPosition(F.endLineNumber-1,this._editor.getModel().getLineMaxColumn(F.endLineNumber-1))),F.isEmpty()?null:F)).filter(F=>!!F),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=N.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A,F){return Le(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let P=Object.assign(Object.assign({},F),{isRevealed:!0});if(A.seedSearchStringFromSelection==="single"){let W=g(this._editor,A.seedSearchStringFromSelection,A.seedSearchStringFromNonEmptySelection);W&&(this._state.isRegex?P.searchString=N.escapeRegExpCharacters(W):P.searchString=W)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){let W=g(this._editor,A.seedSearchStringFromSelection);W&&(P.searchString=W)}if(!P.searchString&&A.seedSearchStringFromGlobalClipboard){let W=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;W&&(P.searchString=W)}if(A.forceRevealReplace||P.isReplaceRevealed?P.isReplaceRevealed=!0:this._findWidgetVisible.get()||(P.isReplaceRevealed=!1),A.updateSearchScope){let W=this._editor.getSelections();W.some(M=>!M.isEmpty())&&(P.searchScope=W)}P.loop=A.loop,this._state.change(P,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))})}start(A,F){return this._start(A,F)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Le(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};m.ID="editor.contrib.findController",m=De([fe(1,r.IContextKeyService),fe(2,s.IStorageService),fe(3,t.IClipboardService)],m),e.CommonFindController=m;let S=class extends m{constructor(A,F,P,W,M,z,Q,ne){super(A,P,Q,ne);this._contextViewService=F,this._keybindingService=W,this._themeService=M,this._notificationService=z,this._widget=null,this._findOptionsWidget=null}_start(A,F){const P=Object.create(null,{_start:{get:()=>super._start}});return Le(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const W=this._editor.getSelection();let M=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":M=!0;break;case"never":M=!1;break;case"multiline":{M=!!W&&W.startLineNumber!==W.endLineNumber;break}default:break}A.updateSearchScope=A.updateSearchScope||M,yield P._start.call(this,A,F),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new h.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};S=De([fe(1,d.IContextViewService),fe(2,r.IContextKeyService),fe(3,o.IKeybindingService),fe(4,l.IThemeService),fe(5,a.INotificationService),fe(6,s.IStorageService),fe(7,t.IClipboardService)],S),e.FindController=S,e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:r.ContextKeyExpr.or(L.EditorContextKeys.focus,r.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(k,A,F)=>{const P=m.get(A);return P?P.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop}):!1});const p={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class v extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:p})}run(A,F,P){return Le(this,void 0,void 0,function*(){const W=m.get(F);if(W){const M=P?{searchString:P.searchString,replaceString:P.replaceString,isReplaceRevealed:P.replaceString!==void 0,isRegex:P.isRegex,wholeWord:P.matchWholeWord,matchCase:P.isCaseSensitive,preserveCase:P.preserveCase}:{};yield W.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getState().searchString.length===0&&F.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(P==null?void 0:P.findInSelection)||!1,loop:F.getOption(35).loop},M),W.setGlobalBufferTerm(W.getState().searchString)}})}}e.StartFindWithArgsAction=v;class _ extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,F){return Le(this,void 0,void 0,function*(){const P=m.get(F);P&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(35).loop}),P.setGlobalBufferTerm(P.getState().searchString))})}}e.StartFindWithSelectionAction=_;class w extends D.EditorAction{run(A,F){return Le(this,void 0,void 0,function*(){const P=m.get(F);P&&!this._run(P)&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getState().searchString.length===0&&F.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(35).loop}),this._run(P))})}}e.MatchFindAction=w;class E extends w{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class I extends w{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=I;class T extends D.EditorAction{run(A,F){return Le(this,void 0,void 0,function*(){const P=m.get(F);if(!P)return;const W=F.getOption(35).seedSearchStringFromSelection==="selection";let M=null;F.getOption(35).seedSearchStringFromSelection!=="never"&&(M=g(F,"single",W)),M&&P.setSearchString(M),this._run(P)||(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(35).loop}),this._run(P))})}}e.SelectionMatchFindAction=T;class R extends T{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=R;class B extends T{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=B,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:i.localize(12,null),alias:"Replace",precondition:r.ContextKeyExpr.or(L.EditorContextKeys.focus,r.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(k,A,F)=>{if(!A.hasModel()||A.getOption(81))return!1;const P=m.get(A);if(!P)return!1;const W=A.getSelection(),M=P.isFindInputFocused(),z=!W.isEmpty()&&W.startLineNumber===W.endLineNumber&&A.getOption(35).seedSearchStringFromSelection!=="never"&&!M,Q=M||z?2:1;return P.start({forceRevealReplace:!0,seedSearchStringFromSelection:z?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:Q,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop})}),(0,D.registerEditorContribution)(m.ID,S),(0,D.registerEditorAction)(v),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(R),(0,D.registerEditorAction)(B);const O=D.EditorCommand.bindToContribution(m.get);(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,r.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:k=>k.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:k=>k.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:k=>k.toggleRegex(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:k=>k.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:k=>k.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replace(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|1024|22}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replace(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replaceAll(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|512|3}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.replaceAll(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,D.registerEditorCommand)(new O({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:k=>k.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:512|3}}))}),define(oe[732],se([1,0,28,35,545,77,14]),function(K,e,y,f,N,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,D.registerIcon)("folding-expanded",y.Codicon.chevronDown,(0,N.localize)(0,null)),e.foldingCollapsedIcon=(0,D.registerIcon)("folding-collapsed",y.Codicon.chevronRight,(0,N.localize)(1,null));class b{constructor(u){this.editor=u,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(u,h){return h?b.HIDDEN_RANGE_DECORATION:u?this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}deltaDecorations(u,h){return this.editor.deltaDecorations(u,h)}changeDecorations(u){return this.editor.changeDecorations(u)}}e.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=f.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=f.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(oe[733],se([1,0,10,13,59,2,8,19,146,15,22,27,31,473,474,475,476,544,16,23,14,732,261,40,78,71,57,20,387]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const E=new s.RawContextKey("foldingEnabled",!1);let I=class zi extends D.Disposable{constructor(V,j,re,ae,Y,U){super();this.contextKeyService=j,this.languageConfigurationService=re,this.languageFeaturesService=U,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new D.DisposableStore),this.editor=V;const Z=this.editor.getOptions();this._isEnabled=Z.get(37),this._useFoldingProviders=Z.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=Z.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Z.get(40),this._maxFoldingRegions=Z.get(41),this.updateDebounceInfo=Y.for(U.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new g.FoldingDecorationProvider(V),this.foldingDecorationProvider.autoHideFoldingControls=Z.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Z.get(39),this.foldingEnabled=E.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=q=>{this._tooManyRegionsNotified||(ae.notify({severity:p.default.Warning,sticky:!0,message:a.localize(0,null,q)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(q=>{if(q.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),q.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),q.hasChanged(99)||q.hasChanged(39)){const $=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=$.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=$.get(39),this.triggerFoldingModelChanged()}q.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),q.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),q.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(V){return V.getContribution(zi.ID)}saveViewState(){let V=this.editor.getModel();if(!V||!this._isEnabled||V.isTooLargeForTokenization())return{};if(this.foldingModel){let j=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),re=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:j,lineCount:V.getLineCount(),provider:re,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(V){let j=this.editor.getModel();if(!j||!this._isEnabled||j.isTooLargeForTokenization()||!this.hiddenRangeModel||!V||V.lineCount!==j.getLineCount()||(this._currentModelHasFoldedImports=!!V.foldedImports,!V.collapsedRegions))return;(V.provider===m.ID_SYNTAX_PROVIDER||V.provider===o.ID_INIT_PROVIDER)&&(this.foldingStateMemento=V);const re=V.collapsedRegions;if(this.hiddenRangeModel.applyMemento(re)){const ae=this.getFoldingModel();ae&&ae.then(Y=>{if(Y){this._restoringViewState=!0;try{Y.applyMemento(re)}finally{this._restoringViewState=!1}}}).then(void 0,f.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let V=this.editor.getModel();!this._isEnabled||!V||V.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(V,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new r.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(j=>this.onHiddenRangesChanges(j))),this.updateScheduler=new y.Delayer(this.updateDebounceInfo.get(V)),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(j=>this.onDidChangeModelContent(j))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(j=>this.onEditorMouseDown(j))),this.localToDispose.add(this.editor.onMouseUp(j=>this.onEditorMouseUp(j))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(V){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new d.IndentRangeProvider(V,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let j=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(j.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new o.InitializingRangeProvider(V,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);j.length>0&&(this.rangeProvider=new m.SyntaxRangeProvider(V,j,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(V){var j;(j=this.hiddenRangeModel)===null||j===void 0||j.notifyChangeModelContent(V),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const V=this.foldingModel;if(!V)return null;const j=new _.StopWatch(!0),re=this.getRangeProvider(V.textModel);let ae=this.foldingRegionPromise=(0,y.createCancelablePromise)(Y=>re.compute(Y,this._notifyTooManyRegions));return ae.then(Y=>{if(Y&&ae===this.foldingRegionPromise){let U;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const H=Y.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);H&&(U=C.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=H)}let Z=this.editor.getSelections(),q=Z?Z.map(H=>H.startLineNumber):[];V.update(Y,q),U&&U.restore(this.editor);const $=this.updateDebounceInfo.update(V.textModel,j.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=$)}return V})}).then(void 0,V=>((0,f.onUnexpectedError)(V),null)))}onHiddenRangesChanges(V){if(this.hiddenRangeModel&&V.length&&!this._restoringViewState){let j=this.editor.getSelections();j&&this.hiddenRangeModel.adjustSelections(j)&&this.editor.setSelections(j)}this.editor.setHiddenAreas(V)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const V=this.getFoldingModel();!V||V.then(j=>{if(j){let re=this.editor.getSelections();if(re&&re.length>0){let ae=[];for(let Y of re){let U=Y.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(U)&&ae.push(...j.getAllRegionsAtLine(U,Z=>Z.isCollapsed&&U>Z.startLineNumber))}ae.length&&(j.toggleCollapseState(ae),this.reveal(re[0].getPosition()))}}}).then(void 0,f.onUnexpectedError)}onEditorMouseDown(V){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!V.target||!V.target.range||!V.event.leftButton&&!V.event.middleButton)return;const j=V.target.range;let re=!1;switch(V.target.type){case 4:{const ae=V.target.detail,Y=V.target.element.offsetLeft;if(ae.offsetX-Y<5)return;re=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!V.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let ae=this.editor.getModel();if(ae&&j.startColumn===ae.getLineMaxColumn(j.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:j.startLineNumber,iconClicked:re}}onEditorMouseUp(V){const j=this.foldingModel;if(!j||!this.mouseDownInfo||!V.target)return;let re=this.mouseDownInfo.lineNumber,ae=this.mouseDownInfo.iconClicked,Y=V.target.range;if(!Y||Y.startLineNumber!==re)return;if(ae){if(V.target.type!==4)return}else{let Z=this.editor.getModel();if(!Z||Y.startColumn!==Z.getLineMaxColumn(re))return}let U=j.getRegionAtLine(re);if(U&&U.startLineNumber===re){let Z=U.isCollapsed;if(ae||Z){let q=V.event.altKey,$=[];if(q){let H=te=>!te.containedBy(U)&&!U.containedBy(te),ee=j.getRegionsInside(null,H);for(const te of ee)te.isCollapsed&&$.push(te);$.length===0&&($=ee)}else{let H=V.event.middleButton||V.event.shiftKey;if(H)for(const ee of j.getRegionsInside(U))ee.isCollapsed===Z&&$.push(ee);(Z||!H||$.length===0)&&$.push(U)}j.toggleCollapseState($),this.reveal({lineNumber:re,column:1})}}}reveal(V){this.editor.revealPositionInCenterIfOutsideViewport(V,0)}};I.ID="editor.contrib.folding",I=De([fe(1,s.IContextKeyService),fe(2,n.ILanguageConfigurationService),fe(3,S.INotificationService),fe(4,v.ILanguageFeatureDebounceService),fe(5,w.ILanguageFeaturesService)],I),e.FoldingController=I;class T extends u.EditorAction{runEditorCommand(V,j,re){const ae=V.get(n.ILanguageConfigurationService),Y=I.get(j);if(!Y)return;const U=Y.getFoldingModel();if(U)return this.reportTelemetry(V,j),U.then(Z=>{if(Z){this.invoke(Y,Z,j,re,ae);const q=j.getSelection();q&&Y.reveal(q.getStartPosition())}})}getSelectedLines(V){let j=V.getSelections();return j?j.map(re=>re.startLineNumber):[]}getLineNumbers(V,j){return V&&V.selectionLines?V.selectionLines.map(re=>re+1):this.getSelectedLines(j)}run(V,j){}}function R(x){if(!b.isUndefined(x)){if(!b.isObject(x))return!1;const V=x;if(!b.isUndefined(V.levels)&&!b.isNumber(V.levels)||!b.isUndefined(V.direction)&&!b.isString(V.direction)||!b.isUndefined(V.selectionLines)&&(!b.isArray(V.selectionLines)||!V.selectionLines.every(b.isNumber)))return!1}return!0}class B extends T{constructor(){super({id:"editor.unfold",label:a.localize(1,null),alias:"Unfold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(V,j,re,ae){let Y=ae&&ae.levels||1,U=this.getLineNumbers(ae,re);ae&&ae.direction==="up"?(0,t.setCollapseStateLevelsUp)(j,!1,Y,U):(0,t.setCollapseStateLevelsDown)(j,!1,Y,U)}}class O extends T{constructor(){super({id:"editor.unfoldRecursively",label:a.localize(2,null),alias:"Unfold Recursively",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|89),weight:100}})}invoke(V,j,re,ae){(0,t.setCollapseStateLevelsDown)(j,!1,Number.MAX_VALUE,this.getSelectedLines(re))}}class k extends T{constructor(){super({id:"editor.fold",label:a.localize(3,null),alias:"Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(V,j,re,ae){let Y=this.getLineNumbers(ae,re);const U=ae&&ae.levels,Z=ae&&ae.direction;typeof U!="number"&&typeof Z!="string"?(0,t.setCollapseStateUp)(j,!0,Y):Z==="up"?(0,t.setCollapseStateLevelsUp)(j,!0,U||1,Y):(0,t.setCollapseStateLevelsDown)(j,!0,U||1,Y)}}class A extends T{constructor(){super({id:"editor.toggleFold",label:a.localize(4,null),alias:"Toggle Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|42),weight:100}})}invoke(V,j,re){const ae=this.getSelectedLines(re);(0,t.toggleCollapseState)(j,1,ae)}}class F extends T{constructor(){super({id:"editor.foldRecursively",label:a.localize(5,null),alias:"Fold Recursively",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|87),weight:100}})}invoke(V,j,re){let ae=this.getSelectedLines(re);(0,t.setCollapseStateLevelsDown)(j,!0,Number.MAX_VALUE,ae)}}class P extends T{constructor(){super({id:"editor.foldAllBlockComments",label:a.localize(6,null),alias:"Fold All Block Comments",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|85),weight:100}})}invoke(V,j,re,ae,Y){if(j.regions.hasTypes())(0,t.setCollapseStateForType)(j,i.FoldingRangeKind.Comment.value,!0);else{const U=re.getModel();if(!U)return;const Z=Y.getLanguageConfiguration(U.getLanguageId()).comments;if(Z&&Z.blockCommentStartToken){let q=new RegExp("^\\s*"+(0,L.escapeRegExpCharacters)(Z.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(j,q,!0)}}}}class W extends T{constructor(){super({id:"editor.foldAllMarkerRegions",label:a.localize(7,null),alias:"Fold All Regions",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|29),weight:100}})}invoke(V,j,re,ae,Y){if(j.regions.hasTypes())(0,t.setCollapseStateForType)(j,i.FoldingRangeKind.Region.value,!0);else{const U=re.getModel();if(!U)return;const Z=Y.getLanguageConfiguration(U.getLanguageId()).foldingRules;if(Z&&Z.markers&&Z.markers.start){let q=new RegExp(Z.markers.start);(0,t.setCollapseStateForMatchingLines)(j,q,!0)}}}}class M extends T{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:a.localize(8,null),alias:"Unfold All Regions",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|30),weight:100}})}invoke(V,j,re,ae,Y){if(j.regions.hasTypes())(0,t.setCollapseStateForType)(j,i.FoldingRangeKind.Region.value,!1);else{const U=re.getModel();if(!U)return;const Z=Y.getLanguageConfiguration(U.getLanguageId()).foldingRules;if(Z&&Z.markers&&Z.markers.start){let q=new RegExp(Z.markers.start);(0,t.setCollapseStateForMatchingLines)(j,q,!1)}}}}class z extends T{constructor(){super({id:"editor.foldAllExcept",label:a.localize(9,null),alias:"Fold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|83),weight:100}})}invoke(V,j,re){let ae=this.getSelectedLines(re);(0,t.setCollapseStateForRest)(j,!0,ae)}}class Q extends T{constructor(){super({id:"editor.unfoldAllExcept",label:a.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|81),weight:100}})}invoke(V,j,re){let ae=this.getSelectedLines(re);(0,t.setCollapseStateForRest)(j,!1,ae)}}class ne extends T{constructor(){super({id:"editor.foldAll",label:a.localize(11,null),alias:"Fold All",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21),weight:100}})}invoke(V,j,re){(0,t.setCollapseStateLevelsDown)(j,!0)}}class X extends T{constructor(){super({id:"editor.unfoldAll",label:a.localize(12,null),alias:"Unfold All",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|40),weight:100}})}invoke(V,j,re){(0,t.setCollapseStateLevelsDown)(j,!1)}}class J extends T{getFoldingLevel(){return parseInt(this.id.substr(J.ID_PREFIX.length))}invoke(V,j,re){(0,t.setCollapseStateAtLevel)(j,this.getFoldingLevel(),!0,this.getSelectedLines(re))}}J.ID_PREFIX="editor.foldLevel",J.ID=x=>J.ID_PREFIX+x;class ie extends T{constructor(){super({id:"editor.gotoParentFold",label:a.localize(13,null),alias:"Go to Parent Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(V,j,re){let ae=this.getSelectedLines(re);if(ae.length>0){let Y=(0,t.getParentFoldLine)(ae[0],j);Y!==null&&re.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class le extends T{constructor(){super({id:"editor.gotoPreviousFold",label:a.localize(14,null),alias:"Go to Previous Folding Range",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(V,j,re){let ae=this.getSelectedLines(re);if(ae.length>0){let Y=(0,t.getPreviousFoldLine)(ae[0],j);Y!==null&&re.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class G extends T{constructor(){super({id:"editor.gotoNextFold",label:a.localize(15,null),alias:"Go to Next Folding Range",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(V,j,re){let ae=this.getSelectedLines(re);if(ae.length>0){let Y=(0,t.getNextFoldLine)(ae[0],j);Y!==null&&re.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}(0,u.registerEditorContribution)(I.ID,I),(0,u.registerEditorAction)(B),(0,u.registerEditorAction)(O),(0,u.registerEditorAction)(k),(0,u.registerEditorAction)(F),(0,u.registerEditorAction)(ne),(0,u.registerEditorAction)(X),(0,u.registerEditorAction)(P),(0,u.registerEditorAction)(W),(0,u.registerEditorAction)(M),(0,u.registerEditorAction)(z),(0,u.registerEditorAction)(Q),(0,u.registerEditorAction)(A),(0,u.registerEditorAction)(ie),(0,u.registerEditorAction)(le),(0,u.registerEditorAction)(G);for(let x=1;x<=7;x++)(0,u.registerInstantiatedEditorAction)(new J({id:J.ID(x),label:a.localize(16,null,x),alias:`Fold Level ${x}`,precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21+x),weight:100}}));e.foldBackgroundBackground=(0,l.registerColor)("editor.foldBackground",{light:(0,l.transparent)(l.editorSelectionBackground,.3),dark:(0,l.transparent)(l.editorSelectionBackground,.3),hcDark:null,hcLight:null},a.localize(17,null),!0),e.editorFoldForeground=(0,l.registerColor)("editorGutter.foldingControlForeground",{dark:l.iconForeground,light:l.iconForeground,hcDark:l.iconForeground,hcLight:l.iconForeground},a.localize(18,null)),(0,c.registerThemingParticipant)((x,V)=>{const j=x.getColor(e.foldBackgroundBackground);j&&V.addRule(`.monaco-editor .folded-background { background-color: ${j}; }`);const re=x.getColor(e.editorFoldForeground);re&&V.addRule(`
		.monaco-editor .cldr${c.ThemeIcon.asCSSSelector(g.foldingExpandedIcon)},
		.monaco-editor .cldr${c.ThemeIcon.asCSSSelector(g.foldingCollapsedIcon)} {
			color: ${re} !important;
		}
		`)})}),define(oe[734],se([1,0,7,232,18,2,11,3,35,27,263,87,16,9,43,98,10,22,4]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const l=y.$;let c=class Vi extends D.Disposable{constructor(w,E,I){super();this._editor=w,this._instantiationService=E,this._keybindingService=I,this._widget=this._register(this._instantiationService.createInstance(S,this._editor)),this._decorationsChangerListener=this._register(new g(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const T of i.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(T,this._editor));this._participants.sort((T,R)=>T.hoverOrdinal-R.hoverOrdinal),this._computer=new v(this._editor,this._participants),this._hoverOperation=this._register(new h.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(T=>{this._withResult(T.value,T.isComplete,T.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(y.addStandardDisposableListener(this._widget.getDomNode(),"keydown",T=>{T.equals(9)&&this.hide()})),this._register(u.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(w){const E=[];for(const T of this._participants)if(T.suggestHoverAnchor){const R=T.suggestHoverAnchor(w);R&&E.push(R)}const I=w.target;if(I.type===6&&E.push(new i.HoverRangeAnchor(0,I.range)),I.type===7){const T=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!I.detail.isAfterLines&&typeof I.detail.horizontalDistanceToText=="number"&&I.detail.horizontalDistanceToText<T&&E.push(new i.HoverRangeAnchor(0,I.range))}return E.length===0?!1:(E.sort((T,R)=>R.priority-T.priority),this._startShowingAt(E[0],0,!1),!0)}startShowingAtRange(w,E,I){this._startShowingAt(new i.HoverRangeAnchor(0,w),E,I)}_startShowingAt(w,E,I){if(!(this._computer.anchor&&this._computer.anchor.equals(w))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!w.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const T=this._messages.filter(R=>R.isValidForHoverAnchor(w));if(T.length===0)this.hide();else{if(T.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(w,T)}}this._computer.anchor=w,this._computer.shouldFocus=I,this._hoverOperation.start(E)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(w){return this._widget.getDomNode().contains(w)}_addLoadingMessage(w){if(this._computer.anchor){for(const E of this._participants)if(E.createLoadingMessage){const I=E.createLoadingMessage(this._computer.anchor);if(I)return w.slice(0).concat([I])}}return w}_withResult(w,E,I){this._messages=I?this._addLoadingMessage(w):w,this._messagesAreComplete=E,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):E&&this.hide()}_renderMessages(w,E){let I=1073741824,T=E[0].range,R=null;for(const P of E)I=Math.min(I,P.range.startColumn),T=b.Range.plusRange(T,P.range),P.forceShowAtRange&&(R=P.range);const B=new D.DisposableStore,O=B.add(new p(this._keybindingService)),k=document.createDocumentFragment();let A=null;const F={fragment:k,statusBar:O,setColorPicker:P=>A=P,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const P of this._participants){const W=E.filter(M=>M.owner===P);W.length>0&&B.add(P.renderHoverParts(F,W))}if(O.hasContent&&k.appendChild(O.hoverElement),k.hasChildNodes()){if(T){const P=this._decorationsChangerListener.deltaDecorations([],[{range:T,options:Vi._DECORATION_OPTIONS}]);B.add((0,D.toDisposable)(()=>{this._decorationsChangerListener.deltaDecorations(P,[])}))}this._widget.showAt(k,new m(A,R?R.getStartPosition():new L.Position(w.range.startLineNumber,I),R||T,this._editor.getOption(53).above,this._computer.shouldFocus,B))}else B.dispose()}};c._DECORATION_OPTIONS=C.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),c=De([fe(1,t.IInstantiationService),fe(2,r.IKeybindingService)],c),e.ContentHoverController=c;class g extends D.Disposable{constructor(w){super();this._editor=w,this._onDidChangeModelDecorations=this._register(new s.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(E=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(E)}))}deltaDecorations(w,E){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(w,E)}finally{this._isChangingDecorations=!1}}}class m{constructor(w,E,I,T,R,B){this.colorPicker=w,this.showAtPosition=E,this.showAtRange=I,this.preferAbove=T,this.stoleFocus=R,this.disposables=B}}let S=class Hi extends D.Disposable{constructor(w,E){super();this._editor=w,this._contextKeyService=E,this.allowEditorOverflow=!0,this._hoverVisibleKey=a.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new f.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(I=>{I.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var w,E;return(E=(w=this._visibleData)===null||w===void 0?void 0:w.showAtPosition)!==null&&E!==void 0?E:null}get isColorPickerVisible(){var w;return Boolean((w=this._visibleData)===null||w===void 0?void 0:w.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Hi.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let w=this._visibleData.preferAbove;return!w&&this._contextKeyService.getContextKeyValue(d.Context.Visible.key)&&(w=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:w?[1,2]:[2,1]}}_setVisibleData(w){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=w,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const w=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:E,lineHeight:I}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${E}px`,this._hover.contentsDomNode.style.lineHeight=`${I/E}`,this._hover.contentsDomNode.style.maxHeight=`${w}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(E=>this._editor.applyFontInfo(E))}showAt(w,E){this._setVisibleData(E),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(w),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),E.stoleFocus&&this._hover.containerDomNode.focus(),E.colorPicker&&E.colorPicker.layout()}hide(){if(this._visibleData){const w=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),w&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const w=this._hover.scrollbar.getScrollDimensions();if(w.scrollWidth>w.width){const I=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==I&&(this._hover.contentsDomNode.style.paddingBottom=I,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};S.ID="editor.contrib.contentHoverWidget",S=De([fe(1,n.IContextKeyService)],S),e.ContentHoverWidget=S;let p=class extends D.Disposable{constructor(w){super();this._keybindingService=w,this._hasContent=!1,this.hoverElement=l("div.hover-row.status-bar"),this.actionsElement=y.append(this.hoverElement,l("div.actions"))}get hasContent(){return this._hasContent}addAction(w){const E=this._keybindingService.lookupKeybinding(w.commandId),I=E?E.getLabel():null;return this._hasContent=!0,this._register(f.HoverAction.render(this.actionsElement,w,I))}append(w){const E=y.append(this.actionsElement,w);return this._hasContent=!0,E}};p=De([fe(0,r.IKeybindingService)],p);class v{constructor(w,E){this._editor=w,this._participants=E,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(w){this._anchor=w}get shouldFocus(){return this._shouldFocus}set shouldFocus(w){this._shouldFocus=w}static _getLineDecorations(w,E){if(E.type!==1)return[];const I=w.getModel(),T=E.range.startLineNumber;if(T>I.getLineCount())return[];const R=I.getLineMaxColumn(T);return w.getLineDecorations(T).filter(B=>{if(B.options.isWholeLine)return!0;const O=B.range.startLineNumber===T?B.range.startColumn:1,k=B.range.endLineNumber===T?B.range.endColumn:R;if(B.options.showIfCollapsed){if(O>E.range.startColumn+1||E.range.endColumn-1>k)return!1}else if(O>E.range.startColumn||E.range.endColumn>k)return!1;return!0})}computeAsync(w){const E=this._anchor;if(!this._editor.hasModel()||!E)return o.AsyncIterableObject.EMPTY;const I=v._getLineDecorations(this._editor,E);return o.AsyncIterableObject.merge(this._participants.map(T=>T.computeAsync?T.computeAsync(E,I,w):o.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const w=v._getLineDecorations(this._editor,this._anchor);let E=[];for(const I of this._participants)E=E.concat(I.computeSync(this._anchor,w));return(0,N.coalesce)(E)}}}),define(oe[735],se([1,0,10,13,113,15,3,24,22,35,89,54,561,14,477]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class oi{constructor(l,c){this.decorationIds=[],this.editor=l,this.editorWorkerService=c}static get(l){return l.getContribution(oi.ID)}dispose(){}run(l,c){this.currentRequest&&this.currentRequest.cancel();const g=this.editor.getSelection(),m=this.editor.getModel();if(!m||!g)return;let S=g;if(S.startLineNumber!==S.endLineNumber)return;const p=new N.EditorState(this.editor,1|4),v=m.uri;return this.editorWorkerService.canNavigateValueSet(v)?(this.currentRequest=(0,y.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(v,S,c)),this.currentRequest.then(_=>{if(!_||!_.range||!_.value||!p.validate(this.editor))return;let w=L.Range.lift(_.range),E=_.range,I=_.value.length-(S.endColumn-S.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+_.value.length},I>1&&(S=new b.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn+I-1));const T=new r.InPlaceReplaceCommand(w,S,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(l,T),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:E,options:oi.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,y.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(f.onUnexpectedError)}).catch(f.onUnexpectedError)):Promise.resolve(void 0)}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=u.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),d=De([fe(1,h.IEditorWorkerService)],d);class o extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:n.localize(0,null),alias:"Replace with Previous Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(l,c){const g=d.get(c);return g?g.run(this.id,!0):Promise.resolve(void 0)}}class a extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:n.localize(1,null),alias:"Replace with Next Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(l,c){const g=d.get(c);return g?g.run(this.id,!1):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(d.ID,d),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(a),(0,t.registerThemingParticipant)((s,l)=>{const c=s.getColor(i.editorBracketMatchBorder);c&&l.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${c}; }`)})}),define(oe[736],se([1,0,18,10,21,30,13,4,2,8,25,15,29,11,3,22,35,31,568,16,23,14,20,71,57]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new l.RawContextKey("LinkedEditingInputVisible",!1);const v="linked-editing-decoration";let _=class si extends C.Disposable{constructor(R,B,O,k,A){super();this.languageConfigurationService=k,this._localToDispose=this._register(new C.DisposableStore),this._editor=R,this._providers=O.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(B),this._debounceInformation=A.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new C.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(62)||F.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(R){return R.getContribution(si.ID)}reinitialize(R){const B=this._editor.getModel(),O=B!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(B);if(O===this._enabled&&!R||(this._enabled=O,this.clearRanges(),this._localToDispose.clear(),!O||B===null))return;this._localToDispose.add(b.Event.runAndSubscribe(B.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition()}));const k=new f.Delayer(this._debounceInformation.get(B)),A=()=>{var W;this._rangeUpdateTriggerPromise=k.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(B))},F=new f.Delayer(0),P=W=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{A()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const M=B.getDecorationRange(this._currentDecorations[0]);if(M&&W.changes.every(z=>M.intersectRanges(z.range))){P(this._currentDecorations);return}}A()})),this._localToDispose.add({dispose:()=>{k.dispose(),F.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._currentDecorations||R.length===0)return;const B=this._editor.getModel(),O=B.getDecorationRange(R[0]);if(!O||O.startLineNumber!==O.endLineNumber)return this.clearRanges();const k=B.getValueInRange(O);if(this._currentWordPattern){const F=k.match(this._currentWordPattern);if((F?F[0].length:0)!==k.length)return this.clearRanges()}let A=[];for(let F=1,P=R.length;F<P;F++){const W=B.getDecorationRange(R[F]);if(!!W)if(W.startLineNumber!==W.endLineNumber)A.push({range:W,text:k});else{let M=B.getValueInRange(W),z=k,Q=W.startColumn,ne=W.endColumn;const X=u.commonPrefixLength(M,z);Q+=X,M=M.substr(X),z=z.substr(X);const J=u.commonSuffixLength(M,z);ne-=J,M=M.substr(0,M.length-J),z=z.substr(0,z.length-J),(Q!==ne||z.length!==0)&&A.push({range:new r.Range(W.startLineNumber,Q,W.endLineNumber,ne),text:z})}}if(A.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",A),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const B=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1){this.clearRanges();return}const O=this._editor.getModel(),k=O.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===k){if(B.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const F=O.getDecorationRange(this._currentDecorations[0]);if(F&&F.containsPosition(B))return}}this._currentRequestPosition=B,this._currentRequestModelVersion=k;const A=(0,f.createCancelablePromise)(F=>Le(this,void 0,void 0,function*(){try{const P=new p.StopWatch(!1),W=yield I(this._providers,O,B,F);if(this._debounceInformation.update(O,P.elapsed()),A!==this._currentRequest||(this._currentRequest=null,k!==O.getVersionId()))return;let M=[];(W==null?void 0:W.ranges)&&(M=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let z=!1;for(let ne=0,X=M.length;ne<X;ne++)if(r.Range.containsPosition(M[ne],B)){if(z=!0,ne!==0){const J=M[ne];M.splice(ne,1),M.unshift(J)}break}if(!z){this.clearRanges();return}const Q=M.map(ne=>({range:ne,options:si.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,Q)}catch(P){(0,L.isCancellationError)(P)||(0,L.onUnexpectedError)(P),(this._currentRequest===A||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=A,A})}};_.ID="editor.contrib.linkedEditing",_.DECORATION=o.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:v}),_=De([fe(1,l.IContextKeyService),fe(2,m.ILanguageFeaturesService),fe(3,a.ILanguageConfigurationService),fe(4,S.ILanguageFeatureDebounceService)],_),e.LinkedEditingContribution=_;class w extends i.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:s.localize(0,null),alias:"Start Linked Editing",precondition:l.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(R,B){const O=R.get(n.ICodeEditorService),[k,A]=Array.isArray(B)&&B||[void 0,void 0];return h.URI.isUri(k)&&t.Position.isIPosition(A)?O.openCodeEditor({resource:k},O.getActiveCodeEditor()).then(F=>{!F||(F.setPosition(A),F.invokeWithinContext(P=>(this.reportTelemetry(P,F),this.run(P,F))))},L.onUnexpectedError):super.runCommand(R,B)}run(R,B){const O=_.get(B);return O?Promise.resolve(O.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=w;const E=i.EditorCommand.bindToContribution(_.get);(0,i.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function I(T,R,B,O){const k=T.ordered(R);return(0,f.first)(k.map(A=>()=>Le(this,void 0,void 0,function*(){try{return yield A.provideLinkedEditingRanges(R,B,O)}catch(F){(0,L.onUnexpectedExternalError)(F);return}})),A=>!!A&&y.isNonEmptyArray(A==null?void 0:A.ranges))}e.editorLinkedEditingBackground=(0,c.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},s.localize(1,null)),(0,g.registerThemingParticipant)((T,R)=>{const B=T.getColor(e.editorLinkedEditingBackground);B&&R.addRule(`.monaco-editor .${v} { background: ${B}; border-left-color: ${B}; }`)}),(0,i.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,R,B)=>{const{linkedEditingRangeProvider:O}=T.get(m.ILanguageFeaturesService);return I(O,R,B,N.CancellationToken.None)}),(0,i.registerEditorContribution)(_.ID,_),(0,i.registerEditorAction)(w)}),define(oe[737],se([1,0,10,21,13,65,2,51,17,42,57,25,15,35,71,20,193,614,569,40,49,23,14,392]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let S=class Ui extends L.Disposable{constructor(I,T,R,B,O){super();this.editor=I,this.openerService=T,this.notificationService=R,this.languageFeaturesService=B,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=O.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new y.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const k=this._register(new o.ClickLinkGesture(I));this._register(k.onMouseMoveOrRelevantKeyDown(([A,F])=>{this._onEditorMouseMove(A,F)})),this._register(k.onExecute(A=>{this.onEditorMouseUp(A)})),this._register(k.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this._register(I.onDidChangeConfiguration(A=>{!A.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(I.onDidChangeModelContent(A=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(I.onDidChangeModel(A=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(I.onDidChangeModelLanguage(A=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(A=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(I){return I.getContribution(Ui.ID)}computeLinksNow(){return Le(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const I=this.editor.getModel();if(!!this.providers.has(I)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,y.createCancelablePromise)(T=>(0,a.getLinks)(this.providers,I,T));try{const T=new h.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(I,T.elapsed()),I.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(T){(0,N.onUnexpectedError)(T)}finally{this.computePromise=null}}})}updateDecorations(I){const T=this.editor.getOption(70)==="altKey",R=[],B=Object.keys(this.currentOccurrences);for(const A of B){const F=this.currentOccurrences[A];R.push(F.decorationId)}const O=[];if(I)for(const A of I)O.push(v.decoration(A,T));const k=this.editor.deltaDecorations(R,O);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,F=k.length;A<F;A++){const P=new v(I[A],k[A]);this.currentOccurrences[P.decorationId]=P}}_onEditorMouseMove(I,T){const R=this.editor.getOption(70)==="altKey";if(this.isEnabled(I,T)){this.cleanUpActiveLinkDecoration();const B=this.getLinkOccurrence(I.target.position);B&&this.editor.changeDecorations(O=>{B.activate(O,R),this.activeLinkDecorationId=B.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const I=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){const T=this.currentOccurrences[this.activeLinkDecorationId];T&&this.editor.changeDecorations(R=>{T.deactivate(R,I)}),this.activeLinkDecorationId=null}}onEditorMouseUp(I){if(!this.isEnabled(I))return;const T=this.getLinkOccurrence(I.target.position);!T||this.openLinkOccurrence(T,I.hasSideBySideModifier,!0)}openLinkOccurrence(I,T,R=!1){if(!this.openerService)return;const{link:B}=I;B.resolve(f.CancellationToken.None).then(O=>{if(typeof O=="string"&&this.editor.hasModel()){const k=this.editor.getModel().uri;if(k.scheme===b.Schemas.file&&O.startsWith(`${b.Schemas.file}:`)){const A=i.URI.parse(O);if(A.scheme===b.Schemas.file){const F=u.originalFSPath(A);let P=null;F.startsWith("/./")?P=`.${F.substr(1)}`:F.startsWith("//./")&&(P=`.${F.substr(2)}`),P&&(O=u.joinPath(k,P))}}}return this.openerService.open(O,{openToSide:T,fromUserGesture:R,allowContributedOpeners:!0,allowCommands:!0})},O=>{const k=O instanceof Error?O.message:O;k==="invalid"?this.notificationService.warn(s.localize(0,null,B.url.toString())):k==="missing"?this.notificationService.warn(s.localize(1,null)):(0,N.onUnexpectedError)(O)})}getLinkOccurrence(I){if(!this.editor.hasModel()||!I)return null;const T=this.editor.getModel().getDecorationsInRange({startLineNumber:I.lineNumber,startColumn:I.column,endLineNumber:I.lineNumber,endColumn:I.column},0,!0);for(const R of T){const B=this.currentOccurrences[R.id];if(B)return B}return null}isEnabled(I,T){return Boolean(I.target.type===6&&(I.hasTriggerModifier||T&&T.keyCodeIsTriggerKey))}stop(){var I;this.computeLinks.cancel(),this.activeLinksList&&((I=this.activeLinksList)===null||I===void 0||I.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};S.ID="editor.linkDetector",S=De([fe(1,c.IOpenerService),fe(2,l.INotificationService),fe(3,d.ILanguageFeaturesService),fe(4,r.ILanguageFeatureDebounceService)],S),e.LinkDetector=S;const p={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class v{constructor(I,T){this.link=I,this.decorationId=T}static decoration(I,T){return{range:I.range,options:v._getOptions(I,T,!1)}}static _getOptions(I,T,R){const B=Object.assign({},R?p.active:p.general);return B.hoverMessage=_(I,T),B}activate(I,T){I.changeDecorationOptions(this.decorationId,v._getOptions(this.link,T,!0))}deactivate(I,T){I.changeDecorationOptions(this.decorationId,v._getOptions(this.link,T,!1))}}function _(E,I){const T=E.url&&/^command:/i.test(E.url.toString()),R=E.tooltip?E.tooltip:T?s.localize(2,null):s.localize(3,null),B=I?C.isMacintosh?s.localize(4,null):s.localize(5,null):C.isMacintosh?s.localize(6,null):s.localize(7,null);if(E.url){let O="";if(/^command:/i.test(E.url.toString())){const A=E.url.toString().match(/^command:([^?#]+)/);if(A){const F=A[1];O=s.localize(8,null,F)}}return new D.MarkdownString("",!0).appendLink(E.url.toString(!0).replace(/ /g,"%20"),R,O).appendMarkdown(` (${B})`)}else return new D.MarkdownString().appendText(`${R} (${B})`)}class w extends n.EditorAction{constructor(){super({id:"editor.action.openLink",label:s.localize(9,null),alias:"Open Link",precondition:void 0})}run(I,T){const R=S.get(T);if(!R||!T.hasModel())return;const B=T.getSelections();for(const O of B){const k=R.getLinkOccurrence(O.getEndPosition());k&&R.openLinkOccurrence(k,!1)}}}(0,n.registerEditorContribution)(S.ID,S),(0,n.registerEditorAction)(w),(0,m.registerThemingParticipant)((E,I)=>{const T=E.getColor(g.editorActiveLinkForeground);T&&I.addRule(`.monaco-editor .detected-link-active { color: ${T} !important; }`)})}),define(oe[738],se([1,0,45,10,59,2,15,184,3,24,22,46,35,306,571,41,16,23,14,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function c(ne,X){const J=X.filter(ie=>!ne.find(le=>le.equals(ie)));if(J.length>=1){const ie=J.map(G=>`line ${G.viewState.position.lineNumber} column ${G.viewState.position.column}`).join(", "),le=J.length===1?r.localize(0,null,ie):r.localize(1,null,ie);(0,y.status)(le)}}class g extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:r.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(3,null),order:2}})}run(X,J,ie){if(!J.hasModel())return;let le=!0;ie&&ie.logicalLine===!1&&(le=!1);const G=J._getViewModel();if(G.cursorConfig.readOnly)return;G.model.pushStackElement();const x=G.getCursorStates();G.setCursorStates(ie.source,3,b.CursorMoveCommands.addCursorUp(G,x,le)),G.revealTopMostCursor(ie.source),c(x,G.getCursorStates())}}e.InsertCursorAbove=g;class m extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:r.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(5,null),order:3}})}run(X,J,ie){if(!J.hasModel())return;let le=!0;ie&&ie.logicalLine===!1&&(le=!1);const G=J._getViewModel();if(G.cursorConfig.readOnly)return;G.model.pushStackElement();const x=G.getCursorStates();G.setCursorStates(ie.source,3,b.CursorMoveCommands.addCursorDown(G,x,le)),G.revealBottomMostCursor(ie.source),c(x,G.getCursorStates())}}e.InsertCursorBelow=m;class S extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:r.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(7,null),order:4}})}getCursorsForSelection(X,J,ie){if(!X.isEmpty()){for(let le=X.startLineNumber;le<X.endLineNumber;le++){let G=J.getLineMaxColumn(le);ie.push(new u.Selection(le,G,le,G))}X.endColumn>1&&ie.push(new u.Selection(X.endLineNumber,X.endColumn,X.endLineNumber,X.endColumn))}}run(X,J){if(!J.hasModel())return;const ie=J.getModel(),le=J.getSelections(),G=J._getViewModel(),x=G.getCursorStates();let V=[];le.forEach(j=>this.getCursorsForSelection(j,ie,V)),V.length>0&&J.setSelections(V),c(x,G.getCursorStates())}}class p extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:r.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(X,J){if(!J.hasModel())return;const ie=J.getSelections(),le=J.getModel().getLineCount();let G=[];for(let j=ie[0].startLineNumber;j<=le;j++)G.push(new u.Selection(j,ie[0].startColumn,j,ie[0].endColumn));const x=J._getViewModel(),V=x.getCursorStates();G.length>0&&J.setSelections(G),c(V,x.getCursorStates())}}class v extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:r.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(X,J){if(!J.hasModel())return;const ie=J.getSelections();let le=[];for(let V=ie[0].startLineNumber;V>=1;V--)le.push(new u.Selection(V,ie[0].startColumn,V,ie[0].endColumn));const G=J._getViewModel(),x=G.getCursorStates();le.length>0&&J.setSelections(le),c(x,G.getCursorStates())}}class _{constructor(X,J,ie){this.selections=X,this.revealRange=J,this.revealScrollType=ie}}e.MultiCursorSessionResult=_;class w{constructor(X,J,ie,le,G,x,V){this._editor=X,this.findController=J,this.isDisconnectedFromFindController=ie,this.searchText=le,this.wholeWord=G,this.matchCase=x,this.currentMatch=V}static create(X,J){if(!X.hasModel())return null;const ie=J.getState();if(!X.hasTextFocus()&&ie.isRevealed&&ie.searchString.length>0)return new w(X,J,!1,ie.searchString,ie.wholeWord,ie.matchCase,null);let le=!1,G,x;const V=X.getSelections();V.length===1&&V[0].isEmpty()?(le=!0,G=!0,x=!0):(G=ie.wholeWord,x=ie.matchCase);const j=X.getSelection();let re,ae=null;if(j.isEmpty()){const Y=X.getConfiguredWordAtPosition(j.getStartPosition());if(!Y)return null;re=Y.word,ae=new u.Selection(j.startLineNumber,Y.startColumn,j.startLineNumber,Y.endColumn)}else re=X.getModel().getValueInRange(j).replace(/\r\n/g,`
`);return new w(X,J,le,re,G,x,ae)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.concat(X),X,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const X=this._getNextMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.slice(0,J.length-1).concat(X),X,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const le=this.currentMatch;return this.currentMatch=null,le}this.findController.highlightFindOptions();const X=this._editor.getSelections(),J=X[X.length-1],ie=this._editor.getModel().findNextMatch(this.searchText,J.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return ie?new u.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.concat(X),X,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const X=this._getPreviousMatch();if(!X)return null;const J=this._editor.getSelections();return new _(J.slice(0,J.length-1).concat(X),X,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const le=this.currentMatch;return this.currentMatch=null,le}this.findController.highlightFindOptions();const X=this._editor.getSelections(),J=X[X.length-1],ie=this._editor.getModel().findPreviousMatch(this.searchText,J.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return ie?new u.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn):null}selectAll(X){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const J=this._editor.getModel();return X?J.findMatches(this.searchText,X,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824):J.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)}}e.MultiCursorSession=w;class E extends D.Disposable{constructor(X){super();this._sessionDispose=this._register(new D.DisposableStore),this._editor=X,this._ignoreSelectionChange=!1,this._session=null}static get(X){return X.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(X){if(!this._session){const J=w.create(this._editor,X);if(!J)return;this._session=J;const ie={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ie.wholeWordOverride=1,ie.matchCaseOverride=1,ie.isRegexOverride=2),X.getState().change(ie,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(le=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(X.getState().onFindReplaceStateChange(le=>{(le.matchCase||le.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const X={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(X,!1)}this._session=null}_setSelections(X){this._ignoreSelectionChange=!0,this._editor.setSelections(X),this._ignoreSelectionChange=!1}_expandEmptyToWord(X,J){if(!J.isEmpty())return J;const ie=this._editor.getConfiguredWordAtPosition(J.getStartPosition());return ie?new u.Selection(J.startLineNumber,ie.startColumn,J.startLineNumber,ie.endColumn):J}_applySessionResult(X){!X||(this._setSelections(X.selections),X.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(X.revealRange,X.revealScrollType))}getSession(X){return this._session}addSelectionToNextFindMatch(X){if(!!this._editor.hasModel()){if(!this._session){const J=this._editor.getSelections();if(J.length>1){const le=X.getState().matchCase;if(!W(this._editor.getModel(),J,le)){const x=this._editor.getModel();let V=[];for(let j=0,re=J.length;j<re;j++)V[j]=this._expandEmptyToWord(x,J[j]);this._editor.setSelections(V);return}}}this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(X){this._beginSessionIfNeeded(X),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(X){if(!this._editor.hasModel())return;let J=null;const ie=X.getState();if(ie.isRevealed&&ie.searchString.length>0&&ie.isRegex){const le=this._editor.getModel();ie.searchScope?J=le.findMatches(ie.searchString,ie.searchScope,ie.isRegex,ie.matchCase,ie.wholeWord?this._editor.getOption(117):null,!1,1073741824):J=le.findMatches(ie.searchString,!0,ie.isRegex,ie.matchCase,ie.wholeWord?this._editor.getOption(117):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(X),!this._session)return;J=this._session.selectAll(ie.searchScope)}if(J.length>0){const le=this._editor.getSelection();for(let G=0,x=J.length;G<x;G++){const V=J[G];if(V.range.intersectRanges(le)){J[G]=J[0],J[0]=V;break}}this._setSelections(J.map(G=>new u.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class I extends L.EditorAction{run(X,J){const ie=E.get(J);if(!ie)return;const le=t.CommonFindController.get(J);if(!le)return;const G=J._getViewModel();if(G){const x=G.getCursorStates();this._run(ie,le),c(x,G.getCursorStates())}}}e.MultiCursorSelectionControllerAction=I;class T extends I{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:r.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(11,null),order:5}})}_run(X,J){X.addSelectionToNextFindMatch(J)}}e.AddSelectionToNextFindMatchAction=T;class R extends I{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:r.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(13,null),order:6}})}_run(X,J){X.addSelectionToPreviousFindMatch(J)}}e.AddSelectionToPreviousFindMatchAction=R;class B extends I{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:r.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:(0,N.KeyChord)(2048|41,2048|34),weight:100}})}_run(X,J){X.moveSelectionToNextFindMatch(J)}}e.MoveSelectionToNextFindMatchAction=B;class O extends I{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:r.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(X,J){X.moveSelectionToPreviousFindMatch(J)}}e.MoveSelectionToPreviousFindMatchAction=O;class k extends I{constructor(){super({id:"editor.action.selectHighlights",label:r.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(17,null),order:7}})}_run(X,J){X.selectAll(J)}}e.SelectHighlightsAction=k;class A extends I{constructor(){super({id:"editor.action.changeAll",label:r.localize(18,null),alias:"Change All Occurrences",precondition:o.ContextKeyExpr.and(h.EditorContextKeys.writable,h.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(X,J){X.selectAll(J)}}e.CompatChangeAll=A;class F{constructor(X,J,ie,le,G){this._model=X,this._searchText=J,this._matchCase=ie,this._wordSeparators=le,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,G&&this._model===G._model&&this._searchText===G._searchText&&this._matchCase===G._matchCase&&this._wordSeparators===G._wordSeparators&&this._modelVersionId===G._modelVersionId&&(this._cachedFindMatches=G._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(X=>X.range),this._cachedFindMatches.sort(C.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let P=class Kt extends D.Disposable{constructor(X,J){super();this._languageFeaturesService=J,this.editor=X,this._isEnabled=X.getOption(97),this.decorations=[],this.updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(X.onDidChangeConfiguration(le=>{this._isEnabled=X.getOption(97)})),this._register(X.onDidChangeCursorSelection(le=>{!this._isEnabled||(le.selection.isEmpty()?le.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(X.onDidChangeModel(le=>{this._setState(null)})),this._register(X.onDidChangeModelContent(le=>{this._isEnabled&&this.updateSoon.schedule()}));const ie=t.CommonFindController.get(X);ie&&this._register(ie.getState().onFindReplaceStateChange(le=>{this._update()}))}_update(){this._setState(Kt._createState(this.state,this._isEnabled,this.editor))}static _createState(X,J,ie){if(!J||!ie.hasModel())return null;const le=ie.getSelection();if(le.startLineNumber!==le.endLineNumber)return null;const G=E.get(ie);if(!G)return null;const x=t.CommonFindController.get(ie);if(!x)return null;let V=G.getSession(x);if(!V){const ae=ie.getSelections();if(ae.length>1){const U=x.getState().matchCase;if(!W(ie.getModel(),ae,U))return null}V=w.create(ie,x)}if(!V||V.currentMatch||/^[ \t]+$/.test(V.searchText)||V.searchText.length>200)return null;const j=x.getState(),re=j.matchCase;if(j.isRevealed){let ae=j.searchString;re||(ae=ae.toLowerCase());let Y=V.searchText;if(re||(Y=Y.toLowerCase()),ae===Y&&V.matchCase===j.matchCase&&V.wholeWord===j.wholeWord&&!j.isRegex)return null}return new F(ie.getModel(),V.searchText,V.matchCase,V.wholeWord?ie.getOption(117):null,X)}_setState(X){if(this.state=X,!this.state){this.editor.changeDecorations(j=>{this.decorations=j.deltaDecorations(this.decorations,[])});return}if(!this.editor.hasModel())return;const J=this.editor.getModel();if(J.isTooLargeForTokenization())return;const ie=this.state.findMatches(),le=this.editor.getSelections();le.sort(C.Range.compareRangesUsingStarts);const G=[];for(let j=0,re=0,ae=ie.length,Y=le.length;j<ae;){const U=ie[j];if(re>=Y)G.push(U),j++;else{const Z=C.Range.compareRangesUsingStarts(U,le[re]);Z<0?((le[re].isEmpty()||!C.Range.areIntersecting(U,le[re]))&&G.push(U),j++):(Z>0||j++,re++)}}const x=this._languageFeaturesService.documentHighlightProvider.has(J)&&this.editor.getOption(72),V=G.map(j=>({range:j,options:x?Kt._SELECTION_HIGHLIGHT:Kt._SELECTION_HIGHLIGHT_OVERVIEW}));this.editor.changeDecorations(j=>{this.decorations=j.deltaDecorations(this.decorations,V)})}dispose(){this._setState(null),super.dispose()}};P.ID="editor.contrib.selectionHighlighter",P._SELECTION_HIGHLIGHT_OVERVIEW=n.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,s.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline},overviewRuler:{color:(0,s.themeColorFromId)(a.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center}}),P._SELECTION_HIGHLIGHT=n.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),P=De([fe(1,l.ILanguageFeaturesService)],P),e.SelectionHighlighter=P;function W(ne,X,J){const ie=M(ne,X[0],!J);for(let le=1,G=X.length;le<G;le++){const x=X[le];if(x.isEmpty())return!1;const V=M(ne,x,!J);if(ie!==V)return!1}return!0}function M(ne,X,J){const ie=ne.getValueInRange(X);return J?ie.toLowerCase():ie}class z extends L.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:r.localize(19,null),description:{description:r.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(X,J,ie){if(!J.hasModel())return;const le=J._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const G=Array.from(le.getCursorStates()),x=G.shift();!x||(G.push(x),le.setCursorStates(ie.source,3,G),le.revealPrimaryCursor(ie.source,!0),c(G,le.getCursorStates()))}}e.FocusNextCursor=z;class Q extends L.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:r.localize(21,null),description:{description:r.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(X,J,ie){if(!J.hasModel())return;const le=J._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const G=Array.from(le.getCursorStates()),x=G.pop();!x||(G.unshift(x),le.setCursorStates(ie.source,3,G),le.revealPrimaryCursor(ie.source,!0),c(G,le.getCursorStates()))}}e.FocusPreviousCursor=Q,(0,L.registerEditorContribution)(E.ID,E),(0,L.registerEditorContribution)(P.ID,P),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(B),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(k),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(v),(0,L.registerEditorAction)(z),(0,L.registerEditorAction)(Q)}),define(oe[739],se([1,0,7,122,10,13,4,2,117,8,166,707,584,16,9,83,23,135,55,14,268,98,287,717,143,398,295]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,o.registerColor)("editorSuggestWidget.background",{dark:o.editorWidgetBackground,light:o.editorWidgetBackground,hcDark:o.editorWidgetBackground,hcLight:o.editorWidgetBackground},n.localize(0,null)),e.editorSuggestWidgetBorder=(0,o.registerColor)("editorSuggestWidget.border",{dark:o.editorWidgetBorder,light:o.editorWidgetBorder,hcDark:o.editorWidgetBorder,hcLight:o.editorWidgetBorder},n.localize(1,null)),e.editorSuggestWidgetForeground=(0,o.registerColor)("editorSuggestWidget.foreground",{dark:o.editorForeground,light:o.editorForeground,hcDark:o.editorForeground,hcLight:o.editorForeground},n.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,o.registerColor)("editorSuggestWidget.selectedForeground",{dark:o.quickInputListFocusForeground,light:o.quickInputListFocusForeground,hcDark:o.quickInputListFocusForeground,hcLight:o.quickInputListFocusForeground},n.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,o.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:o.quickInputListFocusIconForeground,light:o.quickInputListFocusIconForeground,hcDark:o.quickInputListFocusIconForeground,hcLight:o.quickInputListFocusIconForeground},n.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,o.registerColor)("editorSuggestWidget.selectedBackground",{dark:o.quickInputListFocusBackground,light:o.quickInputListFocusBackground,hcDark:o.quickInputListFocusBackground,hcLight:o.quickInputListFocusBackground},n.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,o.registerColor)("editorSuggestWidget.highlightForeground",{dark:o.listHighlightForeground,light:o.listHighlightForeground,hcDark:o.listHighlightForeground,hcLight:o.listHighlightForeground},n.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,o.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:o.listFocusHighlightForeground,light:o.listFocusHighlightForeground,hcDark:o.listFocusHighlightForeground,hcLight:o.listFocusHighlightForeground},n.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,o.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,o.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,o.transparent)(e.editorSuggestWidgetForeground,.5),hcDark:(0,o.transparent)(e.editorSuggestWidgetForeground,.5),hcLight:(0,o.transparent)(e.editorSuggestWidgetForeground,.5)},n.localize(8,null));class p{constructor(E,I){this._service=E,this._key=`suggestWidget.size/${I.getEditorType()}/${I instanceof h.EmbeddedCodeEditorWidget}`}restore(){var E;const I=(E=this._service.get(this._key,0))!==null&&E!==void 0?E:"";try{const T=JSON.parse(I);if(y.Dimension.is(T))return y.Dimension.lift(T)}catch{}}store(E){this._service.store(this._key,JSON.stringify(E),0,1)}reset(){this._service.remove(this._key,0)}}let v=class ri{constructor(E,I,T,R,B){this.editor=E,this._storageService=I,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new N.TimeoutTimer,this._disposables=new b.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new c.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new _(this,E),this._persistedSize=new p(I,E);class O{constructor(z,Q,ne=!1,X=!1){this.persistedSize=z,this.currentSize=Q,this.persistHeight=ne,this.persistWidth=X}}let k;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),k=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(M=>{var z,Q,ne,X;if(this._resize(M.dimension.width,M.dimension.height),k&&(k.persistHeight=k.persistHeight||!!M.north||!!M.south,k.persistWidth=k.persistWidth||!!M.east||!!M.west),!!M.done){if(k){const{itemHeight:J,defaultSize:ie}=this.getLayoutInfo(),le=Math.round(J/2);let{width:G,height:x}=this.element.size;(!k.persistHeight||Math.abs(k.currentSize.height-x)<=le)&&(x=(Q=(z=k.persistedSize)===null||z===void 0?void 0:z.height)!==null&&Q!==void 0?Q:ie.height),(!k.persistWidth||Math.abs(k.currentSize.width-G)<=le)&&(G=(X=(ne=k.persistedSize)===null||ne===void 0?void 0:ne.width)!==null&&X!==void 0?X:ie.width),this._persistedSize.store(new y.Dimension(G,x))}this._contentWidget.unlockPreference(),k=void 0}})),this._messageElement=y.append(this.element.domNode,y.$(".message")),this._listElement=y.append(this.element.domNode,y.$(".tree"));const A=B.createInstance(m.SuggestDetailsWidget,this.editor);A.onDidClose(this.toggleDetails,this,this._disposables),this._details=new m.SuggestDetailsOverlay(A,this.editor);const F=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);F();const P=B.createInstance(S.ItemRenderer,this.editor);this._disposables.add(P),this._disposables.add(P.onDidToggleDetails(()=>this.toggleDetails())),this._list=new f.List("SuggestWidget",this._listElement,{getHeight:M=>this.getLayoutInfo().itemHeight,getTemplateId:M=>"suggestion"},[P],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>n.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:M=>{let z=M.textLabel;if(typeof M.completion.label!="string"){const{detail:J,description:ie}=M.completion.label;J&&ie?z=n.localize(12,null,z,J,ie):J?z=n.localize(13,null,z,J):ie&&(z=n.localize(14,null,z,ie))}if(!M.isResolved||!this._isDetailsVisible())return z;const{documentation:Q,detail:ne}=M.completion,X=u.format("{0}{1}",ne||"",Q?typeof Q=="string"?Q:Q.value:"");return n.localize(15,null,z,X)}}}),this._status=B.createInstance(i.SuggestWidgetStatus,this.element.domNode);const W=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);W(),this._disposables.add((0,a.attachListStyler)(this._list,R,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:o.activeContrastBorder})),this._disposables.add(R.onDidColorThemeChange(M=>this._onThemeChange(M))),this._onThemeChange(R.getColorTheme()),this._disposables.add(this._list.onMouseDown(M=>this._onListMouseDownOrTap(M))),this._disposables.add(this._list.onTap(M=>this._onListMouseDownOrTap(M))),this._disposables.add(this._list.onDidChangeSelection(M=>this._onListSelection(M))),this._disposables.add(this._list.onDidChangeFocus(M=>this._onListFocus(M))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(M=>{M.hasChanged(106)&&(W(),F())})),this._ctxSuggestWidgetVisible=g.Context.Visible.bindTo(T),this._ctxSuggestWidgetDetailsVisible=g.Context.DetailsVisible.bindTo(T),this._ctxSuggestWidgetMultipleSuggestions=g.Context.MultipleSuggestions.bindTo(T),this._disposables.add(y.addStandardDisposableListener(this._details.widget.domNode,"keydown",M=>{this._onDetailsKeydown.fire(M)})),this._disposables.add(this.editor.onMouseDown(M=>this._onEditorMouseDown(M)))}dispose(){var E;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(E){this._details.widget.domNode.contains(E.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(E.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(E){typeof E.element=="undefined"||typeof E.index=="undefined"||(E.browserEvent.preventDefault(),E.browserEvent.stopPropagation(),this._select(E.element,E.index))}_onListSelection(E){E.elements.length&&this._select(E.elements[0],E.indexes[0])}_select(E,I){const T=this._completionModel;T&&(this._onDidSelect.fire({item:E,index:I,model:T}),this.editor.focus())}_onThemeChange(E){this._details.widget.borderWidth=(0,s.isHighContrast)(E.type)?2:1}_onListFocus(E){var I;if(this._ignoreFocusEvents)return;if(!E.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const T=E.elements[0],R=E.indexes[0];T!==this._focusedItem&&((I=this._currentSuggestionDetails)===null||I===void 0||I.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=T,this._list.reveal(R),this._currentSuggestionDetails=(0,N.createCancelablePromise)(B=>Le(this,void 0,void 0,function*(){const O=(0,N.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),k=B.onCancellationRequested(()=>O.dispose()),A=yield T.resolve(B);return O.dispose(),k.dispose(),A})),this._currentSuggestionDetails.then(()=>{R>=this._list.length||T!==this._list.element(R)||(this._ignoreFocusEvents=!0,this._list.splice(R,1,[T]),this._list.setFocus([R]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,S.getAriaId)(R)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:T,index:R,model:this._completionModel})}_setState(E){if(this._state!==E)switch(this._state=E,this.element.domNode.classList.toggle("frozen",E===4),this.element.domNode.classList.remove("message"),E){case 0:y.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ri.LOADING_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ri.NO_SUGGESTIONS_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 4:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 5:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(E,I){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!E,this._isAuto||(this._loadingTimeout=(0,N.disposableTimeout)(()=>this._setState(1),I)))}showSuggestions(E,I,T,R){var B,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(B=this._loadingTimeout)===null||B===void 0||B.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==E&&(this._completionModel=E),T&&this._state!==2&&this._state!==0){this._setState(4);return}const k=this._completionModel.items.length,A=k===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(k>1),A){this._setState(R?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(T?4:3),this._list.reveal(I,0),this._list.setFocus([I]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,m.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(E){this._details.show(),E?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var E;(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const I=this._persistedSize.restore(),T=Math.ceil(this.getLayoutInfo().itemHeight*4.3);I&&I.height<T&&this._persistedSize.store(I.with(void 0,T))}isFrozen(){return this._state===4}_afterRender(E){if(E===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(E){var I,T,R;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const B=y.getClientArea(document.body),O=this.getLayoutInfo();E||(E=O.defaultSize);let k=E.height,A=E.width;if(this._status.element.style.lineHeight=`${O.itemHeight}px`,this._state===2||this._state===1)k=O.itemHeight+O.borderHeight,A=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new y.Dimension(A,k),this._contentWidget.setPreference(2);else{const F=B.width-O.borderHeight-2*O.horizontalPadding;A>F&&(A=F);const P=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:A,W=O.statusBarHeight+this._list.contentHeight+O.borderHeight,M=O.itemHeight+O.statusBarHeight,z=y.getDomNodePagePosition(this.editor.getDomNode()),Q=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ne=z.top+Q.top+Q.height,X=Math.min(B.height-ne-O.verticalPadding,W),J=z.top+Q.top-O.verticalPadding,ie=Math.min(J,W);let le=Math.min(Math.max(ie,X)+O.borderHeight,W);k===((I=this._cappedHeight)===null||I===void 0?void 0:I.capped)&&(k=this._cappedHeight.wanted),k<M&&(k=M),k>le&&(k=le);const G=150;k>X||this._forceRenderingAbove&&J>G?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),le=ie):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),le=X),this.element.preferredSize=new y.Dimension(P,O.defaultSize.height),this.element.maxSize=new y.Dimension(F,le),this.element.minSize=new y.Dimension(220,M),this._cappedHeight=k===W?{wanted:(R=(T=this._cappedHeight)===null||T===void 0?void 0:T.wanted)!==null&&R!==void 0?R:E.height,capped:k}:void 0}this._resize(A,k)}_resize(E,I){const{width:T,height:R}=this.element.maxSize;E=Math.min(T,E),I=Math.min(R,I);const{statusBarHeight:B}=this.getLayoutInfo();this._list.layout(I-B,E),this._listElement.style.height=`${I-B}px`,this.element.layout(I,E),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var E;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((E=this._contentWidget.getPosition())===null||E===void 0?void 0:E.preference[0])===2)}getLayoutInfo(){const E=this.editor.getOption(44),I=(0,C.clamp)(this.editor.getOption(108)||E.lineHeight,8,1e3),T=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:I,R=this._details.widget.borderWidth,B=2*R;return{itemHeight:I,statusBarHeight:T,borderWidth:R,borderHeight:B,typicalHalfwidthCharacterWidth:E.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new y.Dimension(430,T+12*I+B)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(E){this._storageService.store("expandSuggestionDocs",E,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};v.LOADING_MESSAGE=n.localize(9,null),v.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),v=De([fe(1,d.IStorageService),fe(2,t.IContextKeyService),fe(3,l.IThemeService),fe(4,r.IInstantiationService)],v),e.SuggestWidget=v;class _{constructor(E,I){this._widget=E,this._editor=I,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:E,width:I}=this._widget.element.size,{borderWidth:T,horizontalPadding:R}=this._widget.getLayoutInfo();return new y.Dimension(I+2*T+R,E+2*T)}afterRender(E){this._widget._afterRender(E)}setPreference(E){this._preferenceLocked||(this._preference=E)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(E){this._position=E}}e.SuggestContentWidget=_}),define(oe[740],se([1,0,10,2,15,279,48,303,293,37,14,71,57,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=class extends f.Disposable{constructor(o,a,s,l,c,g){super();this._modelService=a,this._themeService=s,this._configurationService=l,this._editor=o,this._provider=g.documentRangeSemanticTokensProvider,this._debounceInformation=c.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new y.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const m=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{m()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),m()})),this._register(this._editor.onDidChangeModelContent(S=>{this._cancelAll(),m()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),m()})),this._register(this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration(b.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),m())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),m()}))}_cancelAll(){for(const o of this._outstandingRequests)o.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(o){for(let a=0,s=this._outstandingRequests.length;a<s;a++)if(this._outstandingRequests[a]===o){this._outstandingRequests.splice(a,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const o=this._editor.getModel();if(o.tokenization.hasCompleteSemanticTokens())return;if(!(0,b.isSemanticColoringEnabled)(o,this._themeService,this._configurationService)){o.tokenization.hasSomeSemanticTokens()&&o.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,o)){o.tokenization.hasSomeSemanticTokens()&&o.tokenization.setSemanticTokens(null,!1);return}const a=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(a.map(s=>this._requestRange(o,s)))}_requestRange(o,a){const s=o.getVersionId(),l=(0,y.createCancelablePromise)(g=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,o,a,g))),c=new n.StopWatch(!1);return l.then(g=>{if(this._debounceInformation.update(o,c.elapsed()),!g||!g.tokens||o.isDisposed()||o.getVersionId()!==s)return;const{provider:m,tokens:S}=g,p=this._modelService.getSemanticTokensProviderStyling(m);o.tokenization.setPartialSemanticTokens(a,(0,C.toMultilineTokens2)(S,p,o.getLanguageId()))}).then(()=>this._removeOutstandingRequest(l),()=>this._removeOutstandingRequest(l)),l}};r.ID="editor.contrib.viewportSemanticTokens",r=De([fe(1,L.IModelService),fe(2,h.IThemeService),fe(3,u.IConfigurationService),fe(4,i.ILanguageFeatureDebounceService),fe(5,t.ILanguageFeaturesService)],r),(0,N.registerEditorContribution)(r.ID,r)}),define(oe[741],se([1,0,45,18,10,21,13,2,15,3,22,46,35,27,593,16,23,14,20,55]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const c=(0,o.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},r.localize(0,null),!0),g=(0,o.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},r.localize(1,null),!0),m=(0,o.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize(2,null)),S=(0,o.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize(3,null)),p=(0,o.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},r.localize(4,null),!0),v=(0,o.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},r.localize(5,null),!0),_=new d.RawContextKey("hasWordHighlights",!1);function w(W,M,z,Q){const ne=W.ordered(M);return(0,N.first)(ne.map(X=>()=>Promise.resolve(X.provideDocumentHighlights(M,z,Q)).then(void 0,L.onUnexpectedExternalError)),f.isNonEmptyArray)}e.getOccurrencesAtPosition=w;class E{constructor(M,z,Q){this._model=M,this._selection=z,this._wordSeparators=Q,this._wordRange=this._getCurrentWordRange(M,z),this._result=null}get result(){return this._result||(this._result=(0,N.createCancelablePromise)(M=>this._compute(this._model,this._selection,this._wordSeparators,M))),this._result}_getCurrentWordRange(M,z){const Q=M.getWordAtPosition(z.getPosition());return Q?new u.Range(z.startLineNumber,Q.startColumn,z.startLineNumber,Q.endColumn):null}isValid(M,z,Q){const ne=z.startLineNumber,X=z.startColumn,J=z.endColumn,ie=this._getCurrentWordRange(M,z);let le=Boolean(this._wordRange&&this._wordRange.equalsRange(ie));for(let G=0,x=Q.length;!le&&G<x;G++){let V=M.getDecorationRange(Q[G]);V&&V.startLineNumber===ne&&V.startColumn<=X&&V.endColumn>=J&&(le=!0)}return le}cancel(){this.result.cancel()}}class I extends E{constructor(M,z,Q,ne){super(M,z,Q);this._providers=ne}_compute(M,z,Q,ne){return w(this._providers,M,z.getPosition(),ne).then(X=>X||[])}}class T extends E{constructor(M,z,Q){super(M,z,Q);this._selectionIsEmpty=z.isEmpty()}_compute(M,z,Q,ne){return(0,N.timeout)(250,ne).then(()=>{if(!z.isEmpty())return[];const X=M.getWordAtPosition(z.getPosition());return!X||X.word.length>1e3?[]:M.findMatches(X.word,!0,!1,!0,Q,!1).map(ie=>({range:ie.range,kind:t.DocumentHighlightKind.Text}))})}isValid(M,z,Q){const ne=z.isEmpty();return this._selectionIsEmpty!==ne?!1:super.isValid(M,z,Q)}}function R(W,M,z,Q){return W.has(M)?new I(M,z,Q,W):new T(M,z,Q)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(W,M,z)=>{const Q=W.get(s.ILanguageFeaturesService);return w(Q.documentHighlightProvider,M,z,D.CancellationToken.None)});class B{constructor(M,z,Q){this.toUnhook=new b.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=M,this.providers=z,this._hasWordHighlights=_.bindTo(Q),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(M.onDidChangeCursorPosition(ne=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(ne)})),this.toUnhook.add(M.onDidChangeModelContent(ne=>{this._stopAll()})),this.toUnhook.add(M.onDidChangeConfiguration(ne=>{let X=this.editor.getOption(72);this.occurrencesHighlight!==X&&(this.occurrencesHighlight=X,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return f.coalesce(this._decorationIds.map(M=>this.model.getDecorationRange(M)).sort(u.Range.compareRangesUsingStarts))}moveNext(){let M=this._getSortedHighlights(),Q=(M.findIndex(X=>X.containsPosition(this.editor.getPosition()))+1)%M.length,ne=M[Q];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ne.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ne);const X=this._getWord();if(X){const J=this.editor.getModel().getLineContent(ne.startLineNumber);(0,y.alert)(`${J}, ${Q+1} of ${M.length} for '${X.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let M=this._getSortedHighlights(),Q=(M.findIndex(X=>X.containsPosition(this.editor.getPosition()))-1+M.length)%M.length,ne=M[Q];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ne.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ne);const X=this._getWord();if(X){const J=this.editor.getModel().getLineContent(ne.startLineNumber);(0,y.alert)(`${J}, ${Q+1} of ${M.length} for '${X.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(M){if(!this.occurrencesHighlight){this._stopAll();return}if(M.reason!==3){this._stopAll();return}this._run()}_getWord(){let M=this.editor.getSelection(),z=M.startLineNumber,Q=M.startColumn;return this.model.getWordAtPosition({lineNumber:z,column:Q})}_run(){let M=this.editor.getSelection();if(M.startLineNumber!==M.endLineNumber){this._stopAll();return}let z=M.startColumn,Q=M.endColumn;const ne=this._getWord();if(!ne||ne.startColumn>z||ne.endColumn<Q){this._stopAll();return}const X=this.workerRequest&&this.workerRequest.isValid(this.model,M,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),X)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let J=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=R(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(ie=>{J===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ie||[],this._beginRenderDecorations())},L.onUnexpectedError)}}_beginRenderDecorations(){let M=new Date().getTime(),z=this.lastCursorPositionChangeTime+250;M>=z?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},z-M)}renderDecorations(){this.renderDecorationsTimer=-1;let M=[];for(const z of this.workerRequestValue)z.range&&M.push({range:z.range,options:B._getDecorationOptions(z.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,M),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(M){return M===t.DocumentHighlightKind.Write?this._WRITE_OPTIONS:M===t.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}B._WRITE_OPTIONS=n.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,a.themeColorFromId)(v),position:i.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(o.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),B._TEXT_OPTIONS=n.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,a.themeColorFromId)(o.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(o.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),B._REGULAR_OPTIONS=n.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,a.themeColorFromId)(p),position:i.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(o.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}});let O=class Ki extends b.Disposable{constructor(M,z,Q){super();this.wordHighlighter=null;const ne=()=>{M.hasModel()&&(this.wordHighlighter=new B(M,Q.documentHighlightProvider,z))};this._register(M.onDidChangeModel(X=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),ne()})),ne()}static get(M){return M.getContribution(Ki.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(M){this.wordHighlighter&&M&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};O.ID="editor.contrib.wordHighlighter",O=De([fe(1,d.IContextKeyService),fe(2,s.ILanguageFeaturesService)],O);class k extends C.EditorAction{constructor(M,z){super(z);this._isNext=M}run(M,z){const Q=O.get(z);!Q||(this._isNext?Q.moveNext():Q.moveBack())}}class A extends k{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:r.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:_,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class F extends k{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:r.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:_,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class P extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:r.localize(8,null),alias:"Trigger Symbol Highlight",precondition:_.toNegated(),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(M,z,Q){const ne=O.get(z);!ne||ne.restoreViewState(!0)}}(0,C.registerEditorContribution)(O.ID,O),(0,C.registerEditorAction)(A),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(P),(0,a.registerThemingParticipant)((W,M)=>{const z=W.getColor(o.editorSelectionHighlight);z&&(M.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${z}; }`),M.addRule(`.monaco-editor .selectionHighlight { background-color: ${z.transparent(.5)}; }`));const Q=W.getColor(c);Q&&M.addRule(`.monaco-editor .wordHighlight { background-color: ${Q}; }`);const ne=W.getColor(g);ne&&M.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${ne}; }`);const X=W.getColor(o.editorSelectionHighlightBorder);X&&M.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,l.isHighContrast)(W.type)?"dotted":"solid"} ${X}; box-sizing: border-box; }`);const J=W.getColor(m);J&&M.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,l.isHighContrast)(W.type)?"dashed":"solid"} ${J}; box-sizing: border-box; }`);const ie=W.getColor(S);ie&&M.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,l.isHighContrast)(W.type)?"dashed":"solid"} ${ie}; box-sizing: border-box; }`)})}),define(oe[742],se([1,0,7,121,30,136,2,39,3,35,401]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const h=new N.Color(new N.RGBA(0,122,204)),i={showArrow:!0,showFrame:!0,className:"",frameColor:h,arrowColor:h,keepEditorSelection:!1},n="vs.editor.contrib.zoneWidget";class t{constructor(s,l,c,g,m,S){this.id="",this.domNode=s,this.afterLineNumber=l,this.afterColumn=c,this.heightInLines=g,this._onDomNodeTop=m,this._onComputedHeight=S}onDomNodeTop(s){this._onDomNodeTop(s)}onComputedHeight(s){this._onComputedHeight(s)}}e.ViewZoneDelegate=t;class r{constructor(s,l){this._id=s,this._domNode=l}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=r;class d{constructor(s){this._editor=s,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),y.removeCSSRulesContainingSelector(this._ruleName)}set color(s){this._color!==s&&(this._color=s,this._updateStyle())}set height(s){this._height!==s&&(this._height=s,this._updateStyle())}_updateStyle(){y.removeCSSRulesContainingSelector(this._ruleName),y.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(s){s.column===1&&(s={lineNumber:s.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:C.Range.fromPositions(s),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new D.IdGenerator(".arrow-decoration-");class o{constructor(s,l={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new L.DisposableStore,this.container=null,this._isShowing=!1,this.editor=s,this.options=b.deepClone(l),b.mixin(this.options,i,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(c=>{const g=this._getWidth(c);this.domNode.style.width=g+"px",this.domNode.style.left=this._getLeft(c)+"px",this._onWidth(g)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this._arrow&&this.options.arrowColor){let s=this.options.arrowColor.toString();this._arrow.color=s}}_getWidth(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}_getLeft(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}_onViewZoneTop(s){this.domNode.style.top=s+"px"}_onViewZoneHeight(s){if(this.domNode.style.height=`${s}px`,this.container){let l=s-this._decoratingElementsHeight();this.container.style.height=`${l}px`;const c=this.editor.getLayoutInfo();this._doLayout(l,this._getWidth(c))}this._resizeSash&&this._resizeSash.layout()}get position(){const[s]=this._positionMarkerId;if(!s)return;const l=this.editor.getModel();if(!l)return;const c=l.getDecorationRange(s);if(!!c)return c.getStartPosition()}show(s,l){const c=C.Range.isIRange(s)?C.Range.lift(s):C.Range.fromPositions(s);this._isShowing=!0,this._showImpl(c,l),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:c,options:u.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let s=this.editor.getOption(59),l=0;if(this.options.showArrow){let c=Math.round(s/3);l+=2*c}if(this.options.showFrame){let c=Math.round(s/9);l+=2*c}return l}_showImpl(s,l){const c=s.getStartPosition(),g=this.editor.getLayoutInfo(),m=this._getWidth(g);this.domNode.style.width=`${m}px`,this.domNode.style.left=this._getLeft(g)+"px";const S=document.createElement("div");S.style.overflow="hidden";const p=this.editor.getOption(59),v=Math.max(12,this.editor.getLayoutInfo().height/p*.8);l=Math.min(l,v);let _=0,w=0;if(this._arrow&&this.options.showArrow&&(_=Math.round(p/3),this._arrow.height=_,this._arrow.show(c)),this.options.showFrame&&(w=Math.round(p/9)),this.editor.changeViewZones(T=>{this._viewZone&&T.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(S,c.lineNumber,c.column,l,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=T.addZone(this._viewZone),this._overlayWidget=new r(n+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const T=this.options.frameWidth?this.options.frameWidth:w;this.container.style.borderTopWidth=T+"px",this.container.style.borderBottomWidth=T+"px"}let E=l*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=_+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,m),this.options.keepEditorSelection||this.editor.setSelection(s);const I=this.editor.getModel();if(I){const T=s.endLineNumber+1;T<=I.getLineCount()?this.revealLine(T,!1):this.revealLine(I.getLineCount(),!0)}}revealLine(s,l){l?this.editor.revealLineInCenter(s,0):this.editor.revealLine(s,0)}setCssClass(s,l){!this.container||(l&&this.container.classList.remove(l),this.container.classList.add(s))}_onWidth(s){}_doLayout(s,l){}_relayout(s){this._viewZone&&this._viewZone.heightInLines!==s&&this.editor.changeViewZones(l=>{this._viewZone&&(this._viewZone.heightInLines=s,l.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new f.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let s;this._disposables.add(this._resizeSash.onDidStart(l=>{this._viewZone&&(s={startY:l.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{s=void 0})),this._disposables.add(this._resizeSash.onDidChange(l=>{if(s){let c=(l.currentY-s.startY)/this.editor.getOption(59),g=c<0?Math.ceil(c):Math.floor(c),m=s.heightInLines+g;m>5&&m<35&&this._relayout(m)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=o}),define(oe[114],se([1,0,7,88,47,28,30,4,39,15,29,166,742,574,212,16,53,9,23,395]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,a.createDecorator)("IPeekViewService"),(0,o.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,v){const _=this._widgets.get(p);_&&(_.listener.dispose(),_.widget.dispose());const w=()=>{const E=this._widgets.get(p);E&&E.widget===v&&(E.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:v,listener:v.onDidClose(w)})}});var l;(function(p){p.inPeekEditor=new d.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(l=e.PeekContext||(e.PeekContext={}));let c=class{constructor(v,_){v instanceof i.EmbeddedCodeEditorWidget&&l.inPeekEditor.bindTo(_)}dispose(){}};c.ID="editor.contrib.referenceController",c=De([fe(1,d.IContextKeyService)],c),(0,u.registerEditorContribution)(c.ID,c);function g(p){let v=p.get(h.ICodeEditorService).getFocusedCodeEditor();return v instanceof i.EmbeddedCodeEditorWidget?v.getParentEditor():v}e.getOuterEditor=g;const m={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let S=class extends n.ZoneWidget{constructor(v,_,w){super(v,_);this.instantiationService=w,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,C.mixin(this.options,m,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(v){let _=this.options;v.headerBackgroundColor&&(_.headerBackgroundColor=v.headerBackgroundColor),v.primaryHeadingColor&&(_.primaryHeadingColor=v.primaryHeadingColor),v.secondaryHeadingColor&&(_.secondaryHeadingColor=v.secondaryHeadingColor),super.style(v)}_applyStyles(){super._applyStyles();let v=this.options;this._headElement&&v.headerBackgroundColor&&(this._headElement.style.backgroundColor=v.headerBackgroundColor.toString()),this._primaryHeading&&v.primaryHeadingColor&&(this._primaryHeading.style.color=v.primaryHeadingColor.toString()),this._secondaryHeading&&v.secondaryHeadingColor&&(this._secondaryHeading.style.color=v.secondaryHeadingColor.toString()),this._bodyElement&&v.frameColor&&(this._bodyElement.style.borderColor=v.frameColor.toString())}_fillContainer(v){this.setCssClass("peekview-widget"),this._headElement=y.$(".head"),this._bodyElement=y.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),v.appendChild(this._headElement),v.appendChild(this._bodyElement)}_fillHead(v,_){const w=y.$(".peekview-title");this.options.supportOnTitleClick&&(w.classList.add("clickable"),y.addStandardDisposableListener(w,"click",T=>this._onTitleClick(T))),y.append(this._headElement,w),this._fillTitleIcon(w),this._primaryHeading=y.$("span.filename"),this._secondaryHeading=y.$("span.dirname"),this._metaHeading=y.$("span.meta"),y.append(w,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=y.$(".peekview-actions");y.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new f.ActionBar(E,I),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new N.Action("peekview.close",t.localize(1,null),D.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(v){}_getActionBarOptions(){return{actionViewItemProvider:r.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(v){}setTitle(v,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=v,this._primaryHeading.setAttribute("title",v),_?this._secondaryHeading.innerText=_:y.clearNode(this._secondaryHeading))}setMetaTitle(v){this._metaHeading&&(v?(this._metaHeading.innerText=v,y.show(this._metaHeading)):y.hide(this._metaHeading))}_doLayout(v,_){if(!this._isShowing&&v<0){this.dispose();return}const w=Math.ceil(this.editor.getOption(59)*1.2),E=Math.round(v-(w+2));this._doLayoutHead(w,_),this._doLayoutBody(E,_)}_doLayoutHead(v,_){this._headElement&&(this._headElement.style.height=`${v}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(v,_){this._bodyElement&&(this._bodyElement.style.height=`${v}px`)}};S=De([fe(2,a.IInstantiationService)],S),e.PeekViewWidget=S,e.peekViewTitleBackground=(0,s.registerColor)("peekViewTitle.background",{dark:(0,s.transparent)(s.editorInfoForeground,.1),light:(0,s.transparent)(s.editorInfoForeground,.1),hcDark:null,hcLight:null},t.localize(2,null)),e.peekViewTitleForeground=(0,s.registerColor)("peekViewTitleLabel.foreground",{dark:L.Color.white,light:L.Color.black,hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,s.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,s.registerColor)("peekView.border",{dark:s.editorInfoForeground,light:s.editorInfoForeground,hcDark:s.contrastBorder,hcLight:s.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,s.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,s.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,s.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,s.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,s.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,s.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,s.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewResultsMatchHighlight=(0,s.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(13,null)),e.peekViewEditorMatchHighlight=(0,s.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,s.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},t.localize(15,null))}),define(oe[743],se([1,0,7,73,18,30,4,2,42,8,3,114,550,212,41,16,9,133,81,49,713,23,14,388]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class S{constructor(I,T,R,B,O){this._openerService=B,this._labelService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b.DisposableStore,this._editor=T;const k=document.createElement("div");k.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),k.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),k.appendChild(this._relatedBlock),this._disposables.add(y.addStandardDisposableListener(this._relatedBlock,"click",A=>{A.preventDefault();const F=this._relatedDiagnostics.get(A.target);F&&R(F)})),this._scrollable=new f.ScrollableElement(k,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),I.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(A=>{k.style.left=`-${A.scrollLeft}px`,k.style.top=`-${A.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,b.dispose)(this._disposables)}update(I){const{source:T,message:R,relatedInformation:B,code:O}=I;let k=((T==null?void 0:T.length)||0)+"()".length;O&&(typeof O=="string"?k+=O.length:k+=O.value.length);const A=(0,u.splitLines)(R);this._lines=A.length,this._longestLineLength=0;for(const z of A)this._longestLineLength=Math.max(z.length+k,this._longestLineLength);y.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(I)),this._editor.applyFontInfo(this._messageBlock);let F=this._messageBlock;for(const z of A)F=document.createElement("div"),F.innerText=z,z===""&&(F.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(F);if(T||O){const z=document.createElement("span");if(z.classList.add("details"),F.appendChild(z),T){const Q=document.createElement("span");Q.innerText=T,Q.classList.add("source"),z.appendChild(Q)}if(O)if(typeof O=="string"){const Q=document.createElement("span");Q.innerText=`(${O})`,Q.classList.add("code"),z.appendChild(Q)}else{this._codeLink=y.$("a.code-link"),this._codeLink.setAttribute("href",`${O.target.toString()}`),this._codeLink.onclick=ne=>{this._openerService.open(O.target,{allowCommands:!0}),ne.preventDefault(),ne.stopPropagation()};const Q=y.append(this._codeLink,y.$("span"));Q.innerText=O.value,z.appendChild(this._codeLink)}}if(y.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,N.isNonEmptyArray)(B)){const z=this._relatedBlock.appendChild(document.createElement("div"));z.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(const Q of B){let ne=document.createElement("div"),X=document.createElement("a");X.classList.add("filename"),X.innerText=`${this._labelService.getUriBasenameLabel(Q.resource)}(${Q.startLineNumber}, ${Q.startColumn}): `,X.title=this._labelService.getUriLabel(Q.resource),this._relatedDiagnostics.set(X,Q);let J=document.createElement("span");J.innerText=Q.message,ne.appendChild(X),ne.appendChild(J),this._lines+=1,z.appendChild(ne)}}const P=this._editor.getOption(44),W=Math.ceil(P.typicalFullwidthCharacterWidth*this._longestLineLength*.75),M=P.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:M})}layout(I,T){this._scrollable.getDomNode().style.height=`${I}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:I})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(I){let T="";switch(I.severity){case s.MarkerSeverity.Error:T=n.localize(0,null);break;case s.MarkerSeverity.Warning:T=n.localize(1,null);break;case s.MarkerSeverity.Info:T=n.localize(2,null);break;case s.MarkerSeverity.Hint:T=n.localize(3,null);break}let R=n.localize(4,null,T,I.startLineNumber+":"+I.startColumn);const B=this._editor.getModel();return B&&I.startLineNumber<=B.getLineCount()&&I.startLineNumber>=1&&(R=`${B.getLineContent(I.startLineNumber)}, ${R}`),R}}let p=class ji extends i.PeekViewWidget{constructor(I,T,R,B,O,k,A){super(I,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},O);this._themeService=T,this._openerService=R,this._menuService=B,this._contextKeyService=k,this._labelService=A,this._callOnDispose=new b.DisposableStore,this._onDidSelectRelatedInformation=new L.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=s.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(I){this._backgroundColor=I.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError,R=e.editorMarkerNavigationErrorHeader;this._severity===s.MarkerSeverity.Warning?(T=e.editorMarkerNavigationWarning,R=e.editorMarkerNavigationWarningHeader):this._severity===s.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo,R=e.editorMarkerNavigationInfoHeader);const B=I.getColor(T),O=I.getColor(R);this.style({arrowColor:B,frameColor:B,headerBackgroundColor:O,primaryHeadingColor:I.getColor(i.peekViewTitleForeground),secondaryHeadingColor:I.getColor(i.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(I){super._fillHead(I),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(B=>this.editor.focus()));const T=[],R=this._menuService.createMenu(ji.TitleMenu,this._contextKeyService);(0,t.createAndFillInActionBarActions)(R,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),R.dispose()}_fillTitleIcon(I){this._icon=y.append(I,y.$(""))}_fillBody(I){this._parentContainer=I,I.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),I.appendChild(this._container),this._message=new S(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(I,T,R){this._container.classList.remove("stale"),this._message.update(I),this._severity=I.severity,this._applyTheme(this._themeService.getColorTheme());let B=h.Range.lift(I);const O=this.editor.getPosition();let k=O&&B.containsPosition(O)?O:B.getStartPosition();super.show(k,this.computeRequiredHeight());const A=this.editor.getModel();if(A){const F=R>1?n.localize(5,null,T,R):n.localize(6,null,T,R);this.setTitle((0,C.basename)(A.uri),F)}this._icon.className=`codicon ${c.SeverityIcon.className(s.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(k,0),this.editor.focus()}updateMarker(I){this._container.classList.remove("stale"),this._message.update(I)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(I,T){super._doLayoutBody(I,T),this._heightInPixel=I,this._message.layout(I,T),this._container.style.height=`${I}px`}_onWidth(I){this._message.layout(this._heightInPixel,I)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};p.TitleMenu=new r.MenuId("gotoErrorTitleMenu"),p=De([fe(1,m.IThemeService),fe(2,l.IOpenerService),fe(3,r.IMenuService),fe(4,o.IInstantiationService),fe(5,d.IContextKeyService),fe(6,a.ILabelService)],p),e.MarkerNavigationWidget=p;let v=(0,g.oneOf)(g.editorErrorForeground,g.editorErrorBorder),_=(0,g.oneOf)(g.editorWarningForeground,g.editorWarningBorder),w=(0,g.oneOf)(g.editorInfoForeground,g.editorInfoBorder);e.editorMarkerNavigationError=(0,g.registerColor)("editorMarkerNavigationError.background",{dark:v,light:v,hcDark:g.contrastBorder,hcLight:g.contrastBorder},n.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,g.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationError,.1),light:(0,g.transparent)(e.editorMarkerNavigationError,.1),hcDark:null,hcLight:null},n.localize(8,null)),e.editorMarkerNavigationWarning=(0,g.registerColor)("editorMarkerNavigationWarning.background",{dark:_,light:_,hcDark:g.contrastBorder,hcLight:g.contrastBorder},n.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,g.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),hcDark:"#0C141F",hcLight:(0,g.transparent)(e.editorMarkerNavigationWarning,.2)},n.localize(10,null)),e.editorMarkerNavigationInfo=(0,g.registerColor)("editorMarkerNavigationInfo.background",{dark:w,light:w,hcDark:g.contrastBorder,hcLight:g.contrastBorder},n.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,g.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),hcDark:null,hcLight:null},n.localize(12,null)),e.editorMarkerNavigationBackground=(0,g.registerColor)("editorMarkerNavigation.background",{dark:g.editorBackground,light:g.editorBackground,hcDark:g.editorBackground,hcLight:g.editorBackground},n.localize(13,null))}),define(oe[307],se([1,0,28,2,15,29,11,3,22,628,549,41,16,9,77,743]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let o=class jt{constructor(v,_,w,E,I){this._markerNavigationService=_,this._contextKeyService=w,this._editorService=E,this._instantiationService=I,this._sessionDispoables=new f.DisposableStore,this._editor=v,this._widgetVisible=m.bindTo(this._contextKeyService)}static get(v){return v.getContribution(jt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(v){if(this._model&&this._model.matches(v))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(v),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(d.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(w=>{var E,I,T;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!b.Range.containsPosition((I=this._model)===null||I===void 0?void 0:I.selected.marker,w.position))&&((T=this._model)===null||T===void 0||T.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const w=this._model.find(this._editor.getModel().uri,this._widget.position);w?this._widget.updateMarker(w.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(w=>{this._editorService.openCodeEditor({resource:w.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Range.lift(w).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(v=!0){this._cleanUp(),v&&this._editor.focus()}showAtMarker(v){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new L.Position(v.startLineNumber,v.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}nagivate(v,_){var w,E;return Le(this,void 0,void 0,function*(){if(this._editor.hasModel()){const I=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(I.move(v,this._editor.getModel(),this._editor.getPosition()),!I.selected)return;if(I.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const T=yield this._editorService.openCodeEditor({resource:I.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:I.selected.marker}},this._editor);T&&((w=jt.get(T))===null||w===void 0||w.close(),(E=jt.get(T))===null||E===void 0||E.nagivate(v,_))}else this._widget.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}})}};o.ID="editor.contrib.markerController",o=De([fe(1,u.IMarkerNavigationService),fe(2,n.IContextKeyService),fe(3,D.ICodeEditorService),fe(4,t.IInstantiationService)],o),e.MarkerController=o;class a extends N.EditorAction{constructor(v,_,w){super(w);this._next=v,this._multiFile=_}run(v,_){var w;return Le(this,void 0,void 0,function*(){_.hasModel()&&((w=o.get(_))===null||w===void 0||w.nagivate(this._next,this._multiFile))})}}class s extends a{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,r.registerIcon)("marker-navigation-next",y.Codicon.arrowDown,h.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=s,s.ID="editor.action.marker.next",s.LABEL=h.localize(0,null);class l extends a{constructor(){super(!1,!1,{id:l.ID,label:l.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:(0,r.registerIcon)("marker-navigation-previous",y.Codicon.arrowUp,h.localize(3,null)),group:"navigation",order:2}})}}l.ID="editor.action.marker.prev",l.LABEL=h.localize(2,null);class c extends a{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:h.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:h.localize(5,null),group:"6_problem_nav",order:1}})}}class g extends a{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:h.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:h.localize(7,null),group:"6_problem_nav",order:2}})}}(0,N.registerEditorContribution)(o.ID,o),(0,N.registerEditorAction)(s),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(c),(0,N.registerEditorAction)(g);const m=new n.RawContextKey("markersNavigationVisible",!1),S=N.EditorCommand.bindToContribution(o.get);(0,N.registerEditorCommand)(new S({id:"closeMarkersNavigation",precondition:m,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(oe[744],se([1,0,7,233,30,4,2,51,42,166,3,35,31,72,36,58,667,114,555,9,43,133,163,14,164,131,390]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(R,B){this._editor=R,this._model=B,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const R=this._editor.getModel();if(!!R){for(let B of this._model.references)if(B.uri.toString()===R.uri.toString()){this._addDecorations(B.parent);return}}}_addDecorations(R){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const B=[],O=[];for(let A=0,F=R.children.length;A<F;A++){let P=R.children[A];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(B.push({range:P.range,options:_.DecorationOptions}),O.push(A))}const k=this._editor.deltaDecorations([],B);for(let A=0;A<k.length;A++)this._decorations.set(k[A],R.children[O[A]])}_onDecorationChanged(){const R=[],B=this._editor.getModel();if(!!B){for(let[O,k]of this._decorations){const A=B.getDecorationRange(O);if(!A)continue;let F=!1;if(!h.Range.equalsRange(A,k.range)){if(h.Range.spansMultipleLines(A))F=!0;else{const P=k.range.endColumn-k.range.startColumn,W=A.endColumn-A.startColumn;P!==W&&(F=!0)}F?(this._decorationIgnoreSet.add(k.id),R.push(O)):k.range=A}}for(let O=0,k=R.length;O<k;O++)this._decorations.delete(R[O]);this._editor.deltaDecorations(R,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}_.DecorationOptions=i.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(R){let B,O;try{const k=JSON.parse(R);B=k.ratio,O=k.heightInLines}catch{}return{ratio:B||.7,heightInLines:O||18}}}e.LayoutData=w;class E extends m.WorkbenchAsyncDataTree{}let I=class extends a.PeekViewWidget{constructor(R,B,O,k,A,F,P,W,M,z,Q,ne){super(R,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},F);this._defaultTreeKeyboardSupport=B,this.layoutData=O,this._textModelResolverService=A,this._instantiationService=F,this._peekViewService=P,this._uriLabel=W,this._undoRedoService=M,this._keybindingService=z,this._languageService=Q,this._languageConfigurationService=ne,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Dimension(0,0),this._applyTheme(k.getColorTheme()),this._callOnDispose.add(k.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(R,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(R){const B=R.getColor(a.peekViewBorder)||N.Color.transparent;this.style({arrowColor:B,frameColor:B,headerBackgroundColor:R.getColor(a.peekViewTitleBackground)||N.Color.transparent,primaryHeadingColor:R.getColor(a.peekViewTitleForeground),secondaryHeadingColor:R.getColor(a.peekViewTitleInfoForeground)})}show(R){super.show(R,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(R){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"title"})}_fillBody(R){this.setCssClass("reference-zone-widget"),this._messageContainer=y.append(R,y.$("div.messages")),y.hide(this._messageContainer),this._splitView=new f.SplitView(R,{orientation:1}),this._previewContainer=y.append(R,y.$("div.preview.inline"));let B={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,B,this.editor),y.hide(this._previewContainer),this._previewNotAvailableMessage=new i.TextModel(s.localize(0,null),t.PLAINTEXT_LANGUAGE_ID,i.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=y.append(R,y.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new o.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(o.StringRepresentationProvider),identityProvider:new o.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:a.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.addStandardDisposableListener(this._treeContainer,"keydown",A=>{A.equals(9)&&(this._keybindingService.dispatchEvent(A,A.target),A.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new o.Delegate,[this._instantiationService.createInstance(o.FileReferencesRenderer),this._instantiationService.createInstance(o.OneReferenceRenderer)],this._instantiationService.createInstance(o.DataSource),O),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:A=>{this._preview.layout({height:this._dim.height,width:A})}},f.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:A=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${A}px`,this._tree.layout(this._dim.height,A)}},f.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let k=(A,F)=>{A instanceof v.OneReference&&(F==="show"&&this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:F,source:"tree"}))};this._tree.onDidOpen(A=>{A.sideBySide?k(A.element,"side"):A.editorOptions.pinned?k(A.element,"goto"):k(A.element,"show")}),y.hide(this._treeContainer)}_onWidth(R){this._dim&&this._doLayoutBody(this._dim.height,R)}_doLayoutBody(R,B){super._doLayoutBody(R,B),this._dim=new y.Dimension(B,R),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(B),this._splitView.resizeView(0,B*this.layoutData.ratio)}setSelection(R){return this._revealReference(R,!0).then(()=>{!this._model||(this._tree.setSelection([R]),this._tree.setFocus([R]))})}setModel(R){return this._disposeOnNewModel.clear(),this._model=R,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.localize(1,null),y.show(this._messageContainer),Promise.resolve(void 0)):(y.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(R=>this._tree.rerender(R))),this._disposeOnNewModel.add(this._preview.onMouseDown(R=>{const{event:B,target:O}=R;if(B.detail!==2)return;const k=this._getFocusedReference();!k||this._onDidSelectReference.fire({element:{uri:k.uri,range:O.range},kind:B.ctrlKey||B.metaKey||B.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),y.show(this._treeContainer),y.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[R]=this._tree.getFocus();if(R instanceof v.OneReference)return R;if(R instanceof v.FileReferences&&R.children.length>0)return R.children[0]}revealReference(R){return Le(this,void 0,void 0,function*(){yield this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:"goto",source:"tree"})})}_revealReference(R,B){return Le(this,void 0,void 0,function*(){if(this._revealedReference===R)return;this._revealedReference=R,R.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,C.basenameOrAuthority)(R.uri),this._uriLabel.getUriLabel((0,C.dirname)(R.uri))):this.setTitle(s.localize(2,null));const O=this._textModelResolverService.createModelReference(R.uri);this._tree.getInput()===R.parent?this._tree.reveal(R):(B&&this._tree.reveal(R.parent),yield this._tree.expand(R.parent),this._tree.reveal(R));const k=yield O;if(!this._model){k.dispose();return}(0,L.dispose)(this._previewModelReference);const A=k.object;if(A){const F=this._preview.getModel()===A.textEditorModel?0:1,P=h.Range.lift(R.range).collapseToStart();this._previewModelReference=k,this._preview.setModel(A.textEditorModel),this._preview.setSelection(P),this._preview.revealRangeInCenter(P,F)}else this._preview.setModel(this._previewNotAvailableMessage),k.dispose()})}};I=De([fe(3,S.IThemeService),fe(4,d.ITextModelService),fe(5,l.IInstantiationService),fe(6,a.IPeekViewService),fe(7,g.ILabelService),fe(8,p.IUndoRedoService),fe(9,c.IKeybindingService),fe(10,r.ILanguageService),fe(11,n.ILanguageConfigurationService)],I),e.ReferenceWidget=I}),define(oe[308],se([1,0,10,13,59,2,29,11,3,114,553,26,37,16,9,97,163,40,83,131,744]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,h.localize(0,null));let g=class ai{constructor(p,v,_,w,E,I,T,R){this._defaultTreeKeyboardSupport=p,this._editor=v,this._editorService=w,this._notificationService=E,this._instantiationService=I,this._storageService=T,this._configurationService=R,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(_)}static get(p){return p.getContribution(ai.ID)}dispose(){var p,v;this._referenceSearchVisible.reset(),this._disposables.dispose(),(p=this._widget)===null||p===void 0||p.dispose(),(v=this._model)===null||v===void 0||v.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(p,v,_){let w;if(this._widget&&(w=this._widget.position),this.closeWidget(),!!w&&p.containsPosition(w))return;this._peekMode=_,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",I=c.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(c.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,I),this._widget.setTitle(h.localize(1,null)),this._widget.show(p),this._disposables.add(this._widget.onDidClose(()=>{v.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:B,kind:O}=R;if(!!B)switch(O){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(B,!1,!1);break;case"side":this.openReference(B,!0,!1);break;case"goto":_?this._gotoReference(B):this.openReference(B,!1,!0);break}}));const T=++this._requestIdPool;v.then(R=>{var B;if(T!==this._requestIdPool||!this._widget){R.dispose();return}return(B=this._model)===null||B===void 0||B.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(h.localize(2,null,this._model.title,this._model.references.length));let O=this._editor.getModel().uri,k=new b.Position(p.startLineNumber,p.startColumn),A=this._model.nearestReference(O,k);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const v=this._widget.position;if(!v)return;const _=this._model.nearestReference(this._editor.getModel().uri,v);if(!_)return;const w=this._model.nextOrPreviousReference(_,p),E=this._editor.hasTextFocus(),I=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(w),yield this._gotoReference(w),E?this._editor.focus():this._widget&&I&&this._widget.focusOnPreviewEditor()})}revealReference(p){return Le(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(p))})}closeWidget(p=!0){var v,_;(v=this._widget)===null||v===void 0||v.dispose(),(_=this._model)===null||_===void 0||_.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,p&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(p){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const v=C.Range.lift(p.range).collapseToStart();return this._editorService.openCodeEditor({resource:p.uri,options:{selection:v,selectionSource:"code.jump"}},this._editor).then(_=>{var w;if(this._ignoreModelChangeEvent=!1,!_||!this._widget){this.closeWidget();return}if(this._editor===_)this._widget.show(v),this._widget.focusOnReferenceTree();else{const E=ai.get(_),I=this._model.clone();this.closeWidget(),_.focus(),E==null||E.toggleWidget(v,(0,y.createCancelablePromise)(T=>Promise.resolve(I)),(w=this._peekMode)!==null&&w!==void 0?w:!1)}},_=>{this._ignoreModelChangeEvent=!1,(0,f.onUnexpectedError)(_)})}openReference(p,v,_){v||this.closeWidget();const{uri:w,range:E}=p;this._editorService.openCodeEditor({resource:w,options:{selection:E,selectionSource:"code.jump",pinned:_}},this._editor,v)}};g.ID="editor.contrib.referencesController",g=De([fe(2,t.IContextKeyService),fe(3,L.ICodeEditorService),fe(4,a.INotificationService),fe(5,r.IInstantiationService),fe(6,s.IStorageService),fe(7,n.IConfigurationService)],g),e.ReferencesController=g;function m(S,p){const v=(0,u.getOuterEditor)(S);if(!v)return;const _=g.get(v);_&&p(_)}d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,N.KeyChord)(2048|41,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){m(S,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){m(S,p=>{p.goToNextOrPreviousReference(!0)})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){m(S,p=>{p.goToNextOrPreviousReference(!1)})}}),i.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),i.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),i.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),i.CommandsRegistry.registerCommand("closeReferenceSearch",S=>m(S,p=>p.closeWidget())),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(u.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,o.WorkbenchListFocusContextKey,o.WorkbenchTreeElementCanCollapse.negate(),o.WorkbenchTreeElementCanExpand.negate()),handler(S){var p;const _=(p=S.get(o.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof l.OneReference&&m(S,w=>w.revealReference(_[0]))}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,o.WorkbenchListFocusContextKey,o.WorkbenchTreeElementCanCollapse.negate(),o.WorkbenchTreeElementCanExpand.negate()),handler(S){var p;const _=(p=S.get(o.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof l.OneReference&&m(S,w=>w.openReference(_[0],!0,!0))}}),i.CommandsRegistry.registerCommand("openReference",S=>{var p;const _=(p=S.get(o.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof l.OneReference&&m(S,w=>w.openReference(_[0],!1,!0))})}),define(oe[213],se([1,0,34,45,10,59,17,19,25,113,150,15,29,166,11,3,22,27,308,131,688,162,114,551,41,26,16,9,40,76,298,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I,T,R){"use strict";var B,O,k,A,F,P,W,M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextPeek,title:S.localize(0,null),group:"navigation",order:100});const z=new Set;function Q(re){const ae=new re;return(0,i.registerInstantiatedEditorAction)(ae),z.add(ae.id),ae}class ne{constructor(ae,Y){this.model=ae,this.position=Y}static is(ae){return!ae||typeof ae!="object"?!1:!!(ae instanceof ne||r.Position.isIPosition(ae.position)&&ae.model)}}e.SymbolNavigationAnchor=ne;class X extends i.EditorAction{constructor(ae,Y){super(Y);this.configuration=ae}run(ae,Y,U){if(!Y.hasModel())return Promise.resolve(void 0);const Z=ae.get(E.INotificationService),q=ae.get(n.ICodeEditorService),$=ae.get(I.IEditorProgressService),H=ae.get(c.ISymbolNavigationService),ee=ae.get(R.ILanguageFeaturesService),te=Y.getModel(),de=Y.getPosition(),he=ne.is(U)?U:new ne(te,de),pe=new u.EditorStateCancellationTokenSource(Y,1|4),ve=(0,N.raceCancellation)(this._getLocationModel(ee,he.model,he.position,pe.token),pe.token).then(ue=>Le(this,void 0,void 0,function*(){var Ce;if(!ue||pe.token.isCancellationRequested)return;(0,f.alert)(ue.ariaMessage);let me;if(ue.referenceAt(te.uri,de)){const ce=this._getAlternativeCommand(Y);ce!==this.id&&z.has(ce)&&(me=Y.getAction(ce))}const be=ue.references.length;if(be===0){if(!this.configuration.muteMessage){const ce=te.getWordAtPosition(de);(Ce=g.MessageController.get(Y))===null||Ce===void 0||Ce.showMessage(this._getNoResultFoundMessage(ce),de)}}else if(be===1&&me)me.run();else return this._onResult(q,H,Y,ue)}),ue=>{Z.error(ue)}).finally(()=>{pe.dispose()});return $.showWhile(ve,250),ve}_onResult(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){const q=this._getGoToPreference(U);if(!(U instanceof t.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||q==="peek"&&Z.references.length>1))this._openInPeek(U,Z);else{const $=Z.firstReference(),H=Z.references.length>1&&q==="gotoAndPeek",ee=yield this._openReference(U,ae,$,this.configuration.openToSide,!H);H&&ee?this._openInPeek(ee,Z):Z.dispose(),q==="goto"&&Y.put($)}})}_openReference(ae,Y,U,Z,q){return Le(this,void 0,void 0,function*(){let $;if((0,a.isLocationLink)(U)&&($=U.targetSelectionRange),$||($=U.range),!$)return;const H=yield Y.openCodeEditor({resource:U.uri,options:{selection:d.Range.collapseToStart($),selectionRevealType:3,selectionSource:"code.jump"}},ae,Z);if(!!H){if(q){const ee=H.getModel(),te=H.deltaDecorations([],[{range:$,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{H.getModel()===ee&&H.deltaDecorations(te,[])},350)}return H}})}_openInPeek(ae,Y){const U=s.ReferencesController.get(ae);U&&ae.hasModel()?U.toggleWidget(ae.getSelection(),(0,N.createCancelablePromise)(Z=>Promise.resolve(Y)),this.configuration.openInPeek):Y.dispose()}}e.SymbolNavigationAction=X;class J extends X{_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,T.getDefinitionsAtPosition)(ae.definitionProvider,Y,U,Z),S.localize(1,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?S.localize(2,null,ae.word):S.localize(3,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeDefinitionCommand}_getGoToPreference(ae){return ae.getOption(51).multipleDefinitions}}e.DefinitionAction=J;const ie=L.isWeb&&!(0,y.isStandalone)()?2048|70:70;Q((B=class li extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:li.id,label:S.localize(4,null),alias:"Go to Definition",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:ie,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});v.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",li.id)}},B.id="editor.action.revealDefinition",B)),Q((O=class di extends J{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:di.id,label:S.localize(5,null),alias:"Open Definition to the Side",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,ie),weight:100}});v.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",di.id)}},O.id="editor.action.revealDefinitionAside",O)),Q((k=class ci extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ci.id,label:S.localize(6,null),alias:"Peek Definition",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:2}});v.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",ci.id)}},k.id="editor.action.peekDefinition",k));class le extends X{_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,T.getDeclarationsAtPosition)(ae.declarationProvider,Y,U,Z),S.localize(7,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?S.localize(8,null,ae.word):S.localize(9,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeDeclarationCommand}_getGoToPreference(ae){return ae.getOption(51).multipleDeclarations}}Q((A=class qi extends le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:qi.id,label:S.localize(10,null),alias:"Go to Declaration",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasDeclarationProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(ae){return ae&&ae.word?S.localize(11,null,ae.word):S.localize(12,null)}},A.id="editor.action.revealDeclaration",A)),Q(class extends le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:S.localize(13,null),alias:"Peek Declaration",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasDeclarationProvider,m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:3}})}});class G extends X{_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,T.getTypeDefinitionsAtPosition)(ae.typeDefinitionProvider,Y,U,Z),S.localize(14,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?S.localize(15,null,ae.word):S.localize(16,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(ae){return ae.getOption(51).multipleTypeDefinitions}}Q((F=class $i extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$i.ID,label:S.localize(17,null),alias:"Go to Type Definition",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasTypeDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},F.ID="editor.action.goToTypeDefinition",F)),Q((P=class Gi extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Gi.ID,label:S.localize(18,null),alias:"Peek Type Definition",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasTypeDefinitionProvider,m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:4}})}},P.ID="editor.action.peekTypeDefinition",P));class x extends X{_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,T.getImplementationsAtPosition)(ae.implementationProvider,Y,U,Z),S.localize(19,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?S.localize(20,null,ae.word):S.localize(21,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeImplementationCommand}_getGoToPreference(ae){return ae.getOption(51).multipleImplementations}}Q((W=class Zi extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.ID,label:S.localize(22,null),alias:"Go to Implementations",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasImplementationProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},W.ID="editor.action.goToImplementation",W)),Q((M=class Yi extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yi.ID,label:S.localize(23,null),alias:"Peek Implementations",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasImplementationProvider,m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:5}})}},M.ID="editor.action.peekImplementation",M));class V extends X{_getNoResultFoundMessage(ae){return ae?S.localize(24,null,ae.word):S.localize(25,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeReferenceCommand}_getGoToPreference(ae){return ae.getOption(51).multipleReferences}}Q(class extends V{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:S.localize(26,null),alias:"Go to References",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,T.getReferencesAtPosition)(ae.referenceProvider,Y,U,!0,Z),S.localize(27,null))})}}),Q(class extends V{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:S.localize(28,null),alias:"Peek References",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,T.getReferencesAtPosition)(ae.referenceProvider,Y,U,!1,Z),S.localize(29,null))})}});class j extends X{constructor(ae,Y,U){super(ae,{id:"editor.action.goToLocation",label:S.localize(30,null),alias:"Go to Any Symbol",precondition:_.ContextKeyExpr.and(m.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=Y,this._gotoMultipleBehaviour=U}_getLocationModel(ae,Y,U,Z){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(this._references,S.localize(31,null))})}_getNoResultFoundMessage(ae){return ae&&S.localize(32,null,ae.word)||""}_getGoToPreference(ae){var Y;return(Y=this._gotoMultipleBehaviour)!==null&&Y!==void 0?Y:ae.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}v.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:r.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(re,ae,Y,U,Z,q,$)=>Le(void 0,void 0,void 0,function*(){(0,b.assertType)(C.URI.isUri(ae)),(0,b.assertType)(r.Position.isIPosition(Y)),(0,b.assertType)(Array.isArray(U)),(0,b.assertType)(typeof Z=="undefined"||typeof Z=="string"),(0,b.assertType)(typeof $=="undefined"||typeof $=="boolean");const H=re.get(n.ICodeEditorService),ee=yield H.openCodeEditor({resource:ae},H.getFocusedCodeEditor());if((0,h.isCodeEditor)(ee))return ee.setPosition(Y),ee.revealPositionInCenterIfOutsideViewport(Y,0),ee.invokeWithinContext(te=>{const de=new class extends j{_getNoResultFoundMessage(he){return q||super._getNoResultFoundMessage(he)}}({muteMessage:!Boolean(q),openInPeek:Boolean($),openToSide:!1},U,Z);te.get(w.IInstantiationService).invokeFunction(de.run.bind(de),ee)})})}),v.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:r.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(re,ae,Y,U,Z)=>Le(void 0,void 0,void 0,function*(){re.get(v.ICommandService).executeCommand("editor.action.goToLocations",ae,Y,U,Z,void 0,!0)})}),v.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(re,ae,Y)=>{(0,b.assertType)(C.URI.isUri(ae)),(0,b.assertType)(r.Position.isIPosition(Y));const U=re.get(R.ILanguageFeaturesService),Z=re.get(n.ICodeEditorService);return Z.openCodeEditor({resource:ae},Z.getFocusedCodeEditor()).then(q=>{if(!(0,h.isCodeEditor)(q)||!q.hasModel())return;const $=s.ReferencesController.get(q);if(!$)return;const H=(0,N.createCancelablePromise)(te=>(0,T.getReferencesAtPosition)(U.referenceProvider,q.getModel(),r.Position.lift(Y),!1,te).then(de=>new l.ReferencesModel(de,S.localize(33,null)))),ee=new d.Range(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return Promise.resolve($.toggleWidget(ee,H,!1))})}}),v.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),p.MenuRegistry.appendMenuItems([{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:S.localize(34,null)},group:"4_symbol_nav",order:2}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:S.localize(35,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:S.localize(36,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:S.localize(37,null)},group:"4_symbol_nav",order:4}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:S.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(oe[309],se([1,0,10,13,65,2,19,113,15,3,36,58,193,114,552,16,23,14,213,298,20,389]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let g=class qt{constructor(S,p,v,_){this.textModelResolverService=p,this.languageService=v,this.languageFeaturesService=_,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=S;let w=new n.ClickLinkGesture(S);this.toUnhook.add(w),this.toUnhook.add(w.onMouseMoveOrRelevantKeyDown(([E,I])=>{this.startFindDefinitionFromMouse(E,(0,L.withNullAsUndefined)(I))})),this.toUnhook.add(w.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},I=>{this.removeLinkDecorations(),(0,f.onUnexpectedError)(I)})})),this.toUnhook.add(w.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(S){return S.getContribution(qt.ID)}startFindDefinitionFromCursor(S){return this.startFindDefinition(S).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(p=>{p&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(S,p){if(S.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(S,p)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const v=S.target.position;this.startFindDefinition(v)}startFindDefinition(S){var p;this.toUnhookForKeyboard.clear();const v=S?(p=this.editor.getModel())===null||p===void 0?void 0:p.getWordAtPosition(S):null;if(!v)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===v.startColumn&&this.currentWordAtPosition.endColumn===v.endColumn&&this.currentWordAtPosition.word===v.word)return Promise.resolve(0);this.currentWordAtPosition=v;let _=new b.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,y.createCancelablePromise)(w=>this.findDefinition(S,w)),this.previousPromise.then(w=>{if(!w||!w.length||!_.validate(this.editor)){this.removeLinkDecorations();return}if(w.length>1)this.addDecoration(new u.Range(S.lineNumber,v.startColumn,S.lineNumber,v.endColumn),new N.MarkdownString().appendText(r.localize(0,null,w.length)));else{let E=w[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:R}=E.range;if(R<1||R>T.getLineCount()){I.dispose();return}const B=this.getPreviewValue(T,R,E);let O;E.originSelectionRange?O=u.Range.lift(E.originSelectionRange):O=new u.Range(S.lineNumber,v.startColumn,S.lineNumber,v.endColumn);const k=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(O,new N.MarkdownString().appendCodeblock(k||"",B)),I.dispose()})}}).then(void 0,f.onUnexpectedError)}getPreviewValue(S,p,v){let _=v.range;return _.endLineNumber-_.startLineNumber>=qt.MAX_SOURCE_PREVIEW_LINES&&(_=this.getPreviewRangeBasedOnIndentation(S,p)),this.stripIndentationFromPreviewRange(S,p,_)}stripIndentationFromPreviewRange(S,p,v){let w=S.getLineFirstNonWhitespaceColumn(p);for(let I=p+1;I<v.endLineNumber;I++){const T=S.getLineFirstNonWhitespaceColumn(I);w=Math.min(w,T)}return S.getValueInRange(v).replace(new RegExp(`^\\s{${w-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(S,p){const v=S.getLineFirstNonWhitespaceColumn(p),_=Math.min(S.getLineCount(),p+qt.MAX_SOURCE_PREVIEW_LINES);let w=p+1;for(;w<_;w++){let E=S.getLineFirstNonWhitespaceColumn(w);if(v===E)break}return new u.Range(p,1,w+1,1)}addDecoration(S,p){const v={range:S,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:p}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[v])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(S,p){return this.editor.hasModel()&&S.isNoneOrSingleMouseDown&&S.target.type===6&&(S.hasTriggerModifier||(p?p.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(S,p){const v=this.editor.getModel();return v?(0,l.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,v,S,p):Promise.resolve(null)}gotoDefinition(S,p){return this.editor.setPosition(S),this.editor.invokeWithinContext(v=>{const _=!p&&this.editor.getOption(78)&&!this.isInPeekEditor(v);return new s.DefinitionAction({openToSide:p,openInPeek:_,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(v,this.editor)})}isInPeekEditor(S){const p=S.get(d.IContextKeyService);return t.PeekContext.inPeekEditor.getValue(p)}dispose(){this.toUnhook.dispose()}};g.ID="editor.contrib.gotodefinitionatposition",g.MAX_SOURCE_PREVIEW_LINES=8,g=De([fe(1,i.ITextModelService),fe(2,h.ILanguageService),fe(3,c.ILanguageFeaturesService)],g),e.GotoDefinitionAtPositionEditorContribution=g,(0,C.registerEditorContribution)(g.ID,g),(0,a.registerThemingParticipant)((m,S)=>{const p=m.getColor(o.editorActiveLinkForeground);p&&S.addRule(`.monaco-editor .goto-definition-link { color: ${p} !important; }`)})}),define(oe[745],se([1,0,7,18,10,13,2,42,3,203,161,300,156,307,560,81,49,76,23,14,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const g=y.$;class m{constructor(_,w,E){this.owner=_,this.range=w,this.marker=E}isValidForHoverAnchor(_){return _.type===1&&this.range.startColumn<=_.range.startColumn&&this.range.endColumn>=_.range.endColumn}}e.MarkerHover=m;const S={type:1,filter:{include:n.CodeActionKind.QuickFix}};let p=class{constructor(_,w,E,I){this._editor=_,this._markerDecorationsService=w,this._openerService=E,this._languageFeaturesService=I,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(_,w){if(!this._editor.hasModel()||_.type!==1)return[];const E=this._editor.getModel(),I=_.range.startLineNumber,T=E.getLineMaxColumn(I),R=[];for(const B of w){const O=B.range.startLineNumber===I?B.range.startColumn:1,k=B.range.endLineNumber===I?B.range.endColumn:T,A=this._markerDecorationsService.getMarker(E.uri,B);if(!A)continue;const F=new C.Range(_.range.startLineNumber,O,_.range.startLineNumber,k);R.push(new m(this,F,A))}return R}renderHoverParts(_,w){if(!w.length)return L.Disposable.None;const E=new L.DisposableStore;w.forEach(T=>_.fragment.appendChild(this.renderMarkerHover(T,E)));const I=w.length===1?w[0]:w.sort((T,R)=>d.MarkerSeverity.compare(T.marker.severity,R.marker.severity))[0];return this.renderMarkerStatusbar(_,I,E),E}renderMarkerHover(_,w){const E=g("div.hover-row"),I=y.append(E,g("div.marker.hover-contents")),{source:T,message:R,code:B,relatedInformation:O}=_.marker;this._editor.applyFontInfo(I);const k=y.append(I,g("span"));if(k.style.whiteSpace="pre-wrap",k.innerText=R,T||B)if(B&&typeof B!="string"){const A=g("span");if(T){const M=y.append(A,g("span"));M.innerText=T}const F=y.append(A,g("a.code-link"));F.setAttribute("href",B.target.toString()),w.add(y.addDisposableListener(F,"click",M=>{this._openerService.open(B.target,{allowCommands:!0}),M.preventDefault(),M.stopPropagation()}));const P=y.append(F,g("span"));P.innerText=B.value;const W=y.append(I,A);W.style.opacity="0.6",W.style.paddingLeft="6px"}else{const A=y.append(I,g("span"));A.style.opacity="0.6",A.style.paddingLeft="6px",A.innerText=T&&B?`${T}(${B})`:T||`(${B})`}if((0,f.isNonEmptyArray)(O))for(const{message:A,resource:F,startLineNumber:P,startColumn:W}of O){const M=y.append(I,g("div"));M.style.marginTop="8px";const z=y.append(M,g("a"));z.innerText=`${(0,b.basename)(F)}(${P}, ${W}): `,z.style.cursor="pointer",w.add(y.addDisposableListener(z,"click",ne=>{ne.stopPropagation(),ne.preventDefault(),this._openerService&&this._openerService.open(F,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:P,startColumn:W}}}).catch(D.onUnexpectedError)}));const Q=y.append(M,g("span"));Q.innerText=A,this._editor.applyFontInfo(Q)}return E}renderMarkerStatusbar(_,w,E){if((w.marker.severity===d.MarkerSeverity.Error||w.marker.severity===d.MarkerSeverity.Warning||w.marker.severity===d.MarkerSeverity.Info)&&_.statusBar.addAction({label:r.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var I;_.hide(),(I=t.MarkerController.get(this._editor))===null||I===void 0||I.showAtMarker(w.marker),this._editor.focus()}}),!this._editor.getOption(81)){const I=_.statusBar.append(g("div"));this.recentMarkerCodeActionsInfo&&(d.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===d.IMarkerData.makeKey(w.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(I.textContent=r.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const T=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?L.Disposable.None:E.add((0,N.disposableTimeout)(()=>I.textContent=r.localize(2,null),200));I.textContent||(I.textContent=String.fromCharCode(160));const R=this.getCodeActions(w.marker);E.add((0,L.toDisposable)(()=>R.cancel())),R.then(B=>{if(T.dispose(),this.recentMarkerCodeActionsInfo={marker:w.marker,hasCodeActions:B.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){B.dispose(),I.textContent=r.localize(3,null);return}I.style.display="none";let O=!1;E.add((0,L.toDisposable)(()=>{O||B.dispose()})),_.statusBar.addAction({label:r.localize(4,null),commandId:i.QuickFixAction.Id,run:k=>{O=!0;const A=i.QuickFixController.get(this._editor),F=y.getDomNodePagePosition(k);_.hide(),A==null||A.showCodeActions(S,B,{x:F.left+6,y:F.top+F.height+6,width:F.width,height:F.height})}})},D.onUnexpectedError)}}getCodeActions(_){return(0,N.createCancelablePromise)(w=>(0,h.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new C.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),S,a.Progress.None,w))}};p=De([fe(1,u.IMarkerDecorationsService),fe(2,o.IOpenerService),fe(3,c.ILanguageFeaturesService)],p),e.MarkerHoverParticipant=p,(0,l.registerThemingParticipant)((v,_)=>{const w=v.getColor(s.textLinkForeground);w&&_.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${w}; }`);const E=v.getColor(s.textLinkActiveForeground);E&&_.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${E}; }`)})}),define(oe[310],se([1,0,59,2,15,3,22,36,309,734,640,558,16,9,49,23,14,87,211,745]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let c=class Qi{constructor(p,v,_,w,E){this._editor=p,this._instantiationService=v,this._openerService=_,this._languageService=w,this._toUnhook=new f.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(I=>{I.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(p){return p.getContribution(Qi.ID)}_hookEvents(){const p=()=>this._hideWidgets(),v=this._editor.getOption(53);this._isHoverEnabled=v.enabled,this._isHoverSticky=v.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(_=>this._onEditorMouseDown(_))),this._toUnhook.add(this._editor.onMouseUp(_=>this._onEditorMouseUp(_))),this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))):(this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))),this._toUnhook.add(this._editor.onMouseLeave(_=>this._onEditorMouseLeave(_))),this._toUnhook.add(this._editor.onDidChangeModel(p)),this._toUnhook.add(this._editor.onDidScrollChange(_=>this._onEditorScrollChanged(_)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(p){(p.scrollTopChanged||p.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(p){this._isMouseDown=!0;const v=p.target;if(v.type===9&&v.detail===u.ContentHoverWidget.ID){this._hoverClicked=!0;return}v.type===12&&v.detail===h.MarginHoverWidget.ID||(v.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(p){this._isMouseDown=!1}_onEditorMouseLeave(p){var v;const _=p.event.browserEvent.relatedTarget;((v=this._contentWidget)===null||v===void 0?void 0:v.containsNode(_))||this._hideWidgets()}_onEditorMouseMove(p){var v,_,w,E,I;const T=p.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&T.type===9&&T.detail===u.ContentHoverWidget.ID||this._isHoverSticky&&!((_=(v=p.event.browserEvent.view)===null||v===void 0?void 0:v.getSelection())===null||_===void 0?void 0:_.isCollapsed)||!this._isHoverSticky&&T.type===9&&T.detail===u.ContentHoverWidget.ID&&((w=this._contentWidget)===null||w===void 0?void 0:w.isColorPickerVisible())||this._isHoverSticky&&T.type===12&&T.detail===h.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(p)){(E=this._glyphWidget)===null||E===void 0||E.hide();return}if(T.type===2&&T.position){(I=this._contentWidget)===null||I===void 0||I.hide(),this._glyphWidget||(this._glyphWidget=new h.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(T.position.lineNumber);return}this._hideWidgets()}_onKeyDown(p){p.keyCode!==5&&p.keyCode!==6&&p.keyCode!==57&&p.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var p,v,_;this._isMouseDown&&this._hoverClicked&&((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||(this._hoverClicked=!1,(v=this._glyphWidget)===null||v===void 0||v.hide(),(_=this._contentWidget)===null||_===void 0||_.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(u.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var p;return((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||!1}showContentHover(p,v,_){this._getOrCreateContentWidget().startShowingAtRange(p,v,_)}dispose(){var p,v;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(p=this._glyphWidget)===null||p===void 0||p.dispose(),(v=this._contentWidget)===null||v===void 0||v.dispose()}};c.ID="editor.contrib.hover",c=De([fe(1,t.IInstantiationService),fe(2,r.IOpenerService),fe(3,b.ILanguageService),fe(4,n.IContextKeyService)],c),e.ModesHoverController=c;class g extends N.EditorAction{constructor(){super({id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|39),weight:100}})}run(p,v){if(!v.hasModel())return;let _=c.get(v);if(!_)return;const w=v.getPosition(),E=new D.Range(w.lineNumber,w.column,w.lineNumber,w.column),I=v.getOption(2)===2;_.showContentHover(E,1,I)}}class m extends N.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(p,v){const _=c.get(v);if(!_)return;const w=v.getPosition();if(!w)return;const E=new D.Range(w.lineNumber,w.column,w.lineNumber,w.column),I=C.GotoDefinitionAtPositionEditorContribution.get(v);if(!I)return;I.startFindDefinitionFromCursor(w).then(()=>{_.showContentHover(E,1,!0)})}}(0,N.registerEditorContribution)(c.ID,c),(0,N.registerEditorAction)(g),(0,N.registerEditorAction)(m),a.HoverParticipantRegistry.register(s.MarkdownHoverParticipant),a.HoverParticipantRegistry.register(l.MarkerHoverParticipant),(0,o.registerThemingParticipant)((S,p)=>{const v=S.getColor(d.editorHoverHighlight);v&&p.addRule(`.monaco-editor .hoverHighlight { background-color: ${v}; }`);const _=S.getColor(d.editorHoverBackground);_&&p.addRule(`.monaco-editor .monaco-hover { background-color: ${_}; }`);const w=S.getColor(d.editorHoverBorder);w&&(p.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${w}; }`),p.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${w.transparent(.5)}; }`),p.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${w.transparent(.5)}; }`),p.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${w.transparent(.5)}; }`));const E=S.getColor(d.textLinkForeground);E&&p.addRule(`.monaco-editor .monaco-hover a { color: ${E}; }`);const I=S.getColor(d.textLinkActiveForeground);I&&p.addRule(`.monaco-editor .monaco-hover a:hover { color: ${I}; }`);const T=S.getColor(d.editorHoverForeground);T&&p.addRule(`.monaco-editor .monaco-hover { color: ${T}; }`);const R=S.getColor(d.editorHoverStatusBarBackground);R&&p.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${R}; }`);const B=S.getColor(d.textCodeBlockBackground);B&&p.addRule(`.monaco-editor .monaco-hover code { background-color: ${B}; }`)})}),define(oe[746],se([1,0,2,15,3,305,726,310,87]),function(K,e,y,f,N,D,L,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class u extends y.Disposable{constructor(i){super();this._editor=i,this._register(i.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(i){const n=i.target;if(n.type!==6||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!n.range)return;const t=this._editor.getContribution(b.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const r=new N.Range(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);t.showContentHover(r,1,!1)}}}e.ColorContribution=u,u.ID="editor.contrib.colorContribution",(0,f.registerEditorContribution)(u.ID,u),C.HoverParticipantRegistry.register(L.ColorHoverParticipant)}),define(oe[747],se([1,0,7,47,21,15,3,58,213,114,41,26,16,80,9,40]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function o(s,l,c,g){var m;return Le(this,void 0,void 0,function*(){const S=s.get(b.ITextModelService),p=s.get(t.IContextMenuService),v=s.get(i.ICommandService),_=s.get(r.IInstantiationService),w=s.get(d.INotificationService);if(yield g.item.resolve(N.CancellationToken.None),!g.part.location)return;const E=g.part.location,I=[],T=new Set(h.MenuRegistry.getMenuItems(h.MenuId.EditorContext).map(B=>(0,h.isIMenuItem)(B)?B.command.id:""));for(const B of D.EditorExtensionsRegistry.getEditorActions())B instanceof C.SymbolNavigationAction&&T.has(B.id)&&I.push(new f.Action(B.id,B.label,void 0,!0,()=>Le(this,void 0,void 0,function*(){const O=yield S.createModelReference(E.uri);try{yield _.invokeFunction(B.run.bind(B),l,new C.SymbolNavigationAnchor(O.object.textEditorModel,L.Range.getStartPosition(E.range)))}finally{O.dispose()}})));if(g.part.command){const{command:B}=g.part;I.push(new f.Separator),I.push(new f.Action(B.id,B.title,void 0,!0,()=>Le(this,void 0,void 0,function*(){var O;try{yield v.executeCommand(B.id,...(O=B.arguments)!==null&&O!==void 0?O:[])}catch(k){w.notify({severity:d.Severity.Error,source:g.item.provider.displayName,message:k})}})))}const R=l.getOption(115);p.showContextMenu({domForShadowRoot:R&&(m=l.getDomNode())!==null&&m!==void 0?m:void 0,getAnchor:()=>{const B=y.getDomNodePagePosition(c);return{x:B.left,y:B.top+B.height+8}},getActions:()=>I,onHide:()=>{l.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=o;function a(s,l,c,g){return Le(this,void 0,void 0,function*(){const S=yield s.get(b.ITextModelService).createModelReference(g.uri);yield c.invokeWithinContext(p=>Le(this,void 0,void 0,function*(){const v=l.hasSideBySideModifier,_=p.get(n.IContextKeyService),w=u.PeekContext.inPeekEditor.getValue(_),E=!v&&c.getOption(78)&&!w;return new C.DefinitionAction({openToSide:v,openInPeek:E,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(p,c,{model:S.object.textEditorModel,position:L.Range.getStartPosition(g.range)})})),S.dispose()})}e.goToDefinitionWithLocation=a}),define(oe[311],se([1,0,7,18,10,21,13,2,50,19,25,134,33,61,3,27,46,35,71,20,58,193,265,747,26,53,9,40,23,14]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class T{constructor(){this._entries=new C.LRUCache(50)}get(P){const W=T._key(P);return this._entries.get(W)}set(P,W){const M=T._key(P);this._entries.set(M,W)}static _key(P){return`${P.uri.toString()}/${P.getVersionId()}`}}const R=(0,_.createDecorator)("IInlayHintsCache");(0,v.registerSingleton)(R,T,!0);class B{constructor(P,W){this.item=P,this.index=W}get part(){const P=this.item.hint.label;return typeof P=="string"?{label:P}:P[this.index]}}e.RenderedInlayHintLabelPart=B;class O{constructor(P,W){this.part=P,this.hasTriggerModifier=W}}let k=class ui{constructor(P,W,M,z,Q,ne,X){this._editor=P,this._languageFeaturesService=W,this._inlayHintsCache=z,this._commandService=Q,this._notificationService=ne,this._instaService=X,this._disposables=new b.DisposableStore,this._sessionDisposables=new b.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new i.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=M.for(W.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(W.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(P.onDidChangeModel(()=>this._update())),this._disposables.add(P.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(P.onDidChangeConfiguration(J=>{J.hasChanged(127)&&this._update()})),this._update()}static get(P){var W;return(W=P.getContribution(ui.ID))!==null&&W!==void 0?W:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const P=this._editor.getOption(127);if(P.enabled==="off")return;const W=this._editor.getModel();if(!W||!this._languageFeaturesService.inlayHintsProvider.has(W))return;const M=this._inlayHintsCache.get(W);M&&this._updateHintsDecorators([W.getFullModelRange()],M),this._sessionDisposables.add((0,b.toDisposable)(()=>{W.isDisposed()||this._cacheHintsForFastRestore(W)}));let z,Q=new Set;const ne=new N.RunOnceScheduler(()=>Le(this,void 0,void 0,function*(){const X=Date.now();z==null||z.dispose(!0),z=new D.CancellationTokenSource;const J=W.onWillDispose(()=>z==null?void 0:z.cancel());try{const ie=z.token,le=yield m.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,W,this._getHintsRanges(),ie);if(ne.delay=this._debounceInfo.update(W,Date.now()-X),ie.isCancellationRequested){le.dispose();return}for(const G of le.provider)typeof G.onDidChangeInlayHints=="function"&&!Q.has(G)&&(Q.add(G),this._sessionDisposables.add(G.onDidChangeInlayHints(()=>{ne.isScheduled()||ne.schedule()})));this._sessionDisposables.add(le),this._updateHintsDecorators(le.ranges,le.items),this._cacheHintsForFastRestore(W)}catch(ie){(0,L.onUnexpectedError)(ie)}finally{z.dispose(),J.dispose()}}),this._debounceInfo.get(W));if(this._sessionDisposables.add(ne),this._sessionDisposables.add((0,b.toDisposable)(()=>z==null?void 0:z.dispose(!0))),ne.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(X=>{(X.scrollTopChanged||!ne.isScheduled())&&ne.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(X=>{const J=Math.max(ne.delay,1250);ne.schedule(J)})),P.enabled==="on")this._activeRenderMode=0;else{let X,J;P.enabled==="onUnlessPressed"?(X=0,J=1):(X=1,J=0),this._activeRenderMode=X,this._sessionDisposables.add(y.ModifierKeyEmitter.getInstance().event(ie=>{if(!this._editor.hasModel())return;const le=ie.altKey&&ie.ctrlKey?J:X;if(le!==this._activeRenderMode){this._activeRenderMode=le;const G=this._getHintsRanges(),x=this._copyInlayHintsWithCurrentAnchor(this._editor.getModel());this._updateHintsDecorators(G,x),ne.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ne.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const P=new b.DisposableStore,W=P.add(new g.ClickLinkGesture(this._editor)),M=new b.DisposableStore;return P.add(M),P.add(W.onMouseMoveOrRelevantKeyDown(z=>{const[Q]=z,ne=this._getInlayHintLabelPart(Q),X=this._editor.getModel();if(!ne||!X){M.clear();return}const J=new D.CancellationTokenSource;M.add((0,b.toDisposable)(()=>J.dispose(!0))),ne.item.resolve(J.token),this._activeInlayHintPart=ne.part.command||ne.part.location?new O(ne,Q.hasTriggerModifier):void 0;const ie=ne.item.hint.position.lineNumber,le=new r.Range(ie,1,ie,X.getLineMaxColumn(ie)),G=this._getInlineHintsForRange(le);this._updateHintsDecorators([le],G),M.add((0,b.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([le],G)}))})),P.add(W.onCancel(()=>M.clear())),P.add(W.onExecute(z=>Le(this,void 0,void 0,function*(){const Q=this._getInlayHintLabelPart(z);if(Q){const ne=Q.part;ne.location?this._instaService.invokeFunction(S.goToDefinitionWithLocation,z,this._editor,ne.location):d.Command.is(ne.command)&&(yield this._invokeCommand(ne.command,Q.item))}}))),P}_getInlineHintsForRange(P){const W=new Set;for(const M of this._decorationsMetadata.values())P.containsRange(M.item.anchor.range)&&W.add(M.item);return Array.from(W)}_installDblClickGesture(P){return this._editor.onMouseUp(W=>Le(this,void 0,void 0,function*(){if(W.event.detail!==2)return;const M=this._getInlayHintLabelPart(W);if(!!M&&(W.event.preventDefault(),yield M.item.resolve(D.CancellationToken.None),(0,f.isNonEmptyArray)(M.item.hint.textEdits))){const z=M.item.hint.textEdits.map(Q=>t.EditOperation.replace(r.Range.lift(Q.range),Q.text));this._editor.executeEdits("inlayHint.default",z),P()}}))}_installContextMenu(){return this._editor.onContextMenu(P=>Le(this,void 0,void 0,function*(){if(!(P.event.target instanceof HTMLElement))return;const W=this._getInlayHintLabelPart(P);W&&(yield this._instaService.invokeFunction(S.showGoToContextMenu,this._editor,P.event.target,W))}))}_getInlayHintLabelPart(P){var W;if(P.target.type!==6)return;const M=(W=P.target.detail.injectedText)===null||W===void 0?void 0:W.options;if(M instanceof a.ModelDecorationInjectedTextOptions&&(M==null?void 0:M.attachedData)instanceof B)return M.attachedData}_invokeCommand(P,W){var M;return Le(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(P.id,...(M=P.arguments)!==null&&M!==void 0?M:[])}catch(z){this._notificationService.notify({severity:w.Severity.Error,source:W.provider.displayName,message:z})}})}_cacheHintsForFastRestore(P){const W=this._copyInlayHintsWithCurrentAnchor(P);this._inlayHintsCache.set(P,W)}_copyInlayHintsWithCurrentAnchor(P){const W=new Map;for(const[M,z]of this._decorationsMetadata){if(W.has(z.item))continue;const Q=P.getDecorationRange(M);if(Q){const ne=new m.InlayHintAnchor(Q,z.item.anchor.direction),X=z.item.with({anchor:ne});W.set(z.item,X)}}return Array.from(W.values())}_getHintsRanges(){const P=30,W=this._editor.getModel(),M=this._editor.getVisibleRangesPlusViewportAboveBelow(),z=[];for(const Q of M.sort(r.Range.compareRangesUsingStarts)){const ne=W.validateRange(new r.Range(Q.startLineNumber-P,Q.startColumn,Q.endLineNumber+P,Q.endColumn));z.length===0||!r.Range.areIntersectingOrTouching(z[z.length-1],ne)?z.push(ne):z[z.length-1]=r.Range.plusRange(z[z.length-1],ne)}return z}_updateHintsDecorators(P,W){var M,z;const Q=[],ne=(V,j,re,ae,Y)=>{const U={content:re,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:j.className,cursorStops:ae,attachedData:Y};Q.push({item:V,classNameRef:j,decoration:{range:V.anchor.range,options:{description:"InlayHint",showIfCollapsed:V.anchor.range.isEmpty(),collapseOnReplaceEdit:!V.anchor.range.isEmpty(),stickiness:0,[V.anchor.direction]:this._activeRenderMode===0?U:void 0}}})},X=(V,j)=>{const re=this._ruleFactory.createClassNameRef({width:`${J/3|0}px`,display:"inline-block"});ne(V,re,"\u200A",j?o.InjectedTextCursorStops.Right:o.InjectedTextCursorStops.None)},{fontSize:J,fontFamily:ie,displayStyle:le}=this._getLayoutInfo(),G="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(G,ie);for(const V of W){V.hint.paddingLeft&&X(V,!1);const j=typeof V.hint.label=="string"?[{label:V.hint.label}]:V.hint.label;for(let re=0;re<j.length;re++){const ae=j[re],Y=re===0,U=re===j.length-1,Z={fontSize:`${J}px`,fontFamily:`var(${G}), ${n.EDITOR_FONT_DEFAULTS.fontFamily}`};(0,f.isNonEmptyArray)(V.hint.textEdits)&&(Z.cursor="default"),this._fillInColors(Z,V.hint),(ae.command||ae.location)&&((M=this._activeInlayHintPart)===null||M===void 0?void 0:M.part.item)===V&&this._activeInlayHintPart.part.index===re&&(Z.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Z.color=(0,I.themeColorFromId)(E.editorActiveLinkForeground),Z.cursor="pointer")),le==="standard"&&(Z.verticalAlign="middle",Y&&U?(Z.padding=`1px ${Math.max(1,J/4)|0}px`,Z.borderRadius=`${J/4|0}px`):Y?(Z.padding=`1px 0 1px ${Math.max(1,J/4)|0}px`,Z.borderRadius=`${J/4|0}px 0 0 ${J/4|0}px`):U?(Z.padding=`1px ${Math.max(1,J/4)|0}px 1px 0`,Z.borderRadius=`0 ${J/4|0}px ${J/4|0}px 0`):Z.padding="1px 0 1px 0"),ne(V,this._ruleFactory.createClassNameRef(Z),A(ae.label),U&&!V.hint.paddingRight?o.InjectedTextCursorStops.Right:o.InjectedTextCursorStops.None,new B(V,re))}if(V.hint.paddingRight&&X(V,!0),Q.length>ui._MAX_DECORATORS)break}const x=[];for(const V of P)for(const{id:j}of(z=this._editor.getDecorationsInRange(V))!==null&&z!==void 0?z:[]){const re=this._decorationsMetadata.get(j);re&&(x.push(j),re.classNameRef.dispose(),this._decorationsMetadata.delete(j))}this._editor.changeDecorations(V=>{const j=V.deltaDecorations(x,Q.map(re=>re.decoration));for(let re=0;re<j.length;re++){const ae=Q[re];this._decorationsMetadata.set(j[re],ae)}})}_fillInColors(P,W){W.kind===d.InlayHintKind.Parameter?(P.backgroundColor=(0,I.themeColorFromId)(E.editorInlayHintParameterBackground),P.color=(0,I.themeColorFromId)(E.editorInlayHintParameterForeground)):W.kind===d.InlayHintKind.Type?(P.backgroundColor=(0,I.themeColorFromId)(E.editorInlayHintTypeBackground),P.color=(0,I.themeColorFromId)(E.editorInlayHintTypeForeground)):(P.backgroundColor=(0,I.themeColorFromId)(E.editorInlayHintBackground),P.color=(0,I.themeColorFromId)(E.editorInlayHintForeground))}_getLayoutInfo(){const P=this._editor.getOption(127),W=this._editor.getOption(46);let M=P.fontSize;(!M||M<5||M>W)&&(M=W);const z=P.fontFamily||this._editor.getOption(43);return{fontSize:M,fontFamily:z,displayStyle:P.displayStyle}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let P of this._decorationsMetadata.values())P.classNameRef.dispose();this._decorationsMetadata.clear()}};k.ID="editor.contrib.InlayHints",k._MAX_DECORATORS=1500,k=De([fe(1,l.ILanguageFeaturesService),fe(2,s.ILanguageFeatureDebounceService),fe(3,R),fe(4,p.ICommandService),fe(5,w.INotificationService),fe(6,_.IInstantiationService)],k),e.InlayHintsController=k;function A(F){const P="\xA0";return F.replace(/[ \t]/g,P)}p.CommandsRegistry.registerCommand("_executeInlayHintProvider",(F,...P)=>Le(void 0,void 0,void 0,function*(){const[W,M]=P;(0,u.assertType)(h.URI.isUri(W)),(0,u.assertType)(r.Range.isIRange(M));const{inlayHintsProvider:z}=F.get(l.ILanguageFeaturesService),Q=yield F.get(c.ITextModelService).createModelReference(W);try{const ne=yield m.InlayHintsFragments.create(z,Q.object.textEditorModel,[r.Range.lift(M)],D.CancellationToken.None),X=ne.items.map(J=>J.hint);return setTimeout(()=>ne.dispose(),0),X}finally{Q.dispose()}}))});var Ct=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],y;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),y={},f("next"),f("throw"),f("return"),y[Symbol.asyncIterator]=function(){return this},y);function f(D){y[D]=K[D]&&function(L){return new Promise(function(b,C){L=K[D](L),N(b,C,L.done,L.value)})}}function N(D,L,b,C){Promise.resolve(C).then(function(u){D({value:u,done:b})},L)}};define(oe[748],se([1,0,10,65,11,35,87,36,58,299,211,311,37,49,20,563,17,265,18]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class l extends L.HoverForeignElementAnchor{constructor(m,S){super(10,S,m.item.anchor.range);this.part=m}}let c=class extends h.MarkdownHoverParticipant{constructor(m,S,p,v,_,w){super(m,S,p,v,w);this._resolverService=_,this.hoverOrdinal=6}suggestHoverAnchor(m){var S;if(!i.InlayHintsController.get(this._editor)||m.target.type!==6)return null;const v=(S=m.target.detail.injectedText)===null||S===void 0?void 0:S.options;return v instanceof D.ModelDecorationInjectedTextOptions&&v.attachedData instanceof i.RenderedInlayHintLabelPart?new l(v.attachedData,this):null}computeSync(){return[]}computeAsync(m,S,p){return m instanceof l?new y.AsyncIterableObject(v=>Le(this,void 0,void 0,function*(){var _,w;const{part:E}=m;if(yield E.item.resolve(p),p.isCancellationRequested)return;let I;typeof E.item.hint.tooltip=="string"?I=new f.MarkdownString().appendText(E.item.hint.tooltip):E.item.hint.tooltip&&(I=E.item.hint.tooltip),I&&v.emitOne(new h.MarkdownHover(this,m.range,[I],0)),(0,s.isNonEmptyArray)(E.item.hint.textEdits)&&v.emitOne(new h.MarkdownHover(this,m.range,[new f.MarkdownString().appendText((0,d.localize)(0,null))],10001));let T;if(typeof E.part.tooltip=="string"?T=new f.MarkdownString().appendText(E.part.tooltip):E.part.tooltip&&(T=E.part.tooltip),T&&v.emitOne(new h.MarkdownHover(this,m.range,[T],1)),E.part.location||E.part.command){let k;const F=this._editor.getOption(70)==="altKey"?o.isMacintosh?(0,d.localize)(1,null):(0,d.localize)(2,null):o.isMacintosh?(0,d.localize)(3,null):(0,d.localize)(4,null);E.part.location&&E.part.command?k=new f.MarkdownString().appendText((0,d.localize)(5,null,F)):E.part.location?k=new f.MarkdownString().appendText((0,d.localize)(6,null,F)):E.part.command&&(k=new f.MarkdownString(`[${(0,d.localize)(7,null)}](${(0,a.asCommandLink)(E.part.command)} "${E.part.command.title}") (${F})`,{isTrusted:!0})),k&&v.emitOne(new h.MarkdownHover(this,m.range,[k],1e4))}const R=yield this._resolveInlayHintLabelPartHover(E,p);try{for(var B=Ct(R),O;O=yield B.next(),!O.done;){let k=O.value;v.emitOne(k)}}catch(k){_={error:k}}finally{try{O&&!O.done&&(w=B.return)&&(yield w.call(B))}finally{if(_)throw _.error}}})):y.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(m,S){return Le(this,void 0,void 0,function*(){if(!m.part.location)return y.AsyncIterableObject.EMPTY;const{uri:p,range:v}=m.part.location,_=yield this._resolverService.createModelReference(p);try{const w=_.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(w)?(0,u.getHover)(this._languageFeaturesService.hoverProvider,w,new N.Position(v.startLineNumber,v.startColumn),S).filter(E=>!(0,f.isEmptyMarkdownString)(E.hover.contents)).map(E=>new h.MarkdownHover(this,m.item.anchor.range,E.hover.contents,2+E.ordinal)):y.AsyncIterableObject.EMPTY}finally{_.dispose()}})}};c=De([fe(1,b.ILanguageService),fe(2,t.IOpenerService),fe(3,n.IConfigurationService),fe(4,C.ITextModelService),fe(5,r.ILanguageFeaturesService)],c),e.InlayHintsHover=c}),define(oe[749],se([1,0,15,87,311,748]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(N.InlayHintsController.ID,N.InlayHintsController),f.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(oe[750],se([1,0,15,29,308,37,16,9,40,83]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let h=class extends N.ReferencesController{constructor(n,t,r,d,o,a,s){super(!0,n,t,r,d,o,a,s)}};h=De([fe(1,L.IContextKeyService),fe(2,f.ICodeEditorService),fe(3,C.INotificationService),fe(4,b.IInstantiationService),fe(5,u.IStorageService),fe(6,D.IConfigurationService)],h),e.StandaloneReferencesController=h,(0,y.registerEditorContribution)(N.ReferencesController.ID,h)}),define(oe[751],se([1,0,13,2,51,78,607,132,53,40,164]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const i=!1;function n(S){return S.scheme===N.Schemas.file?S.fsPath:S.path}let t=0;class r{constructor(p,v,_,w,E,I,T){this.id=++t,this.type=0,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabel=v,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(p){this.isValid=p}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(p,v){this.resourceLabel=p,this.reason=v}}class o{constructor(){this.elements=new Map}createMessage(){const p=[],v=[];for(const[,w]of this.elements)(w.reason===0?p:v).push(w.resourceLabel);let _=[];return p.length>0&&_.push(L.localize(0,null,p.join(", "))),v.length>0&&_.push(L.localize(1,null,v.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(p){return this.elements.has(p)}set(p,v){this.elements.set(p,v)}delete(p){return this.elements.delete(p)}}class a{constructor(p,v,_,w,E,I,T){this.id=++t,this.type=1,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabels=v,this.strResources=_,this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(p,v,_){this.removedResources||(this.removedResources=new o),this.removedResources.has(v)||this.removedResources.set(v,new d(p,_))}setValid(p,v,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(v),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new o),this.invalidatedResources.has(v)||this.invalidatedResources.set(v,new d(p,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(p,v){this.resourceLabel=p,this.strResource=v,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const p of this._past)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let p=[];p.push(`* ${this.strResource}:`);for(let v=0;v<this._past.length;v++)p.push(`   * [UNDO] ${this._past[v]}`);for(let v=this._future.length-1;v>=0;v--)p.push(`   * [REDO] ${this._future[v]}`);return p.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(p,v){p.type===1?p.setValid(this.resourceLabel,this.strResource,v):p.setValid(v)}setElementsValidFlag(p,v){for(const _ of this._past)v(_.actual)&&this._setElementValidFlag(_,p);for(const _ of this._future)v(_.actual)&&this._setElementValidFlag(_,p)}pushElement(p){for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(p),this.versionId++}createSnapshot(p){const v=[];for(let _=0,w=this._past.length;_<w;_++)v.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)v.push(this._future[_].id);return new h.ResourceEditStackSnapshot(p,v)}restoreSnapshot(p){const v=p.elements.length;let _=!0,w=0,E=-1;for(let T=0,R=this._past.length;T<R;T++,w++){const B=this._past[T];_&&(w>=v||B.id!==p.elements[w])&&(_=!1,E=0),!_&&B.type===1&&B.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,w++){const R=this._future[T];_&&(w>=v||R.id!==p.elements[w])&&(_=!1,I=T),!_&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const p=[],v=[];for(const _ of this._past)p.push(_.actual);for(const _ of this._future)v.push(_.actual);return{past:p,future:v}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(p,v){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===p){v.has(this.strResource)?this._past[_]=v.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(p,v){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===p){v.has(this.strResource)?this._future[_]=v.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(p){this._past.pop(),this._future.push(p),this.versionId++}moveForward(p){this._future.pop(),this._past.push(p),this.versionId++}}class l{constructor(p){this.editStacks=p,this._versionIds=[];for(let v=0,_=this.editStacks.length;v<_;v++)this._versionIds[v]=this.editStacks[v].versionId}isValid(){for(let p=0,v=this.editStacks.length;p<v;p++)if(this._versionIds[p]!==this.editStacks[p].versionId)return!1;return!0}}const c=new s("","");c.locked=!0;let g=class{constructor(p,v){this._dialogService=p,this._notificationService=v,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(p){for(const v of this._uriComparisonKeyComputers)if(v[0]===p.scheme)return v[1].getComparisonKey(p);return p.toString()}_print(p){console.log("------------------------------------"),console.log(`AFTER ${p}: `);let v=[];for(const _ of this._editStacks)v.push(_[1].toString());console.log(v.join(`
`))}pushElement(p,v=h.UndoRedoGroup.None,_=h.UndoRedoSource.None){if(p.type===0){const w=n(p.resource),E=this.getUriComparisonKey(p.resource);this._pushElement(new r(p,w,E,v.id,v.nextOrder(),_.id,_.nextOrder()))}else{const w=new Set,E=[],I=[];for(const T of p.resources){const R=n(T),B=this.getUriComparisonKey(T);w.has(B)||(w.add(B),E.push(R),I.push(B))}E.length===1?this._pushElement(new r(p,E[0],I[0],v.id,v.nextOrder(),_.id,_.nextOrder())):this._pushElement(new a(p,E,I,v.id,v.nextOrder(),_.id,_.nextOrder()))}i&&this._print("pushElement")}_pushElement(p){for(let v=0,_=p.strResources.length;v<_;v++){const w=p.resourceLabels[v],E=p.strResources[v];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new s(w,E),this._editStacks.set(E,I)),I.pushElement(p)}}getLastElement(p){const v=this.getUriComparisonKey(p);if(this._editStacks.has(v)){const _=this._editStacks.get(v);if(_.hasFutureElements())return null;const w=_.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(p,v){const _=p.actual.split(),w=new Map;for(const E of _){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),R=new r(E,I,T,0,0,0,0);w.set(R.strResource,R)}for(const E of p.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(p,w)}}_splitFutureWorkspaceElement(p,v){const _=p.actual.split(),w=new Map;for(const E of _){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),R=new r(E,I,T,0,0,0,0);w.set(R.strResource,R)}for(const E of p.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(p,w)}}removeElements(p){const v=typeof p=="string"?p:this.getUriComparisonKey(p);this._editStacks.has(v)&&(this._editStacks.get(v).dispose(),this._editStacks.delete(v)),i&&this._print("removeElements")}setElementsValidFlag(p,v,_){const w=this.getUriComparisonKey(p);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(v,_),i&&this._print("setElementsValidFlag")}createSnapshot(p){const v=this.getUriComparisonKey(p);return this._editStacks.has(v)?this._editStacks.get(v).createSnapshot(p):new h.ResourceEditStackSnapshot(p,[])}restoreSnapshot(p){const v=this.getUriComparisonKey(p.resource);if(this._editStacks.has(v)){const _=this._editStacks.get(v);_.restoreSnapshot(p),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(v))}i&&this._print("restoreSnapshot")}getElements(p){const v=this.getUriComparisonKey(p);return this._editStacks.has(v)?this._editStacks.get(v).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(p){if(!p)return[null,null];let v=null,_=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();!I||I.sourceId===p&&(!v||I.sourceOrder>v.sourceOrder)&&(v=I,_=w)}return[v,_]}canUndo(p){if(p instanceof h.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(p.id);return!!_}const v=this.getUriComparisonKey(p);return this._editStacks.has(v)?this._editStacks.get(v).hasPastElements():!1}_onError(p,v){(0,y.onUnexpectedError)(p);for(const _ of v.strResources)this.removeElements(_);this._notificationService.error(p)}_acquireLocks(p){for(const v of p.editStacks)if(v.locked)throw new Error("Cannot acquire edit stack lock");for(const v of p.editStacks)v.locked=!0;return()=>{for(const v of p.editStacks)v.locked=!1}}_safeInvokeWithLocks(p,v,_,w,E){const I=this._acquireLocks(_);let T;try{T=v()}catch(R){return I(),w.dispose(),this._onError(R,p)}return T?T.then(()=>(I(),w.dispose(),E()),R=>(I(),w.dispose(),this._onError(R,p))):(I(),w.dispose(),E())}_invokeWorkspacePrepare(p){return Le(this,void 0,void 0,function*(){if(typeof p.actual.prepareUndoRedo=="undefined")return f.Disposable.None;const v=p.actual.prepareUndoRedo();return typeof v=="undefined"?f.Disposable.None:v})}_invokeResourcePrepare(p,v){if(p.actual.type!==1||typeof p.actual.prepareUndoRedo=="undefined")return v(f.Disposable.None);const _=p.actual.prepareUndoRedo();return _?(0,f.isDisposable)(_)?v(_):_.then(w=>v(w)):v(f.Disposable.None)}_getAffectedEditStacks(p){const v=[];for(const _ of p.strResources)v.push(this._editStacks.get(_)||c);return new l(v)}_tryToSplitAndUndo(p,v,_,w){if(v.canSplit())return this._splitPastWorkspaceElement(v,_),this._notificationService.warn(w),new m(this._undo(p,0,!0));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(w),new m}_checkWorkspaceUndo(p,v,_,w){if(v.removedResources)return this._tryToSplitAndUndo(p,v,v.removedResources,L.localize(2,null,v.label,v.removedResources.createMessage()));if(w&&v.invalidatedResources)return this._tryToSplitAndUndo(p,v,v.invalidatedResources,L.localize(3,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const T of _.editStacks)T.getClosestPastElement()!==v&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(p,v,null,L.localize(4,null,v.label,E.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(p,v,null,L.localize(5,null,v.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(p,v,null,L.localize(6,null,v.label))}_workspaceUndo(p,v,_){const w=this._getAffectedEditStacks(v),E=this._checkWorkspaceUndo(p,v,w,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(p,v,w,_)}_isPartOfUndoGroup(p){if(!p.groupId)return!1;for(const[,v]of this._editStacks){const _=v.getClosestPastElement();if(!!_){if(_===p){const w=v.getSecondClosestPastElement();if(w&&w.groupId===p.groupId)return!0}if(_.groupId===p.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(p,v,_,w){return Le(this,void 0,void 0,function*(){if(v.canSplit()&&!this._isPartOfUndoGroup(v)){const T=yield this._dialogService.show(D.default.Info,L.localize(7,null,v.label),[L.localize(8,null,_.editStacks.length),L.localize(9,null),L.localize(10,null)],{cancelId:2});if(T.choice===2)return;if(T.choice===1)return this._splitPastWorkspaceElement(v,null),this._undo(p,0,!0);const R=this._checkWorkspaceUndo(p,v,_,!1);if(R)return R.returnValue;w=!0}let E;try{E=yield this._invokeWorkspacePrepare(v)}catch(T){return this._onError(T,v)}const I=this._checkWorkspaceUndo(p,v,_,!0);if(I)return E.dispose(),I.returnValue;for(const T of _.editStacks)T.moveBackward(v);return this._safeInvokeWithLocks(v,()=>v.actual.undo(),_,E,()=>this._continueUndoInGroup(v.groupId,w))})}_resourceUndo(p,v,_){if(!v.isValid){p.flushAllElements();return}if(p.locked){const w=L.localize(11,null,v.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(v,w=>(p.moveBackward(v),this._safeInvokeWithLocks(v,()=>v.actual.undo(),new l([p]),w,()=>this._continueUndoInGroup(v.groupId,_))))}_findClosestUndoElementInGroup(p){if(!p)return[null,null];let v=null,_=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();!I||I.groupId===p&&(!v||I.groupOrder>v.groupOrder)&&(v=I,_=w)}return[v,_]}_continueUndoInGroup(p,v){if(!p)return;const[,_]=this._findClosestUndoElementInGroup(p);if(_)return this._undo(_,0,v)}undo(p){if(p instanceof h.UndoRedoSource){const[,v]=this._findClosestUndoElementWithSource(p.id);return v?this._undo(v,p.id,!1):void 0}return typeof p=="string"?this._undo(p,0,!1):this._undo(this.getUriComparisonKey(p),0,!1)}_undo(p,v=0,_){if(!this._editStacks.has(p))return;const w=this._editStacks.get(p),E=w.getClosestPastElement();if(!E)return;if(E.groupId){const[T,R]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&R)return this._undo(R,v,_)}if((E.sourceId!==v||E.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(p,v,E);try{return E.type===1?this._workspaceUndo(p,E,_):this._resourceUndo(w,E,_)}finally{i&&this._print("undo")}}_confirmAndContinueUndo(p,v,_){return Le(this,void 0,void 0,function*(){if((yield this._dialogService.show(D.default.Info,L.localize(12,null,_.label),[L.localize(13,null),L.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(p,v,!0)})}_findClosestRedoElementWithSource(p){if(!p)return[null,null];let v=null,_=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();!I||I.sourceId===p&&(!v||I.sourceOrder<v.sourceOrder)&&(v=I,_=w)}return[v,_]}canRedo(p){if(p instanceof h.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(p.id);return!!_}const v=this.getUriComparisonKey(p);return this._editStacks.has(v)?this._editStacks.get(v).hasFutureElements():!1}_tryToSplitAndRedo(p,v,_,w){if(v.canSplit())return this._splitFutureWorkspaceElement(v,_),this._notificationService.warn(w),new m(this._redo(p));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(w),new m}_checkWorkspaceRedo(p,v,_,w){if(v.removedResources)return this._tryToSplitAndRedo(p,v,v.removedResources,L.localize(15,null,v.label,v.removedResources.createMessage()));if(w&&v.invalidatedResources)return this._tryToSplitAndRedo(p,v,v.invalidatedResources,L.localize(16,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const T of _.editStacks)T.getClosestFutureElement()!==v&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(p,v,null,L.localize(17,null,v.label,E.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(p,v,null,L.localize(18,null,v.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(p,v,null,L.localize(19,null,v.label))}_workspaceRedo(p,v){const _=this._getAffectedEditStacks(v),w=this._checkWorkspaceRedo(p,v,_,!1);return w?w.returnValue:this._executeWorkspaceRedo(p,v,_)}_executeWorkspaceRedo(p,v,_){return Le(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(v)}catch(I){return this._onError(I,v)}const E=this._checkWorkspaceRedo(p,v,_,!0);if(E)return w.dispose(),E.returnValue;for(const I of _.editStacks)I.moveForward(v);return this._safeInvokeWithLocks(v,()=>v.actual.redo(),_,w,()=>this._continueRedoInGroup(v.groupId))})}_resourceRedo(p,v){if(!v.isValid){p.flushAllElements();return}if(p.locked){const _=L.localize(20,null,v.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(v,_=>(p.moveForward(v),this._safeInvokeWithLocks(v,()=>v.actual.redo(),new l([p]),_,()=>this._continueRedoInGroup(v.groupId))))}_findClosestRedoElementInGroup(p){if(!p)return[null,null];let v=null,_=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();!I||I.groupId===p&&(!v||I.groupOrder<v.groupOrder)&&(v=I,_=w)}return[v,_]}_continueRedoInGroup(p){if(!p)return;const[,v]=this._findClosestRedoElementInGroup(p);if(v)return this._redo(v)}redo(p){if(p instanceof h.UndoRedoSource){const[,v]=this._findClosestRedoElementWithSource(p.id);return v?this._redo(v):void 0}return typeof p=="string"?this._redo(p):this._redo(this.getUriComparisonKey(p))}_redo(p){if(!this._editStacks.has(p))return;const v=this._editStacks.get(p),_=v.getClosestFutureElement();if(!!_){if(_.groupId){const[w,E]=this._findClosestRedoElementInGroup(_.groupId);if(_!==w&&E)return this._redo(E)}try{return _.type===1?this._workspaceRedo(p,_):this._resourceRedo(v,_)}finally{i&&this._print("redo")}}}};g=De([fe(0,b.IDialogService),fe(1,u.INotificationService)],g),e.UndoRedoService=g;class m{constructor(p){this.returnValue=p}}(0,C.registerSingleton)(h.IUndoRedoService,g)}),define(oe[214],se([1,0,608,50,25,9]),function(K,e,y,f,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,D.createDecorator)("contextService");function L(h){const i=h;return typeof(i==null?void 0:i.id)=="string"&&N.URI.isUri(i.uri)}e.isSingleFolderWorkspaceIdentifier=L;function b(h){if(h.configuration)return{id:h.id,configPath:h.configuration};if(h.folders.length===1)return{id:h.id,uri:h.folders[0].uri}}e.toWorkspaceIdentifier=b;class C{constructor(i,n,t,r,d){this._id=i,this._transient=t,this._configuration=r,this._ignorePathCasing=d,this._foldersMap=f.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(i){this._folders=i,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(i){this._configuration=i}getFolder(i){return i&&this._foldersMap.findSubstr(i)||null}updateFoldersMap(){this._foldersMap=f.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const i of this.folders)this._foldersMap.set(i.uri,i)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=C;class u{constructor(i,n){this.raw=n,this.uri=i.uri,this.index=i.index,this.name=i.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=u,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,y.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(oe[752],se([1,0,329,85,42,8,337,31,107,581,214]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class i{constructor(c){this._delegates=c}resolve(c){for(const g of this._delegates){let m=g.resolve(c);if(m!==void 0)return m}}}e.CompositeSnippetVariableResolver=i;class n{constructor(c,g,m,S){this._model=c,this._selection=g,this._selectionIdx=m,this._overtypingCapturer=S}resolve(c){const{name:g}=c;if(g==="SELECTION"||g==="TM_SELECTED_TEXT"){let m=this._model.getValueInRange(this._selection)||void 0,S=this._selection.startLineNumber!==this._selection.endLineNumber;if(!m&&this._overtypingCapturer){const p=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);p&&(m=p.value,S=p.multiline)}if(m&&S&&c.snippet){const p=this._model.getLineContent(this._selection.startLineNumber),v=(0,D.getLeadingWhitespace)(p,0,this._selection.startColumn-1);let _=v;c.snippet.walk(E=>E===c?!1:(E instanceof C.Text&&(_=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const w=(0,D.commonPrefixLength)(_,v);m=m.replace(/(\r\n|\r|\n)(.*)/g,(E,I,T)=>`${I}${_.substr(w)}${T}`)}return m}else{if(g==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(g==="TM_CURRENT_WORD"){const m=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return m&&m.word||void 0}else{if(g==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(g==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(g==="CURSOR_INDEX")return String(this._selectionIdx);if(g==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=n;class t{constructor(c,g){this._labelService=c,this._model=g}resolve(c){const{name:g}=c;if(g==="TM_FILENAME")return f.basename(this._model.uri.fsPath);if(g==="TM_FILENAME_BASE"){const m=f.basename(this._model.uri.fsPath),S=m.lastIndexOf(".");return S<=0?m:m.slice(0,S)}else{if(g==="TM_DIRECTORY")return f.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,N.dirname)(this._model.uri));if(g==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(g==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class r{constructor(c,g,m,S){this._readClipboardText=c,this._selectionIdx=g,this._selectionCount=m,this._spread=S}resolve(c){if(c.name!=="CLIPBOARD")return;const g=this._readClipboardText();if(!!g){if(this._spread){const m=g.split(/\r\n|\n|\r/).filter(S=>!(0,D.isFalsyOrWhitespace)(S));if(m.length===this._selectionCount)return m[this._selectionIdx]}return g}}}e.ClipboardBasedVariableResolver=r;let d=class{constructor(c,g,m){this._model=c,this._selection=g,this._languageConfigurationService=m}resolve(c){const{name:g}=c,m=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),S=this._languageConfigurationService.getLanguageConfiguration(m).comments;if(!!S){if(g==="LINE_COMMENT")return S.lineCommentToken||void 0;if(g==="BLOCK_COMMENT_START")return S.blockCommentStartToken||void 0;if(g==="BLOCK_COMMENT_END")return S.blockCommentEndToken||void 0}}};d=De([fe(2,b.ILanguageConfigurationService)],d),e.CommentBasedVariableResolver=d;class o{constructor(){this._date=new Date}resolve(c){const{name:g}=c;if(g==="CURRENT_YEAR")return String(this._date.getFullYear());if(g==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(g==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(g==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(g==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(g==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(g==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(g==="CURRENT_DAY_NAME")return o.dayNames[this._date.getDay()];if(g==="CURRENT_DAY_NAME_SHORT")return o.dayNamesShort[this._date.getDay()];if(g==="CURRENT_MONTH_NAME")return o.monthNames[this._date.getMonth()];if(g==="CURRENT_MONTH_NAME_SHORT")return o.monthNamesShort[this._date.getMonth()];if(g==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=o,o.dayNames=[u.localize(0,null),u.localize(1,null),u.localize(2,null),u.localize(3,null),u.localize(4,null),u.localize(5,null),u.localize(6,null)],o.dayNamesShort=[u.localize(7,null),u.localize(8,null),u.localize(9,null),u.localize(10,null),u.localize(11,null),u.localize(12,null),u.localize(13,null)],o.monthNames=[u.localize(14,null),u.localize(15,null),u.localize(16,null),u.localize(17,null),u.localize(18,null),u.localize(19,null),u.localize(20,null),u.localize(21,null),u.localize(22,null),u.localize(23,null),u.localize(24,null),u.localize(25,null)],o.monthNamesShort=[u.localize(26,null),u.localize(27,null),u.localize(28,null),u.localize(29,null),u.localize(30,null),u.localize(31,null),u.localize(32,null),u.localize(33,null),u.localize(34,null),u.localize(35,null),u.localize(36,null),u.localize(37,null)];class a{constructor(c){this._workspaceService=c}resolve(c){if(!this._workspaceService)return;const g=(0,h.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!g){if(c.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(g);if(c.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(g)}}_resolveWorkspaceName(c){if((0,h.isSingleFolderWorkspaceIdentifier)(c))return f.basename(c.uri.path);let g=f.basename(c.configPath.path);return g.endsWith(h.WORKSPACE_EXTENSION)&&(g=g.substr(0,g.length-h.WORKSPACE_EXTENSION.length-1)),g}_resoveWorkspacePath(c){if((0,h.isSingleFolderWorkspaceIdentifier)(c))return(0,y.normalizeDriveLetter)(c.uri.fsPath);let g=f.basename(c.configPath.path),m=c.configPath.fsPath;return m.endsWith(g)&&(m=m.substr(0,m.length-g.length-1)),m?(0,y.normalizeDriveLetter)(m):"/"}}e.WorkspaceBasedVariableResolver=a;class s{resolve(c){const{name:g}=c;if(g==="RANDOM")return Math.random().toString().slice(-6);if(g==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(g==="UUID")return(0,L.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(oe[312],se([1,0,18,2,8,61,3,24,31,35,133,214,107,752,397]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class r{constructor(s,l,c){this._editor=s,this._snippet=l,this._snippetLineLeadingWhitespace=c,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,y.groupBy)(l.placeholders,n.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(s){this._offset=s.newPosition}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(l=>{for(const c of this._snippet.placeholders){const g=this._snippet.offset(c),m=this._snippet.fullLen(c),S=L.Range.fromPositions(s.getPositionAt(this._offset+g),s.getPositionAt(this._offset+g+m)),p=c.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,v=l.addDecoration(S,p);this._placeholderDecorations.set(c,v)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let g=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx])if(m.transform){const S=this._placeholderDecorations.get(m),p=this._editor.getModel().getDecorationRange(S),v=this._editor.getModel().getValueInRange(p),_=m.transform.resolve(v).split(/\r\n|\r|\n/);for(let w=1;w<_.length;w++)_[w]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+_[w]);g.push(D.EditOperation.replace(p,_.join(this._editor.getModel().getEOL())))}g.length>0&&this._editor.executeEdits("snippet.placeholderTransform",g)}let l=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,l=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,l=!0);const c=this._editor.getModel().changeDecorations(g=>{const m=new Set,S=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const v=this._placeholderDecorations.get(p),_=this._editor.getModel().getDecorationRange(v);S.push(new b.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)),l=l&&this._hasPlaceholderBeenCollapsed(p),g.changeDecorationOptions(v,p.isFinalTabstop?r._decor.activeFinal:r._decor.active),m.add(p);for(const w of this._snippet.enclosingPlaceholders(p)){const E=this._placeholderDecorations.get(w);g.changeDecorationOptions(E,w.isFinalTabstop?r._decor.activeFinal:r._decor.active),m.add(w)}}for(const[p,v]of this._placeholderDecorations)m.has(p)||g.changeDecorationOptions(v,p.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return S});return l?this.move(s):c??[]}_hasPlaceholderBeenCollapsed(s){let l=s;for(;l;){if(l instanceof n.Placeholder){const c=this._placeholderDecorations.get(l);if(this._editor.getModel().getDecorationRange(c).isEmpty()&&l.toString().length>0)return!0}l=l.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const s=new Map;for(const l of this._placeholderGroups){let c;for(const g of l){if(g.isFinalTabstop)break;c||(c=[],s.set(g.index,c));const m=this._placeholderDecorations.get(g),S=this._editor.getModel().getDecorationRange(m);if(!S){s.delete(g.index);break}c.push(S)}}return s}get activeChoice(){if(!this._placeholderDecorations)return;const s=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(s==null?void 0:s.choice))return;const l=this._placeholderDecorations.get(s);if(!l)return;const c=this._editor.getModel().getDecorationRange(l);if(!!c)return{range:c,choice:s.choice}}get hasChoice(){let s=!1;return this._snippet.walk(l=>(s=l instanceof n.Choice,!s)),s}merge(s){const l=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(c=>{for(const g of this._placeholderGroups[this._placeholderGroupsIdx]){const m=s.shift();console.assert(m._offset!==-1),console.assert(!m._placeholderDecorations);const S=m._snippet.placeholderInfo.last.index;for(const v of m._snippet.placeholderInfo.all)v.isFinalTabstop?v.index=g.index+(S+1)/this._nestingLevel:v.index=g.index+v.index/this._nestingLevel;this._snippet.replace(g,m._snippet.children);const p=this._placeholderDecorations.get(g);c.removeDecoration(p),this._placeholderDecorations.delete(g);for(const v of m._snippet.placeholders){const _=m._snippet.offset(v),w=m._snippet.fullLen(v),E=L.Range.fromPositions(l.getPositionAt(m._offset+_),l.getPositionAt(m._offset+_+w)),I=c.addDecoration(E,r._decor.inactive);this._placeholderDecorations.set(v,I)}}this._placeholderGroups=(0,y.groupBy)(this._snippet.placeholders,n.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:u.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:u.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const d={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let o=class St{constructor(s,l,c=d,g){this._languageConfigurationService=g,this._templateMerges=[],this._snippets=[],this._editor=s,this._template=l,this._options=c}static adjustWhitespace(s,l,c,g,m){const S=s.getLineContent(l.lineNumber),p=(0,N.getLeadingWhitespace)(S,0,l.column-1);let v;return c.walk(_=>{if(!(_ instanceof n.Text)||_.parent instanceof n.Choice)return!0;const w=_.value.split(/\r\n|\r|\n/);if(g){const I=c.offset(_);if(I===0)w[0]=s.normalizeIndentation(w[0]);else{v=v??c.toString();let T=v.charCodeAt(I-1);(T===10||T===13)&&(w[0]=s.normalizeIndentation(p+w[0]))}for(let T=1;T<w.length;T++)w[T]=s.normalizeIndentation(p+w[T])}const E=w.join(s.getEOL());return E!==_.value&&(_.parent.replace(_,[new n.Text(E)]),v=void 0),!0}),p}static adjustSelection(s,l,c,g){if(c!==0||g!==0){const{positionLineNumber:m,positionColumn:S}=l,p=S-c,v=S+g,_=s.validateRange({startLineNumber:m,startColumn:p,endLineNumber:m,endColumn:v});l=b.Selection.createWithDirection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn,l.getDirection())}return l}static createEditsAndSnippets(s,l,c,g,m,S,p,v,_){const w=[],E=[];if(!s.hasModel())return{edits:w,snippets:E};const I=s.getModel(),T=s.invokeWithinContext(P=>P.get(i.IWorkspaceContextService)),R=s.invokeWithinContext(P=>new t.ModelBasedVariableResolver(P.get(h.ILabelService),I)),B=()=>p;let O=I.getValueInRange(St.adjustSelection(I,s.getSelection(),c,0)),k=I.getValueInRange(St.adjustSelection(I,s.getSelection(),0,g)),A=I.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber);const F=s.getSelections().map((P,W)=>({selection:P,idx:W})).sort((P,W)=>L.Range.compareRangesUsingStarts(P.selection,W.selection));for(const{selection:P,idx:W}of F){let M=St.adjustSelection(I,P,c,0),z=St.adjustSelection(I,P,0,g);O!==I.getValueInRange(M)&&(M=P),k!==I.getValueInRange(z)&&(z=P);const Q=P.setStartPosition(M.startLineNumber,M.startColumn).setEndPosition(z.endLineNumber,z.endColumn),ne=new n.SnippetParser().parse(l,!0,m),X=Q.getStartPosition(),J=St.adjustWhitespace(I,X,ne,S||W>0&&A!==I.getLineFirstNonWhitespaceColumn(P.positionLineNumber),!0);ne.resolveVariables(new t.CompositeSnippetVariableResolver([R,new t.ClipboardBasedVariableResolver(B,W,F.length,s.getOption(71)==="spread"),new t.SelectionBasedVariableResolver(I,P,W,v),new t.CommentBasedVariableResolver(I,P,_),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(T),new t.RandomBasedVariableResolver])),w[W]=D.EditOperation.replace(Q,ne.toString()),w[W].identifier={major:W,minor:0},w[W]._isTracked=!0,E[W]=new r(s,ne,J)}return{edits:w,snippets:E}}dispose(){(0,f.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:l}=St.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=l,this._editor.executeEdits("snippet",s,c=>{const g=c.filter(m=>!!m.identifier);for(let m=0;m<l.length;m++)l[m].initialize(g[m].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):g.map(m=>b.Selection.fromPositions(m.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,l=d){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:c,snippets:g}=St.createEditsAndSnippets(this._editor,s,l.overwriteBefore,l.overwriteAfter,!0,l.adjustWhitespace,l.clipboardText,l.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",c,m=>{const S=m.filter(v=>!!v.identifier);for(let v=0;v<g.length;v++)g[v].initialize(S[v].textChange);const p=g[0].isTrivialSnippet;if(!p){for(const v of this._snippets)v.merge(g);console.assert(g.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):S.map(v=>b.Selection.fromPositions(v.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const l=[];for(const c of this._snippets){const g=c.move(s);l.push(...g)}return l}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;let l=new Map;for(const c of this._snippets){const g=c.computePossibleSelections();if(l.size===0)for(const[m,S]of g){S.sort(L.Range.compareRangesUsingStarts);for(const p of s)if(S[0].containsRange(p)){l.set(m,[]);break}}if(l.size===0)return!1;l.forEach((m,S)=>{m.push(...g.get(S))})}s.sort(L.Range.compareRangesUsingStarts);for(let[c,g]of l){if(g.length!==s.length){l.delete(c);continue}g.sort(L.Range.compareRangesUsingStarts);for(let m=0;m<g.length;m++)if(!g[m].containsRange(s[m])){l.delete(c);continue}}return l.size>0}};o=De([fe(3,C.ILanguageConfigurationService)],o),e.SnippetSession=o}),define(oe[168],se([1,0,2,15,11,22,31,20,98,580,16,70,312]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const t={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class Pt{constructor(a,s,l,c,g){this._editor=a,this._logService=s,this._languageFeaturesService=l,this._languageConfigurationService=g,this._snippetListener=new y.DisposableStore,this._modelVersionId=-1,this._inSnippet=Pt.InSnippetMode.bindTo(c),this._hasNextTabstop=Pt.HasNextTabstop.bindTo(c),this._hasPrevTabstop=Pt.HasPrevTabstop.bindTo(c)}static get(a){return a.getContribution(Pt.ID)}dispose(){var a;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(a=this._session)===null||a===void 0||a.dispose(),this._snippetListener.dispose()}insert(a,s){try{this._doInsert(a,typeof s=="undefined"?t:Object.assign(Object.assign({},t),s))}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",a),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(a,s){var l;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(a,s):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new n.SnippetSession(this._editor,a,s,this._languageConfigurationService),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),(l=this._session)===null||l===void 0?void 0:l.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(g,m)=>{if(!this._session||g!==this._editor.getModel()||!N.Position.equals(this._editor.getPosition(),m))return;const{activeChoice:S}=this._session;if(!S||S.choice.options.length===0)return;const p=g.getValueInRange(S.range),v=Boolean(S.choice.options.find(w=>w.value===p)),_=[];for(let w=0;w<S.choice.options.length;w++){const E=S.choice.options[w];_.push({kind:13,label:E.value,insertText:E.value,sortText:"a".repeat(w+1),range:S.range,filterText:v?`${p}_${E.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,u.localize)(3,null)}})}return{suggestions:_}}};const c=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(c)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(c=>c.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:a}=this._session;if(!a||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==a.choice&&(this._currentChoice=a.choice,queueMicrotask(()=>{(0,C.showSimpleSuggestions)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(a=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,a&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};r.ID="snippetController2",r.InSnippetMode=new h.RawContextKey("inSnippetMode",!1,(0,u.localize)(0,null)),r.HasNextTabstop=new h.RawContextKey("hasNextTabstop",!1,(0,u.localize)(1,null)),r.HasPrevTabstop=new h.RawContextKey("hasPrevTabstop",!1,(0,u.localize)(2,null)),r=De([fe(1,i.ILogService),fe(2,b.ILanguageFeaturesService),fe(3,h.IContextKeyService),fe(4,L.ILanguageConfigurationService)],r),e.SnippetController2=r,(0,f.registerEditorContribution)(r.ID,r);const d=f.EditorCommand.bindToContribution(r.get);(0,f.registerEditorCommand)(new d({id:"jumpToNextSnippetPlaceholder",precondition:h.ContextKeyExpr.and(r.InSnippetMode,r.HasNextTabstop),handler:o=>o.next(),kbOpts:{weight:100+30,kbExpr:D.EditorContextKeys.editorTextFocus,primary:2}})),(0,f.registerEditorCommand)(new d({id:"jumpToPrevSnippetPlaceholder",precondition:h.ContextKeyExpr.and(r.InSnippetMode,r.HasPrevTabstop),handler:o=>o.prev(),kbOpts:{weight:100+30,kbExpr:D.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,f.registerEditorCommand)(new d({id:"leaveSnippet",precondition:r.InSnippetMode,handler:o=>o.cancel(!0),kbOpts:{weight:100+30,kbExpr:D.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,f.registerEditorCommand)(new d({id:"acceptSnippet",precondition:r.InSnippetMode,handler:o=>o.finish()}))}),define(oe[313],se([1,0,10,21,13,4,2,160,61,3,27,157,26,194,196,31,444,20,71,107,168,19,64,195,37]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let v=class extends L.Disposable{constructor(k,A,F,P,W,M,z){super();this.editor=k,this.cache=A,this.commandService=F,this.languageConfigurationService=P,this.languageFeaturesService=W,this.debounceService=M,this.onDidChangeEmitter=new D.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new L.MutableDisposable),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(F.onDidExecuteCommand(Q=>{new Set([b.CoreEditingCommands.Tab.id,b.CoreEditingCommands.DeleteLeft.id,b.CoreEditingCommands.DeleteRight.id,t.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(Q.commandId)&&k.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Q=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Q=>{(Q.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,L.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{z.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var k;return(k=this.session)===null||k===void 0?void 0:k.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(k){var A;(A=this.session)===null||A===void 0||A.setExpanded(k)}setActive(k){var A;this.active=k,k&&((A=this.session)===null||A===void 0||A.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(h.InlineCompletionTriggerKind.Automatic)}trigger(k){if(this.completionSession.value){k===h.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new _(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,k,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var k;(k=this.session)===null||k===void 0||k.commitCurrentCompletion()}showNext(){var k;(k=this.session)===null||k===void 0||k.showNextInlineCompletion()}showPrevious(){var k;(k=this.session)===null||k===void 0||k.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var k;return Le(this,void 0,void 0,function*(){const A=yield(k=this.session)===null||k===void 0?void 0:k.hasMultipleInlineCompletions();return A!==void 0?A:!1})}};v=De([fe(2,n.ICommandService),fe(3,d.ILanguageConfigurationService),fe(4,a.ILanguageFeaturesService),fe(5,s.ILanguageFeatureDebounceService),fe(6,p.IConfigurationService)],v),e.InlineCompletionsModel=v;class _ extends i.BaseGhostTextWidgetModel{constructor(k,A,F,P,W,M,z,Q,ne){super(k);this.triggerPosition=A,this.shouldUpdate=F,this.commandService=P,this.cache=W,this.initialTriggerKind=M,this.languageConfigurationService=z,this.registry=Q,this.debounce=ne,this.minReservedLineCount=0,this.updateOperation=this._register(new L.MutableDisposable),this.updateSoon=this._register(new y.RunOnceScheduler(()=>{let J=this.initialTriggerKind;return this.initialTriggerKind=h.InlineCompletionTriggerKind.Automatic,this.update(J)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let X;this._register(this.onDidChange(()=>{const J=this.currentCompletion;if(J&&J.sourceInlineCompletion!==X){X=J.sourceInlineCompletion;const ie=J.sourceProvider;ie.handleItemDidShow&&ie.handleItemDidShow(J.sourceInlineCompletions,X)}})),this._register((0,L.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(J=>{var ie;J.reason!==3&&((ie=this.cache.value)===null||ie===void 0||ie.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(J=>{var ie;(ie=this.cache.value)===null||ie===void 0||ie.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const k=this.editor.getModel(),A=k.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(F=>{const P=k.getValueInRange(F.synchronizedRange).toLowerCase(),W=F.inlineCompletion.filterText.toLowerCase(),M=k.getLineIndentColumn(F.synchronizedRange.startLineNumber),z=Math.max(0,A.column-F.synchronizedRange.startColumn);let Q=W.substring(0,z),ne=W.substring(z),X=P.substring(0,z),J=P.substring(z);return F.synchronizedRange.startColumn<=M&&(X=X.trimStart(),X.length===0&&(J=J.trimStart()),Q=Q.trimStart(),Q.length===0&&(ne=ne.trimStart())),Q.startsWith(X)&&(0,m.matchesSubString)(J,ne)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const k=this.filteredCompletions.findIndex(A=>A.semanticId===this.currentlySelectedCompletionId);return k===-1?(this.currentlySelectedCompletionId=void 0,0):k}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const k=this.filteredCompletions||[];if(k.length>0){const A=(this.fixAndGetIndexOfCurrentSelection()+1)%k.length;this.currentlySelectedCompletionId=k[A].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const k=this.filteredCompletions||[];if(k.length>0){const A=(this.fixAndGetIndexOfCurrentSelection()+k.length-1)%k.length;this.currentlySelectedCompletionId=k[A].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var k;return Le(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===h.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(h.InlineCompletionTriggerKind.Explicit):((k=this.cache.value)===null||k===void 0?void 0:k.triggerKind)!==h.InlineCompletionTriggerKind.Explicit&&(yield this.update(h.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var k;return Le(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((k=this.cache.value)===null||k===void 0?void 0:k.completions.length)||0)>1})}get ghostText(){const k=this.currentCompletion;if(!k)return;const A=this.editor.getPosition();if(k.range.getEndPosition().isBefore(A))return;const F=this.editor.getOptions().get(55).mode,P=(0,r.inlineCompletionToGhostText)(k,this.editor.getModel(),F,A);return P?P.isEmpty()?void 0:P:new i.GhostTextReplacement(k.range.startLineNumber,k.range.startColumn,k.range.endColumn-k.range.startColumn,k.insertText.split(`
`),0)}get currentCompletion(){const k=this.currentCachedCompletion;if(!!k)return k.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(k){return Le(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const A=this.editor.getPosition(),F=new Date,P=(0,y.createCancelablePromise)(M=>Le(this,void 0,void 0,function*(){let z;try{z=yield T(this.registry,A,this.editor.getModel(),{triggerKind:k,selectedSuggestionInfo:void 0},M,this.languageConfigurationService);const Q=new Date;this.debounce.update(this.editor.getModel(),Q.getTime()-F.getTime())}catch(Q){(0,N.onUnexpectedError)(Q);return}M.isCancellationRequested||(this.cache.setValue(this.editor,z,k),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),W=new w(P,k);this.updateOperation.value=W,yield P,this.updateOperation.value===W&&this.updateOperation.clear()})}takeOwnership(k){this._register(k)}commitCurrentCompletion(){if(!this.ghostText)return;const A=this.currentCompletion;A&&this.commit(A)}commit(k){var A;const F=this.cache.clearAndLeak();k.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[C.EditOperation.replaceMove(k.range,""),...k.additionalTextEdits]),this.editor.setPosition(k.snippetInfo.range.getStartPosition()),(A=c.SnippetController2.get(this.editor))===null||A===void 0||A.insert(k.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[C.EditOperation.replaceMove(k.range,k.insertText),...k.additionalTextEdits]),k.command?this.commandService.executeCommand(k.command.id,...k.command.arguments||[]).finally(()=>{F==null||F.dispose()}).then(void 0,N.onUnexpectedExternalError):F==null||F.dispose(),this.onDidChangeEmitter.fire()}get commands(){var k;return[...new Set(((k=this.cache.value)===null||k===void 0?void 0:k.completions.map(F=>F.inlineCompletion.sourceInlineCompletions))||[])].flatMap(F=>F.commands||[])}}e.InlineCompletionsSession=_;class w{constructor(k,A){this.promise=k,this.triggerKind=A}dispose(){this.promise.cancel()}}e.UpdateOperation=w;class E extends L.Disposable{constructor(k,A,F,P){super();this.editor=A,this.onChange=F,this.triggerKind=P,this.isDisposing=!1;const W=A.deltaDecorations([],k.items.map(M=>({range:M.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,L.toDisposable)(()=>{this.isDisposing=!0,A.deltaDecorations(W,[])})),this.completions=k.items.map((M,z)=>new I(M,W[z])),this._register(A.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(k)}updateRanges(){if(this.isDisposing)return;let k=!1;const A=this.editor.getModel();for(const F of this.completions){const P=A.getDecorationRange(F.decorationId);if(!P){(0,N.onUnexpectedError)(new Error("Decoration has no range"));continue}F.synchronizedRange.equalsRange(P)||(k=!0,F.synchronizedRange=P)}k&&this.onChange()}}e.SynchronizedInlineCompletionsCache=E;class I{constructor(k,A){this.inlineCompletion=k,this.decorationId=A,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=k.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function T(O,k,A,F,P=f.CancellationToken.None,W){return Le(this,void 0,void 0,function*(){const M=R(k,A),z=O.all(A),Q=yield Promise.all(z.map(X=>Le(this,void 0,void 0,function*(){const J=yield Promise.resolve(X.provideInlineCompletions(A,k,F,P)).catch(N.onUnexpectedExternalError);return{completions:J,provider:X,dispose:()=>{J&&X.freeInlineCompletions(J)}}}))),ne=new Map;for(const X of Q){const J=X.completions;if(!!J)for(const ie of J.items){const le=ie.range?u.Range.lift(ie.range):M;if(le.startLineNumber!==le.endLineNumber)continue;let G,x;typeof ie.insertText=="string"?(G=ie.insertText,W&&ie.completeBracketPairs&&(G=B(G,le.getStartPosition(),A,W)),x=void 0):"snippet"in ie.insertText?(G=new l.SnippetParser().parse(ie.insertText.snippet).toString(),x={snippet:ie.insertText.snippet,range:le}):(0,g.assertNever)(ie.insertText);const V={insertText:G,snippetInfo:x,range:le,command:ie.command,sourceProvider:X.provider,sourceInlineCompletions:J,sourceInlineCompletion:ie,filterText:ie.filterText||G,additionalTextEdits:ie.additionalTextEdits||(0,S.getReadonlyEmptyArray)()};ne.set(JSON.stringify({insertText:G,range:ie.range}),V)}}return{items:[...ne.values()],dispose:()=>{for(const X of Q)X.dispose()}}})}e.provideInlineCompletions=T;function R(O,k){const A=k.getWordAtPosition(O),F=k.getLineMaxColumn(O.lineNumber);return A?new u.Range(O.lineNumber,A.startColumn,O.lineNumber,F):u.Range.fromPositions(O,O.with(void 0,F))}function B(O,k,A,F){const W=A.getLineContent(k.lineNumber).substring(0,k.column-1)+O,M=A.tokenization.tokenizeLineWithEdit(k,W.length-(k.column-1),O),z=M==null?void 0:M.sliceAndInflate(k.column-1,W.length,0);return z?(0,o.fixBracketsInLine)(z,F):O}}),define(oe[753],se([1,0,10,21,13,4,2,8,24,89,168,269,96,37,16,70,90,267,98,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class c{constructor(_,w,E,I){this.leadingLineContent=_.getLineContent(w.lineNumber).substr(0,w.column-1),this.leadingWord=_.getWordUntilPosition(w),this.lineNumber=w.lineNumber,this.column=w.column,this.auto=E,this.shy=I}static shouldAutoTrigger(_){if(!_.hasModel())return!1;const w=_.getModel(),E=_.getPosition();w.tokenization.tokenizeIfCheap(E.lineNumber);const I=w.getWordAtPosition(E);return!(!I||I.endColumn!==E.column||!isNaN(Number(I.word)))}}e.LineContext=c;function g(v){return v.getOption(106).preview}function m(v,_,w){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=w.getValue("editor.inlineSuggest.allowQuickSuggestions");return E!==void 0?Boolean(E):!1}function S(v,_,w){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=w.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return E!==void 0?Boolean(E):!1}let p=class Xi{constructor(_,w,E,I,T,R,B,O){this._editor=_,this._editorWorkerService=w,this._clipboardService=E,this._telemetryService=I,this._logService=T,this._contextKeyService=R,this._configurationService=B,this._languageFeaturesService=O,this._toDispose=new L.DisposableStore,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new y.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new C.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let k=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{k=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{k=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(A=>{k||this._onCursorChange(A)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{k||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const _=new Map;for(const E of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const I of E.triggerCharacters||[]){let T=_.get(I);T||(T=new Set,T.add((0,s.getSnippetSuggestSupport)()),_.set(I,T)),T.add(E)}const w=E=>{if(!S(this._editor,this._contextKeyService,this._configurationService)||c.shouldAutoTrigger(this._editor))return;if(!E){const R=this._editor.getPosition();E=this._editor.getModel().getLineContent(R.lineNumber).substr(0,R.column-1)}let I="";(0,b.isLowSurrogate)(E.charCodeAt(E.length-1))?(0,b.isHighSurrogate)(E.charCodeAt(E.length-2))&&(I=E.substr(E.length-2)):I=E.charAt(E.length-1);const T=_.get(I);if(T){const R=this._completionModel?{items:this._completionModel.adopt(T),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:I},Boolean(this._completionModel),T,R)}};this._triggerCharacterListener.add(this._editor.onDidType(w)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>w()))}get state(){return this._state}cancel(_=!1){var w;this._state!==0&&(this._triggerQuickSuggest.cancel(),(w=this._requestToken)===null||w===void 0||w.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:_}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(_){if(!this._editor.hasModel())return;const w=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!_.selection.isEmpty()||_.reason!==0&&_.reason!==3||_.source!=="keyboard"&&_.source!=="deleteLeft"){this.cancel();return}this._state===0&&_.reason===0?(w.containsRange(this._currentSelection)||w.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&_.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var _;s.QuickSuggestionsOptions.isAllOff(this._editor.getOption(79))||this._editor.getOption(106).snippetsPreventQuickSuggestions&&((_=h.SnippetController2.get(this._editor))===null||_===void 0?void 0:_.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!c.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const w=this._editor.getModel(),E=this._editor.getPosition(),I=this._editor.getOption(79);if(!s.QuickSuggestionsOptions.isAllOff(I)){if(!s.QuickSuggestionsOptions.isAllOn(I)){w.tokenization.tokenizeIfCheap(E.lineNumber);const T=w.tokenization.getLineTokens(E.lineNumber),R=T.getStandardTokenType(T.findTokenIndexAtOffset(Math.max(E.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(I,R)!=="on")return}!m(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(w)||this.trigger({auto:!0,shy:!1})}},this._editor.getOption(80)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const _=this._editor.getModel(),w=this._editor.getPosition(),E=new c(_,w,this._state===2,!1);this._onNewContext(E)})}trigger(_,w=!1,E,I,T){var R;if(!this._editor.hasModel())return;const B=this._editor.getModel(),O=_.auto,k=new c(B,this._editor.getPosition(),O,_.shy);this.cancel(w),this._state=O?2:1,this._onDidTrigger.fire({auto:O,shy:_.shy,position:this._editor.getPosition()}),this._context=k;let A={triggerKind:(R=_.triggerKind)!==null&&R!==void 0?R:0};_.triggerCharacter&&(A={triggerKind:1,triggerCharacter:_.triggerCharacter}),this._requestToken=new f.CancellationTokenSource;const F=this._editor.getOption(101);let P=1;switch(F){case"top":P=0;break;case"bottom":P=2;break}const{itemKind:W,showDeprecated:M}=Xi._createSuggestFilter(this._editor),z=new s.CompletionOptions(P,T?new Set:W,E,M),Q=i.WordDistance.create(this._editorWorkerService,this._editor),ne=(0,s.provideSuggestionItems)(this._languageFeaturesService.completionProvider,B,this._editor.getPosition(),z,A,this._requestToken.token);Promise.all([ne,Q]).then(([X,J])=>Le(this,void 0,void 0,function*(){var ie;if((ie=this._requestToken)===null||ie===void 0||ie.dispose(),!this._editor.hasModel())return;let le=I==null?void 0:I.clipboardText;if(!le&&X.needsClipboard&&(le=yield this._clipboardService.readText()),this._state===0)return;const G=this._editor.getModel();let x=X.items;if(I){const j=(0,s.getSuggestionComparator)(P);x=x.concat(I.items).sort(j)}const V=new c(G,this._editor.getPosition(),O,_.shy);this._completionModel=new a.CompletionModel(x,this._context.column,{leadingLineContent:V.leadingLineContent,characterCountDelta:V.column-this._context.column},J,this._editor.getOption(106),this._editor.getOption(101),void 0,le),this._completionDisposables.add(X.disposable),this._onNewContext(V),this._reportDurationsTelemetry(X.durations)})).catch(N.onUnexpectedError)}_reportDurationsTelemetry(_){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(_)}),this._logService.debug("suggest.durations.json",_)})}static _createSuggestFilter(_){const w=new Set;_.getOption(101)==="none"&&w.add(27);const I=_.getOption(106);return I.showMethods||w.add(0),I.showFunctions||w.add(1),I.showConstructors||w.add(2),I.showFields||w.add(3),I.showVariables||w.add(4),I.showClasses||w.add(5),I.showStructs||w.add(6),I.showInterfaces||w.add(7),I.showModules||w.add(8),I.showProperties||w.add(9),I.showEvents||w.add(10),I.showOperators||w.add(11),I.showUnits||w.add(12),I.showValues||w.add(13),I.showConstants||w.add(14),I.showEnums||w.add(15),I.showEnumMembers||w.add(16),I.showKeywords||w.add(17),I.showWords||w.add(18),I.showColors||w.add(19),I.showFiles||w.add(20),I.showReferences||w.add(21),I.showColors||w.add(22),I.showFolders||w.add(23),I.showTypeParameters||w.add(24),I.showSnippets||w.add(27),I.showUsers||w.add(25),I.showIssues||w.add(26),{itemKind:w,showDeprecated:I.showDeprecated}}_onNewContext(_){if(!!this._context){if(_.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,b.getLeadingWhitespace)(_.leadingLineContent)!==(0,b.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(_.column<this._context.column){_.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(_.leadingWord.word.length!==0&&_.leadingWord.startColumn>this._context.leadingWord.startColumn){const w=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let I of this._completionModel.allProvider)w.delete(I);const E=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,w,{items:E,clipboardText:this._completionModel.clipboardText});return}if(_.column>this._context.column&&this._completionModel.incomplete.size>0&&_.leadingWord.word.length!==0){const{incomplete:w}=this._completionModel,E=this._completionModel.adopt(w);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,w,{items:E,clipboardText:this._completionModel.clipboardText})}else{let w=this._completionModel.lineContext,E=!1;if(this._completionModel.lineContext={leadingLineContent:_.leadingLineContent,characterCountDelta:_.column-this._context.column},this._completionModel.items.length===0){if(c.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<_.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=w,E=this._completionModel.items.length>0,E&&_.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:E})}}}}};p=De([fe(1,u.IEditorWorkerService),fe(2,n.IClipboardService),fe(3,o.ITelemetryService),fe(4,d.ILogService),fe(5,r.IContextKeyService),fe(6,t.IConfigurationService),fe(7,l.ILanguageFeaturesService)],p),e.SuggestModel=p}),define(oe[314],se([1,0,45,18,10,21,13,4,100,2,17,57,19,146,15,61,11,3,22,168,107,289,617,583,26,16,9,70,98,616,481,753,482,739,90,42,118]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I,T,R,B,O,k,A,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let P=!1;class W{constructor(ie,le){if(this._model=ie,this._position=le,ie.getLineMaxColumn(le.lineNumber)!==le.column){const x=ie.getOffsetAt(le),V=ie.getPositionAt(x+1);this._marker=ie.deltaDecorations([],[{range:a.Range.fromPositions(le,V),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ie){if(this._model.isDisposed()||this._position.lineNumber!==ie.lineNumber)return 0;if(this._marker){const le=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(le.getStartPosition())-this._model.getOffsetAt(ie)}else return this._model.getLineMaxColumn(ie.lineNumber)-ie.column}}let M=class Ji{constructor(ie,le,G,x,V,j,re){this._memoryService=le,this._commandService=G,this._contextKeyService=x,this._instantiationService=V,this._logService=j,this._telemetryService=re,this._lineSuffix=new u.MutableDisposable,this._toDispose=new u.DisposableStore,this._selectors=new z(Z=>Z.priority),this._telemetryGate=0,this.editor=ie,this.model=V.createInstance(R.SuggestModel,this.editor);const ae=E.Context.InsertMode.bindTo(x);ae.set(ie.getOption(106).insertMode),this.model.onDidTrigger(()=>ae.set(ie.getOption(106).insertMode)),this.widget=this._toDispose.add(new N.IdleValue(()=>{const Z=this._instantiationService.createInstance(O.SuggestWidget,this.editor);this._toDispose.add(Z),this._toDispose.add(Z.onDidSelect(te=>this._insertSuggestion(te,0),this));const q=new T.CommitCharacterController(this.editor,Z,te=>this._insertSuggestion(te,2));this._toDispose.add(q),this._toDispose.add(this.model.onDidSuggest(te=>{te.completionModel.items.length===0&&q.reset()}));const $=E.Context.MakesTextEdit.bindTo(this._contextKeyService),H=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ee=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,u.toDisposable)(()=>{$.reset(),H.reset(),ee.reset()})),this._toDispose.add(Z.onDidFocus(({item:te})=>{const de=this.editor.getPosition(),he=te.editStart.column,pe=de.column;let ve=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!te.completion.additionalTextEdits&&!(te.completion.insertTextRules&4)&&pe-he===te.completion.insertText.length&&(ve=this.editor.getModel().getValueInRange({startLineNumber:de.lineNumber,startColumn:he,endLineNumber:de.lineNumber,endColumn:pe})!==te.completion.insertText),$.set(ve),H.set(!o.Position.equals(te.editInsertEnd,te.editReplaceEnd)),ee.set(Boolean(te.provider.resolveCompletionItem)||Boolean(te.completion.documentation)||te.completion.detail!==te.completion.label)})),this._toDispose.add(Z.onDetailsKeyDown(te=>{if(te.toKeybinding().equals(new C.SimpleKeybinding(!0,!1,!1,!1,33))||h.isMacintosh&&te.toKeybinding().equals(new C.SimpleKeybinding(!1,!1,!1,!0,33))){te.stopPropagation();return}te.toKeybinding().isModifierKey()||this.editor.focus()})),Z})),this._overtypingCapturer=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new B.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(V.createInstance(m.WordContextKey,ie)),this._toDispose.add(this.model.onDidTrigger(Z=>{this.widget.value.showTriggered(Z.auto,Z.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),Z.position)})),this._toDispose.add(this.model.onDidSuggest(Z=>{if(!Z.shy){let q=-1;for(const $ of this._selectors.itemsOrderedByPriorityDesc)if(q=$.select(this.editor.getModel(),this.editor.getPosition(),Z.completionModel.items),q!==-1)break;q===-1&&(q=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Z.completionModel.items)),this.widget.value.showSuggestions(Z.completionModel,q,Z.isFrozen,Z.auto)}})),this._toDispose.add(this.model.onDidCancel(Z=>{Z.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{P||(this.model.cancel(),this.model.clear())}));let Y=E.Context.AcceptSuggestionsOnEnter.bindTo(x),U=()=>{const Z=this.editor.getOption(1);Y.set(Z==="on"||Z==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>U())),U()}static get(ie){return ie.getContribution(Ji.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ie,le){if(!ie||!ie.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const G=l.SnippetController2.get(this.editor);if(!G)return;const x=this.editor.getModel(),V=x.getAlternativeVersionId(),{item:j}=ie,re=[],ae=new D.CancellationTokenSource;le&1||this.editor.pushUndoStop();const Y=this.getOverwriteInfo(j,Boolean(le&8));if(this._memoryService.memorize(x,this.editor.getPosition(),j),Array.isArray(j.completion.additionalTextEdits)){const Z=t.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",j.completion.additionalTextEdits.map(q=>d.EditOperation.replaceMove(a.Range.lift(q.range),q.text))),Z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!j.isResolved){const Z=new i.StopWatch(!0);let q;const $=x.onDidChangeContent(de=>{if(de.isFlush){ae.cancel(),$.dispose();return}for(let he of de.changes){const pe=a.Range.getEndPosition(he.range);(!q||o.Position.isBefore(pe,q))&&(q=pe)}});let H=le;le|=2;let ee=!1,te=this.editor.onWillType(()=>{te.dispose(),ee=!0,H&2||this.editor.pushUndoStop()});re.push(j.resolve(ae.token).then(()=>{if(!j.completion.additionalTextEdits||ae.token.isCancellationRequested||q&&j.completion.additionalTextEdits.some(he=>o.Position.isBefore(q,a.Range.getStartPosition(he.range))))return!1;ee&&this.editor.pushUndoStop();const de=t.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",j.completion.additionalTextEdits.map(he=>d.EditOperation.replaceMove(a.Range.lift(he.range),he.text))),de.restoreRelativeVerticalPositionOfCursor(this.editor),(ee||!(H&2))&&this.editor.pushUndoStop(),!0}).then(de=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Z.elapsed(),de),$.dispose(),te.dispose()}))}let{insertText:U}=j.completion;j.completion.insertTextRules&4||(U=c.SnippetParser.escape(U)),G.insert(U,{overwriteBefore:Y.overwriteBefore,overwriteAfter:Y.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(j.completion.insertTextRules&1),clipboardText:ie.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),le&2||this.editor.pushUndoStop(),j.completion.command?j.completion.command.id===Q.id?this.model.trigger({auto:!0,shy:!1},!0):(re.push(this._commandService.executeCommand(j.completion.command.id,...j.completion.command.arguments?[...j.completion.command.arguments]:[]).catch(L.onUnexpectedError)),this.model.cancel()):this.model.cancel(),le&4&&this._alternatives.value.set(ie,Z=>{for(ae.cancel();x.canUndo();){V!==x.getAlternativeVersionId()&&x.undo(),this._insertSuggestion(Z,1|2|(le&8?8:0));break}}),this._alertCompletionItem(j),Promise.all(re).finally(()=>{this._reportSuggestionAcceptedTelemetry(j,x,ie),this.model.clear(),ae.dispose()})}_reportSuggestionAcceptedTelemetry(ie,le,G){var x;if(this._telemetryGate++%100!=0)return;const V=ie.extensionId?ie.extensionId.value:((x=G.item.provider._debugDisplayName)!==null&&x!==void 0?x:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:V,kind:ie.completion.kind,basenameHash:(0,F.hash)((0,A.basename)(le.uri)).toString(16),languageId:le.getLanguageId(),fileExtension:(0,A.extname)(le.uri)})}getOverwriteInfo(ie,le){(0,n.assertType)(this.editor.hasModel());let G=this.editor.getOption(106).insertMode==="replace";le&&(G=!G);const x=ie.position.column-ie.editStart.column,V=(G?ie.editReplaceEnd.column:ie.editInsertEnd.column)-ie.position.column,j=this.editor.getPosition().column-ie.position.column,re=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:x+j,overwriteAfter:V+re}}_alertCompletionItem(ie){if((0,f.isNonEmptyArray)(ie.completion.additionalTextEdits)){let le=S.localize(0,null,ie.textLabel,ie.completion.additionalTextEdits.length);(0,y.alert)(le)}}triggerSuggest(ie,le,G){this.editor.hasModel()&&(this.model.trigger({auto:le??!1,shy:!1},!1,ie,void 0,G),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ie){if(!this.editor.hasModel())return;const le=this.editor.getPosition(),G=()=>{le.equals(this.editor.getPosition())&&this._commandService.executeCommand(ie.fallback)},x=V=>{if(V.completion.insertTextRules&4||V.completion.additionalTextEdits)return!0;const j=this.editor.getPosition(),re=V.editStart.column,ae=j.column;return ae-re!==V.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:j.lineNumber,startColumn:re,endLineNumber:j.lineNumber,endColumn:ae})!==V.completion.insertText};b.Event.once(this.model.onDidTrigger)(V=>{let j=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,u.dispose)(j),G()},void 0,j),this.model.onDidSuggest(({completionModel:re})=>{if((0,u.dispose)(j),re.items.length===0){G();return}const ae=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),re.items),Y=re.items[ae];if(!x(Y)){G();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ae,item:Y,model:re},4|1|2)},void 0,j)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(le,0),this.editor.focus()}acceptSelectedSuggestion(ie,le){const G=this.widget.value.getFocusedItem();let x=0;ie&&(x|=4),le&&(x|=8),this._insertSuggestion(G,x)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(ie){return this._selectors.register(ie)}};M.ID="editor.contrib.suggestController",M=De([fe(1,g.ISuggestMemoryService),fe(2,p.ICommandService),fe(3,v.IContextKeyService),fe(4,_.IInstantiationService),fe(5,w.ILogService),fe(6,k.ITelemetryService)],M),e.SuggestController=M;class z{constructor(ie){this.prioritySelector=ie,this._items=new Array}register(ie){if(this._items.indexOf(ie)!==-1)throw new Error("Value is already registered");return this._items.push(ie),this._items.sort((le,G)=>this.prioritySelector(G)-this.prioritySelector(le)),{dispose:()=>{const le=this._items.indexOf(ie);le>=0&&this._items.splice(le,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Q extends r.EditorAction{constructor(){super({id:Q.id,label:S.localize(1,null),alias:"Trigger Suggest",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(ie,le,G){const x=M.get(le);if(!x)return;let V;G&&typeof G=="object"&&G.auto===!0&&(V=!0),x.triggerSuggest(void 0,V)}}e.TriggerSuggestAction=Q,Q.id="editor.action.triggerSuggest",(0,r.registerEditorContribution)(M.ID,M),(0,r.registerEditorAction)(Q);const ne=100+90,X=r.EditorCommand.bindToContribution(M.get);(0,r.registerEditorCommand)(new X({id:"acceptSelectedSuggestion",precondition:E.Context.Visible,handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus),weight:ne},{primary:3,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:ne}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(3,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(4,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,r.registerEditorCommand)(new X({id:"acceptAlternativeSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:S.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:S.localize(6,null)}]})),p.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,r.registerEditorCommand)(new X({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:J=>J.cancelSuggestWidget(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,r.registerEditorCommand)(new X({id:"selectNextSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectNextSuggestion(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,r.registerEditorCommand)(new X({id:"selectNextPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectNextPageSuggestion(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,r.registerEditorCommand)(new X({id:"selectLastSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectLastSuggestion()})),(0,r.registerEditorCommand)(new X({id:"selectPrevSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectPrevSuggestion(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,r.registerEditorCommand)(new X({id:"selectPrevPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectPrevPageSuggestion(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,r.registerEditorCommand)(new X({id:"selectFirstSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:J=>J.selectFirstSuggestion()})),(0,r.registerEditorCommand)(new X({id:"toggleSuggestionDetails",precondition:E.Context.Visible,handler:J=>J.toggleSuggestionDetails(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:S.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:S.localize(8,null)}]})),(0,r.registerEditorCommand)(new X({id:"toggleExplainMode",precondition:E.Context.Visible,handler:J=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,r.registerEditorCommand)(new X({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:J=>J.toggleSuggestionFocus(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,r.registerEditorCommand)(new X({id:"insertBestCompletion",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),m.WordContextKey.AtEnd,E.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:(J,ie)=>{J.triggerSuggestAndAcceptBest((0,n.isObject)(ie)?Object.assign({fallback:"tab"},ie):{fallback:"tab"})},kbOpts:{weight:ne,primary:2}})),(0,r.registerEditorCommand)(new X({id:"insertNextSuggestion",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptNextSuggestion(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),(0,r.registerEditorCommand)(new X({id:"insertPrevSuggestion",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptPrevSuggestion(),kbOpts:{weight:ne,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,r.registerEditorAction)(class extends r.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:S.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,ie){var le;(le=M.get(ie))===null||le===void 0||le.resetWidgetSize()}})}),define(oe[754],se([1,0,18,10,4,2,11,3,107,312,314,196]),function(K,e,y,f,N,D,L,b,C,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class n extends D.Disposable{constructor(a,s){super();this.editor=a,this.suggestControllerPreselector=s,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new f.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(c=>{c.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(c=>{c.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const l=h.SuggestController.get(this.editor);if(l){this._register(l.registerSelector({priority:100,select:(m,S,p)=>{const v=this.editor.getModel(),_=(0,i.minimizeInlineCompletion)(v,this.suggestControllerPreselector());if(!_)return-1;const w=L.Position.lift(S),E=p.map((T,R)=>{const B=d(l,w,T,this.isShiftKeyPressed),O=(0,i.minimizeInlineCompletion)(v,B==null?void 0:B.normalizedInlineCompletion);if(!O)return;const k=t(_.range,O.range)&&_.insertText.startsWith(O.insertText);return{index:R,valid:k,prefixLength:O.insertText.length,suggestItem:T}}).filter(T=>T&&T.valid),I=(0,y.findMaxBy)(E,(0,y.compareBy)(T=>T.prefixLength,y.numberComparator));return I?I.index:-1}}));let c=!1;const g=()=>{c||(c=!0,this._register(l.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(l.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(l.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(l.model.onDidTrigger)(m=>{g()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(a){const s=this.getSuggestItemInfo();let l=!1;r(this._currentSuggestItemInfo,s)||(this._currentSuggestItemInfo=s,l=!0),this._isActive!==a&&(this._isActive=a,l=!0),l&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const a=h.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const s=a.widget.value.getFocusedItem();if(!!s)return d(a,this.editor.getPosition(),s.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=h.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=h.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=n;function t(o,a){return a.startLineNumber===o.startLineNumber&&a.startColumn===o.startColumn&&(a.endLineNumber<o.endLineNumber||a.endLineNumber===o.endLineNumber&&a.endColumn<=o.endColumn)}e.rangeStartsWith=t;function r(o,a){return o===a?!0:!o||!a?!1:o.completionItemKind===a.completionItemKind&&o.isSnippetText===a.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(o.normalizedInlineCompletion,a.normalizedInlineCompletion)}function d(o,a,s,l){if(Array.isArray(s.completion.additionalTextEdits)&&s.completion.additionalTextEdits.length>0)return{completionItemKind:s.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(a,a),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:c}=s.completion,g=!1;if(s.completion.insertTextRules&4){const S=new C.SnippetParser().parse(c),p=o.editor.getModel();if(S.children.length>100)return;u.SnippetSession.adjustWhitespace(p,a,S,!0,!0),c=S.toString(),g=!0}const m=o.getOverwriteInfo(s,l);return{isSnippetText:g,completionItemKind:s.completion.kind,normalizedInlineCompletion:{insertText:c,filterText:c,range:b.Range.fromPositions(a.delta(0,-m.overwriteBefore),a.delta(0,Math.max(m.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(oe[755],se([1,0,10,13,2,27,20,157,313,196,754]),function(K,e,y,f,N,D,L,b,C,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let i=class extends b.BaseGhostTextWidgetModel{constructor(r,d,o){super(r);this.cache=d,this.languageFeaturesService=o,this.suggestionInlineCompletionSource=this._register(new h.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var a,s;return(s=(a=this.cache.value)===null||a===void 0?void 0:a.completions[0])===null||s===void 0?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new N.MutableDisposable),this.updateCacheSoon=this._register(new y.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,n(s.parts.map(l=>l.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(a=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,N.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Le(this,void 0,void 0,function*(){const r=this.suggestionInlineCompletionSource.state;if(!r||!r.selectedItem)return;const d={text:r.selectedItem.normalizedInlineCompletion.insertText,range:r.selectedItem.normalizedInlineCompletion.range,isSnippetText:r.selectedItem.isSnippetText,completionKind:r.selectedItem.completionItemKind},o=this.editor.getPosition();if(r.selectedItem.isSnippetText||r.selectedItem.completionItemKind===27||r.selectedItem.completionItemKind===20||r.selectedItem.completionItemKind===23){this.cache.clear();return}const a=(0,y.createCancelablePromise)(l=>Le(this,void 0,void 0,function*(){let c;try{c=yield(0,C.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,o,this.editor.getModel(),{triggerKind:D.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:d},l)}catch(g){(0,f.onUnexpectedError)(g);return}if(l.isCancellationRequested){c.dispose();return}this.cache.setValue(this.editor,c,D.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire()})),s=new C.UpdateOperation(a,D.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=s,yield a,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var r,d,o;const a=this.isSuggestionPreviewEnabled(),s=this.editor.getModel(),l=(0,u.minimizeInlineCompletion)(s,(d=(r=this.cache.value)===null||r===void 0?void 0:r.completions[0])===null||d===void 0?void 0:d.toLiveInlineCompletion()),c=this.suggestionInlineCompletionSource.state,g=(0,u.minimizeInlineCompletion)(s,(o=c==null?void 0:c.selectedItem)===null||o===void 0?void 0:o.normalizedInlineCompletion),m=l&&g&&l.insertText.startsWith(g.insertText)&&l.range.equalsRange(g.range);if(!a&&!m)return;const S=m?l:g||l,p=m?S.insertText.length-g.insertText.length:0;return this.toGhostText(S,p)}toGhostText(r,d){const o=this.editor.getOptions().get(106).previewMode;return r?(0,u.inlineCompletionToGhostText)(r,this.editor.getModel(),o,this.editor.getPosition(),d)||new b.GhostText(r.range.endLineNumber,[],this.minReservedLineCount):void 0}};i=De([fe(2,L.ILanguageFeaturesService)],i),e.SuggestWidgetPreviewModel=i;function n(t){return t.reduce((r,d)=>r+d,0)}}),define(oe[756],se([1,0,4,2,11,27,313,755,195,9]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class h extends f.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new f.MutableDisposable)}get targetModel(){var r;return(r=this.currentModelRef.value)===null||r===void 0?void 0:r.object}setTargetModel(r){var d;((d=this.currentModelRef.value)===null||d===void 0?void 0:d.object)!==r&&(this.currentModelRef.clear(),this.currentModelRef.value=r?(0,C.createDisposableRef)(r,r.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var r,d;return this.hasCachedGhostText||(this.cachedGhostText=(d=(r=this.currentModelRef.value)===null||r===void 0?void 0:r.object)===null||d===void 0?void 0:d.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(r){var d;(d=this.targetModel)===null||d===void 0||d.setExpanded(r)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=h;let i=class extends h{constructor(r,d){super();this.editor=r,this.instantiationService=d,this.sharedCache=this._register(new n),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(b.SuggestWidgetPreviewModel,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(L.InlineCompletionsModel,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(r){var d;const o=(d=this.activeInlineCompletionsModel)===null||d===void 0?void 0:d.ghostText;return o?o.parts.some(a=>r.containsPosition(new N.Position(o.lineNumber,a.column))):!1}triggerInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.trigger(D.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.commitCurrentSuggestion()}hideInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.hide()}showNextInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.showNext()}showPreviousInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.showPrevious()}hasMultipleInlineCompletions(){var r;return Le(this,void 0,void 0,function*(){const d=yield(r=this.activeInlineCompletionsModel)===null||r===void 0?void 0:r.hasMultipleInlineCompletions();return d!==void 0?d:!1})}};i=De([fe(1,u.IInstantiationService)],i),e.GhostTextModel=i;class n extends f.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new f.MutableDisposable)}get value(){return this.cache.value}setValue(r,d,o){this.cache.value=new L.SynchronizedInlineCompletionsCache(d,r,()=>this.onDidChangeEmitter.fire(),o)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=n}),define(oe[315],se([1,0,4,2,8,15,67,22,756,668,564,16,9]),function(K,e,y,f,N,D,L,b,C,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let t=class en extends f.Disposable{constructor(c,g){super();this.editor=c,this.instantiationService=g,this.triggeredExplicitly=!1,this.activeController=this._register(new f.MutableDisposable),this.activeModelDidChangeEmitter=this._register(new y.Emitter),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(m=>{m.hasChanged(106)&&this.updateModelController(),m.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(c){return c.getContribution(en.ID)}get activeModel(){var c;return(c=this.activeController.value)===null||c===void 0?void 0:c.model}updateModelController(){const c=this.editor.getOption(106),g=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(c.preview||g.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(d,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(c){var g;return((g=this.activeModel)===null||g===void 0?void 0:g.shouldShowHoverAt(c))||!1}shouldShowHoverAtViewZone(c){var g,m;return((m=(g=this.activeController.value)===null||g===void 0?void 0:g.widget)===null||m===void 0?void 0:m.shouldShowHoverAtViewZone(c))||!1}trigger(){var c;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(c=this.activeModel)===null||c===void 0||c.triggerInlineCompletion()}commit(){var c;(c=this.activeModel)===null||c===void 0||c.commitInlineCompletion()}hide(){var c;(c=this.activeModel)===null||c===void 0||c.hideInlineCompletion()}showNextInlineCompletion(){var c;(c=this.activeModel)===null||c===void 0||c.showNextInlineCompletion()}showPreviousInlineCompletion(){var c;(c=this.activeModel)===null||c===void 0||c.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var c;return Le(this,void 0,void 0,function*(){const g=yield(c=this.activeModel)===null||c===void 0?void 0:c.hasMultipleInlineCompletions();return g!==void 0?g:!1})}};t.inlineSuggestionVisible=new i.RawContextKey("inlineSuggestionVisible",!1,h.localize(0,null)),t.inlineSuggestionHasIndentation=new i.RawContextKey("inlineSuggestionHasIndentation",!1,h.localize(1,null)),t.inlineSuggestionHasIndentationLessThanTabSize=new i.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,h.localize(2,null)),t.ID="editor.contrib.ghostTextController",t=De([fe(1,n.IInstantiationService)],t),e.GhostTextController=t;class r{constructor(c){this.contextKeyService=c,this.inlineCompletionVisible=t.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=t.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=t.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let d=class extends f.Disposable{constructor(c,g,m){super();this.editor=c,this.instantiationService=g,this.contextKeyService=m,this.contextKeys=new r(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(C.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(u.GhostTextWidget,this.editor,this.model)),this._register((0,f.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var c;this.contextKeys.inlineCompletionVisible.set(((c=this.model.activeInlineCompletionsModel)===null||c===void 0?void 0:c.ghostText)!==void 0);let g=!1,m=!0;const S=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&S&&S.parts.length>0){const{column:p,lines:v}=S.parts[0],_=v[0],w=this.editor.getModel().getLineIndentColumn(S.lineNumber);if(p<=w){let I=(0,N.firstNonWhitespaceIndex)(_);I===-1&&(I=_.length-1),g=I>0;const T=this.editor.getModel().getOptions().tabSize;m=L.CursorColumns.visibleColumnFromColumn(_,I+1,T)<T}}this.contextKeys.inlineCompletionSuggestsIndentation.set(g),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(m)}};d=De([fe(1,n.IInstantiationService),fe(2,i.IContextKeyService)],d),e.ActiveGhostTextController=d;class o extends D.EditorAction{constructor(){super({id:o.ID,label:h.localize(3,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(b.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(c,g){return Le(this,void 0,void 0,function*(){const m=t.get(g);m&&(m.showNextInlineCompletion(),g.focus())})}}e.ShowNextInlineSuggestionAction=o,o.ID="editor.action.inlineSuggest.showNext";class a extends D.EditorAction{constructor(){super({id:a.ID,label:h.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(b.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(c,g){return Le(this,void 0,void 0,function*(){const m=t.get(g);m&&(m.showPreviousInlineCompletion(),g.focus())})}}e.ShowPreviousInlineSuggestionAction=a,a.ID="editor.action.inlineSuggest.showPrevious";class s extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:h.localize(5,null),alias:"Trigger Inline Suggestion",precondition:b.EditorContextKeys.writable})}run(c,g){return Le(this,void 0,void 0,function*(){const m=t.get(g);m&&m.trigger()})}}e.TriggerInlineSuggestionAction=s}),define(oe[757],se([1,0,7,65,2,111,3,36,87,315,565,69,41,26,16,49,194]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class a{constructor(c,g,m){this.owner=c,this.range=g,this.controller=m}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var c,g,m;return((m=(g=(c=this.controller.activeModel)===null||c===void 0?void 0:c.activeInlineCompletionsModel)===null||g===void 0?void 0:g.completionSession.value)===null||m===void 0?void 0:m.commands)||[]}}e.InlineCompletionsHover=a;let s=class{constructor(c,g,m,S,p,v,_){this._editor=c,this._commandService=g,this._menuService=m,this._contextKeyService=S,this._languageService=p,this._openerService=v,this.accessibilityService=_,this.hoverOrdinal=3}suggestHoverAnchor(c){const g=u.GhostTextController.get(this._editor);if(!g)return null;const m=c.target;if(m.type===8){const S=m.detail;if(g.shouldShowHoverAtViewZone(S.viewZoneId))return new C.HoverForeignElementAnchor(1e3,this,L.Range.fromPositions(S.positionBefore||S.position,S.positionBefore||S.position))}return m.type===7&&g.shouldShowHoverAt(m.range)?new C.HoverForeignElementAnchor(1e3,this,m.range):m.type===6&&m.detail.mightBeForeignElement&&g.shouldShowHoverAt(m.range)?new C.HoverForeignElementAnchor(1e3,this,m.range):null}computeSync(c,g){const m=u.GhostTextController.get(this._editor);return m&&m.shouldShowHoverAt(c.range)?[new a(this,c.range,m)]:[]}renderHoverParts(c,g){const m=new N.DisposableStore,S=g[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(c,S,m);const p=m.add(this._menuService.createMenu(n.MenuId.InlineCompletionsActions,this._contextKeyService)),v=c.statusBar.addAction({label:h.localize(0,null),commandId:u.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowNextInlineSuggestionAction.ID)}),_=c.statusBar.addAction({label:h.localize(1,null),commandId:u.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowPreviousInlineSuggestionAction.ID)});c.statusBar.addAction({label:h.localize(2,null),commandId:o.inlineSuggestCommitId,run:()=>this._commandService.executeCommand(o.inlineSuggestCommitId)});const w=[v,_];for(const E of w)E.setEnabled(!1);S.hasMultipleSuggestions().then(E=>{for(const I of w)I.setEnabled(E)});for(const E of S.commands)c.statusBar.addAction({label:E.title,commandId:E.id,run:()=>this._commandService.executeCommand(E.id,...E.arguments||[])});for(const[E,I]of p.getActions())for(const T of I)T instanceof n.MenuItemAction&&c.statusBar.addAction({label:T.label,commandId:T.item.id,run:()=>this._commandService.executeCommand(T.item.id)});return m}renderScreenReaderText(c,g,m){var S,p;const v=y.$,_=v("div.hover-row.markdown-hover"),w=y.append(_,v("div.hover-contents")),E=m.add(new D.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),I=R=>{m.add(E.onDidRenderAsync(()=>{w.className="hover-contents code-hover-contents",c.onContentsChanged()}));const B=h.localize(3,null),O=m.add(E.render(new f.MarkdownString().appendText(B).appendCodeblock("text",R)));w.replaceChildren(O.element)},T=(p=(S=g.controller.activeModel)===null||S===void 0?void 0:S.inlineCompletionsModel)===null||p===void 0?void 0:p.ghostText;if(T){const R=this._editor.getModel().getLineContent(T.lineNumber);I(T.renderForScreenReader(R))}c.fragment.appendChild(_)}};s=De([fe(1,t.ICommandService),fe(2,n.IMenuService),fe(3,r.IContextKeyService),fe(4,b.ILanguageService),fe(5,d.IOpenerService),fe(6,i.IAccessibilityService)],s),e.InlineCompletionsHoverParticipant=s}),define(oe[758],se([1,0,15,22,87,194,315,757,16,97]),function(K,e,y,f,N,D,L,b,C,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commitInlineSuggestionAction=void 0,(0,y.registerEditorContribution)(L.GhostTextController.ID,L.GhostTextController),(0,y.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,y.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,y.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),N.HoverParticipantRegistry.register(b.InlineCompletionsHoverParticipant);const h=y.EditorCommand.bindToContribution(L.GhostTextController.get);e.commitInlineSuggestionAction=new h({id:D.inlineSuggestCommitId,precondition:L.GhostTextController.inlineSuggestionVisible,handler(i){i.commit(),i.editor.focus()}}),(0,y.registerEditorCommand)(e.commitInlineSuggestionAction),u.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:C.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,f.EditorContextKeys.tabMovesFocus.toNegated(),L.GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)}),(0,y.registerEditorCommand)(new h({id:"editor.action.inlineSuggest.hide",precondition:L.GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(i){i.hide()}}))}),define(oe[316],se([1,0,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,y.createDecorator)("workspaceTrustManagementService")}),define(oe[759],se([1,0,10,28,65,2,17,8,15,33,35,252,89,36,276,87,211,718,591,37,9,49,82,77,316,400]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,S.registerIcon)("extensions-warning-message",f.Codicon.warning,s.localize(0,null));let v=class extends D.Disposable{constructor(ie,le,G,x){super();this._editor=ie,this._editorWorkerService=le,this._workspaceTrustService=G,this._highlighter=null,this._bannerClosed=!1,this._updateState=V=>{if(V&&V.hasMore){if(this._bannerClosed)return;const j=Math.max(V.ambiguousCharacterCount,V.nonBasicAsciiCharacterCount,V.invisibleCharacterCount);let re;if(V.nonBasicAsciiCharacterCount>=j)re={message:s.localize(1,null),command:new M};else if(V.ambiguousCharacterCount>=j)re={message:s.localize(2,null),command:new P};else if(V.invisibleCharacterCount>=j)re={message:s.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:re.message,icon:e.warningIcon,actions:[{label:re.command.shortLabel,href:`command:${re.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(x.createInstance(a.BannerController,ie)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ie.getOption(113),this._register(G.onDidChangeTrust(V=>{this._updateHighlighter()})),this._register(ie.onDidChangeConfiguration(V=>{V.hasChanged(113)&&(this._options=ie.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ie=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ie.nonBasicASCII,ie.ambiguousCharacters,ie.invisibleCharacters].every(G=>G===!1))return;const le={nonBasicASCII:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments,includeStrings:ie.includeStrings,allowedCodePoints:Object.keys(ie.allowedCharacters).map(G=>G.codePointAt(0)),allowedLocales:Object.keys(ie.allowedLocales).map(G=>G==="_os"?new Intl.NumberFormat().resolvedOptions().locale:G==="_vscode"?L.language:G)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new w(this._editor,le,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,le,this._updateState)}getDecorationInfo(ie){return this._highlighter?this._highlighter.getDecorationInfo(ie):null}};v.ID="editor.contrib.unicodeHighlighter",v=De([fe(1,n.IEditorWorkerService),fe(2,p.IWorkspaceTrustManagementService),fe(3,c.IInstantiationService)],v),e.UnicodeHighlighter=v;function _(J,ie){return{nonBasicASCII:ie.nonBasicASCII===u.inUntrustedWorkspace?!J:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments===u.inUntrustedWorkspace?!J:ie.includeComments,includeStrings:ie.includeStrings===u.inUntrustedWorkspace?!J:ie.includeStrings,allowedCharacters:ie.allowedCharacters,allowedLocales:ie.allowedLocales}}let w=class extends D.Disposable{constructor(ie,le,G,x){super();this._editor=ie,this._options=le,this._updateState=G,this._editorWorkerService=x,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const ie=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(le=>{if(this._model.isDisposed()||this._model.getVersionId()!==ie)return;this._updateState(le);const G=[];if(!le.hasMore)for(const x of le.ranges)G.push({range:x,options:k.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),G))})}getDecorationInfo(ie){if(!this._decorationIds.has(ie))return null;const le=this._editor.getModel(),G=le.getDecorationRange(ie),x={range:G,options:k.instance.getDecorationFromOptions(this._options),id:ie,ownerId:0};if(!(0,r.isModelDecorationVisible)(le,x))return null;const V=le.getValueInRange(G);return{reason:O(V,this._options),inComment:(0,r.isModelDecorationInComment)(le,x),inString:(0,r.isModelDecorationInString)(le,x)}}};w=De([fe(3,n.IEditorWorkerService)],w);class E extends D.Disposable{constructor(ie,le,G){super();this._editor=ie,this._options=le,this._updateState=G,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const ie=this._editor.getVisibleRanges(),le=[],G={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const x of ie){const V=i.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,x);for(const j of V.ranges)G.ranges.push(j);G.ambiguousCharacterCount+=G.ambiguousCharacterCount,G.invisibleCharacterCount+=G.invisibleCharacterCount,G.nonBasicAsciiCharacterCount+=G.nonBasicAsciiCharacterCount,G.hasMore=G.hasMore||V.hasMore}if(!G.hasMore)for(const x of G.ranges)le.push({range:x,options:k.instance.getDecorationFromOptions(this._options)});this._updateState(G),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),le))}getDecorationInfo(ie){if(!this._decorationIds.has(ie))return null;const le=this._editor.getModel(),G=le.getDecorationRange(ie),x=le.getValueInRange(G),V={range:G,options:k.instance.getDecorationFromOptions(this._options),id:ie,ownerId:0};return(0,r.isModelDecorationVisible)(le,V)?{reason:O(x,this._options),inComment:(0,r.isModelDecorationInComment)(le,V),inString:(0,r.isModelDecorationInString)(le,V)}:null}}let I=class{constructor(ie,le,G){this._editor=ie,this._languageService=le,this._openerService=G,this.hoverOrdinal=4}computeSync(ie,le){if(!this._editor.hasModel()||ie.type!==1)return[];const G=this._editor.getModel(),x=this._editor.getContribution(v.ID);if(!x)return[];const V=[];let j=300;for(const re of le){const ae=x.getDecorationInfo(re.id);if(!ae)continue;const U=G.getValueInRange(re.range).codePointAt(0),Z=R(U);let q;switch(ae.reason.kind){case 0:q=s.localize(4,null,Z,R(ae.reason.confusableWith.codePointAt(0)));break;case 1:q=s.localize(5,null,Z);break;case 2:q=s.localize(6,null,Z);break}const $={codePoint:U,reason:ae.reason,inComment:ae.inComment,inString:ae.inString},H=s.localize(7,null),ee=`command:${z.ID}?${encodeURIComponent(JSON.stringify($))}`,te=new N.MarkdownString("",!0).appendMarkdown(q).appendText(" ").appendLink(ee,H);V.push(new o.MarkdownHover(this,re.range,[te],j++))}return V}renderHoverParts(ie,le){return(0,o.renderMarkdownHovers)(ie,le,this._editor,this._languageService,this._openerService)}};I=De([fe(1,t.ILanguageService),fe(2,g.IOpenerService)],I),e.UnicodeHighlighterHoverParticipant=I;function T(J){return`U+${J.toString(16).padStart(4,"0")}`}function R(J){let ie=`\`${T(J)}\``;return b.InvisibleCharacters.isInvisibleCharacter(J)||(ie+=` "${`${B(J)}`}"`),ie}function B(J){return J===96?"`` ` ``":"`"+String.fromCodePoint(J)+"`"}function O(J,ie){return i.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(J,ie)}class k{constructor(){this.map=new Map}getDecorationFromOptions(ie){return this.getDecoration(!ie.includeComments,!ie.includeStrings)}getDecoration(ie,le){const G=`${ie}${le}`;let x=this.map.get(G);return x||(x=h.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ie,hideInStringTokens:le}),this.map.set(G,x)),x}}k.instance=new k;class A extends C.EditorAction{constructor(){super({id:P.ID,label:s.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=s.localize(8,null)}run(ie,le,G){return Le(this,void 0,void 0,function*(){let x=ie==null?void 0:ie.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.includeComments,!1,1)})}}e.DisableHighlightingInCommentsAction=A;class F extends C.EditorAction{constructor(){super({id:P.ID,label:s.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=s.localize(10,null)}run(ie,le,G){return Le(this,void 0,void 0,function*(){let x=ie==null?void 0:ie.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.includeStrings,!1,1)})}}e.DisableHighlightingInStringsAction=F;class P extends C.EditorAction{constructor(){super({id:P.ID,label:s.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=s.localize(12,null)}run(ie,le,G){return Le(this,void 0,void 0,function*(){let x=ie==null?void 0:ie.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=P,P.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends C.EditorAction{constructor(){super({id:W.ID,label:s.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=s.localize(14,null)}run(ie,le,G){return Le(this,void 0,void 0,function*(){let x=ie==null?void 0:ie.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class M extends C.EditorAction{constructor(){super({id:M.ID,label:s.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=s.localize(16,null)}run(ie,le,G){return Le(this,void 0,void 0,function*(){let x=ie==null?void 0:ie.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(u.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=M,M.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class z extends C.EditorAction{constructor(){super({id:z.ID,label:s.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(ie,le,G){return Le(this,void 0,void 0,function*(){const{codePoint:x,reason:V,inString:j,inComment:re}=G,ae=String.fromCodePoint(x),Y=ie.get(m.IQuickInputService),U=ie.get(l.IConfigurationService);function Z(H){return b.InvisibleCharacters.isInvisibleCharacter(H)?s.localize(19,null,T(H)):s.localize(20,null,`${T(H)} "${ae}"`)}const q=[];if(V.kind===0)for(const H of V.notAmbiguousInLocales)q.push({label:s.localize(21,null,H),run:()=>Le(this,void 0,void 0,function*(){ne(U,[H])})});if(q.push({label:Z(x),run:()=>Q(U,[x])}),re){const H=new A;q.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(U)})})}else if(j){const H=new F;q.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(U)})})}if(V.kind===0){const H=new P;q.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(U)})})}else if(V.kind===1){const H=new W;q.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(U)})})}else if(V.kind===2){const H=new M;q.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(U)})})}else X(V);const $=yield Y.pick(q,{title:s.localize(22,null)});$&&(yield $.run())})}}e.ShowExcludeOptions=z,z.ID="editor.action.unicodeHighlight.showExcludeOptions";function Q(J,ie){return Le(this,void 0,void 0,function*(){const le=J.getValue(u.unicodeHighlightConfigKeys.allowedCharacters);let G;typeof le=="object"&&le?G=le:G={};for(const x of ie)G[String.fromCodePoint(x)]=!0;yield J.updateValue(u.unicodeHighlightConfigKeys.allowedCharacters,G,1)})}function ne(J,ie){var le;return Le(this,void 0,void 0,function*(){const G=(le=J.inspect(u.unicodeHighlightConfigKeys.allowedLocales).user)===null||le===void 0?void 0:le.value;let x;typeof G=="object"&&G?x=Object.assign({},G):x={};for(const V of ie)x[V]=!0;yield J.updateValue(u.unicodeHighlightConfigKeys.allowedLocales,x,1)})}function X(J){throw new Error(`Unexpected value: ${J}`)}(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(M),(0,C.registerEditorAction)(z),(0,C.registerEditorContribution)(v.ID,v),d.HoverParticipantRegistry.register(I)}),define(oe[760],se([1,0,160,165,304,240,676,723,677,678,679,693,725,746,680,681,682,727,306,733,686,687,631,758,213,309,307,310,689,749,735,690,691,736,737,738,716,694,695,168,314,696,697,301,759,698,740,741,302,699,75,143]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(oe[215],se([1,0,8,7,44,4,100,2,17,78,25,202,633,61,11,3,48,58,158,26,37,641,16,132,9,621,43,623,97,283,624,133,40,76,90,214,109,75,42,29,70,316,80,626,638,709,14,53,630,89,285,36,664,203,303,712,720,108,625,69,41,708,627,96,619,201,620,159,163,81,629,49,82,83,31,296,284,751,71,613]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I,T,R,B,O,k,A,F,P,W,M,z,Q,ne,X,J,ie,le,G,x,V,j,re,ae,Y,U,Z,q,$,H,ee,te,de,he,pe,ve,ue,Ce,me,be,ce,ge,we,ye,Te){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class ke{constructor(Ne){this.disposed=!1,this.model=Ne,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Me=class{constructor(Ne){this.modelService=Ne}createModelReference(Ne){const Oe=this.modelService.getModel(Ne);return Oe?Promise.resolve(new b.ImmortalReference(new ke(Oe))):Promise.reject(new Error("Model not found"))}};Me=De([fe(0,o.IModelService)],Me);class _e{show(){return _e.NULL_PROGRESS_RUNNER}showWhile(Ne,Oe){return Le(this,void 0,void 0,function*(){yield Ne})}}_e.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Se{confirm(Ne){return this.doConfirm(Ne).then(Oe=>({confirmed:Oe,checkboxChecked:!1}))}doConfirm(Ne){let Oe=Ne.message;return Ne.detail&&(Oe=Oe+`

`+Ne.detail),Promise.resolve(window.confirm(Oe))}show(Ne,Oe,Ve,qe){return Promise.resolve({choice:0})}}class Ee{info(Ne){return this.notify({severity:u.default.Info,message:Ne})}warn(Ne){return this.notify({severity:u.default.Warning,message:Ne})}error(Ne){return this.notify({severity:u.default.Error,message:Ne})}notify(Ne){switch(Ne.severity){case u.default.Error:console.error(Ne.message);break;case u.default.Warning:console.warn(Ne.message);break;default:console.log(Ne.message);break}return Ee.NO_OP}status(Ne,Oe){return b.Disposable.None}}e.StandaloneNotificationService=Ee,Ee.NO_OP=new B.NoOpNotification;let Ae=class{constructor(Ne){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Ne}executeCommand(Ne,...Oe){const Ve=l.CommandsRegistry.getCommand(Ne);if(!Ve)return Promise.reject(new Error(`command '${Ne}' not found`));try{this._onWillExecuteCommand.fire({commandId:Ne,args:Oe});const qe=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ve.handler,...Oe]);return this._onDidExecuteCommand.fire({commandId:Ne,args:Oe}),Promise.resolve(qe)}catch(qe){return Promise.reject(qe)}}};Ae=De([fe(0,p.IInstantiationService)],Ae),e.StandaloneCommandService=Ae;let Pe=class extends v.AbstractKeybindingService{constructor(Ne,Oe,Ve,qe,Je,$e){super(Ne,Oe,Ve,qe,Je);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ye=rt=>{const ht=new b.DisposableStore;ht.add(f.addDisposableListener(rt,f.EventType.KEY_DOWN,ft=>{const _t=new N.StandardKeyboardEvent(ft);this._dispatch(_t,_t.target)&&(_t.preventDefault(),_t.stopPropagation())})),ht.add(f.addDisposableListener(rt,f.EventType.KEY_UP,ft=>{const _t=new N.StandardKeyboardEvent(ft);this._singleModifierDispatch(_t,_t.target)&&_t.preventDefault()})),this._domNodeListeners.push(new xe(rt,ht))},nt=rt=>{for(let ht=0;ht<this._domNodeListeners.length;ht++){const ft=this._domNodeListeners[ht];ft.domNode===rt&&(this._domNodeListeners.splice(ht,1),ft.dispose())}},dt=rt=>{rt.getOption(54)||Ye(rt.getContainerDomNode())},ut=rt=>{rt.getOption(54)||nt(rt.getContainerDomNode())};this._register($e.onCodeEditorAdd(dt)),this._register($e.onCodeEditorRemove(ut)),$e.listCodeEditors().forEach(dt);const lt=rt=>{Ye(rt.getContainerDomNode())},vt=rt=>{nt(rt.getContainerDomNode())};this._register($e.onDiffEditorAdd(lt)),this._register($e.onDiffEditorRemove(vt)),$e.listDiffEditors().forEach(lt)}addDynamicKeybinding(Ne,Oe,Ve,qe){const Je=(0,L.createKeybinding)(Oe,C.OS),$e=new b.DisposableStore;return Je&&(this._dynamicKeybindings.push({keybinding:Je.parts,command:Ne,when:qe,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),$e.add((0,b.toDisposable)(()=>{for(let Ye=0;Ye<this._dynamicKeybindings.length;Ye++)if(this._dynamicKeybindings[Ye].command===Ne){this._dynamicKeybindings.splice(Ye,1),this.updateResolver({source:1});return}}))),$e.add(l.CommandsRegistry.registerCommand(Ne,Ve)),this.updateResolver({source:1}),$e}updateResolver(Ne){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(Ne)}_getResolver(){if(!this._cachedResolver){const Ne=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Oe=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new w.KeybindingResolver(Ne,Oe,Ve=>this._log(Ve))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Ne,Oe){const Ve=[];let qe=0;for(const Je of Ne){const $e=Je.when||void 0,Ye=Je.keybinding;if(!Ye)Ve[qe++]=new I.ResolvedKeybindingItem(void 0,Je.command,Je.commandArgs,$e,Oe,null,!1);else{const nt=T.USLayoutResolvedKeybinding.resolveUserBinding(Ye,C.OS);for(const dt of nt)Ve[qe++]=new I.ResolvedKeybindingItem(dt,Je.command,Je.commandArgs,$e,Oe,null,!1)}}return Ve}resolveKeyboardEvent(Ne){const Oe=new L.SimpleKeybinding(Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey,Ne.keyCode).toChord();return new T.USLayoutResolvedKeybinding(Oe,C.OS)}};Pe=De([fe(0,m.IContextKeyService),fe(1,l.ICommandService),fe(2,k.ITelemetryService),fe(3,B.INotificationService),fe(4,z.ILogService),fe(5,M.ICodeEditorService)],Pe),e.StandaloneKeybindingService=Pe;class xe extends b.Disposable{constructor(Ne,Oe){super();this.domNode=Ne,this._register(Oe)}}function Ue(ze){return ze&&typeof ze=="object"&&(!ze.overrideIdentifier||typeof ze.overrideIdentifier=="string")&&(!ze.resource||ze.resource instanceof h.URI)}class He{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new g.Configuration(new g.DefaultConfigurationModel,new g.ConfigurationModel)}getValue(Ne,Oe){const Ve=typeof Ne=="string"?Ne:void 0,qe=Ue(Ne)?Ne:Ue(Oe)?Oe:{};return this._configuration.getValue(Ve,qe,void 0)}updateValues(Ne){const Oe={data:this._configuration.toData()},Ve=[];for(const qe of Ne){const[Je,$e]=qe;this.getValue(Je)!==$e&&(this._configuration.updateValue(Je,$e),Ve.push(Je))}if(Ve.length>0){const qe=new g.ConfigurationChangeEvent({keys:Ve,overrides:[]},Oe,this._configuration);qe.source=7,qe.sourceConfig=null,this._onDidChangeConfiguration.fire(qe)}return Promise.resolve()}updateValue(Ne,Oe,Ve,qe){return this.updateValues([[Ne,Oe]])}inspect(Ne,Oe={}){return this._configuration.inspect(Ne,Oe,void 0)}}e.StandaloneConfigurationService=He;let Ke=class{constructor(Ne){this.configurationService=Ne,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(Oe=>{this._onDidChangeConfiguration.fire({affectedKeys:Oe.affectedKeys,affectsConfiguration:(Ve,qe)=>Oe.affectsConfiguration(qe)})})}getValue(Ne,Oe,Ve){const Je=(r.Position.isIPosition(Oe)?Oe:null)?typeof Ve=="string"?Ve:void 0:typeof Oe=="string"?Oe:void 0;return typeof Je=="undefined"?this.configurationService.getValue():this.configurationService.getValue(Je)}};Ke=De([fe(0,c.IConfigurationService)],Ke);let et=class{constructor(Ne){this.configurationService=Ne}getEOL(Ne,Oe){const Ve=this.configurationService.getValue("files.eol",{overrideIdentifier:Oe,resource:Ne});return Ve&&typeof Ve=="string"&&Ve!=="auto"?Ve:C.isLinux||C.isMacintosh?`
`:`\r
`}};et=De([fe(0,c.IConfigurationService)],et);class tt{publicLog(Ne,Oe){return Promise.resolve(void 0)}publicLog2(Ne,Oe){return this.publicLog(Ne,Oe)}}class it{constructor(){const Ne=h.URI.from({scheme:it.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new A.WorkspaceFolder({uri:Ne,name:"",index:0})]}}getWorkspace(){return this.workspace}}it.SCHEME="inmemory";function je(ze,Ne,Oe){if(!Ne||!(ze instanceof He))return;const Ve=[];Object.keys(Ne).forEach(qe=>{(0,n.isEditorConfigurationKey)(qe)&&Ve.push([`editor.${qe}`,Ne[qe]]),Oe&&(0,n.isDiffEditorConfigurationKey)(qe)&&Ve.push([`diffEditor.${qe}`,Ne[qe]])}),Ve.length>0&&ze.updateValues(Ve)}e.updateConfigurationService=je;let We=class{constructor(Ne){this._modelService=Ne}hasPreviewHandler(){return!1}apply(Ne,Oe){return Le(this,void 0,void 0,function*(){const Ve=new Map;for(let $e of Ne){if(!($e instanceof i.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Ye=this._modelService.getModel($e.resource);if(!Ye)throw new Error("bad edit - model not found");if(typeof $e.versionId=="number"&&Ye.getVersionId()!==$e.versionId)throw new Error("bad state - model changed in the meantime");let nt=Ve.get(Ye);nt||(nt=[],Ve.set(Ye,nt)),nt.push(t.EditOperation.replaceMove(d.Range.lift($e.textEdit.range),$e.textEdit.text))}let qe=0,Je=0;for(const[$e,Ye]of Ve)$e.pushStackElement(),$e.pushEditOperations([],Ye,()=>[]),$e.pushStackElement(),Je+=1,qe+=Ye.length;return{ariaSummary:y.format(P.StandaloneServicesNLS.bulkEditServiceSummary,qe,Je)}})}};We=De([fe(0,o.IModelService)],We);class Ie{getUriLabel(Ne,Oe){return Ne.scheme==="file"?Ne.fsPath:Ne.path}getUriBasenameLabel(Ne){return(0,W.basename)(Ne)}}let Re=class extends X.ContextViewService{constructor(Ne,Oe){super(Ne);this._codeEditorService=Oe}showContextView(Ne,Oe,Ve){if(!Oe){const qe=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();qe&&(Oe=qe.getContainerDomNode())}return super.showContextView(Ne,Oe,Ve)}};Re=De([fe(0,F.ILayoutService),fe(1,M.ICodeEditorService)],Re);class Be{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Fe extends J.LanguageService{constructor(){super()}}class Ge extends z.LogService{constructor(){super(new z.ConsoleLogger)}}let Xe=class extends ie.ContextMenuService{constructor(Ne,Oe,Ve,qe,Je){super(Ne,Oe,Ve,qe,Je);this.configure({blockMouse:!1})}};Xe=De([fe(0,k.ITelemetryService),fe(1,B.INotificationService),fe(2,ne.IContextViewService),fe(3,_.IKeybindingService),fe(4,le.IThemeService)],Xe),(0,G.registerSingleton)(c.IConfigurationService,He),(0,G.registerSingleton)(s.ITextResourceConfigurationService,Ke),(0,G.registerSingleton)(s.ITextResourcePropertiesService,et),(0,G.registerSingleton)(A.IWorkspaceContextService,it),(0,G.registerSingleton)(R.ILabelService,Ie),(0,G.registerSingleton)(k.ITelemetryService,tt),(0,G.registerSingleton)(S.IDialogService,Se),(0,G.registerSingleton)(B.INotificationService,Ee),(0,G.registerSingleton)(ce.IMarkerService,ge.MarkerService),(0,G.registerSingleton)(re.ILanguageService,Fe),(0,G.registerSingleton)($.IStandaloneThemeService,q.StandaloneThemeService),(0,G.registerSingleton)(z.ILogService,Ge),(0,G.registerSingleton)(o.IModelService,U.ModelService),(0,G.registerSingleton)(Y.IMarkerDecorationsService,ae.MarkerDecorationsService),(0,G.registerSingleton)(m.IContextKeyService,ve.ContextKeyService),(0,G.registerSingleton)(O.IEditorProgressService,_e),(0,G.registerSingleton)(Te.IStorageService,Te.InMemoryStorageService),(0,G.registerSingleton)(V.IEditorWorkerService,j.EditorWorkerService),(0,G.registerSingleton)(i.IBulkEditService,We),(0,G.registerSingleton)(Q.IWorkspaceTrustManagementService,Be),(0,G.registerSingleton)(a.ITextModelService,Me),(0,G.registerSingleton)(ee.IAccessibilityService,H.AccessibilityService),(0,G.registerSingleton)(be.IListService,be.ListService),(0,G.registerSingleton)(l.ICommandService,Ae),(0,G.registerSingleton)(_.IKeybindingService,Pe),(0,G.registerSingleton)(ye.IQuickInputService,Z.StandaloneQuickInputService),(0,G.registerSingleton)(ne.IContextViewService,Re),(0,G.registerSingleton)(we.IOpenerService,x.OpenerService),(0,G.registerSingleton)(pe.IClipboardService,he.BrowserClipboardService),(0,G.registerSingleton)(ne.IContextMenuService,Xe),(0,G.registerSingleton)(te.IMenuService,de.MenuService);var Ze;(function(ze){const Ne=new me.ServiceCollection;for(const[$e,Ye]of(0,G.getSingletonServiceDescriptors)())Ne.set($e,Ye);const Oe=new Ce.InstantiationService(Ne,!0);Ne.set(p.IInstantiationService,Oe);function Ve($e){const Ye=Ne.get($e);if(!Ye)throw new Error("Missing service "+$e);return Ye instanceof ue.SyncDescriptor?Oe.invokeFunction(nt=>nt.get($e)):Ye}ze.get=Ve;let qe=!1;function Je($e){if(qe)return Oe;qe=!0;for(const[Ye,nt]of(0,G.getSingletonServiceDescriptors)())Ne.get(Ye)||Ne.set(Ye,nt);for(const Ye in $e)if($e.hasOwnProperty(Ye)){const nt=(0,p.createDecorator)(Ye);Ne.get(nt)instanceof ue.SyncDescriptor&&Ne.set(nt,$e[Ye])}return Oe}ze.initialize=Je})(Ze=e.StandaloneServices||(e.StandaloneServices={}))}),define(oe[761],se([1,0,45,2,29,165,304,244,89,215,108,41,26,37,16,80,9,43,40,14,69,75,96,76,48,36,296,72,31,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m,S,p,v,_,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,R=!1;function B(W){if(!W){if(R)return;R=!0}y.setARIAContainer(W||document.body)}let O=class extends D.CodeEditorWidget{constructor(M,z,Q,ne,X,J,ie,le,G,x,V,j){const re=Object.assign({},z);re.ariaLabel=re.ariaLabel||g.StandaloneCodeEditorNLS.editorViewAccessibleLabel,re.ariaLabel=re.ariaLabel+";"+g.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(M,re,{},Q,ne,X,J,le,G,x,V,j);ie instanceof u.StandaloneKeybindingService?this._standaloneKeybindingService=ie:this._standaloneKeybindingService=null,B(re.ariaContainerElement)}addCommand(M,z,Q){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ne="DYNAMIC_"+ ++T,X=r.ContextKeyExpr.deserialize(Q);return this._standaloneKeybindingService.addDynamicKeybinding(ne,M,z,X),ne}createContextKey(M,z){return this._contextKeyService.createKey(M,z)}addAction(M){if(typeof M.id!="string"||typeof M.label!="string"||typeof M.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.Disposable.None;const z=M.id,Q=M.label,ne=r.ContextKeyExpr.and(r.ContextKeyExpr.equals("editorId",this.getId()),r.ContextKeyExpr.deserialize(M.precondition)),X=M.keybindings,J=r.ContextKeyExpr.and(ne,r.ContextKeyExpr.deserialize(M.keybindingContext)),ie=M.contextMenuGroupId||null,le=M.contextMenuOrder||0,G=(re,...ae)=>Promise.resolve(M.run(this,...ae)),x=new f.DisposableStore,V=this.getId()+":"+z;if(x.add(n.CommandsRegistry.registerCommand(V,G)),ie){const re={command:{id:V,title:Q},when:ne,group:ie,order:le};x.add(i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,re))}if(Array.isArray(X))for(const re of X)x.add(this._standaloneKeybindingService.addDynamicKeybinding(V,re,G,J));const j=new b.InternalEditorAction(V,Q,Q,ne,G,this._contextKeyService);return this._actions[z]=j,x.add((0,f.toDisposable)(()=>{delete this._actions[z]})),x}_triggerCommand(M,z){if(this._codeEditorService instanceof _.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(M,z)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(M,z)}};O=De([fe(2,o.IInstantiationService),fe(3,N.ICodeEditorService),fe(4,n.ICommandService),fe(5,r.IContextKeyService),fe(6,a.IKeybindingService),fe(7,l.IThemeService),fe(8,s.INotificationService),fe(9,c.IAccessibilityService),fe(10,E.ILanguageConfigurationService),fe(11,I.ILanguageFeaturesService)],O),e.StandaloneCodeEditor=O;let k=class extends O{constructor(M,z,Q,ne,X,J,ie,le,G,x,V,j,re,ae,Y){const U=Object.assign({},z);(0,u.updateConfigurationService)(x,U,!1);const Z=le.registerEditorContainer(M);typeof U.theme=="string"&&le.setTheme(U.theme),typeof U.autoDetectHighContrast!="undefined"&&le.setAutoDetectHighContrast(Boolean(U.autoDetectHighContrast));const q=U.model;delete U.model;super(M,U,Q,ne,X,J,ie,le,G,V,ae,Y);this._configurationService=x,this._standaloneThemeService=le,this._register(Z);let $;if(typeof q=="undefined"){const H=re.getLanguageIdByMimeType(U.language)||U.language||w.PLAINTEXT_LANGUAGE_ID;$=F(j,re,U.value||"",H,void 0),this._ownsModel=!0}else $=q,this._ownsModel=!1;if(this._attachModel($),$){const H={oldModelUrl:null,newModelUrl:$.uri};this._onDidChangeModel.fire(H)}}dispose(){super.dispose()}updateOptions(M){(0,u.updateConfigurationService)(this._configurationService,M,!1),typeof M.theme=="string"&&this._standaloneThemeService.setTheme(M.theme),typeof M.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(M.autoDetectHighContrast)),super.updateOptions(M)}_postDetachModelCleanup(M){super._postDetachModelCleanup(M),M&&this._ownsModel&&(M.dispose(),this._ownsModel=!1)}};k=De([fe(2,o.IInstantiationService),fe(3,N.ICodeEditorService),fe(4,n.ICommandService),fe(5,r.IContextKeyService),fe(6,a.IKeybindingService),fe(7,h.IStandaloneThemeService),fe(8,s.INotificationService),fe(9,t.IConfigurationService),fe(10,c.IAccessibilityService),fe(11,p.IModelService),fe(12,v.ILanguageService),fe(13,E.ILanguageConfigurationService),fe(14,I.ILanguageFeaturesService)],k),e.StandaloneEditor=k;let A=class extends L.DiffEditorWidget{constructor(M,z,Q,ne,X,J,ie,le,G,x,V,j){const re=Object.assign({},z);(0,u.updateConfigurationService)(G,re,!0);const ae=ie.registerEditorContainer(M);typeof re.theme=="string"&&ie.setTheme(re.theme),typeof re.autoDetectHighContrast!="undefined"&&ie.setAutoDetectHighContrast(Boolean(re.autoDetectHighContrast));super(M,re,{},j,X,ne,Q,J,ie,le,x,V);this._configurationService=G,this._standaloneThemeService=ie,this._register(ae)}dispose(){super.dispose()}updateOptions(M){(0,u.updateConfigurationService)(this._configurationService,M,!0),typeof M.theme=="string"&&this._standaloneThemeService.setTheme(M.theme),typeof M.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(M.autoDetectHighContrast)),super.updateOptions(M)}_createInnerEditor(M,z,Q){return M.createInstance(O,z,Q)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(M,z,Q){return this.getModifiedEditor().addCommand(M,z,Q)}createContextKey(M,z){return this.getModifiedEditor().createContextKey(M,z)}addAction(M){return this.getModifiedEditor().addAction(M)}};A=De([fe(2,o.IInstantiationService),fe(3,r.IContextKeyService),fe(4,C.IEditorWorkerService),fe(5,N.ICodeEditorService),fe(6,h.IStandaloneThemeService),fe(7,s.INotificationService),fe(8,t.IConfigurationService),fe(9,d.IContextMenuService),fe(10,S.IEditorProgressService),fe(11,m.IClipboardService)],A),e.StandaloneDiffEditor=A;function F(W,M,z,Q,ne){if(z=z||"",!Q){const X=z.indexOf(`
`);let J=z;return X!==-1&&(J=z.substring(0,X)),P(W,z,M.createByFilepathOrFirstLine(ne||null,J),ne)}return P(W,z,M.createById(Q),ne)}e.createTextModel=F;function P(W,M,z,Q){return W.createModel(M,z,Q)}}),define(oe[762],se([1,0,8,275,29,240,33,178,149,46,27,31,127,36,48,634,154,484,761,215,108,26,81,406]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r,d,o,a,s,l,c,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function S(re,ae,Y){return l.StandaloneServices.initialize(Y||{}).createInstance(s.StandaloneEditor,re,ae)}e.create=S;function p(re){return l.StandaloneServices.get(N.ICodeEditorService).onCodeEditorAdd(Y=>{re(Y)})}e.onDidCreateEditor=p;function v(re){return l.StandaloneServices.get(N.ICodeEditorService).onDiffEditorAdd(Y=>{re(Y)})}e.onDidCreateDiffEditor=v;function _(){return l.StandaloneServices.get(N.ICodeEditorService).listCodeEditors()}e.getEditors=_;function w(){return l.StandaloneServices.get(N.ICodeEditorService).listDiffEditors()}e.getDiffEditors=w;function E(re,ae,Y){return l.StandaloneServices.initialize(Y||{}).createInstance(s.StandaloneDiffEditor,re,ae)}e.createDiffEditor=E;function I(re,ae){return new D.DiffNavigator(re,ae)}e.createDiffNavigator=I;function T(re,ae,Y){const U=l.StandaloneServices.get(t.ILanguageService),Z=U.getLanguageIdByMimeType(ae)||ae;return(0,s.createTextModel)(l.StandaloneServices.get(r.IModelService),U,re,Z,Y)}e.createModel=T;function R(re,ae){const Y=l.StandaloneServices.get(t.ILanguageService);l.StandaloneServices.get(r.IModelService).setMode(re,Y.createById(ae))}e.setModelLanguage=R;function B(re,ae,Y){re&&l.StandaloneServices.get(m.IMarkerService).changeOne(ae,re.uri,Y)}e.setModelMarkers=B;function O(re){return l.StandaloneServices.get(m.IMarkerService).read(re)}e.getModelMarkers=O;function k(re){return l.StandaloneServices.get(m.IMarkerService).onMarkerChanged(re)}e.onDidChangeMarkers=k;function A(re){return l.StandaloneServices.get(r.IModelService).getModel(re)}e.getModel=A;function F(){return l.StandaloneServices.get(r.IModelService).getModels()}e.getModels=F;function P(re){return l.StandaloneServices.get(r.IModelService).onModelAdded(re)}e.onDidCreateModel=P;function W(re){return l.StandaloneServices.get(r.IModelService).onModelRemoved(re)}e.onWillDisposeModel=W;function M(re){return l.StandaloneServices.get(r.IModelService).onModelLanguageChanged(Y=>{re({model:Y.model,oldLanguage:Y.oldLanguageId})})}e.onDidChangeModelLanguage=M;function z(re){return(0,d.createWebWorker)(l.StandaloneServices.get(r.IModelService),l.StandaloneServices.get(i.ILanguageConfigurationService),re)}e.createWebWorker=z;function Q(re,ae){const Y=l.StandaloneServices.get(t.ILanguageService),U=l.StandaloneServices.get(c.IStandaloneThemeService);return U.registerEditorContainer(re),a.Colorizer.colorizeElement(U,Y,re,ae)}e.colorizeElement=Q;function ne(re,ae,Y){const U=l.StandaloneServices.get(t.ILanguageService);return l.StandaloneServices.get(c.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorize(U,re,ae,Y)}e.colorize=ne;function X(re,ae,Y=4){return l.StandaloneServices.get(c.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorizeModelLine(re,ae,Y)}e.colorizeModelLine=X;function J(re){const ae=h.TokenizationRegistry.get(re);return ae||{getInitialState:()=>n.NullState,tokenize:(Y,U,Z)=>(0,n.nullTokenize)(re,Z)}}function ie(re,ae){h.TokenizationRegistry.getOrCreate(ae);const Y=J(ae),U=(0,y.splitLines)(re),Z=[];let q=Y.getInitialState();for(let $=0,H=U.length;$<H;$++){const ee=U[$],te=Y.tokenize(ee,!0,q);Z[$]=te.tokens,q=te.endState}return Z}e.tokenize=ie;function le(re,ae){l.StandaloneServices.get(c.IStandaloneThemeService).defineTheme(re,ae)}e.defineTheme=le;function G(re){l.StandaloneServices.get(c.IStandaloneThemeService).setTheme(re)}e.setTheme=G;function x(){f.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=x;function V(re,ae){return g.CommandsRegistry.registerCommand({id:re,handler:ae})}e.registerCommand=V;function j(){return{create:S,getEditors:_,getDiffEditors:w,onDidCreateEditor:p,onDidCreateDiffEditor:v,createDiffEditor:E,createDiffNavigator:I,createModel:T,setModelLanguage:R,setModelMarkers:B,getModelMarkers:O,onDidChangeMarkers:k,getModels:F,getModel:A,onDidCreateModel:P,onWillDisposeModel:W,onDidChangeModelLanguage:M,createWebWorker:z,colorizeElement:Q,colorize:ne,colorizeModelLine:X,tokenize:ie,defineTheme:le,setTheme:G,remeasureFonts:x,registerCommand:V,AccessibilitySupport:o.AccessibilitySupport,ContentWidgetPositionPreference:o.ContentWidgetPositionPreference,CursorChangeReason:o.CursorChangeReason,DefaultEndOfLine:o.DefaultEndOfLine,EditorAutoIndentStrategy:o.EditorAutoIndentStrategy,EditorOption:o.EditorOption,EndOfLinePreference:o.EndOfLinePreference,EndOfLineSequence:o.EndOfLineSequence,MinimapPosition:o.MinimapPosition,MouseTargetType:o.MouseTargetType,OverlayWidgetPositionPreference:o.OverlayWidgetPositionPreference,OverviewRulerLane:o.OverviewRulerLane,RenderLineNumbersType:o.RenderLineNumbersType,RenderMinimap:o.RenderMinimap,ScrollbarVisibility:o.ScrollbarVisibility,ScrollType:o.ScrollType,TextEditorCursorBlinkingStyle:o.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:o.TextEditorCursorStyle,TrackedRangeStickiness:o.TrackedRangeStickiness,WrappingIndent:o.WrappingIndent,InjectedTextCursorStops:o.InjectedTextCursorStops,PositionAffinity:o.PositionAffinity,ConfigurationChangedEvent:L.ConfigurationChangedEvent,BareFontInfo:b.BareFontInfo,FontInfo:b.FontInfo,TextModelResolvedOptions:u.TextModelResolvedOptions,FindMatch:u.FindMatch,ApplyUpdateResult:L.ApplyUpdateResult,EditorType:C.EditorType,EditorOptions:L.EditorOptions}}e.createMonacoEditorAPI=j}),define(oe[763],se([1,0,30,3,27,31,72,36,154,215,483,271,108,81,20]),function(K,e,y,f,N,D,L,b,C,u,h,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function d(q){L.ModesRegistry.registerLanguage(q)}e.register=d;function o(){let q=[];return q=q.concat(L.ModesRegistry.getLanguages()),q}e.getLanguages=o;function a(q){return u.StandaloneServices.get(b.ILanguageService).languageIdCodec.encodeLanguageId(q)}e.getEncodedLanguageId=a;function s(q,$){const ee=u.StandaloneServices.get(b.ILanguageService).onDidEncounterLanguage(te=>{te===q&&(ee.dispose(),$())});return ee}e.onLanguage=s;function l(q,$){if(!u.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(q))throw new Error(`Cannot set configuration for unknown language ${q}`);return u.StandaloneServices.get(D.ILanguageConfigurationService).register(q,$,100)}e.setLanguageConfiguration=l;class c{constructor($,H){this._languageId=$,this._actual=H}getInitialState(){return this._actual.getInitialState()}tokenize($,H,ee){if(typeof this._actual.tokenize=="function")return g.adaptTokenize(this._languageId,this._actual,$,ee);throw new Error("Not supported!")}tokenizeEncoded($,H,ee){const te=this._actual.tokenizeEncoded($,ee);return new N.EncodedTokenizationResult(te.tokens,te.endState)}}e.EncodedTokenizationSupportAdapter=c;class g{constructor($,H,ee,te){this._languageId=$,this._actual=H,this._languageService=ee,this._standaloneThemeService=te}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,H){const ee=[];let te=0;for(let de=0,he=$.length;de<he;de++){const pe=$[de];let ve=pe.startIndex;de===0?ve=0:ve<te&&(ve=te),ee[de]=new N.Token(ve,pe.scopes,H),te=ve}return ee}static adaptTokenize($,H,ee,te){const de=H.tokenize(ee,te),he=g._toClassicTokens(de.tokens,$);let pe;return de.endState.equals(te)?pe=te:pe=de.endState,new N.TokenizationResult(he,pe)}tokenize($,H,ee){return g.adaptTokenize(this._languageId,this._actual,$,ee)}_toBinaryTokens($,H){const ee=$.encodeLanguageId(this._languageId),te=this._standaloneThemeService.getColorTheme().tokenTheme,de=[];let he=0,pe=0;for(let ue=0,Ce=H.length;ue<Ce;ue++){const me=H[ue],be=te.match(ee,me.scopes);if(he>0&&de[he-1]===be)continue;let ce=me.startIndex;ue===0?ce=0:ce<pe&&(ce=pe),de[he++]=ce,de[he++]=be,pe=ce}const ve=new Uint32Array(he);for(let ue=0;ue<he;ue++)ve[ue]=de[ue];return ve}tokenizeEncoded($,H,ee){const te=this._actual.tokenize($,ee),de=this._toBinaryTokens(this._languageService.languageIdCodec,te.tokens);let he;return te.endState.equals(ee)?he=ee:he=te.endState,new N.EncodedTokenizationResult(de,he)}}e.TokenizationSupportAdapter=g;function m(q){return typeof q.getInitialState=="function"}function S(q){return"tokenizeEncoded"in q}function p(q){return q&&typeof q.then=="function"}function v(q){const $=u.StandaloneServices.get(n.IStandaloneThemeService);if(q){const H=[null];for(let ee=1,te=q.length;ee<te;ee++)H[ee]=y.Color.fromHex(q[ee]);$.setColorMapOverride(H)}else $.setColorMapOverride(null)}e.setColorMap=v;function _(q,$){return S($)?new c(q,$):new g(q,$,u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService))}function w(q,$){const H={createTokenizationSupport:()=>Le(this,void 0,void 0,function*(){const ee=yield Promise.resolve($.create());return ee?m(ee)?_(q,ee):new i.MonarchTokenizer(u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService),q,(0,h.compile)(q,ee)):null})};return N.TokenizationRegistry.registerFactory(q,H)}e.registerTokensProviderFactory=w;function E(q,$){if(!u.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(q))throw new Error(`Cannot set tokens provider for unknown language ${q}`);return p($)?w(q,{create:()=>$}):N.TokenizationRegistry.register(q,_(q,$))}e.setTokensProvider=E;function I(q,$){const H=ee=>new i.MonarchTokenizer(u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService),q,(0,h.compile)(q,ee));return p($)?w(q,{create:()=>$}):N.TokenizationRegistry.register(q,H($))}e.setMonarchTokensProvider=I;function T(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).referenceProvider.register(q,$)}e.registerReferenceProvider=T;function R(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).renameProvider.register(q,$)}e.registerRenameProvider=R;function B(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).signatureHelpProvider.register(q,$)}e.registerSignatureHelpProvider=B;function O(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).hoverProvider.register(q,{provideHover:(ee,te,de)=>{const he=ee.getWordAtPosition(te);return Promise.resolve($.provideHover(ee,te,de)).then(pe=>{if(!!pe)return!pe.range&&he&&(pe.range=new f.Range(te.lineNumber,he.startColumn,te.lineNumber,he.endColumn)),pe.range||(pe.range=new f.Range(te.lineNumber,te.column,te.lineNumber,te.column)),pe})}})}e.registerHoverProvider=O;function k(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentSymbolProvider.register(q,$)}e.registerDocumentSymbolProvider=k;function A(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentHighlightProvider.register(q,$)}e.registerDocumentHighlightProvider=A;function F(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).linkedEditingRangeProvider.register(q,$)}e.registerLinkedEditingRangeProvider=F;function P(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).definitionProvider.register(q,$)}e.registerDefinitionProvider=P;function W(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).implementationProvider.register(q,$)}e.registerImplementationProvider=W;function M(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).typeDefinitionProvider.register(q,$)}e.registerTypeDefinitionProvider=M;function z(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).codeLensProvider.register(q,$)}e.registerCodeLensProvider=z;function Q(q,$,H){return u.StandaloneServices.get(r.ILanguageFeaturesService).codeActionProvider.register(q,{providedCodeActionKinds:H==null?void 0:H.providedCodeActionKinds,provideCodeActions:(te,de,he,pe)=>{const ue=u.StandaloneServices.get(t.IMarkerService).read({resource:te.uri}).filter(Ce=>f.Range.areIntersectingOrTouching(Ce,de));return $.provideCodeActions(te,de,{markers:ue,only:he.only},pe)},resolveCodeAction:$.resolveCodeAction})}e.registerCodeActionProvider=Q;function ne(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentFormattingEditProvider.register(q,$)}e.registerDocumentFormattingEditProvider=ne;function X(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(q,$)}e.registerDocumentRangeFormattingEditProvider=X;function J(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).onTypeFormattingEditProvider.register(q,$)}e.registerOnTypeFormattingEditProvider=J;function ie(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).linkProvider.register(q,$)}e.registerLinkProvider=ie;function le(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).completionProvider.register(q,$)}e.registerCompletionItemProvider=le;function G(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).colorProvider.register(q,$)}e.registerColorProvider=G;function x(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).foldingRangeProvider.register(q,$)}e.registerFoldingRangeProvider=x;function V(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).declarationProvider.register(q,$)}e.registerDeclarationProvider=V;function j(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).selectionRangeProvider.register(q,$)}e.registerSelectionRangeProvider=j;function re(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentSemanticTokensProvider.register(q,$)}e.registerDocumentSemanticTokensProvider=re;function ae(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(q,$)}e.registerDocumentRangeSemanticTokensProvider=ae;function Y(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).inlineCompletionsProvider.register(q,$)}e.registerInlineCompletionsProvider=Y;function U(q,$){return u.StandaloneServices.get(r.ILanguageFeaturesService).inlayHintsProvider.register(q,$)}e.registerInlayHintsProvider=U;function Z(){return{register:d,getLanguages:o,onLanguage:s,getEncodedLanguageId:a,setLanguageConfiguration:l,setColorMap:v,registerTokensProviderFactory:w,setTokensProvider:E,setMonarchTokensProvider:I,registerReferenceProvider:T,registerRenameProvider:R,registerCompletionItemProvider:le,registerSignatureHelpProvider:B,registerHoverProvider:O,registerDocumentSymbolProvider:k,registerDocumentHighlightProvider:A,registerLinkedEditingRangeProvider:F,registerDefinitionProvider:P,registerImplementationProvider:W,registerTypeDefinitionProvider:M,registerCodeLensProvider:z,registerCodeActionProvider:Q,registerDocumentFormattingEditProvider:ne,registerDocumentRangeFormattingEditProvider:X,registerOnTypeFormattingEditProvider:J,registerLinkProvider:ie,registerColorProvider:G,registerFoldingRangeProvider:x,registerDeclarationProvider:V,registerSelectionRangeProvider:j,registerDocumentSemanticTokensProvider:re,registerDocumentRangeSemanticTokensProvider:ae,registerInlineCompletionsProvider:Y,registerInlayHintsProvider:U,DocumentHighlightKind:C.DocumentHighlightKind,CompletionItemKind:C.CompletionItemKind,CompletionItemTag:C.CompletionItemTag,CompletionItemInsertTextRule:C.CompletionItemInsertTextRule,SymbolKind:C.SymbolKind,SymbolTag:C.SymbolTag,IndentAction:C.IndentAction,CompletionTriggerKind:C.CompletionTriggerKind,SignatureHelpTriggerKind:C.SignatureHelpTriggerKind,InlayHintKind:C.InlayHintKind,InlineCompletionTriggerKind:C.InlineCompletionTriggerKind,FoldingRangeKind:N.FoldingRangeKind}}e.createMonacoLanguagesAPI=Z}),define(oe[764],se([1,0,33,255,762,763,17,297]),function(K,e,y,f,N,D,L,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,y.EditorOptions.wrappingIndent.defaultValue=0,y.EditorOptions.glyphMargin.defaultValue=!1,y.EditorOptions.autoIndent.defaultValue=3,y.EditorOptions.overviewRulerLanes.defaultValue=2,b.FormattingConflicts.setFormatterSelector((h,i,n)=>Promise.resolve(h[0]));const u=(0,f.createMonacoBaseAPI)();u.editor=(0,N.createMonacoEditorAPI)(),u.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=u.CancellationTokenSource,e.Emitter=u.Emitter,e.KeyCode=u.KeyCode,e.KeyMod=u.KeyMod,e.Position=u.Position,e.Range=u.Range,e.Selection=u.Selection,e.SelectionDirection=u.SelectionDirection,e.MarkerSeverity=u.MarkerSeverity,e.MarkerTag=u.MarkerTag,e.Uri=u.Uri,e.Token=u.Token,e.editor=u.editor,e.languages=u.languages,(((C=L.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=u),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Xt=this&&this.__createBinding||(Object.create?function(K,e,y,f){f===void 0&&(f=y);var N=Object.getOwnPropertyDescriptor(e,y);(!N||("get"in N?!e.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(K,f,N)}:function(K,e,y,f){f===void 0&&(f=y),K[f]=e[y]}),Jt=this&&this.__exportStar||function(K,e){for(var y in K)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&Xt(e,K,y)};define(oe[765],se([1,0,764,760,700,701,702,643,704,705,703,750,706]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Jt(y,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220516(ab869e8469cd1cda70d25bb454732f84b523098c)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var v=Object.create;var m=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var M=e=>m(e,"__esModule",{value:!0});var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var u=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of x(r))!A.call(e,o)&&(t||o!=="default")&&m(e,o,{get:()=>r[o],enumerable:!(n=y(r,o))||n.enumerable});return e},p=(e,r)=>u(M(m(e!=null?v(q(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var d=D((w,c)=>{var b=p(a("vs/editor/editor.api"));c.exports=b});var s={};u(s,p(d()));var f={},g={},l=class{static getOrCreate(r){return g[r]||(g[r]=new l(r)),g[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,n)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,s.languages.register(e);let t=l.getOrCreate(r);s.languages.registerTokensProviderFactory(r,{create:async()=>(await t.load()).language}),s.languages.onLanguage(r,async()=>{let n=await t.load();s.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220516(ab869e8469cd1cda70d25bb454732f84b523098c)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var a=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var y=e=>a(e,"__esModule",{value:!0});var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)a(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&(r||t!=="default")&&a(e,t,{get:()=>n[t],enumerable:!(i=S(n,t))||i.enumerable});return e},w=(e,n)=>s(y(a(e!=null?C(x(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),P=(e=>(n,r)=>e&&e.get(n)||(r=s(y({}),n,1),e&&e.set(n,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var v=I((L,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};s(o,w(v()));var g=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,i){this._languageId=n,this.setOptions(r),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new g("css",d,u),c=new g("scss",d,u),f=new g("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220516(ab869e8469cd1cda70d25bb454732f84b523098c)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var d=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var y=e=>d(e,"__esModule",{value:!0});var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)d(e,t,{get:n[t],enumerable:!0})},l=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&(t||o!=="default")&&d(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n)=>l(y(d(e!=null?w(O(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),A=(e=>(n,t)=>e&&e.get(n)||(t=l(y({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var h=k((z,v)=>{var E=b(f("vs/editor/editor.api"));v.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>c,htmlDefaults:()=>x,htmlLanguageService:()=>p,razorDefaults:()=>I,razorLanguageService:()=>m,registerHTMLLanguageService:()=>s});var a={};l(a,b(h()));var L=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",C="razor",p=s(i,u,g(i)),x=p.defaults,c=s(D,u,g(D)),M=c.defaults,m=s(C,u,g(C)),I=m.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:p,handlebarLanguageService:c,razorLanguageService:m,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new L(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220516(ab869e8469cd1cda70d25bb454732f84b523098c)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var s=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var d=e=>s(e,"__esModule",{value:!0});var g=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(o,n)=>(typeof require!="undefined"?require:o)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),b=(e,o)=>{for(var n in o)s(e,n,{get:o[n],enumerable:!0})},r=(e,o,n,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of v(o))!C.call(e,i)&&(n||i!=="default")&&s(e,i,{get:()=>o[i],enumerable:!(a=y(o,i))||a.enumerable});return e},u=(e,o)=>r(d(s(e!=null?p(h(e)):{},"default",!o&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),O=(e=>(o,n)=>e&&e.get(o)||(n=r(d({}),o,1),e&&e.set(o,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var m=D((I,c)=>{var M=u(g("vs/editor/editor.api"));c.exports=M});var L={};b(L,{jsonDefaults:()=>l});var t={};r(t,u(m()));var f=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(o,n,a){this._languageId=o,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(o){this._diagnosticsOptions=o||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(o){this._modeConfiguration=o||Object.create(null),this._onDidChange.fire(this)}},S={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},j={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new f("json",S,j);t.languages.json={jsonDefaults:l};function _(){return new Promise((e,o)=>{g(["vs/language/json/jsonMode"],e,o)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(e=>e.setupMode(l))});return O(L);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220516(ab869e8469cd1cda70d25bb454732f84b523098c)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var k=Object.create;var m=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var D=n=>m(n,"__esModule",{value:!0});var b=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var M=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var t in e)m(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of H(e))!w.call(n,s)&&(t||s!=="default")&&m(n,s,{get:()=>e[s],enumerable:!(o=N(e,s))||o.enumerable});return n},L=(n,e)=>g(D(m(n!=null?k(R(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),W=(n=>(e,t)=>n&&n.get(e)||(t=g(D({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var I=M((B,C)=>{var A=L(b("vs/editor/editor.api"));C.exports=A});var V={};F(V,{JsxEmit:()=>u,ModuleKind:()=>d,ModuleResolutionKind:()=>h,NewLineKind:()=>y,ScriptTarget:()=>f,getJavaScriptWorker:()=>S,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>_});var E="4.5.5";var l={};g(l,L(I()));var d=(r=>(r[r.None=0]="None",r[r.CommonJS=1]="CommonJS",r[r.AMD=2]="AMD",r[r.UMD=3]="UMD",r[r.System=4]="System",r[r.ES2015=5]="ES2015",r[r.ESNext=99]="ESNext",r))(d||{}),u=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(u||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),f=(i=>(i[i.ES3=0]="ES3",i[i.ES5=1]="ES5",i[i.ES2015=2]="ES2015",i[i.ES2016=3]="ES2016",i[i.ES2017=4]="ES2017",i[i.ES2018=5]="ES2018",i[i.ES2019=6]="ES2019",i[i.ES2020=7]="ES2020",i[i.ESNext=99]="ESNext",i[i.JSON=100]="JSON",i[i.Latest=99]="Latest",i))(f||{}),h=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(h||{}),O=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(e,t,o,s){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(o),this.setInlayHintsOptions(s),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let o;if(typeof t>"u"?o=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:o=t,this._extraLibs[o]&&this._extraLibs[o].content===e)return{dispose:()=>{}};let s=1;return this._removedExtraLibs[o]&&(s=this._removedExtraLibs[o]+1),this._extraLibs[o]&&(s=this._extraLibs[o].version+1),this._extraLibs[o]={content:e,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[o];!p||p.version===s&&(delete this._extraLibs[o],this._removedExtraLibs[o]=s,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let o=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,s=t.content,p=1;this._removedExtraLibs[o]&&(p=this._removedExtraLibs[o]+1),this._extraLibs[o]={content:s,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},_=E,x=new O({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new O({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>c().then(n=>n.getTypeScriptWorker()),S=()=>c().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:d,JsxEmit:u,NewLineKind:y,ScriptTarget:f,ModuleResolutionKind:h,typescriptVersion:_,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:S};function c(){return new Promise((n,e)=>{b(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>c().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>c().then(n=>n.setupJavaScript(v)));return W(V);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map